
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>utool package &#8212; wbia-vtool 3.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="utool._internal package" href="utool._internal.html" />
    <link rel="prev" title="Welcome to utool’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="utool-package">
<h1>utool package<a class="headerlink" href="#utool-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="utool._internal.html">utool._internal package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_arg">utool._internal.meta_util_arg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_cache">utool._internal.meta_util_cache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_constants">utool._internal.meta_util_constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_cplat">utool._internal.meta_util_cplat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_dbg">utool._internal.meta_util_dbg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_git">utool._internal.meta_util_git module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_iter">utool._internal.meta_util_iter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_path">utool._internal.meta_util_path module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_six">utool._internal.meta_util_six module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.py2_syntax_funcs">utool._internal.py2_syntax_funcs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.randomwrap">utool._internal.randomwrap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.util_importer">utool._internal.util_importer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#utool-internal-win32-send-keys-module">utool._internal.win32_send_keys module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utool.experimental.html">utool.experimental package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.bytecode_optimizations">utool.experimental.bytecode_optimizations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.dynamic_connectivity">utool.experimental.dynamic_connectivity module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.euler_tour_tree_avl">utool.experimental.euler_tour_tree_avl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.pandas_highlight">utool.experimental.pandas_highlight module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utool.tests.html">utool.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_decor">utool.tests._oldtest_decor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_hash">utool.tests._oldtest_hash module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_logging">utool.tests._oldtest_logging module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_reloading">utool.tests._oldtest_reloading module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests.run_tests">utool.tests.run_tests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-utool.DynamicStruct">
<span id="utool-dynamicstruct-module"></span><h2>utool.DynamicStruct module<a class="headerlink" href="#module-utool.DynamicStruct" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.DynamicStruct.DynStruct">
<em class="property">class </em><code class="descclassname">utool.DynamicStruct.</code><code class="descname">DynStruct</code><span class="sig-paren">(</span><em>child_exclude_list=[]</em>, <em>copy_dict=None</em>, <em>copy_class=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.Printable.AbstractPrintable" title="utool.Printable.AbstractPrintable"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.Printable.AbstractPrintable</span></code></a></p>
<p>dynamically add and remove members</p>
<dl class="method">
<dt id="utool.DynamicStruct.DynStruct.add_dict">
<code class="descname">add_dict</code><span class="sig-paren">(</span><em>dyn_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.add_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.add_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a dictionary to the prefs</p>
</dd></dl>

<dl class="method">
<dt id="utool.DynamicStruct.DynStruct.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.DynamicStruct.DynStruct.deepcopy">
<code class="descname">deepcopy</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.deepcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.DynamicStruct.DynStruct.execstr">
<code class="descname">execstr</code><span class="sig-paren">(</span><em>local_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.execstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.execstr" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a string which when evaluated will
add the stored variables to the current namespace</p>
<p>localname is the name of the variable in the current scope
* use locals().update(dyn.to_dict()) instead</p>
</dd></dl>

<dl class="method">
<dt id="utool.DynamicStruct.DynStruct.flat_dict">
<code class="descname">flat_dict</code><span class="sig-paren">(</span><em>dyn_dict={}</em>, <em>only_public=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.flat_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.flat_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.DynamicStruct.DynStruct.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts dynstruct to a dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="utool.DynamicStruct.DynStruct.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-utool.Preferences">
<span id="utool-preferences-module"></span><h2>utool.Preferences module<a class="headerlink" href="#module-utool.Preferences" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>FIXME:</dt>
<dd>This class is very old, convoluted, and coupled.
It really needs to be rewritten efficiently.
the __setattr__ __getattr__ stuff needs to be redone, and
DynStruct probably needs to go away.</dd>
</dl>
<dl class="class">
<dt id="utool.Preferences.Pref">
<em class="property">class </em><code class="descclassname">utool.Preferences.</code><code class="descname">Pref</code><span class="sig-paren">(</span><em>default=&lt;class 'utool.DynamicStruct.DynStruct'&gt;</em>, <em>doc='empty docs'</em>, <em>hidden=False</em>, <em>choices=None</em>, <em>depeq=None</em>, <em>fpath=''</em>, <em>name='root'</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
<p>Structure for Creating Preferences.
Caveats: When using a value call with [‘valname’] to be safe
Features:
* Can be saved and loaded.
* Can be nested
* Dynamically add/remove</p>
<dl class="method">
<dt id="utool.Preferences.Pref.asdict">
<code class="descname">asdict</code><span class="sig-paren">(</span><em>split_structs_bit=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.Preferences.Pref.asdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts prefeters to a dictionary.
Children Pref can be optionally separated</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.change_combo_val">
<code class="descname">change_combo_val</code><span class="sig-paren">(</span><em>new_val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.change_combo_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.change_combo_val" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see if a selection is a valid index or choice of a combo
preference</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.createQWidget">
<code class="descname">createQWidget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.createQWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.createQWidget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.customPrintableType">
<code class="descname">customPrintableType</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.customPrintableType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.customPrintableType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.ensure_attr">
<code class="descname">ensure_attr</code><span class="sig-paren">(</span><em>attr</em>, <em>default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.ensure_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.ensure_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.full_name">
<code class="descname">full_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.full_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.full_name" title="Permalink to this definition">¶</a></dt>
<dd><p>returns name all the way up the tree</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.get_fpath">
<code class="descname">get_fpath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.get_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.get_fpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.get_printable">
<code class="descname">get_printable</code><span class="sig-paren">(</span><em>type_bit=True</em>, <em>print_exclude_aug=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.get_printable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.get_printable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Wow this class is messed up. I had to overwrite items when
moving to python3, just because I haden’t called it yet</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.iteritems">
<code class="descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.iteritems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>Wow this class is messed up. I had to overwrite items when
moving to python3, just because I haden’t called it yet</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Read pref dict stored on disk. Overwriting current values.</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.pref_update">
<code class="descname">pref_update</code><span class="sig-paren">(</span><em>key</em>, <em>new_val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.pref_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.pref_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes a preference value and saves it to disk</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_col_count">
<code class="descname">qt_col_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_col_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_col_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_get_child">
<code class="descname">qt_get_child</code><span class="sig-paren">(</span><em>row</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_get_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_get_child" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_get_data">
<code class="descname">qt_get_data</code><span class="sig-paren">(</span><em>column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_get_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_get_parent">
<code class="descname">qt_get_parent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_get_parent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_get_parent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_is_editable">
<code class="descname">qt_is_editable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_is_editable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_is_editable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_parents_index_of_me">
<code class="descname">qt_parents_index_of_me</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_parents_index_of_me"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_parents_index_of_me" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_row_count">
<code class="descname">qt_row_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_row_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_row_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.qt_set_leaf_data">
<code class="descname">qt_set_leaf_data</code><span class="sig-paren">(</span><em>qvar</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_set_leaf_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_set_leaf_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves prefs to disk in dict format</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><em>split_structs_bit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts prefeters to a dictionary.
Children Pref can be optionally separated</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.toggle">
<code class="descname">toggle</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.toggle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.toggle" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles a boolean key</p>
</dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.Pref.value">
<code class="descname">value</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.Pref.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.Preferences.PrefChoice">
<em class="property">class </em><code class="descclassname">utool.Preferences.</code><code class="descname">PrefChoice</code><span class="sig-paren">(</span><em>choices</em>, <em>default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefChoice" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
<dl class="method">
<dt id="utool.Preferences.PrefChoice.change_val">
<code class="descname">change_val</code><span class="sig-paren">(</span><em>new_val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice.change_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefChoice.change_val" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.PrefChoice.combo_val">
<code class="descname">combo_val</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice.combo_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefChoice.combo_val" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.PrefChoice.get_tuple">
<code class="descname">get_tuple</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice.get_tuple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefChoice.get_tuple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.Preferences.PrefInternal">
<em class="property">class </em><code class="descclassname">utool.Preferences.</code><code class="descname">PrefInternal</code><span class="sig-paren">(</span><em>name</em>, <em>doc</em>, <em>default</em>, <em>hidden</em>, <em>fpath</em>, <em>depeq</em>, <em>choices</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefInternal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefInternal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
<dl class="method">
<dt id="utool.Preferences.PrefInternal.freeze_type">
<code class="descname">freeze_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefInternal.freeze_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefInternal.freeze_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Preferences.PrefInternal.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefInternal.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefInternal.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.Preferences.PrefTree">
<em class="property">class </em><code class="descclassname">utool.Preferences.</code><code class="descname">PrefTree</code><span class="sig-paren">(</span><em>parent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.PrefTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="utool.Preferences.test_Preferences">
<code class="descclassname">utool.Preferences.</code><code class="descname">test_Preferences</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#test_Preferences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Preferences.test_Preferences" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.Preferences –test-test_Preferences –show –verbpref</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia.guitool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FIXME depends on guitool_ibei</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.Preferences</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.guitool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wbia</span><span class="o">.</span><span class="n">guitool</span><span class="o">.</span><span class="n">ensure_qtapp</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">test_Preferences</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">widget</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">createQWidget</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#widget.show()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wbia</span><span class="o">.</span><span class="n">guitool</span><span class="o">.</span><span class="n">qtapp_loop</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.Printable">
<span id="utool-printable-module"></span><h2>utool.Printable module<a class="headerlink" href="#module-utool.Printable" title="Permalink to this headline">¶</a></h2>
<p>DEPRICATE</p>
<dl class="class">
<dt id="utool.Printable.AbstractPrintable">
<em class="property">class </em><code class="descclassname">utool.Printable.</code><code class="descname">AbstractPrintable</code><span class="sig-paren">(</span><em>child_print_exclude=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A base class that prints its attributes instead of the memory address</p>
<dl class="method">
<dt id="utool.Printable.AbstractPrintable.format_printable">
<code class="descname">format_printable</code><span class="sig-paren">(</span><em>type_bit=False</em>, <em>indstr='  * '</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.format_printable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.format_printable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Printable.AbstractPrintable.get_printable">
<code class="descname">get_printable</code><span class="sig-paren">(</span><em>type_bit=True</em>, <em>print_exclude_aug=[]</em>, <em>val_bit=True</em>, <em>max_valstr=-1</em>, <em>justlength=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.get_printable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.get_printable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Printable.AbstractPrintable.printme">
<code class="descname">printme</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.printme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.printme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Printable.AbstractPrintable.printme2">
<code class="descname">printme2</code><span class="sig-paren">(</span><em>type_bit=True</em>, <em>print_exclude_aug=[]</em>, <em>val_bit=True</em>, <em>max_valstr=-1</em>, <em>justlength=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.printme2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.printme2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.Printable.AbstractPrintable.printme3">
<code class="descname">printme3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.printme3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.printme3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.Printable.npArrInfo">
<code class="descclassname">utool.Printable.</code><code class="descname">npArrInfo</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#npArrInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.npArrInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>OLD update and refactor</p>
</dd></dl>

<dl class="function">
<dt id="utool.Printable.printableType">
<code class="descclassname">utool.Printable.</code><code class="descname">printableType</code><span class="sig-paren">(</span><em>val</em>, <em>name=None</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#printableType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.printableType" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to make a nice type string for a value.
Can also pass in a Printable parent object</p>
</dd></dl>

<dl class="function">
<dt id="utool.Printable.printableVal">
<code class="descclassname">utool.Printable.</code><code class="descname">printableVal</code><span class="sig-paren">(</span><em>val</em>, <em>type_bit=True</em>, <em>justlength=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#printableVal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.Printable.printableVal" title="Permalink to this definition">¶</a></dt>
<dd><p>Very old way of doing pretty printing. Need to update and refactor.
DEPRICATE</p>
</dd></dl>

</div>
<div class="section" id="module-utool.__main__">
<span id="utool-main-module"></span><h2>utool.__main__ module<a class="headerlink" href="#module-utool.__main__" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.__main__.main">
<code class="descclassname">utool.__main__.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/__main__.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.__main__.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool._version">
<span id="utool-version-module"></span><h2>utool._version module<a class="headerlink" href="#module-utool._version" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-utool.oldalg">
<span id="utool-oldalg-module"></span><h2>utool.oldalg module<a class="headerlink" href="#module-utool.oldalg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.oldalg.bayesnet">
<code class="descclassname">utool.oldalg.</code><code class="descname">bayesnet</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/oldalg.html#bayesnet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.oldalg.bayesnet" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://class.coursera.org/pgm-003/lecture/17">https://class.coursera.org/pgm-003/lecture/17</a>
<a class="reference external" href="http://www.cs.ubc.ca/~murphyk/Bayes/bnintro.html">http://www.cs.ubc.ca/~murphyk/Bayes/bnintro.html</a>
<a class="reference external" href="http://www3.cs.stonybrook.edu/~sael/teaching/cse537/Slides/chapter14d_BP.pdf">http://www3.cs.stonybrook.edu/~sael/teaching/cse537/Slides/chapter14d_BP.pdf</a>
<a class="reference external" href="http://www.cse.unsw.edu.au/~cs9417ml/Bayes/Pages/PearlPropagation.html">http://www.cse.unsw.edu.au/~cs9417ml/Bayes/Pages/PearlPropagation.html</a>
<a class="reference external" href="https://github.com/pgmpy/pgmpy.git">https://github.com/pgmpy/pgmpy.git</a>
<a class="reference external" href="http://pgmpy.readthedocs.org/en/latest/">http://pgmpy.readthedocs.org/en/latest/</a>
<a class="reference external" href="http://nipy.bic.berkeley.edu:5000/download/11">http://nipy.bic.berkeley.edu:5000/download/11</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.oldalg.bayesnet_examples">
<code class="descclassname">utool.oldalg.</code><code class="descname">bayesnet_examples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/oldalg.html#bayesnet_examples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.oldalg.bayesnet_examples" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.sandbox">
<span id="utool-sandbox-module"></span><h2>utool.sandbox module<a class="headerlink" href="#module-utool.sandbox" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.sandbox.LazyModule">
<em class="property">class </em><code class="descclassname">utool.sandbox.</code><code class="descname">LazyModule</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/sandbox.html#LazyModule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.sandbox.LazyModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Waits to import the module until it is actually used</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_alg">
<span id="utool-util-alg-module"></span><h2>utool.util_alg module<a class="headerlink" href="#module-utool.util_alg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_alg.absdiff">
<code class="descclassname">utool.util_alg.</code><code class="descname">absdiff</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#absdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.absdiff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.almost_allsame">
<code class="descclassname">utool.util_alg.</code><code class="descname">almost_allsame</code><span class="sig-paren">(</span><em>vals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#almost_allsame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.almost_allsame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.almost_eq">
<code class="descclassname">utool.util_alg.</code><code class="descname">almost_eq</code><span class="sig-paren">(</span><em>arr1</em>, <em>arr2</em>, <em>thresh=1e-11</em>, <em>ret_error=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#almost_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.almost_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>checks if floating point number are equal to a threshold</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.apply_grouping">
<code class="descclassname">utool.util_alg.</code><code class="descname">apply_grouping</code><span class="sig-paren">(</span><em>items</em>, <em>groupxs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#apply_grouping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.apply_grouping" title="Permalink to this definition">¶</a></dt>
<dd><p>applies grouping from group_indicies
non-optimized version</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>items</strong> (<em>list</em>) – items to group</li>
<li><strong>groupxs</strong> (<em>list of list of ints</em>) – grouped lists of indicies</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.apply_grouping - optimized numpy version
ut.group_indices</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-apply_grouping –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx2_groupid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span>        <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_indices</span><span class="p">(</span><span class="n">idx2_groupid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">apply_grouping</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[8, 5, 6], [1, 5, 8, 7], [5, 3, 0, 9]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.bayes_rule">
<code class="descclassname">utool.util_alg.</code><code class="descname">bayes_rule</code><span class="sig-paren">(</span><em>b_given_a</em>, <em>prob_a</em>, <em>prob_b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#bayes_rule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.bayes_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>P(A | B) = frac{ P(B | A) P(A) }{ P(B) }</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>b_given_a</strong> (<em>ndarray</em><em> or </em><em>float</em>) – </li>
<li><strong>prob_a</strong> (<em>ndarray</em><em> or </em><em>float</em>) – </li>
<li><strong>prob_b</strong> (<em>ndarray</em><em> or </em><em>float</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a_given_b</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray or float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_given_a</span> <span class="o">=</span> <span class="o">.</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prob_a</span> <span class="o">=</span> <span class="o">.</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prob_b</span> <span class="o">=</span> <span class="o">.</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_given_b</span> <span class="o">=</span> <span class="n">bayes_rule</span><span class="p">(</span><span class="n">b_given_a</span><span class="p">,</span> <span class="n">prob_a</span><span class="p">,</span> <span class="n">prob_b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">a_given_b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">0.075</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.choose">
<code class="descclassname">utool.util_alg.</code><code class="descname">choose</code><span class="sig-paren">(</span><em>n</em>, <em>k</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#choose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.choose" title="Permalink to this definition">¶</a></dt>
<dd><p>N choose k</p>
<p>binomial combination (without replacement)
scipy.special.binom</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.colwise_diag_idxs">
<code class="descclassname">utool.util_alg.</code><code class="descname">colwise_diag_idxs</code><span class="sig-paren">(</span><em>size</em>, <em>num=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#colwise_diag_idxs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.colwise_diag_idxs" title="Permalink to this definition">¶</a></dt>
<dd><p>dont trust this implementation or this function name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<em>int</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">upper_diag_idxs</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-colwise_diag_idxs –size=5 –num=2
python -m utool.util_alg –exec-colwise_diag_idxs –size=3 –num=3</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--size&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--num&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">size</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">upper_diag_idxs</span> <span class="o">=</span> <span class="n">colwise_diag_idxs</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poses</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">upper_diag_idxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel_multi_index</span><span class="p">(</span><span class="n">poses</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">mat</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;poses.T =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">poses</span><span class="o">.</span><span class="n">T</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">poses</span><span class="o">.</span><span class="n">T</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">poses</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span>
<span class="go">poses.T =</span>
<span class="go">np.array([[0, 0, 1, 0, 1, 2, 0, 1, 2, 3],</span>
<span class="go">          [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.compare_groups">
<code class="descclassname">utool.util_alg.</code><code class="descname">compare_groups</code><span class="sig-paren">(</span><em>true_groups</em>, <em>pred_groups</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#compare_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.compare_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds how predictions need to be modified to match the true grouping.</p>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>pred_merges - the merges needed that would need to be done for the</dt>
<dd>pred_groups to match true_groups.</dd>
<dt>pred_hybrid - the hybrid split/merges needed that would need to be done</dt>
<dd>for the pred_groups to match true_groups.</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">true_groups</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span>   <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span> <span class="p">[</span><span class="mi">45</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred_groups</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comparisons</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compare_groups</span><span class="p">(</span><span class="n">true_groups</span><span class="p">,</span> <span class="n">pred_groups</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">comparisons</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">comparisons</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;common&#39;: {{1, 2}},</span>
<span class="go">    &#39;pred_hybrid&#39;: {{10}, {3, 4}, {5, 6, 11}, {7}, {8, 9}},</span>
<span class="go">    &#39;pred_merges&#39;: [{{12}, {13, 14}}, {{31, 32}, {33, 34, 35}}],</span>
<span class="go">    &#39;pred_splits&#39;: [{20, 21, 22, 23}, {41, 42, 43, 44, 45}],</span>
<span class="go">    &#39;true_hybrid&#39;: {{3, 5, 6}, {4}, {50}, {7, 8}, {9, 10, 11}},</span>
<span class="go">    &#39;true_merges&#39;: [{12, 13, 14}, {31, 32, 33, 34, 35}],</span>
<span class="go">    &#39;true_splits&#39;: [{{20, 21}, {22, 23}}, {{41, 42, 43, 44}, {45}}],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.cumsum">
<code class="descclassname">utool.util_alg.</code><code class="descname">cumsum</code><span class="sig-paren">(</span><em>item_list</em>, <em>initial=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#cumsum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.cumsum" title="Permalink to this definition">¶</a></dt>
<dd><p>python cumsum</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – list of numbers or items supporting addition</li>
<li><strong>initial</strong> (<em>value</em>) – initial zero value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of accumulated values</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>stackoverflow.com/questions/9258602/elegant-pythonic-cumsum</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg cumsum</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">initial</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">initial</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">initial</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">initial</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result2</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.deg_to_rad">
<code class="descclassname">utool.util_alg.</code><code class="descname">deg_to_rad</code><span class="sig-paren">(</span><em>degree</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#deg_to_rad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.deg_to_rad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.diagonalized_iter">
<code class="descclassname">utool.util_alg.</code><code class="descname">diagonalized_iter</code><span class="sig-paren">(</span><em>size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#diagonalized_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.diagonalized_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: generalize to more than 2 dimensions to be more like
itertools.product.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-diagonalized_iter
python -m utool.util_alg –exec-diagonalized_iter –size=5</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--size&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iter_</span> <span class="o">=</span> <span class="n">diagonalized_iter</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span> <span class="o">=</span> <span class="p">[[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iter_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">mat</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">packed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[0, 2, 5, 9],</span>
<span class="go"> [1, 4, 8, 12],</span>
<span class="go"> [3, 7, 11, 14],</span>
<span class="go"> [6, 10, 13, 15],]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.edit_distance">
<code class="descclassname">utool.util_alg.</code><code class="descname">edit_distance</code><span class="sig-paren">(</span><em>string1</em>, <em>string2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#edit_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.edit_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit distance algorithm. String1 and string2 can be either
strings or lists of strings</p>
<p>pip install python-Levenshtein</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>string1</strong> (<em>str</em><em> or </em><em>list</em>) – </li>
<li><strong>string2</strong> (<em>str</em><em> or </em><em>list</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg edit_distance –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string1</span> <span class="o">=</span> <span class="s1">&#39;hello world&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;goodbye world&#39;</span><span class="p">,</span> <span class="s1">&#39;rofl&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;lowo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">([</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;goodbye&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;goodbye&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">([</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">],</span> <span class="s1">&#39;goodbye&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;goodbye&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distmat</span> <span class="o">=</span> <span class="n">edit_distance</span><span class="p">(</span><span class="n">string1</span><span class="p">,</span> <span class="n">string2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;distmat = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">distmat</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.enumerate_primes">
<code class="descclassname">utool.util_alg.</code><code class="descname">enumerate_primes</code><span class="sig-paren">(</span><em>max_prime=4100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#enumerate_primes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.enumerate_primes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.euclidean_dist">
<code class="descclassname">utool.util_alg.</code><code class="descname">euclidean_dist</code><span class="sig-paren">(</span><em>vecs1</em>, <em>vec2</em>, <em>dtype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#euclidean_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.euclidean_dist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.expensive_task_gen">
<code class="descclassname">utool.util_alg.</code><code class="descname">expensive_task_gen</code><span class="sig-paren">(</span><em>num=8700</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#expensive_task_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.expensive_task_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a task that takes some time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num</strong> (<em>int</em>) – (default = 8700)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg expensive_task_gen –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#num = 8700</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">40000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;expanesive task&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">time_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">expensive_task_gen</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">time_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.plot(time_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="k">import</span> <span class="n">curve_fit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">c</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#a*x**3 + b*x**2 +c*x + d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">time_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#popt, pcov = curve_fit(func, x, y, p0=(1, 1e-6, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;pcov = %r&#39; % (pcov,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;popt = %r&#39; % (popt,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># http://stackoverflow.com/questions/3433486/-curve-fitting-in-python</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="n">num</span><span class="o">//</span><span class="mi">50</span><span class="p">],</span> <span class="n">y</span><span class="p">[::</span><span class="n">num</span><span class="o">//</span><span class="mi">50</span><span class="p">],</span> <span class="s1">&#39;rx&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;measured data&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#x2 = np.arange(len(y) * 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.plt.plot(x2, func(x2, *popt), &#39;b&#39;, label=&quot;Fitted Curve&quot;) #same as line above \/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.plt.legend(loc=&#39;upper left&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.factors">
<code class="descclassname">utool.util_alg.</code><code class="descname">factors</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#factors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes all the integer factors of the number <cite>n</cite></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">factors</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 2, 5, 10]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/6800193/finding-all-the-factors">http://stackoverflow.com/questions/6800193/finding-all-the-factors</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.fibonacci">
<code class="descclassname">utool.util_alg.</code><code class="descname">fibonacci</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_alg.fibonacci" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the n-th fibonacci number</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15047116/iterative-alg-fib">http://stackoverflow.com/questions/15047116/iterative-alg-fib</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg fibonacci_iterative</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;fib iter&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">fibonacci_iterative</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">series = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.fibonacci_approx">
<code class="descclassname">utool.util_alg.</code><code class="descname">fibonacci_approx</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#fibonacci_approx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.fibonacci_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>approximate value (due to numerical errors) of fib(n) using closed form
expression</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the n-th fib number</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg fibonacci_approx</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">fibonacci_approx</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.fibonacci_iterative">
<code class="descclassname">utool.util_alg.</code><code class="descname">fibonacci_iterative</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#fibonacci_iterative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.fibonacci_iterative" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the n-th fibonacci number</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15047116/iterative-alg-fib">http://stackoverflow.com/questions/15047116/iterative-alg-fib</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg fibonacci_iterative</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;fib iter&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">fibonacci_iterative</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">series = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.fibonacci_recursive">
<code class="descclassname">utool.util_alg.</code><code class="descname">fibonacci_recursive</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#fibonacci_recursive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.fibonacci_recursive" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –test-fibonacci_recursive</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;fib rec&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">fibonacci_recursive</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">series = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.find_group_consistencies">
<code class="descclassname">utool.util_alg.</code><code class="descname">find_group_consistencies</code><span class="sig-paren">(</span><em>groups1</em>, <em>groups2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#find_group_consistencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.find_group_consistencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a measure of group consistency</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_groups</span> <span class="o">=</span> <span class="n">find_group_consistencies</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;common_groups = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">common_groups</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">common_groups = [(5, 6), (4,)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.find_group_differences">
<code class="descclassname">utool.util_alg.</code><code class="descname">find_group_differences</code><span class="sig-paren">(</span><em>groups1</em>, <em>groups2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#find_group_differences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.find_group_differences" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a measure of how disimilar two groupings are</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>groups1</strong> (<em>list</em>) – true grouping of items</li>
<li><strong>groups2</strong> (<em>list</em>) – predicted grouping of items</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg find_group_differences</dd>
<dt>SeeAlso:</dt>
<dd>vtool.group_indicies
vtool.apply_grouping</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_error</span> <span class="o">=</span> <span class="n">find_group_differences</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;total_error = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_error</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_error = 20</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_error</span> <span class="o">=</span> <span class="n">find_group_differences</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;total_error = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_error</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_error = 0</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_error</span> <span class="o">=</span> <span class="n">find_group_differences</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;total_error = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_error</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_error = 4</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd># Can this be done via sklearn label analysis?
# maybe no… the labels assigned to each component are arbitrary
# maybe if we label edges? likely too many labels.
groups1 = [[1, 2, 3], [4], [5, 6], [7, 8], [9, 10, 11]]
groups2 = [[1, 2, 11], [3, 4], [5, 6], [7], [8, 9], [10]]</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.flatten_membership_mapping">
<code class="descclassname">utool.util_alg.</code><code class="descname">flatten_membership_mapping</code><span class="sig-paren">(</span><em>uid_list</em>, <em>members_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#flatten_membership_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.flatten_membership_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.generate_primes">
<code class="descclassname">utool.util_alg.</code><code class="descname">generate_primes</code><span class="sig-paren">(</span><em>stop=None</em>, <em>start_guess=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#generate_primes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.generate_primes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.get_nth_bell_number">
<code class="descclassname">utool.util_alg.</code><code class="descname">get_nth_bell_number</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_nth_bell_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.get_nth_bell_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the (num_items - 1)-th Bell number using recursion.
The Bell numbers count the number of partitions of a set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – number of items in a set</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://adorio-research.org/wordpress/?p=11460">http://adorio-research.org/wordpress/?p=11460</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-bell –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_nth_bell_number</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.get_nth_prime">
<code class="descclassname">utool.util_alg.</code><code class="descname">get_nth_prime</code><span class="sig-paren">(</span><em>n</em>, <em>max_prime=4100</em>, <em>safe=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_nth_prime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.get_nth_prime" title="Permalink to this definition">¶</a></dt>
<dd><p>hacky but still brute force algorithm for finding nth prime for small tests</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.get_nth_prime_bruteforce">
<code class="descclassname">utool.util_alg.</code><code class="descname">get_nth_prime_bruteforce</code><span class="sig-paren">(</span><em>n</em>, <em>start_guess=2</em>, <em>start_num_primes=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_nth_prime_bruteforce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.get_nth_prime_bruteforce" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – the n-th prime (n=2000 takes about a second)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg get_nth_prime_bruteforce –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2000</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">500</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">time_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">ellapsed</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">n_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">multi_plot</span><span class="p">(</span><span class="n">n_list</span><span class="p">,</span> <span class="p">[</span><span class="n">time_list</span><span class="p">],</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;prime&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.get_phi">
<code class="descclassname">utool.util_alg.</code><code class="descname">get_phi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_phi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.get_phi" title="Permalink to this definition">¶</a></dt>
<dd><p>Golden Ratio: phi = 1 / sqrt(5) / 2.0 = 1.61803398875</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.get_phi_ratio1">
<code class="descclassname">utool.util_alg.</code><code class="descname">get_phi_ratio1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_phi_ratio1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.get_phi_ratio1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.get_prime_index">
<code class="descclassname">utool.util_alg.</code><code class="descname">get_prime_index</code><span class="sig-paren">(</span><em>prime</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_prime_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.get_prime_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.greedy_max_inden_setcover">
<code class="descclassname">utool.util_alg.</code><code class="descname">greedy_max_inden_setcover</code><span class="sig-paren">(</span><em>candidate_sets_dict</em>, <em>items</em>, <em>max_covers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#greedy_max_inden_setcover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.greedy_max_inden_setcover" title="Permalink to this definition">¶</a></dt>
<dd><p>greedy algorithm for maximum independent set cover</p>
<p>Covers items with sets from candidate sets. Could be made faster.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –test-greedy_max_inden_setcover</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_sets_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_covers</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">greedy_max_inden_setcover</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">max_covers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="n">covered_items_list</span><span class="p">,</span> <span class="n">accepted_keys</span><span class="p">)</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">((</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">accepted_keys</span><span class="p">))),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">([0, 9], [&#39;a&#39;, &#39;c&#39;, &#39;d&#39;])</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_sets_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_covers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">greedy_max_inden_setcover</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">max_covers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="n">covered_items_list</span><span class="p">,</span> <span class="n">accepted_keys</span><span class="p">)</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">((</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">accepted_keys</span><span class="p">))),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">([0, 3, 4, 5, 8, 9], [&#39;d&#39;])</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.group_indices">
<code class="descclassname">utool.util_alg.</code><code class="descname">group_indices</code><span class="sig-paren">(</span><em>groupid_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#group_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.group_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>groups indicies of each item in <code class="docutils literal notranslate"><span class="pre">groupid_list</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>groupid_list</strong> (<em>list</em>) – list of group ids</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.group_indices - optimized numpy version
ut.apply_grouping</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –test-group_indices
python3 -m utool.util_alg –test-group_indices</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_indices</span><span class="p">(</span><span class="n">groupid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">((</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">),</span> <span class="n">nobraces</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, &#39;b&#39;, &#39;c&#39;],</span>
<span class="go">[[1, 3, 5], [0, 2, 4, 6], [7, 8, 9, 10]],</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.grouping_delta">
<code class="descclassname">utool.util_alg.</code><code class="descname">grouping_delta</code><span class="sig-paren">(</span><em>old</em>, <em>new</em>, <em>pure=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#grouping_delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.grouping_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds what happened to the old groups to form the new groups.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>old</strong> (<em>set of frozensets</em>) – old grouping</li>
<li><strong>new</strong> (<em>set of frozensets</em>) – new grouping</li>
<li><strong>pure</strong> (<em>bool</em>) – hybrids are separated from pure merges and splits if
pure is True, otherwise hybrid cases are grouped in merges and
splits.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>delta: dictionary of changes containing the merges, splits,</dt>
<dd><p class="first last">unchanged, and hybrid cases. Except for unchanged, case a subdict
with new and old keys.  For splits / merges, one of these contains
nested sequences to indicate what the split / merge is.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>merges - which old groups were merged into a single new group.
splits - which old groups were split into multiple new groups.
hybrid - which old groups had split/merge actions applied.
unchanged - which old groups are the same as new groups.</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span>   <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span> <span class="p">[</span><span class="mi">45</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">old</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">in</span> <span class="n">delta</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">][</span><span class="s1">&#39;old&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">new</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="ow">in</span> <span class="n">delta</span><span class="p">[</span><span class="s1">&#39;merges&#39;</span><span class="p">][</span><span class="s1">&#39;new&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">old</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">in</span> <span class="n">delta</span><span class="p">[</span><span class="s1">&#39;unchanged&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">unchanged: {</span>
<span class="go">    {1, 2},</span>
<span class="go">},</span>
<span class="go">splits: {</span>
<span class="go">    old: [{20, 21, 22, 23}, {41, 42, 43, 44, 45}],</span>
<span class="go">    new: [{{20, 21}, {22, 23}}, {{41, 42, 43, 44}, {45}}],</span>
<span class="go">},</span>
<span class="go">merges: {</span>
<span class="go">    old: [{{12}, {13, 14}}, {{31, 32}, {33, 34, 35}}],</span>
<span class="go">    new: [{12, 13, 14}, {31, 32, 33, 34, 35}],</span>
<span class="go">},</span>
<span class="go">hybrid: {</span>
<span class="go">    old: {{10}, {3, 4}, {5, 6, 11}, {7}, {8, 9}},</span>
<span class="go">    new: {{3, 5, 6}, {4}, {7, 8}, {9, 10, 11}},</span>
<span class="go">    splits: [{{7}}, {{11}, {5, 6}}, {{10}}, {{3}, {4}}, {{8}, {9}}],</span>
<span class="go">    merges: [{{7}, {8}}, {{4}}, {{3}, {5, 6}}, {{10}, {11}, {9}}],</span>
<span class="go">},</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># every case here is hybrid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pure_delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">pure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">pure_delta</span><span class="p">[</span><span class="s1">&#39;merges&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">pure_delta</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">pure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">order_dict_by</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;unchanged&#39;</span><span class="p">,</span> <span class="s1">&#39;splits&#39;</span><span class="p">,</span> <span class="s1">&#39;merges&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    unchanged: {},</span>
<span class="go">    splits: [</span>
<span class="go">        [{2}, {3}, {1}],</span>
<span class="go">        [{8, 9}, {5, 6, 7}],</span>
<span class="go">    ],</span>
<span class="go">    merges: [</span>
<span class="go">        [{4}, {3}],</span>
<span class="go">        [{8, 9}, {10, 11, 12}],</span>
<span class="go">    ],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.grouping_delta_stats">
<code class="descclassname">utool.util_alg.</code><code class="descname">grouping_delta_stats</code><span class="sig-paren">(</span><em>old</em>, <em>new</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#grouping_delta_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.grouping_delta_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns statistics about grouping changes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>old</strong> (<em>set of frozenset</em>) – old grouping</li>
<li><strong>new</strong> (<em>set of frozenset</em>) – new grouping</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">df: data frame of size statistics</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span>   <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span> <span class="p">[</span><span class="mi">45</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta_stats</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.iapply_grouping">
<code class="descclassname">utool.util_alg.</code><code class="descname">iapply_grouping</code><span class="sig-paren">(</span><em>items</em>, <em>groupxs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#iapply_grouping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.iapply_grouping" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates over groups from group_indicies</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>items</strong> (<em>list</em>) – items to group</li>
<li><strong>groupxs</strong> (<em>list of list of ints</em>) – grouped lists of indicies</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.apply_grouping - optimized numpy version
ut.group_indices</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-apply_grouping –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx2_groupid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span>        <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_indices</span><span class="p">(</span><span class="n">idx2_groupid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">iapply_grouping</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[8, 5, 6], [1, 5, 8, 7], [5, 3, 0, 9]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.inbounds">
<code class="descclassname">utool.util_alg.</code><code class="descname">inbounds</code><span class="sig-paren">(</span><em>num</em>, <em>low</em>, <em>high</em>, <em>eq=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#inbounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.inbounds" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num</strong> (<em>scalar</em><em> or </em><em>ndarray</em>) – </li>
<li><strong>low</strong> (<em>scalar</em><em> or </em><em>ndarray</em>) – </li>
<li><strong>high</strong> (<em>scalar</em><em> or </em><em>ndarray</em>) – </li>
<li><strong>eq</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">is_inbounds</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">scalar or ndarray</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –test-inbounds</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.</span>   <span class="p">,</span>  <span class="mf">0.431</span><span class="p">,</span>  <span class="mf">0.279</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span> <span class="mf">0.204</span><span class="p">,</span>  <span class="mf">0.352</span><span class="p">,</span>  <span class="mf">0.08</span> <span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span> <span class="mf">0.107</span><span class="p">,</span>  <span class="mf">0.325</span><span class="p">,</span>  <span class="mf">0.179</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">low</span>  <span class="o">=</span> <span class="o">.</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">high</span> <span class="o">=</span> <span class="o">.</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eq</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_inbounds</span> <span class="o">=</span> <span class="n">inbounds</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">eq</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">is_inbounds</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">np.array([[False, False,  True],</span>
<span class="go">          [ True,  True, False],</span>
<span class="go">          [ True,  True,  True]], dtype=bool)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.is_prime">
<code class="descclassname">utool.util_alg.</code><code class="descname">is_prime</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#is_prime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.is_prime" title="Permalink to this definition">¶</a></dt>
<dd><p>naive function for finding primes. Good for stress testing</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://thelivingpearl.com/2013/01/06/how-to-find-prime-numbers-in-python/">http://thelivingpearl.com/2013/01/06/how-to-find-prime-numbers-in-python/</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –test-is_prime</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;isprime&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;primes = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">list_where</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">])),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">primes = [2, 3, 5, 7]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.item_hist">
<code class="descclassname">utool.util_alg.</code><code class="descname">item_hist</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#item_hist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.item_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>counts the number of times each item appears in the dictionary</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.knapsack">
<code class="descclassname">utool.util_alg.</code><code class="descname">knapsack</code><span class="sig-paren">(</span><em>items</em>, <em>maxweight</em>, <em>method='recursive'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.knapsack" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve the knapsack problem by finding the most valuable subsequence of
<cite>items</cite> subject that weighs no more than <cite>maxweight</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>items</strong> (<em>tuple</em>) – is a sequence of tuples <cite>(value, weight, id_)</cite>, where
<cite>value</cite> is a number and <cite>weight</cite> is a non-negative integer, and
<cite>id_</cite> is an item identifier.</li>
<li><strong>maxweight</strong> (<em>scalar</em>) – is a non-negative integer.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>(total_value, items_subset) - a pair whose first element is the</dt>
<dd><p class="first last">sum of values in the most valuable subsequence, and whose second
element is the subsequence. Subset may be different depending on
implementation (ie top-odwn recusrive vs bottom-up iterative)</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://codereview.stackexchange.com/questions/20569/dynamic-programming-solution-to-knapsack-problem">http://codereview.stackexchange.com/questions/20569/dynamic-programming-solution-to-knapsack-problem</a>
<a class="reference external" href="http://stackoverflow.com/questions/141779/solving-the-np-complete-problem-in-xkcd">http://stackoverflow.com/questions/141779/solving-the-np-complete-problem-in-xkcd</a>
<a class="reference external" href="http://www.es.ele.tue.nl/education/5MC10/Solutions/knapsack.pdf">http://www.es.ele.tue.nl/education/5MC10/Solutions/knapsack.pdf</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool.util_alg –test-knapsack</p>
<p class="last">python -m utool.util_alg –test-knapsack:0
python -m utool.util_alg –exec-knapsack:1</p>
</dd>
<dt>Ignore:</dt>
<dd><p class="first">annots_per_view = 2
maxweight = 2
items = [</p>
<blockquote>
<div>(0.7005208343554686, 0.7005208343554686, 0),
(0.669270834329427, 0.669270834329427, 1),
(0.669270834329427, 0.669270834329427, 2),
(0.7005208343554686, 0.7005208343554686, 3),
(0.7005208343554686, 0.7005208343554686, 4),
(0.669270834329427, 0.669270834329427, 5),
(0.669270834329427, 0.669270834329427, 6),
(0.669270834329427, 0.669270834329427, 7),
(0.669270834329427, 0.669270834329427, 8),
(0.669270834329427, 0.669270834329427, 9),
(0.669270834329427, 0.669270834329427, 10),
(0.669270834329427, 0.669270834329427, 11),
(0.669270834329427, 0.669270834329427, 12),
(0.669270834329427, 0.669270834329427, 13),
(0.669270834329427, 0.669270834329427, 14),
(0.669270834329427, 0.669270834329427, 15),
(0.669270834329427, 0.669270834329427, 16),
(0.669270834329427, 0.669270834329427, 17),
(0.7005208343554686, 0.7005208343554686, 18),
(0.7005208343554686, 0.7005208343554686, 19),
(0.669270834329427, 0.669270834329427, 20),
(0.7005208343554686, 0.7005208343554686, 21),
(0.669270834329427, 0.669270834329427, 22),
(0.669270834329427, 0.669270834329427, 23),
(0.669270834329427, 0.669270834329427, 24),
(0.669270834329427, 0.669270834329427, 25),
(0.669270834329427, 0.669270834329427, 26),
(0.669270834329427, 0.669270834329427, 27),
(0.669270834329427, 0.669270834329427, 28),
(0.7005208343554686, 0.7005208343554686, 29),
(0.669270834329427, 0.669270834329427, 30),
(0.669270834329427, 0.669270834329427, 31),
(0.669270834329427, 0.669270834329427, 32),
(0.669270834329427, 0.669270834329427, 33),
(0.7005208343554686, 0.7005208343554686, 34),
(0.669270834329427, 0.669270834329427, 35),
(0.669270834329427, 0.669270834329427, 36),
(0.669270834329427, 0.669270834329427, 37),
(0.7005208343554686, 0.7005208343554686, 38),
(0.669270834329427, 0.669270834329427, 39),
(0.669270834329427, 0.669270834329427, 40),
(0.7005208343554686, 0.7005208343554686, 41),
(0.669270834329427, 0.669270834329427, 42),
(0.669270834329427, 0.669270834329427, 43),
(0.669270834329427, 0.669270834329427, 44),</div></blockquote>
<p class="last">]
values = ut.take_column(items, 0)
weights = ut.take_column(items, 1)
indices = ut.take_column(items, 2)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;recursive&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value1</span><span class="p">,</span> <span class="n">items_subset1</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;iterative&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%.2f</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">total_value1</span><span class="p">,</span> <span class="n">total_value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">items_subset1</span><span class="p">,</span> <span class="n">items_subset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 11.00</span>
<span class="go">items_subset = [(2, 1, 1), (6, 4, 2), (1, 1, 3), (2, 2, 4)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Solve https://xkcd.com/287/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.15</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.35</span><span class="p">,</span> <span class="mf">3.55</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">weights</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mf">15.05</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;recursive&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value1</span><span class="p">,</span> <span class="n">items_subset1</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;iterative&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_weight</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">items_subset</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;total_weight = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_weight</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset1 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#assert items_subset1 == items_subset, &#39;NOT EQ\n%r !=\n%r&#39; % (items_subset1, items_subset)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 15.05</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        import utool as ut</span>
<span class="go">        weights = [215, 275, 335, 355, 42, 58] * 40</span>
<span class="go">        items = [(w, w, i) for i, w in enumerate(weights)]</span>
<span class="go">        maxweight = 2505</span>
<span class="go">        #import numba</span>
<span class="go">        #knapsack_numba = numba.autojit(ut.knapsack_iterative)</span>
<span class="go">        #knapsack_numba = numba.autojit(ut.knapsack_iterative_numpy)</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test load time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        #ut.knapsack_recursive(items, maxweight)</span>
<span class="go">        ut.knapsack_iterative(items, maxweight)</span>
<span class="go">        ut.knapsack_ilp(items, maxweight)</span>
<span class="go">        #knapsack_numba(items, maxweight)</span>
<span class="go">        #ut.knapsack_iterative_numpy(items, maxweight)</span>
<span class="go">        &#39;&#39;&#39;).split(&#39;\n&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_dev</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list1</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.knapsack_greedy">
<code class="descclassname">utool.util_alg.</code><code class="descname">knapsack_greedy</code><span class="sig-paren">(</span><em>items</em>, <em>maxweight</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_greedy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.knapsack_greedy" title="Permalink to this definition">¶</a></dt>
<dd><p>non-optimal greedy version of knapsack algorithm
does not sort input. Sort the input by largest value
first if desired.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>items</strong> (<em>tuple</em>) – is a sequence of tuples <cite>(value, weight, id_)</cite>, where <cite>value</cite>
is a scalar and <cite>weight</cite> is a non-negative integer, and <cite>id_</cite> is an
item identifier.</li>
<li><strong>maxweight</strong> (<em>scalar</em>) – is a non-negative integer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-knapsack_greedy</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack_greedy</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 7</span>
<span class="go">items_subset = [(4, 12, 0), (2, 1, 1), (1, 1, 3)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.knapsack_ilp">
<code class="descclassname">utool.util_alg.</code><code class="descname">knapsack_ilp</code><span class="sig-paren">(</span><em>items</em>, <em>maxweight</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_ilp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.knapsack_ilp" title="Permalink to this definition">¶</a></dt>
<dd><p>solves knapsack using an integer linear program</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg knapsack_ilp</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Solve https://xkcd.com/287/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.15</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.35</span><span class="p">,</span> <span class="mf">3.55</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">6.55</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span>  <span class="o">=</span> <span class="p">[</span><span class="mf">2.15</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.35</span><span class="p">,</span> <span class="mf">3.55</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">6.55</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mixed fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;french fries&#39;</span><span class="p">,</span> <span class="s1">&#39;side salad&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;hot wings&#39;</span><span class="p">,</span> <span class="s1">&#39;mozzarella sticks&#39;</span><span class="p">,</span> <span class="s1">&#39;sampler plate&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;barbecue&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">indices</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items += [(3.95, 3.95, &#39;mystery plate&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mf">15.05</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack_ilp</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">items_subset</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.knapsack_iterative">
<code class="descclassname">utool.util_alg.</code><code class="descname">knapsack_iterative</code><span class="sig-paren">(</span><em>items</em>, <em>maxweight</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_iterative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.knapsack_iterative" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.knapsack_iterative_int">
<code class="descclassname">utool.util_alg.</code><code class="descname">knapsack_iterative_int</code><span class="sig-paren">(</span><em>items</em>, <em>maxweight</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_iterative_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.knapsack_iterative_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterative knapsack method</p>
<dl class="docutils">
<dt>Math:</dt>
<dd>maximize sum_{i in T} v_i
subject to sum_{i in T} w_i leq W</dd>
</dl>
<p class="rubric">Notes</p>
<p>dpmat is the dynamic programming memoization matrix.
dpmat[i, w] is the total value of the items with weight at most W
T is idx_subset, the set of indicies in the optimal solution</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-knapsack_iterative_int –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">weights</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span> <span class="mi">700</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;maxweight = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">maxweight</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack_iterative_int</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_weight</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">items_subset</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;total_weight = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_weight</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 0.80</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>DPMAT = [[dpmat[r][c] for c in range(maxweight)] for r in range(len(items))]
KMAT  = [[kmat[r][c] for c in range(maxweight)] for r in range(len(items))]</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.knapsack_iterative_numpy">
<code class="descclassname">utool.util_alg.</code><code class="descname">knapsack_iterative_numpy</code><span class="sig-paren">(</span><em>items</em>, <em>maxweight</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_iterative_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.knapsack_iterative_numpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterative knapsack method</p>
<p>maximize sum_{i in T} v_i
subject to sum_{i in T} w_i leq W</p>
<p class="rubric">Notes</p>
<p>dpmat is the dynamic programming memoization matrix.
dpmat[i, w] is the total value of the items with weight at most W
T is the set of indicies in the optimal solution</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.knapsack_recursive">
<code class="descclassname">utool.util_alg.</code><code class="descname">knapsack_recursive</code><span class="sig-paren">(</span><em>items</em>, <em>maxweight</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_recursive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.knapsack_recursive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.longest_common_substring">
<code class="descclassname">utool.util_alg.</code><code class="descname">longest_common_substring</code><span class="sig-paren">(</span><em>s1</em>, <em>s2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#longest_common_substring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.longest_common_substring" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p># <a class="reference external" href="https://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Longest_common_substring#Python2">https://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Longest_common_substring#Python2</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.max_size_max_distance_subset">
<code class="descclassname">utool.util_alg.</code><code class="descname">max_size_max_distance_subset</code><span class="sig-paren">(</span><em>items</em>, <em>min_thresh=0</em>, <em>Kstart=2</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#max_size_max_distance_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.max_size_max_distance_subset" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>items</strong> – </li>
<li><strong>min_thresh</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>Kstart</strong> (<em>int</em>) – (default = 2)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">prev_subset_idx</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><p>?</p>
</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-max_size_max_distance_subset</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_thresh</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kstart</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prev_subset_idx</span> <span class="o">=</span> <span class="n">max_size_max_distance_subset</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">min_thresh</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                               <span class="n">Kstart</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prev_subset_idx = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prev_subset_idx</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.maximin_distance_subset1d">
<code class="descclassname">utool.util_alg.</code><code class="descname">maximin_distance_subset1d</code><span class="sig-paren">(</span><em>items</em>, <em>K=None</em>, <em>min_thresh=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#maximin_distance_subset1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.maximin_distance_subset1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Greedy algorithm, may be exact for 1d case.
First, choose the first item, then choose the next item that is farthest
away from all previously chosen items. Iterate.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-maximin_distance_subset1d</dd>
</dl>
<p class="rubric">Notes</p>
<p>Given a set of items V.
Let $E = V times V$ be the the set of all item pairs.</p>
<p>The goal is to return the largest subset of item such that the distance
between any pair of items in the subset is greater than some threshold.</p>
<p>Let t[u, v] be the distance between u and v.</p>
<p>Let x[u, v] = 1 if the annotation pair (u, v) is included.</p>
<p>Let y[u] = 1 if the annotation u is included.</p>
<dl class="docutils">
<dt>Objective:</dt>
<dd>maximize sum(y[u] for u in V)</dd>
<dt>subject to:</dt>
<dd><p class="first"># Annotations pairs are only included if their timedelta is less than
# the threshold.
x[u, v] = 0 if t[u, v] &gt; thresh</p>
<p class="last"># If an edge is exclued at least one of its endpoints must be
# excluded
y[u] + y[v] - x[u, v] &lt; 2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items = [1, 2, 3, 4, 5, 6, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_thresh</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">maximin_distance_subset1d</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">min_thresh</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(array([1, 3, 6]), [1, 9, 22])</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items = [1, 2, 3, 4, 5, 6, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_thresh</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">maximin_distance_subset1d</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">min_thresh</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.maximum_distance_subset">
<code class="descclassname">utool.util_alg.</code><code class="descname">maximum_distance_subset</code><span class="sig-paren">(</span><em>items</em>, <em>K</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#maximum_distance_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.maximum_distance_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME: I believe this does not work.</p>
<p>Returns a subset of size K from items with the maximum pairwise distance</p>
<p class="rubric">References</p>
<p>stackoverflow.com/questions/12278528/subset-elements-furthest-apart-eachother
stackoverflow.com/questions/13079563/condensed-distance-matrix-pdist</p>
<dl class="docutils">
<dt>Recurance:</dt>
<dd>Let X[n,k] be the solution for selecting k elements from first n elements items.
X[n, k] = max( max( X[m, k - 1] + (sum_{p in prev_solution} dist(o, p)) for o &lt; n and o not in prev solution) ) for m &lt; n.</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.spatial.distance</span> <span class="k">as</span> <span class="nn">spdist</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-maximum_distance_subset</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items = [1, 2, 3, 4, 5, 6, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">maximum_distance_subset</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(42.0, array([4, 3, 0]), array([22, 21,  1]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.negative_minclamp_inplace">
<code class="descclassname">utool.util_alg.</code><code class="descname">negative_minclamp_inplace</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#negative_minclamp_inplace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.negative_minclamp_inplace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.norm_zero_one">
<code class="descclassname">utool.util_alg.</code><code class="descname">norm_zero_one</code><span class="sig-paren">(</span><em>array</em>, <em>dim=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#norm_zero_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.norm_zero_one" title="Permalink to this definition">¶</a></dt>
<dd><p>normalizes a numpy array from 0 to 1 based in its extent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>array</strong> (<em>ndarray</em>) – </li>
<li><strong>dim</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –test-norm_zero_one</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dim</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array_norm</span> <span class="o">=</span> <span class="n">norm_zero_one</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">array_norm</span><span class="p">),</span> <span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[0.512, 0.000, 0.049, 0.024, 0.220, 1.000]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.normalize">
<code class="descclassname">utool.util_alg.</code><code class="descname">normalize</code><span class="sig-paren">(</span><em>array</em>, <em>dim=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.num_partitions">
<code class="descclassname">utool.util_alg.</code><code class="descname">num_partitions</code><span class="sig-paren">(</span><em>num_items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#num_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.num_partitions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.number_of_decimals">
<code class="descclassname">utool.util_alg.</code><code class="descname">number_of_decimals</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#number_of_decimals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.number_of_decimals" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num</strong> (<em>float</em>) – </td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>stackoverflow.com/questions/6189956/finding-decimal-places</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mf">15.05</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">number_of_decimals</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.prod">
<code class="descclassname">utool.util_alg.</code><code class="descname">prod</code><span class="sig-paren">(</span><em>item_list</em>, <em>initial=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#prod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.prod" title="Permalink to this definition">¶</a></dt>
<dd><p>product of all number in a list (like np.prod)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – list of numbers or items supporting mulitplicatiuon</li>
<li><strong>initial</strong> (<em>value</em>) – initial identity (default=1)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Multiplied value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">initial</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">prod</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">initial</span><span class="p">)</span> <span class="o">==</span> <span class="mf">120.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">prod</span><span class="p">([])</span> <span class="o">==</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">prod</span><span class="p">([</span><span class="mi">5</span><span class="p">])</span> <span class="o">==</span> <span class="mf">5.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.product_nonsame">
<code class="descclassname">utool.util_alg.</code><code class="descname">product_nonsame</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#product_nonsame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.product_nonsame" title="Permalink to this definition">¶</a></dt>
<dd><p>product of list1 and list2 where items are non equal</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.product_nonsame_self">
<code class="descclassname">utool.util_alg.</code><code class="descname">product_nonsame_self</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#product_nonsame_self"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.product_nonsame_self" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.rad_to_deg">
<code class="descclassname">utool.util_alg.</code><code class="descname">rad_to_deg</code><span class="sig-paren">(</span><em>radians</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#rad_to_deg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.rad_to_deg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.safe_div">
<code class="descclassname">utool.util_alg.</code><code class="descname">safe_div</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#safe_div"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.safe_div" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.safe_pdist">
<code class="descclassname">utool.util_alg.</code><code class="descname">safe_pdist</code><span class="sig-paren">(</span><em>arr</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#safe_pdist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.safe_pdist" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Kwargs:</dt>
<dd>metric = ut.absdiff</dd>
<dt>SeeAlso:</dt>
<dd>scipy.spatial.distance.pdist</dd>
</dl>
<p>TODO: move to vtool</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.self_prodx">
<code class="descclassname">utool.util_alg.</code><code class="descname">self_prodx</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#self_prodx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.self_prodx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.setcover_greedy">
<code class="descclassname">utool.util_alg.</code><code class="descname">setcover_greedy</code><span class="sig-paren">(</span><em>candidate_sets_dict</em>, <em>items=None</em>, <em>set_weights=None</em>, <em>item_values=None</em>, <em>max_weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#setcover_greedy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.setcover_greedy" title="Permalink to this definition">¶</a></dt>
<dd><p>Greedy algorithm for various covering problems.
approximation gaurentees depending on specifications  like set_weights and item values</p>
<p>Set Cover: log(len(items) + 1) approximation algorithm
Weighted Maximum Cover: 1 - 1/e == .632 approximation algorithm
Generalized maximum coverage is not implemented</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Maximum_coverage_problem">https://en.wikipedia.org/wiki/Maximum_coverage_problem</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_sets_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_weight</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_weights</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_values</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">greedy_soln</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">setcover_greedy</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exact_soln</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">setcover_ilp</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;greedy_soln = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">greedy_soln</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;exact_soln = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">exact_soln</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.setcover_ilp">
<code class="descclassname">utool.util_alg.</code><code class="descname">setcover_ilp</code><span class="sig-paren">(</span><em>candidate_sets_dict</em>, <em>items=None</em>, <em>set_weights=None</em>, <em>item_values=None</em>, <em>max_weight=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#setcover_ilp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.setcover_ilp" title="Permalink to this definition">¶</a></dt>
<dd><p>Set cover / Weighted Maximum Cover exact algorithm</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Maximum_coverage_problem">https://en.wikipedia.org/wiki/Maximum_coverage_problem</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.solve_boolexpr">
<code class="descclassname">utool.util_alg.</code><code class="descname">solve_boolexpr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#solve_boolexpr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.solve_boolexpr" title="Permalink to this definition">¶</a></dt>
<dd><p>sudo pip install git+https://github.com/tpircher/quine-mccluskey.git
sudo pip uninstall quine_mccluskey
pip uninstall quine_mccluskey</p>
<p>pip install git+https://github.com/tpircher/quine-mccluskey.git</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>varnames</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg solve_boolexpr –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">,</span> <span class="s1">&#39;said&#39;</span><span class="p">,</span> <span class="s1">&#39;aid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">solve_boolexpr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.square_pdist">
<code class="descclassname">utool.util_alg.</code><code class="descname">square_pdist</code><span class="sig-paren">(</span><em>arr</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#square_pdist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.square_pdist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_alg.standardize_boolexpr">
<code class="descclassname">utool.util_alg.</code><code class="descname">standardize_boolexpr</code><span class="sig-paren">(</span><em>boolexpr_</em>, <em>parens=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#standardize_boolexpr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.standardize_boolexpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardizes a boolean expression into an or-ing of and-ed variables</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>boolexpr</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">final_expr</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>sudo pip install git+https://github.com/tpircher/quine-mccluskey.git
python -m utool.util_alg standardize_boolexpr –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">boolexpr_</span> <span class="o">=</span> <span class="s1">&#39;not force_opencv and (orient_ or is_gif)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">standardize_boolexpr</span><span class="p">(</span><span class="n">boolexpr_</span><span class="p">,</span> <span class="n">parens</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(orient_ and (not force_opencv)) or (is_gif and (not force_opencv))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.triangular_number">
<code class="descclassname">utool.util_alg.</code><code class="descname">triangular_number</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#triangular_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.triangular_number" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Latex:</dt>
<dd>T_n = sum_{k=1}^{n} k = frac{n (n + 1)}{2} = binom{n + 1}{2}</dd>
</dl>
<p class="rubric">References</p>
<p>en.wikipedia.org/wiki/Triangular_number</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.ungroup">
<code class="descclassname">utool.util_alg.</code><code class="descname">ungroup</code><span class="sig-paren">(</span><em>grouped_items</em>, <em>groupxs</em>, <em>maxval=None</em>, <em>fill=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#ungroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.ungroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Ungroups items</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>grouped_items</strong> (<em>list</em>) – </li>
<li><strong>groupxs</strong> (<em>list</em>) – </li>
<li><strong>maxval</strong> (<em>int</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ungrouped_items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.invert_apply_grouping</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg ungroup_unique</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxval</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items</span> <span class="o">=</span> <span class="n">ungroup</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">,</span> <span class="n">maxval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ungrouped_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ungrouped_items</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">ungrouped_items = [1.1, 2.1, 1.2, 3.2, 3.1, 2.2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.ungroup_gen">
<code class="descclassname">utool.util_alg.</code><code class="descname">ungroup_gen</code><span class="sig-paren">(</span><em>grouped_items</em>, <em>groupxs</em>, <em>fill=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#ungroup_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.ungroup_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Ungroups items returning a generator.
Note that this is much slower than the list version and is not gaurenteed
to have better memory usage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>grouped_items</strong> (<em>list</em>) – </li>
<li><strong>groupxs</strong> (<em>list</em>) – </li>
<li><strong>maxval</strong> (<em>int</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ungrouped_items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.invert_apply_grouping</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg ungroup_unique</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ungroup_gen</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items2</span> <span class="o">=</span> <span class="n">ungroup</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ungrouped_items1</span> <span class="o">==</span> <span class="n">ungrouped_items2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ungroup_gen</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items2</span> <span class="o">=</span> <span class="n">ungroup</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ungrouped_items1</span> <span class="o">==</span> <span class="n">ungrouped_items2</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>labels = np.random.randint(0, 64, 10000)
unique_labels, groupxs = ut.group_indices(labels)
grouped_items = ut.apply_grouping(np.arange(len(labels)), groupxs)
ungrouped_items1 = list(ungroup_gen(grouped_items, groupxs))
ungrouped_items2 = ungroup(grouped_items, groupxs)
assert ungrouped_items2 == ungrouped_items1
%timeit list(ungroup_gen(grouped_items, groupxs))
%timeit ungroup(grouped_items, groupxs)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.ungroup_unique">
<code class="descclassname">utool.util_alg.</code><code class="descname">ungroup_unique</code><span class="sig-paren">(</span><em>unique_items</em>, <em>groupxs</em>, <em>maxval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#ungroup_unique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.ungroup_unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Ungroups unique items to correspond to original non-unique list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unique_items</strong> (<em>list</em>) – </li>
<li><strong>groupxs</strong> (<em>list</em>) – </li>
<li><strong>maxval</strong> (<em>int</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ungrouped_items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg ungroup_unique</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique_items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxval</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items</span> <span class="o">=</span> <span class="n">ungroup_unique</span><span class="p">(</span><span class="n">unique_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">,</span> <span class="n">maxval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ungrouped_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ungrouped_items</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">ungrouped_items = [1, 2, 1, 2, 3, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.unixtime_hourdiff">
<code class="descclassname">utool.util_alg.</code><code class="descname">unixtime_hourdiff</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#unixtime_hourdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.unixtime_hourdiff" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – </li>
<li><strong>y</strong> (<em>ndarray</em>) – labels</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><p>?</p>
</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-unixtime_hourdiff –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">unixtime_hourdiff</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.upper_diag_self_prodx">
<code class="descclassname">utool.util_alg.</code><code class="descname">upper_diag_self_prodx</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#upper_diag_self_prodx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.upper_diag_self_prodx" title="Permalink to this definition">¶</a></dt>
<dd><p>upper diagnoal of cartesian product of self and self.
Weird name. fixme</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_alg –exec-upper_diag_self_prodx</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">upper_diag_self_prodx</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 2), (1, 3), (2, 3)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_alg.xywh_to_tlbr">
<code class="descclassname">utool.util_alg.</code><code class="descname">xywh_to_tlbr</code><span class="sig-paren">(</span><em>bbox</em>, <em>img_wh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#xywh_to_tlbr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_alg.xywh_to_tlbr" title="Permalink to this definition">¶</a></dt>
<dd><p>converts xywh format to (tlx, tly, blx, bly)</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_aliases">
<span id="utool-util-aliases-module"></span><h2>utool.util_aliases module<a class="headerlink" href="#module-utool.util_aliases" title="Permalink to this headline">¶</a></h2>
<p>Aliases harder to remember or very common standard module functions</p>
</div>
<div class="section" id="module-utool.util_arg">
<span id="utool-util-arg-module"></span><h2>utool.util_arg module<a class="headerlink" href="#module-utool.util_arg" title="Permalink to this headline">¶</a></h2>
<p>Handles command line parsing</p>
<dl class="class">
<dt id="utool.util_arg.ArgumentParser2">
<em class="property">class </em><code class="descclassname">utool.util_arg.</code><code class="descname">ArgumentParser2</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrapper around argparse.ArgumentParser with convinence functions</p>
<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_arg">
<code class="descname">add_arg</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_arg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_arg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_argument_group">
<code class="descname">add_argument_group</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_argument_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_argument_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_flag">
<code class="descname">add_flag</code><span class="sig-paren">(</span><em>switch</em>, <em>default=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_flag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_flag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_float">
<code class="descname">add_float</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_float" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_int">
<code class="descname">add_int</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_intlist">
<code class="descname">add_intlist</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_intlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_intlist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_ints">
<code class="descname">add_ints</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_ints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_meta">
<code class="descname">add_meta</code><span class="sig-paren">(</span><em>switch</em>, <em>type</em>, <em>default=None</em>, <em>help=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_str">
<code class="descname">add_str</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_strlist">
<code class="descname">add_strlist</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_strlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_strlist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_arg.ArgumentParser2.add_strs">
<code class="descname">add_strs</code><span class="sig-paren">(</span><em>switch</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_strs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_arg.argflag">
<code class="descclassname">utool.util_arg.</code><code class="descname">argflag</code><span class="sig-paren">(</span><em>argstr_</em>, <em>default=False</em>, <em>help_=''</em>, <em>return_specified=None</em>, <em>need_prefix=True</em>, <em>return_was_specified=False</em>, <em>argv=None</em>, <em>debug=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.argflag" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the commandline has a flag or a corresponding noflag</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>argstr</strong> (<em>str</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – the flag to look for</li>
<li><strong>default</strong> (<em>bool</em>) – dont use this (default = False)</li>
<li><strong>help</strong> (<em>str</em>) – a help string (default = ‘’)</li>
<li><strong>return_specified</strong> (<em>bool</em>) – returns if flag was specified or not (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(parsed_val, was_specified)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –exec-get_argflag –noface –exec-mode
python -m utool.util_arg –exec-get_argflag –foo –exec-mode
python -m utool.util_arg –exec-get_argflag –no-foo –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=True –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=False  –exec-mode</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_</span> <span class="o">=</span> <span class="s1">&#39;--foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help_</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_specified</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)</span> <span class="o">=</span> <span class="n">get_argflag</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help_</span><span class="p">,</span> <span class="n">return_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(parsed_val, was_specified) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">((</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.argparse_dict">
<code class="descclassname">utool.util_arg.</code><code class="descname">argparse_dict</code><span class="sig-paren">(</span><em>default_dict_</em>, <em>lbl=None</em>, <em>verbose=None</em>, <em>only_specified=False</em>, <em>force_keys={}</em>, <em>type_hint=None</em>, <em>alias_dict={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argparse_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.argparse_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets values for a dict based on the command line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>default_dict</strong> – </li>
<li><strong>only_specified</strong> (<em>bool</em>) – if True only returns keys that are specified on commandline. no defaults.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id63"><span class="problematic" id="id64">dict_</span></a> -  a dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a href="#id65"><span class="problematic" id="id66">dict_</span></a></p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –test-argparse_dict
python -m utool.util_arg –test-argparse_dict –foo=3
python -m utool.util_arg –test-argparse_dict –flag1
python -m utool.util_arg –test-argparse_dict –flag2
python -m utool.util_arg –test-argparse_dict –noflag2
python -m utool.util_arg –test-argparse_dict –thresh=43
python -m utool.util_arg –test-argparse_dict –bins=-10
python -m utool.util_arg –test-argparse_dict –bins=-10 –only-specified –helpx</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;bins&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;thresh&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.333</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_specified</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only-specified&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">argparse_dict</span><span class="p">(</span><span class="n">default_dict_</span><span class="p">,</span> <span class="n">only_specified</span><span class="o">=</span><span class="n">only_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.argv_flag_dec">
<code class="descclassname">utool.util_arg.</code><code class="descname">argv_flag_dec</code><span class="sig-paren">(</span><em>*argin</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argv_flag_dec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.argv_flag_dec" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorators which control program flow based on sys.argv
the decorated function does not execute without its corresponding
flag</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>default, quiet, indent, default</dd>
<dt>ReturnKwargs:</dt>
<dd>alias_flags</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.argv_flag_dec_true">
<code class="descclassname">utool.util_arg.</code><code class="descname">argv_flag_dec_true</code><span class="sig-paren">(</span><em>func</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argv_flag_dec_true"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.argv_flag_dec_true" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_arg.argval">
<code class="descclassname">utool.util_arg.</code><code class="descname">argval</code><span class="sig-paren">(</span><em>key</em>, <em>default=None</em>, <em>type=None</em>, <em>smartcast=True</em>, <em>return_exists=False</em>, <em>argv=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.argval" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_argval</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--aids=[1,2,3]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--aids&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--aids&#39;</span><span class="p">,</span> <span class="n">smartcast</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value2</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--aids&#39;</span><span class="p">,</span> <span class="n">smartcast</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value2</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.aug_sysargv">
<code class="descclassname">utool.util_arg.</code><code class="descname">aug_sysargv</code><span class="sig-paren">(</span><em>cmdstr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#aug_sysargv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.aug_sysargv" title="Permalink to this definition">¶</a></dt>
<dd><p>DEBUG FUNC modify argv to look like you ran a command</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.autogen_argparse2">
<code class="descclassname">utool.util_arg.</code><code class="descname">autogen_argparse2</code><span class="sig-paren">(</span><em>dpath_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#autogen_argparse2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.autogen_argparse2" title="Permalink to this definition">¶</a></dt>
<dd><p>FUNCTION IS NOT FULLY IMPLEMENTED CURRENTLY ONLY RETURNS
LIST OF FLAGS THAT THE PROGRAM SILENTLY TAKES</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/utool/utool&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/ibeis/ibeis&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtups_list</span> <span class="o">=</span> <span class="n">autogen_argparse2</span><span class="p">(</span><span class="n">dpath_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtup_list_</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">regex_replace</span><span class="p">(</span><span class="s1">&#39;[)(</span><span class="se">\&#39;</span><span class="s1">]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">tupstr</span><span class="p">)</span> <span class="k">for</span> <span class="n">tupstr</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">flagtups_list</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtup_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">tupstr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">tupstr</span> <span class="ow">in</span> <span class="n">flagtup_list_</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtup_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">tupstr</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">tupstr</span> <span class="ow">in</span> <span class="n">flagtup_list</span> <span class="k">if</span> <span class="n">tupstr</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">flagtup_set</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.autogen_argparse_block">
<code class="descclassname">utool.util_arg.</code><code class="descname">autogen_argparse_block</code><span class="sig-paren">(</span><em>extra_args=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#autogen_argparse_block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.autogen_argparse_block" title="Permalink to this definition">¶</a></dt>
<dd><p>SHOULD TURN ANY REGISTERED ARGS INTO A A NEW PARSING CONFIG
FILE FOR BETTER –help COMMANDS</p>
<p>import utool as ut
__REGISTERED_ARGS__ = ut.util_arg.__REGISTERED_ARGS__</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extra_args</strong> (<em>list</em>) – (default = [])</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –test-autogen_argparse_block</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extra_args</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">autogen_argparse_block</span><span class="p">(</span><span class="n">extra_args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_arg">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_arg</code><span class="sig-paren">(</span><em>argstr_</em>, <em>type_=None</em>, <em>default=None</em>, <em>help_=None</em>, <em>smartcast=True</em>, <em>return_specified=None</em>, <em>argv=None</em>, <em>verbose=None</em>, <em>debug=None</em>, <em>return_was_specified=False</em>, <em>pos=None</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value of an argument specified on the command line after some flag</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>argstr</strong> (<em>str</em><em> or </em><em>tuple</em>) – string or tuple of strings denoting the command line values to parse</li>
<li><strong>type</strong> (<em>None</em>) – type of the variable to parse (default = None)</li>
<li><strong>default</strong> (<em>None</em>) – (default = None)</li>
<li><strong>help</strong> (<em>None</em>) – help for this argument (not fully integrated) (default = None)</li>
<li><strong>smartcast</strong> (<em>bool</em>) – tries to be smart about casting the parsed strings (default = True)</li>
<li><strong>return_specified</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>argv</strong> (<em>None</em>) – override sys.argv with custom command line vector (default = None)</li>
<li><strong>pos</strong> (<em>int</em>) – if specified the argument can also be found in position <cite>pos</cite> of the command line varargs</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –test-get_argval
python -m utool.util_arg –exec-get_argval:0
python -m utool.util_arg –exec-get_argval:1
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest=”holy grail”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest=”42”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest=42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’, float)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((‘–nAssign’), int)]])” –nAssign 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((‘–test’), str)]])” –test
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((‘–test’), str)]])” –test “foobar is good” –youbar ok</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;--quest=holy grail&#39;</span><span class="p">,</span> <span class="s1">&#39;--ans=42&#39;</span><span class="p">,</span> <span class="s1">&#39;--the-val=1,2,3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span>                    <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--quest&#39;</span><span class="p">,</span>                   <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--ans&#39;</span><span class="p">,</span> <span class="s1">&#39;--foo&#39;</span><span class="p">),</span>          <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--not-there&#39;</span><span class="p">,</span> <span class="s1">&#39;--absent&#39;</span><span class="p">),</span> <span class="nb">dict</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the_val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the-val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;--spam&#39;: &#39;eggs&#39;,</span>
<span class="go">    &#39;--quest&#39;: &#39;holy grail&#39;,</span>
<span class="go">    (&#39;--ans&#39;, &#39;--foo&#39;): 42,</span>
<span class="go">    (&#39;--not-there&#39;, &#39;--absent&#39;): None,</span>
<span class="go">    &#39;--the_val&#39;: [1, 2, 3],</span>
<span class="go">    &#39;--the-val&#39;: [1, 2, 3],</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span> <span class="s1">&#39;::&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice2=4:&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice3=::4&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice4&#39;</span><span class="p">,</span> <span class="s1">&#39;[1,2,3,4]&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice5=3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice2&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice3&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice4&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice5&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;res = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">res</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list1[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">res</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list2[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">list2</span><span class="p">[</span><span class="n">res</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_arg_dict">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_arg_dict</code><span class="sig-paren">(</span><em>argv=None, prefix_list=['--'], type_hints={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_arg_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.get_arg_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Yet another way for parsing args</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –exec-get_arg_dict
python -m utool.util_arg –test-get_arg_dict</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shlex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;--test-show_name --name=IBEIS_PZ_0303 --db testdb3 --save &quot;~/latex/crall-candidacy-2015/figures/IBEIS_PZ_0303.jpg&quot; --dpath figures --caption=&quot;Shadowed&quot;  --figsize=11,3 --no-figtitle -t foo bar baz biz --notitle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_dict</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_arg_dict</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span> <span class="n">prefix_list</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">],</span> <span class="n">type_hints</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">arg_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;caption&#39;: &#39;Shadowed&#39;,</span>
<span class="go">    &#39;db&#39;: &#39;testdb3&#39;,</span>
<span class="go">    &#39;dpath&#39;: &#39;figures&#39;,</span>
<span class="go">    &#39;figsize&#39;: &#39;11,3&#39;,</span>
<span class="go">    &#39;name&#39;: &#39;IBEIS_PZ_0303&#39;,</span>
<span class="go">    &#39;no-figtitle&#39;: True,</span>
<span class="go">    &#39;notitle&#39;: True,</span>
<span class="go">    &#39;save&#39;: &#39;~/latex/crall-candidacy-2015/figures/IBEIS_PZ_0303.jpg&#39;,</span>
<span class="go">    &#39;t&#39;: [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;, &#39;biz&#39;],</span>
<span class="go">    &#39;test-show_name&#39;: True,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_argflag">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_argflag</code><span class="sig-paren">(</span><em>argstr_</em>, <em>default=False</em>, <em>help_=''</em>, <em>return_specified=None</em>, <em>need_prefix=True</em>, <em>return_was_specified=False</em>, <em>argv=None</em>, <em>debug=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_argflag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.get_argflag" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the commandline has a flag or a corresponding noflag</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>argstr</strong> (<em>str</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – the flag to look for</li>
<li><strong>default</strong> (<em>bool</em>) – dont use this (default = False)</li>
<li><strong>help</strong> (<em>str</em>) – a help string (default = ‘’)</li>
<li><strong>return_specified</strong> (<em>bool</em>) – returns if flag was specified or not (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(parsed_val, was_specified)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –exec-get_argflag –noface –exec-mode
python -m utool.util_arg –exec-get_argflag –foo –exec-mode
python -m utool.util_arg –exec-get_argflag –no-foo –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=True –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=False  –exec-mode</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_</span> <span class="o">=</span> <span class="s1">&#39;--foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help_</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_specified</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)</span> <span class="o">=</span> <span class="n">get_argflag</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help_</span><span class="p">,</span> <span class="n">return_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(parsed_val, was_specified) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">((</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_argv_tail">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_argv_tail</code><span class="sig-paren">(</span><em>scriptname</em>, <em>prefer_main=None</em>, <em>argv=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_argv_tail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.get_argv_tail" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the rest of the arguments after a script has been invoked hack.
accounts for python -m scripts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scriptname</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –test-get_argv_tail</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scriptname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_arg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefer_main</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="s1">&#39;utool.util_arg&#39;</span><span class="p">,</span> <span class="s1">&#39;--test-get_argv_tail&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span> <span class="o">=</span> <span class="n">get_argv_tail</span><span class="p">(</span><span class="n">scriptname</span><span class="p">,</span> <span class="n">prefer_main</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">relpath</span><span class="p">(</span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;utool/util_arg.py&#39;, &#39;--test-get_argv_tail&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scriptname</span> <span class="o">=</span> <span class="s1">&#39;utprof.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefer_main</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;utprof.py&#39;</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;--tf&#39;</span><span class="p">,</span> <span class="s1">&#39;get_argv_tail&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span> <span class="o">=</span> <span class="n">get_argv_tail</span><span class="p">(</span><span class="n">scriptname</span><span class="p">,</span> <span class="n">prefer_main</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">relpath</span><span class="p">(</span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;utool/__main__.py&#39;, &#39;--tf&#39;, &#39;get_argv_tail&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_argval">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_argval</code><span class="sig-paren">(</span><em>argstr_</em>, <em>type_=None</em>, <em>default=None</em>, <em>help_=None</em>, <em>smartcast=True</em>, <em>return_specified=None</em>, <em>argv=None</em>, <em>verbose=None</em>, <em>debug=None</em>, <em>return_was_specified=False</em>, <em>pos=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_argval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.get_argval" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value of an argument specified on the command line after some flag</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>argstr</strong> (<em>str</em><em> or </em><em>tuple</em>) – string or tuple of strings denoting the command line values to parse</li>
<li><strong>type</strong> (<em>None</em>) – type of the variable to parse (default = None)</li>
<li><strong>default</strong> (<em>None</em>) – (default = None)</li>
<li><strong>help</strong> (<em>None</em>) – help for this argument (not fully integrated) (default = None)</li>
<li><strong>smartcast</strong> (<em>bool</em>) – tries to be smart about casting the parsed strings (default = True)</li>
<li><strong>return_specified</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>argv</strong> (<em>None</em>) – override sys.argv with custom command line vector (default = None)</li>
<li><strong>pos</strong> (<em>int</em>) – if specified the argument can also be found in position <cite>pos</cite> of the command line varargs</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –test-get_argval
python -m utool.util_arg –exec-get_argval:0
python -m utool.util_arg –exec-get_argval:1
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest=”holy grail”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest=”42”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest=42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(‘–quest’, float)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((‘–nAssign’), int)]])” –nAssign 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((‘–test’), str)]])” –test
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((‘–test’), str)]])” –test “foobar is good” –youbar ok</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;--quest=holy grail&#39;</span><span class="p">,</span> <span class="s1">&#39;--ans=42&#39;</span><span class="p">,</span> <span class="s1">&#39;--the-val=1,2,3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span>                    <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--quest&#39;</span><span class="p">,</span>                   <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--ans&#39;</span><span class="p">,</span> <span class="s1">&#39;--foo&#39;</span><span class="p">),</span>          <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--not-there&#39;</span><span class="p">,</span> <span class="s1">&#39;--absent&#39;</span><span class="p">),</span> <span class="nb">dict</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the_val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the-val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;--spam&#39;: &#39;eggs&#39;,</span>
<span class="go">    &#39;--quest&#39;: &#39;holy grail&#39;,</span>
<span class="go">    (&#39;--ans&#39;, &#39;--foo&#39;): 42,</span>
<span class="go">    (&#39;--not-there&#39;, &#39;--absent&#39;): None,</span>
<span class="go">    &#39;--the_val&#39;: [1, 2, 3],</span>
<span class="go">    &#39;--the-val&#39;: [1, 2, 3],</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span> <span class="s1">&#39;::&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice2=4:&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice3=::4&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice4&#39;</span><span class="p">,</span> <span class="s1">&#39;[1,2,3,4]&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice5=3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice2&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice3&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice4&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice5&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;res = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">res</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list1[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">res</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list2[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">list2</span><span class="p">[</span><span class="n">res</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_cmdline_varargs">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_cmdline_varargs</code><span class="sig-paren">(</span><em>argv=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_cmdline_varargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.get_cmdline_varargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns positional args specified directly after the scriptname
and before any args starting with ‘-‘ on the commandline.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_dict_vals_from_commandline">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_dict_vals_from_commandline</code><span class="sig-paren">(</span><em>default_dict_</em>, <em>lbl=None</em>, <em>verbose=None</em>, <em>only_specified=False</em>, <em>force_keys={}</em>, <em>type_hint=None</em>, <em>alias_dict={}</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_dict_vals_from_commandline" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets values for a dict based on the command line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>default_dict</strong> – </li>
<li><strong>only_specified</strong> (<em>bool</em>) – if True only returns keys that are specified on commandline. no defaults.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id67"><span class="problematic" id="id68">dict_</span></a> -  a dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a href="#id69"><span class="problematic" id="id70">dict_</span></a></p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –test-argparse_dict
python -m utool.util_arg –test-argparse_dict –foo=3
python -m utool.util_arg –test-argparse_dict –flag1
python -m utool.util_arg –test-argparse_dict –flag2
python -m utool.util_arg –test-argparse_dict –noflag2
python -m utool.util_arg –test-argparse_dict –thresh=43
python -m utool.util_arg –test-argparse_dict –bins=-10
python -m utool.util_arg –test-argparse_dict –bins=-10 –only-specified –helpx</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;bins&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;thresh&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.333</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_specified</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only-specified&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">argparse_dict</span><span class="p">(</span><span class="n">default_dict_</span><span class="p">,</span> <span class="n">only_specified</span><span class="o">=</span><span class="n">only_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_flag">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_flag</code><span class="sig-paren">(</span><em>argstr_</em>, <em>default=False</em>, <em>help_=''</em>, <em>return_specified=None</em>, <em>need_prefix=True</em>, <em>return_was_specified=False</em>, <em>argv=None</em>, <em>debug=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the commandline has a flag or a corresponding noflag</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>argstr</strong> (<em>str</em><em>, </em><em>list</em><em>, or </em><em>tuple</em>) – the flag to look for</li>
<li><strong>default</strong> (<em>bool</em>) – dont use this (default = False)</li>
<li><strong>help</strong> (<em>str</em>) – a help string (default = ‘’)</li>
<li><strong>return_specified</strong> (<em>bool</em>) – returns if flag was specified or not (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(parsed_val, was_specified)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –exec-get_argflag –noface –exec-mode
python -m utool.util_arg –exec-get_argflag –foo –exec-mode
python -m utool.util_arg –exec-get_argflag –no-foo –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=True –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=False  –exec-mode</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_</span> <span class="o">=</span> <span class="s1">&#39;--foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help_</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_specified</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)</span> <span class="o">=</span> <span class="n">get_argflag</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help_</span><span class="p">,</span> <span class="n">return_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(parsed_val, was_specified) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">((</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_fpath_args">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_fpath_args</code><span class="sig-paren">(</span><em>arglist_=None</em>, <em>pat='*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_fpath_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.get_fpath_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_module_verbosity_flags">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_module_verbosity_flags</code><span class="sig-paren">(</span><em>*labels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_module_verbosity_flags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.get_module_verbosity_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>checks for standard flags for enableing module specific verbosity</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_varargs">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_varargs</code><span class="sig-paren">(</span><em>argv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_varargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns positional args specified directly after the scriptname
and before any args starting with ‘-‘ on the commandline.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.get_verbflag">
<code class="descclassname">utool.util_arg.</code><code class="descname">get_verbflag</code><span class="sig-paren">(</span><em>*labels</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_verbflag" title="Permalink to this definition">¶</a></dt>
<dd><p>checks for standard flags for enableing module specific verbosity</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.make_argparse2">
<code class="descclassname">utool.util_arg.</code><code class="descname">make_argparse2</code><span class="sig-paren">(</span><em>prog='Program'</em>, <em>description=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#make_argparse2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.make_argparse2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_arg.parse_arglist_hack">
<code class="descclassname">utool.util_arg.</code><code class="descname">parse_arglist_hack</code><span class="sig-paren">(</span><em>argx</em>, <em>argv=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#parse_arglist_hack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.parse_arglist_hack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_arg.parse_cfgstr_list">
<code class="descclassname">utool.util_arg.</code><code class="descname">parse_cfgstr_list</code><span class="sig-paren">(</span><em>cfgstr_list</em>, <em>smartcast=True</em>, <em>oldmode=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#parse_cfgstr_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.parse_cfgstr_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a list of items in the format
[‘var1:val1’, ‘var2:val2’, ‘var3:val3’]
the ‘=’ character can be used instead of the ‘:’ character if desired</p>
<p>TODO: see ut.parse_cfgstr3</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cfgstr_list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">cfgdict</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;var1=val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var2=1&#39;</span><span class="p">,</span> <span class="s1">&#39;var3=1.0&#39;</span><span class="p">,</span> <span class="s1">&#39;var4=None&#39;</span><span class="p">,</span> <span class="s1">&#39;var5=[1,2,3]&#39;</span><span class="p">,</span> <span class="s1">&#39;var6=(a,b,c)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">smartcast</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict</span> <span class="o">=</span> <span class="n">parse_cfgstr_list</span><span class="p">(</span><span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">smartcast</span><span class="p">,</span> <span class="n">oldmode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgdict</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">newlines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;var1&#39;: &#39;val1&#39;, &#39;var2&#39;: 1, &#39;var3&#39;: 1.0, &#39;var4&#39;: None, &#39;var5&#39;: [1, 2, 3], &#39;var6&#39;: (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)}</span>
</pre></div>
</div>
<p>{‘var1’: ‘val1’, ‘var2’: 1, ‘var3’: 1.0, ‘var4’: None}</p>
<p>{‘var4’: None, ‘var1’: ‘val1’, ‘var3’: 1.0, ‘var2’: 1}</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.parse_dict_from_argv">
<code class="descclassname">utool.util_arg.</code><code class="descname">parse_dict_from_argv</code><span class="sig-paren">(</span><em>default_dict_</em>, <em>lbl=None</em>, <em>verbose=None</em>, <em>only_specified=False</em>, <em>force_keys={}</em>, <em>type_hint=None</em>, <em>alias_dict={}</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.parse_dict_from_argv" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets values for a dict based on the command line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>default_dict</strong> – </li>
<li><strong>only_specified</strong> (<em>bool</em>) – if True only returns keys that are specified on commandline. no defaults.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id71"><span class="problematic" id="id72">dict_</span></a> -  a dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a href="#id73"><span class="problematic" id="id74">dict_</span></a></p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_arg –test-argparse_dict
python -m utool.util_arg –test-argparse_dict –foo=3
python -m utool.util_arg –test-argparse_dict –flag1
python -m utool.util_arg –test-argparse_dict –flag2
python -m utool.util_arg –test-argparse_dict –noflag2
python -m utool.util_arg –test-argparse_dict –thresh=43
python -m utool.util_arg –test-argparse_dict –bins=-10
python -m utool.util_arg –test-argparse_dict –bins=-10 –only-specified –helpx</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;bins&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;thresh&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.333</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_specified</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only-specified&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">argparse_dict</span><span class="p">(</span><span class="n">default_dict_</span><span class="p">,</span> <span class="n">only_specified</span><span class="o">=</span><span class="n">only_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.reset_argrecord">
<code class="descclassname">utool.util_arg.</code><code class="descname">reset_argrecord</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#reset_argrecord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.reset_argrecord" title="Permalink to this definition">¶</a></dt>
<dd><p>forgets about the args already parsed</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_arg.switch_sanataize">
<code class="descclassname">utool.util_arg.</code><code class="descname">switch_sanataize</code><span class="sig-paren">(</span><em>switch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#switch_sanataize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_arg.switch_sanataize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_assert">
<span id="utool-util-assert-module"></span><h2>utool.util_assert module<a class="headerlink" href="#module-utool.util_assert" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_assert.assert_all_eq">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_all_eq</code><span class="sig-paren">(</span><em>item_list</em>, <em>eq_=&lt;built-in function eq&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_all_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_all_eq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_all_in">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_all_in</code><span class="sig-paren">(</span><em>key_list</em>, <em>valid_list</em>, <em>msg=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_all_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_all_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_all_not_None">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_all_not_None</code><span class="sig-paren">(</span><em>list_</em>, <em>list_name='some_list'</em>, <em>key_list=[]</em>, <em>verbose=True</em>, <em>veryverbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_all_not_None"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_all_not_None" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_almost_eq">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_almost_eq</code><span class="sig-paren">(</span><em>arr_test</em>, <em>arr_target</em>, <em>thresh=1e-11</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_almost_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_almost_eq" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>arr_test</strong> (<em>ndarray</em><em> or </em><em>list</em>) – </li>
<li><strong>arr_target</strong> (<em>ndarray</em><em> or </em><em>list</em>) – </li>
<li><strong>thresh</strong> (<em>scalar</em><em> or </em><em>ndarray</em><em> or </em><em>list</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_eq">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_eq</code><span class="sig-paren">(</span><em>var1</em>, <em>var2</em>, <em>msg=''</em>, <em>var1_name=None</em>, <em>var2_name=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_eq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_eq_len">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_eq_len</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em>, <em>additional_msg=''</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_assert.assert_eq_len" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_inbounds">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_inbounds</code><span class="sig-paren">(</span><em>num</em>, <em>low</em>, <em>high</em>, <em>msg=''</em>, <em>eq=False</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_inbounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_inbounds" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num</strong> (<em>scalar</em>) – </li>
<li><strong>low</strong> (<em>scalar</em>) – </li>
<li><strong>high</strong> (<em>scalar</em>) – </li>
<li><strong>msg</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_lessthan">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_lessthan</code><span class="sig-paren">(</span><em>arr_test</em>, <em>arr_max</em>, <em>msg=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_lessthan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_lessthan" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>arr_test</strong> (<em>ndarray</em><em> or </em><em>list</em>) – </li>
<li><strong>arr_target</strong> (<em>ndarray</em><em> or </em><em>list</em>) – </li>
<li><strong>thresh</strong> (<em>scalar</em><em> or </em><em>ndarray</em><em> or </em><em>list</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_lists_eq">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_lists_eq</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em>, <em>failmsg=''</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_lists_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_lists_eq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_raises">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_raises</code><span class="sig-paren">(</span><em>ex_type</em>, <em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_raises"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_raises" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that a function raises an error when given specific arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ex_type</strong> (<em>Exception</em>) – exception type</li>
<li><strong>func</strong> (<em>callable</em>) – live python function</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_assert assert_raises –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_assert</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_type</span> <span class="o">=</span> <span class="ne">AssertionError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check that this raises an error when something else does not</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assert_raises</span><span class="p">(</span><span class="n">ex_type</span><span class="p">,</span> <span class="n">assert_raises</span><span class="p">,</span> <span class="n">ex_type</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check this does not raise an error when something else does</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="p">[]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_same_len">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_same_len</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em>, <em>additional_msg=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_same_len"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_same_len" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_scalar_list">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_scalar_list</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_scalar_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_scalar_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_unflat_level">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_unflat_level</code><span class="sig-paren">(</span><em>unflat_list</em>, <em>level=1</em>, <em>basetype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_unflat_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_unflat_level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.assert_unique">
<code class="descclassname">utool.util_assert.</code><code class="descname">assert_unique</code><span class="sig-paren">(</span><em>item_list</em>, <em>ignore=[]</em>, <em>name='list'</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_unique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.assert_unique" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.get_first_None_position">
<code class="descclassname">utool.util_assert.</code><code class="descname">get_first_None_position</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#get_first_None_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.get_first_None_position" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_assert.lists_eq">
<code class="descclassname">utool.util_assert.</code><code class="descname">lists_eq</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#lists_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_assert.lists_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>recursive</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_autogen">
<span id="utool-util-autogen-module"></span><h2>utool.util_autogen module<a class="headerlink" href="#module-utool.util_autogen" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_autogen.PythonStatement">
<em class="property">class </em><code class="descclassname">utool.util_autogen.</code><code class="descname">PythonStatement</code><span class="sig-paren">(</span><em>stmt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#PythonStatement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.PythonStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Thin wrapper around a string representing executable python code</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.auto_docstr">
<code class="descclassname">utool.util_autogen.</code><code class="descname">auto_docstr</code><span class="sig-paren">(</span><em>modname</em>, <em>funcname</em>, <em>verbose=True</em>, <em>moddir=None</em>, <em>modpath=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#auto_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.auto_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>called from vim. Uses strings of filename and modnames to build docstr</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>modname</strong> (<em>str</em>) – name of a python module</li>
<li><strong>funcname</strong> (<em>str</em>) – name of a function in the module</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">docstr</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_autogen auto_docstr
python -m utool –tf auto_docstr</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_autogen</span><span class="o">.</span><span class="n">rrr</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#docstr = ut.auto_docstr(&#39;wbia.algo.hots.smk.smk_index&#39;, &#39;compute_negentropy_names&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;utool.util_autogen&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--funcname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;auto_docstr&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moddir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--moddir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_autogen</span><span class="o">.</span><span class="n">auto_docstr</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">funcname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">docstr</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.autofix_codeblock">
<code class="descclassname">utool.util_autogen.</code><code class="descname">autofix_codeblock</code><span class="sig-paren">(</span><em>codeblock</em>, <em>max_line_len=80</em>, <em>aggressive=False</em>, <em>very_aggressive=False</em>, <em>experimental=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#autofix_codeblock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.autofix_codeblock" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses autopep8 to format a block of code</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codeblock</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="go">    &#39;&#39;&#39;</span>
<span class="go">    def func( with , some = &#39;Problems&#39; ):</span>
</pre></div>
</div>
<blockquote>
<div><blockquote>
<div><p>syntax =’Ok’
but = ‘Its very messy’
if None:</p>
<blockquote>
<div># syntax might not be perfect due to being cut off
ommiting_this_line_still_works=   True</div></blockquote>
</div></blockquote>
<p>‘’‘)</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fixed_codeblock</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">autofix_codeblock</span><span class="p">(</span><span class="n">codeblock</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fixed_codeblock</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.dump_autogen_code">
<code class="descclassname">utool.util_autogen.</code><code class="descname">dump_autogen_code</code><span class="sig-paren">(</span><em>fpath</em>, <em>autogen_text</em>, <em>codetype='python'</em>, <em>fullprint=None</em>, <em>show_diff=None</em>, <em>dowrite=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#dump_autogen_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.dump_autogen_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper that write a file if -w is given on command line, otherwise
it just prints it out. It has the opption of comparing a diff to the file.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.find_modname_in_pythonpath">
<code class="descclassname">utool.util_autogen.</code><code class="descname">find_modname_in_pythonpath</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#find_modname_in_pythonpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.find_modname_in_pythonpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_autogen.is_modname_in_pythonpath">
<code class="descclassname">utool.util_autogen.</code><code class="descname">is_modname_in_pythonpath</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#is_modname_in_pythonpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.is_modname_in_pythonpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_autogen.load_func_from_module">
<code class="descclassname">utool.util_autogen.</code><code class="descname">load_func_from_module</code><span class="sig-paren">(</span><em>modname</em>, <em>funcname</em>, <em>verbose=True</em>, <em>moddir=None</em>, <em>modpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#load_func_from_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.load_func_from_module" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>modname</strong> (<em>str</em>) – module name</li>
<li><strong>funcname</strong> (<em>str</em>) – function name</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag(Defaults to True)</li>
<li><strong>moddir</strong> (<em>None</em>) – (Defaults to None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_autogen load_func_from_module</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#funcname = &#39;multi_plot&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_path&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="s1">&#39;checkpath&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moddir</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span> <span class="n">error_str</span> <span class="o">=</span> <span class="n">load_func_from_module</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">funcname</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">moddir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_func_sourcecode</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">strip_docstr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strip_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keyname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field</span><span class="p">(</span><span class="s1">&#39;keyname&#39;</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">REGEX_VARNAME</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;[</span><span class="se">\&#39;\&quot;</span><span class="s1">A-Za-z_][A-Za-z0-9_</span><span class="se">\&#39;\&quot;</span><span class="s1">]*&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;kwargs.get(</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">keyname</span> <span class="o">+</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwarg_keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">match</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()[</span><span class="s1">&#39;keyname&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">source</span><span class="p">)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.make_args_docstr">
<code class="descclassname">utool.util_autogen.</code><code class="descname">make_args_docstr</code><span class="sig-paren">(</span><em>argname_list</em>, <em>argtype_list</em>, <em>argdesc_list</em>, <em>ismethod</em>, <em>va_name=None</em>, <em>kw_name=None</em>, <em>kw_keys=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_args_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.make_args_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the argument docstring</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>argname_list</strong> (<em>list</em>) – names</li>
<li><strong>argtype_list</strong> (<em>list</em>) – types</li>
<li><strong>argdesc_list</strong> (<em>list</em>) – descriptions</li>
<li><strong>ismethod</strong> (<em>bool</em>) – if generating docs for a method</li>
<li><strong>va_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – varargs name</li>
<li><strong>kw_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – kwargs name</li>
<li><strong>kw_keys</strong> (<em>Optional</em><em>[</em><em>list</em><em>]</em>) – accepted kwarg keys</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">arg_docstr</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_autogen make_args_docstr</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;argname_list&#39;</span><span class="p">,</span> <span class="s1">&#39;argtype_list&#39;</span><span class="p">,</span> <span class="s1">&#39;argdesc_list&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argtype_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;list&#39;</span><span class="p">,</span> <span class="s1">&#39;list&#39;</span><span class="p">,</span> <span class="s1">&#39;list&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argdesc_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;names&#39;</span><span class="p">,</span> <span class="s1">&#39;types&#39;</span><span class="p">,</span> <span class="s1">&#39;descriptions&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">va_name</span> <span class="o">=</span> <span class="s1">&#39;args&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_name</span> <span class="o">=</span> <span class="s1">&#39;kwargs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismethod</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_docstr</span> <span class="o">=</span> <span class="n">make_args_docstr</span><span class="p">(</span><span class="n">argname_list</span><span class="p">,</span> <span class="n">argtype_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">argdesc_list</span><span class="p">,</span> <span class="n">ismethod</span><span class="p">,</span> <span class="n">va_name</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">kw_name</span><span class="p">,</span> <span class="n">kw_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">arg_docstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">argname_list (list): names</span>
<span class="go">argtype_list (list): types</span>
<span class="go">argdesc_list (list): descriptions</span>
<span class="go">*args:</span>
<span class="go">**kwargs:</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.make_cmdline_docstr">
<code class="descclassname">utool.util_autogen.</code><code class="descname">make_cmdline_docstr</code><span class="sig-paren">(</span><em>funcname</em>, <em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_cmdline_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.make_cmdline_docstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_autogen.make_default_docstr">
<code class="descclassname">utool.util_autogen.</code><code class="descname">make_default_docstr</code><span class="sig-paren">(</span><em>func</em>, <em>with_args=True</em>, <em>with_ret=True</em>, <em>with_commandline=True</em>, <em>with_example=True</em>, <em>with_header=False</em>, <em>with_debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_default_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.make_default_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to make a sensible default docstr so the user
can fill things in without typing too much</p>
<p># TODO: Interleave old documentation with new documentation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) – live python function</li>
<li><strong>with_args</strong> (<em>bool</em>) – </li>
<li><strong>with_ret</strong> (<em>bool</em>) – (Defaults to True)</li>
<li><strong>with_commandline</strong> (<em>bool</em>) – (Defaults to True)</li>
<li><strong>with_example</strong> (<em>bool</em>) – (Defaults to True)</li>
<li><strong>with_header</strong> (<em>bool</em>) – (Defaults to False)</li>
<li><strong>with_debug</strong> (<em>bool</em>) – (Defaults to False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(argname, val)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>pass</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_autogen –exec-make_default_docstr –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_default_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func = ut.make_args_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func = PythonStatement</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">auto_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_docstr</span> <span class="o">=</span> <span class="n">make_default_docstr</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">default_docstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.make_default_module_maintest">
<code class="descclassname">utool.util_autogen.</code><code class="descname">make_default_module_maintest</code><span class="sig-paren">(</span><em>modname</em>, <em>modpath=None</em>, <em>test_code=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_default_module_maintest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.make_default_module_maintest" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE</p>
<p>TODO: use path relative to home dir if the file is a script</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modname</strong> (<em>str</em>) – module name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text source code</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_autogen –test-make_default_module_maintest</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://legacy.python.org/dev/peps/pep-0338/">http://legacy.python.org/dev/peps/pep-0338/</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_autogen&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">make_default_module_maintest</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.make_docstr_block">
<code class="descclassname">utool.util_autogen.</code><code class="descname">make_docstr_block</code><span class="sig-paren">(</span><em>header</em>, <em>block</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_docstr_block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.make_docstr_block" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_autogen.make_example_docstr">
<code class="descclassname">utool.util_autogen.</code><code class="descname">make_example_docstr</code><span class="sig-paren">(</span><em>funcname=None</em>, <em>modname=None</em>, <em>argname_list=None</em>, <em>defaults=None</em>, <em>return_type=None</em>, <em>return_name=None</em>, <em>ismethod=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_example_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.make_example_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates skeleton code to build an example doctest</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>funcname</strong> (<em>str</em>) – function name</li>
<li><strong>modname</strong> (<em>str</em>) – module name</li>
<li><strong>argname_list</strong> (<em>str</em>) – list of argument names</li>
<li><strong>defaults</strong> (<em>None</em>) – </li>
<li><strong>return_type</strong> (<em>None</em>) – </li>
<li><strong>return_name</strong> (<em>str</em>) – return variable name</li>
<li><strong>ismethod</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">examplecode</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_autogen –test-make_example_docstr</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="s1">&#39;make_example_docstr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_autogen&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;qaids&#39;</span><span class="p">,</span> <span class="s1">&#39;qreq_&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defaults</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_type</span> <span class="o">=</span> <span class="nb">tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_name</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismethod</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">examplecode</span> <span class="o">=</span> <span class="n">make_example_docstr</span><span class="p">(</span><span class="n">funcname</span><span class="p">,</span> <span class="n">modname</span><span class="p">,</span> <span class="n">argname_list</span><span class="p">,</span> <span class="n">defaults</span><span class="p">,</span> <span class="n">return_type</span><span class="p">,</span> <span class="n">return_name</span><span class="p">,</span> <span class="n">ismethod</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">examplecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go"># DISABLE_DOCTEST</span>
<span class="go">from utool.util_autogen import *  # NOQA</span>
<span class="go">import utool as ut</span>
<span class="go">import wbia</span>
<span class="go">species = wbia.const.TEST_SPECIES.ZEB_PLAIN</span>
<span class="go">qaids = ibs.get_valid_aids(species=species)</span>
<span class="go">qreq_ = wbia.testdata_qreq_()</span>
<span class="go">foo = make_example_docstr(qaids, qreq_)</span>
<span class="go">result = (&#39;foo = %s&#39; % (ut.repr2(foo),))</span>
<span class="go">print(result)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.make_returns_or_yeilds_docstr">
<code class="descclassname">utool.util_autogen.</code><code class="descname">make_returns_or_yeilds_docstr</code><span class="sig-paren">(</span><em>return_type</em>, <em>return_name</em>, <em>return_desc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_returns_or_yeilds_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.make_returns_or_yeilds_docstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_autogen.makeinit">
<code class="descclassname">utool.util_autogen.</code><code class="descname">makeinit</code><span class="sig-paren">(</span><em>mod_dpath</em>, <em>exclude_modnames=[]</em>, <em>use_star=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#makeinit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.makeinit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mod_dpath</strong> (<em>str</em>) – </li>
<li><strong>exclude_modnames</strong> (<em>list</em>) – (Defaults to [])</li>
<li><strong>use_star</strong> (<em>bool</em>) – (Defaults to False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">init_codeblock</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_autogen makeinit –modname=wbia.algo</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_dpath</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="k">if</span> <span class="n">modname</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span>
<span class="gp">&gt;&gt;&gt; </span>             <span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">prefer_pkg</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixpath</span><span class="p">(</span><span class="n">mod_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">mod_dpath</span><span class="p">,</span> <span class="s1">&#39;__init__.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_modnames</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">((</span><span class="s1">&#39;--exclude&#39;</span><span class="p">,</span> <span class="s1">&#39;-x&#39;</span><span class="p">),</span> <span class="nb">list</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_star</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--star&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">init_codeblock</span> <span class="o">=</span> <span class="n">makeinit</span><span class="p">(</span><span class="n">mod_dpath</span><span class="p">,</span> <span class="n">exclude_modnames</span><span class="p">,</span> <span class="n">use_star</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">dump_autogen_code</span><span class="p">(</span><span class="n">mod_fpath</span><span class="p">,</span> <span class="n">init_codeblock</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.print_auto_docstr">
<code class="descclassname">utool.util_autogen.</code><code class="descname">print_auto_docstr</code><span class="sig-paren">(</span><em>modname</em>, <em>funcname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#print_auto_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.print_auto_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>python -c “import utool; utool.print_auto_docstr(‘wbia.algo.hots.smk.smk_index’, ‘compute_negentropy_names’)”
python -c “import utool;
utool.print_auto_docstr(‘wbia.algo.hots.smk.smk_index’, ‘compute_negentropy_names’)”</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.remove_codeblock_syntax_sentinals">
<code class="descclassname">utool.util_autogen.</code><code class="descname">remove_codeblock_syntax_sentinals</code><span class="sig-paren">(</span><em>code_text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#remove_codeblock_syntax_sentinals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.remove_codeblock_syntax_sentinals" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes template comments and vim sentinals</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code_text</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a href="#id75"><span class="problematic" id="id76">code_text_</span></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_autogen.write_modscript_alias">
<code class="descclassname">utool.util_autogen.</code><code class="descname">write_modscript_alias</code><span class="sig-paren">(</span><em>fpath</em>, <em>modname</em>, <em>args=''</em>, <em>pyscript='python'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#write_modscript_alias"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_autogen.write_modscript_alias" title="Permalink to this definition">¶</a></dt>
<dd><p>convinience function because $&#64; is annoying to paste into the terminal</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_cache">
<span id="utool-util-cache-module"></span><h2>utool.util_cache module<a class="headerlink" href="#module-utool.util_cache" title="Permalink to this headline">¶</a></h2>
<p>This module needs serious refactoring and testing</p>
<dl class="class">
<dt id="utool.util_cache.Cachable">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">Cachable</code><a class="reference internal" href="_modules/utool/util_cache.html#Cachable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class.</p>
<p>This class which enables easy caching of object dictionarys</p>
<p>must implement get_cfgstr()</p>
<dl class="method">
<dt id="utool.util_cache.Cachable.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>cachedir=None</em>, <em>cfgstr=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>saves query result to directory</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_cache.Cachable.ext">
<code class="descname">ext</code><em class="property"> = '.cPkl'</em><a class="headerlink" href="#utool.util_cache.Cachable.ext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.fuzzyload">
<code class="descname">fuzzyload</code><span class="sig-paren">(</span><em>cachedir=None</em>, <em>partial_cfgstr=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.fuzzyload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.fuzzyload" title="Permalink to this definition">¶</a></dt>
<dd><p>Try and load from a partially specified configuration string</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.get_cachedir">
<code class="descname">get_cachedir</code><span class="sig-paren">(</span><em>cachedir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_cachedir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_cachedir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.get_cfgstr">
<code class="descname">get_cfgstr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_cfgstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_cfgstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.get_fname">
<code class="descname">get_fname</code><span class="sig-paren">(</span><em>cfgstr=None</em>, <em>ext=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_fname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_fname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.get_fpath">
<code class="descname">get_fpath</code><span class="sig-paren">(</span><em>cachedir=None</em>, <em>cfgstr=None</em>, <em>ext=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_fpath" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Ignore:</dt>
<dd>fname = _fname
cfgstr = _cfgstr</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.get_prefix">
<code class="descname">get_prefix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.glob_valid_targets">
<code class="descname">glob_valid_targets</code><span class="sig-paren">(</span><em>cachedir=None</em>, <em>partial_cfgstr=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.glob_valid_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.glob_valid_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>cachedir=None</em>, <em>cfgstr=None</em>, <em>fpath=None</em>, <em>verbose=None</em>, <em>quiet=False</em>, <em>ignore_keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the result from the given database</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cachable.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>cachedir=None</em>, <em>cfgstr=None</em>, <em>verbose=False</em>, <em>quiet=False</em>, <em>ignore_keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cachable.save" title="Permalink to this definition">¶</a></dt>
<dd><p>saves query result to directory</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="utool.util_cache.CacheMissException">
<em class="property">exception </em><code class="descclassname">utool.util_cache.</code><code class="descname">CacheMissException</code><a class="reference internal" href="_modules/utool/util_cache.html#CacheMissException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.CacheMissException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="utool.util_cache.Cacher">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">Cacher</code><span class="sig-paren">(</span><em>fname</em>, <em>cfgstr=None</em>, <em>cache_dir='default'</em>, <em>appname='utool'</em>, <em>ext='.cPkl'</em>, <em>verbose=None</em>, <em>enabled=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>old non inhertable version of cachable</p>
<dl class="method">
<dt id="utool.util_cache.Cacher.ensure">
<code class="descname">ensure</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.ensure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher.ensure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cacher.existing_versions">
<code class="descname">existing_versions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.existing_versions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher.existing_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data with different cfgstr values that were previously computed
with this cacher.</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cacher.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>cfgstr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher.exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cacher.get_fpath">
<code class="descname">get_fpath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.get_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher.get_fpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cacher.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>cfgstr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cacher.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>data</em>, <em>cfgstr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.Cacher.tryload">
<code class="descname">tryload</code><span class="sig-paren">(</span><em>cfgstr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.tryload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.Cacher.tryload" title="Permalink to this definition">¶</a></dt>
<dd><p>Like load, but returns None if the load fails</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_cache.GlobalShelfContext">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">GlobalShelfContext</code><span class="sig-paren">(</span><em>appname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#GlobalShelfContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.GlobalShelfContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>older class. might need update</p>
</dd></dl>

<dl class="class">
<dt id="utool.util_cache.KeyedDefaultDict">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">KeyedDefaultDict</code><span class="sig-paren">(</span><em>default_func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dict.DictLike" title="utool.util_dict.DictLike"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code></a></p>
<dl class="method">
<dt id="utool.util_cache.KeyedDefaultDict.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.KeyedDefaultDict.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.KeyedDefaultDict.setitem">
<code class="descname">setitem</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.setitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.setitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.KeyedDefaultDict.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_cache.LRUDict">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">LRUDict</code><span class="sig-paren">(</span><em>max_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Pure python implementation for lru cache fallback</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.kunxi.org/blog/2014/05/lru-cache-in-python/">http://www.kunxi.org/blog/2014/05/lru-cache-in-python/</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_size</strong> (<em>int</em>) – (default = 5)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">cache_obj</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#utool.util_cache.LRUDict" title="utool.util_cache.LRUDict">LRUDict</a></td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cache –test-LRUDict</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_size</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">LRUDict</span><span class="p">(</span><span class="n">max_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="p">[</span><span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="p">[</span><span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">4</span> <span class="ow">in</span> <span class="bp">self</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;self = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">self = LRUDict({</span>
<span class="go">    4: 4,</span>
<span class="go">    0: 0,</span>
<span class="go">    6: 6,</span>
<span class="go">    7: 7,</span>
<span class="go">})</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_cache.LRUDict.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LRUDict.has_key">
<code class="descname">has_key</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.has_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.has_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LRUDict.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LRUDict.iteritems">
<code class="descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.iteritems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LRUDict.iterkeys">
<code class="descname">iterkeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.iterkeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LRUDict.itervalues">
<code class="descname">itervalues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.itervalues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.itervalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LRUDict.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LRUDict.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LRUDict.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_cache.LazyDict">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">LazyDict</code><span class="sig-paren">(</span><em>other=None</em>, <em>is_eager=True</em>, <em>verbose=False</em>, <em>reprkw=None</em>, <em>mutable=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Hacky dictionary where values that are functions are counted as lazy</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cache –exec-LazyDict</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">LazyDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;should not be able to override computable functions&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;biz&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="s1">&#39;eggs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">printinfo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">is_eager</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_cache.LazyDict.all_keys">
<code class="descname">all_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.all_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.all_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.asdict">
<code class="descname">asdict</code><span class="sig-paren">(</span><em>is_eager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.asdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.asdict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.cached_keys">
<code class="descname">cached_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.cached_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.cached_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>only keys whose vals that have been explicitly set without a backup func</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.clear_evaluated">
<code class="descname">clear_evaluated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.clear_evaluated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.clear_evaluated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.clear_stored">
<code class="descname">clear_stored</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.clear_stored"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.clear_stored" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.eager_eval">
<code class="descname">eager_eval</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.eager_eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.eager_eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.evaluated_keys">
<code class="descname">evaluated_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.evaluated_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.evaluated_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>only keys whose vals have been evaluated from a stored function</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em>, <em>*d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>key</em>, <em>is_eager=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.lazy_eval">
<code class="descname">lazy_eval</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.lazy_eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.lazy_eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.nocache_eval">
<code class="descname">nocache_eval</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.nocache_eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.nocache_eval" title="Permalink to this definition">¶</a></dt>
<dd><p>forces function evaluation</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.nonreconstructable_keys">
<code class="descname">nonreconstructable_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.nonreconstructable_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.nonreconstructable_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>only keys whose vals that have been explicitly set without a backup func</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.printinfo">
<code class="descname">printinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.printinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.printinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.reconstructable_keys">
<code class="descname">reconstructable_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.reconstructable_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.reconstructable_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>only keys whose vals that have been set with a backup func</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cache.LazyDict.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.set_lazy_func">
<code class="descname">set_lazy_func</code><span class="sig-paren">(</span><em>key</em>, <em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.set_lazy_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.set_lazy_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.setitem">
<code class="descname">setitem</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.setitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.setitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.stored_keys">
<code class="descname">stored_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.stored_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.stored_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>keys whose vals that have been explicitly set or evaluated</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.tostring">
<code class="descname">tostring</code><span class="sig-paren">(</span><em>is_eager=None</em>, <em>keys=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.tostring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.tostring" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.unevaluated_keys">
<code class="descname">unevaluated_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.unevaluated_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.unevaluated_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>keys whose vals can be constructed but have not been</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>dict_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyDict.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyDict.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_cache.LazyList">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">LazyList</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>very hacky list implemented as a dictionary</p>
<dl class="method">
<dt id="utool.util_cache.LazyList.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyList.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyList.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyList.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cache.LazyList.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.LazyList.tolist">
<code class="descname">tolist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyList.tolist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.LazyList.tolist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_cache.ShelfCacher">
<em class="property">class </em><code class="descclassname">utool.util_cache.</code><code class="descname">ShelfCacher</code><span class="sig-paren">(</span><em>fpath</em>, <em>enabled=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>yet another cacher</p>
<dl class="method">
<dt id="utool.util_cache.ShelfCacher.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.ShelfCacher.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.ShelfCacher.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.ShelfCacher.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>cachekey</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_cache.ShelfCacher.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cache.ShelfCacher.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_cache.ShelfCacher.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>cachekey</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_cache.cached_func">
<code class="descclassname">utool.util_cache.</code><code class="descname">cached_func</code><span class="sig-paren">(</span><em>fname=None</em>, <em>cache_dir='default'</em>, <em>appname='utool'</em>, <em>key_argx=None</em>, <em>key_kwds=None</em>, <em>use_cache=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#cached_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.cached_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps a function with a Cacher object</p>
<p>uses a hash of arguments as input</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fname</strong> (<em>str</em>) – file name (defaults to function name)</li>
<li><strong>cache_dir</strong> (<em>unicode</em>) – (default = u’default’)</li>
<li><strong>appname</strong> (<em>unicode</em>) – (default = u’utool’)</li>
<li><strong>key_argx</strong> (<em>None</em>) – (default = None)</li>
<li><strong>key_kwds</strong> (<em>None</em>) – (default = None)</li>
<li><strong>use_cache</strong> (<em>bool</em>) – turns on disk based caching(default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cache –exec-cached_func</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">costly_func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">([</span><span class="n">a</span><span class="p">]</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans0</span> <span class="o">=</span> <span class="n">costly_func</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans1</span> <span class="o">=</span> <span class="n">costly_func</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closure_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cached_func</span><span class="p">(</span><span class="s1">&#39;costly_func&#39;</span><span class="p">,</span> <span class="n">appname</span><span class="o">=</span><span class="s1">&#39;utool_test&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                          <span class="n">key_argx</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">efficient_func</span> <span class="o">=</span> <span class="n">closure_</span><span class="p">(</span><span class="n">costly_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans2</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans3</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans4</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans5</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans1</span> <span class="o">==</span> <span class="n">ans2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans2</span> <span class="o">==</span> <span class="n">ans3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans5</span> <span class="o">==</span> <span class="n">ans4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans5</span> <span class="o">==</span> <span class="n">ans0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans1</span> <span class="o">!=</span> <span class="n">ans0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.cachestr_repr">
<code class="descclassname">utool.util_cache.</code><code class="descname">cachestr_repr</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#cachestr_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.cachestr_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of an object as a cache string.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.consensed_cfgstr">
<code class="descclassname">utool.util_cache.</code><code class="descname">consensed_cfgstr</code><span class="sig-paren">(</span><em>prefix</em>, <em>cfgstr</em>, <em>max_len=128</em>, <em>cfgstr_hashlen=16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#consensed_cfgstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.consensed_cfgstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cache.delete_global_cache">
<code class="descclassname">utool.util_cache.</code><code class="descname">delete_global_cache</code><span class="sig-paren">(</span><em>appname='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#delete_global_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.delete_global_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads cache files to a safe place in each operating system</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.from_json">
<code class="descclassname">utool.util_cache.</code><code class="descname">from_json</code><span class="sig-paren">(</span><em>json_str</em>, <em>allow_pickle=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#from_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes a JSON object specified in the utool convention</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>json_str</strong> (<em>str</em>) – </li>
<li><strong>allow_pickle</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">val</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cache from_json –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="s1">&#39;just a normal string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="s1">&#39;[&quot;just a normal string&quot;]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_pickle</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;val = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">val</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.get_cfgstr_from_args">
<code class="descclassname">utool.util_cache.</code><code class="descname">get_cfgstr_from_args</code><span class="sig-paren">(</span><em>func</em>, <em>args</em>, <em>kwargs</em>, <em>key_argx</em>, <em>key_kwds</em>, <em>kwdefaults</em>, <em>argnames</em>, <em>use_hash=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_cfgstr_from_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.get_cfgstr_from_args" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Dev:</dt>
<dd>argx = [‘fdsf’, ‘432443432432’, 43423432, ‘fdsfsd’, 3.2, True]
memlist = list(map(cachestr_repr, argx))</dd>
<dt>Ignore:</dt>
<dd>argx = key_argx[0]
argval = args[argx]
val = argval
%timeit repr(argval)
%timeit to_json(argval)
%timeit utool.hashstr(to_json(argval))
%timeit memoryview(argval)</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_hash</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">consensed_cfgstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_argx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_kwds</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwdefaults</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_kwdefaults</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argnames</span>   <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_argnames</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cfgstr_from_args</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">key_argx</span><span class="p">,</span> <span class="n">key_kwds</span><span class="p">,</span> <span class="n">kwdefaults</span><span class="p">,</span> <span class="n">argnames</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">LazyList</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_hash</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">append</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_argx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_kwds</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwdefaults</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_kwdefaults</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argnames</span>   <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_argnames</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cfgstr_from_args</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">key_argx</span><span class="p">,</span> <span class="n">key_kwds</span><span class="p">,</span> <span class="n">kwdefaults</span><span class="p">,</span> <span class="n">argnames</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.get_default_appname">
<code class="descclassname">utool.util_cache.</code><code class="descname">get_default_appname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_default_appname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.get_default_appname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cache.get_func_result_cachekey">
<code class="descclassname">utool.util_cache.</code><code class="descname">get_func_result_cachekey</code><span class="sig-paren">(</span><em>func_</em>, <em>args_=()</em>, <em>kwargs_={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_func_result_cachekey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.get_func_result_cachekey" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: recursive partial definitions
kwargs = {}
args = ([],)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.get_global_cache_dir">
<code class="descclassname">utool.util_cache.</code><code class="descname">get_global_cache_dir</code><span class="sig-paren">(</span><em>appname='default'</em>, <em>ensure=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_global_cache_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.get_global_cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns (usually) writable directory for an application cache</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.get_global_shelf_fpath">
<code class="descclassname">utool.util_cache.</code><code class="descname">get_global_shelf_fpath</code><span class="sig-paren">(</span><em>appname='default'</em>, <em>ensure=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_global_shelf_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.get_global_shelf_fpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the filepath to the global shelf</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.get_lru_cache">
<code class="descclassname">utool.util_cache.</code><code class="descname">get_lru_cache</code><span class="sig-paren">(</span><em>max_size=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_lru_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.get_lru_cache" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_size</strong> (<em>int</em>) – </td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="https://github.com/amitdev/lru-dict">https://github.com/amitdev/lru-dict</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cache –test-get_lru_cache</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_size</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span> <span class="o">=</span> <span class="n">get_lru_cache</span><span class="p">(</span><span class="n">max_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">cache_obj</span><span class="p">),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{2: 2, 3: 3, 4: 4, 5: 5, 6: 6}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.global_cache_dump">
<code class="descclassname">utool.util_cache.</code><code class="descname">global_cache_dump</code><span class="sig-paren">(</span><em>appname='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#global_cache_dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.global_cache_dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cache.global_cache_read">
<code class="descclassname">utool.util_cache.</code><code class="descname">global_cache_read</code><span class="sig-paren">(</span><em>key</em>, <em>appname='default'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#global_cache_read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.global_cache_read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cache.global_cache_write">
<code class="descclassname">utool.util_cache.</code><code class="descname">global_cache_write</code><span class="sig-paren">(</span><em>key</em>, <em>val</em>, <em>appname='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#global_cache_write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.global_cache_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes cache files to a safe place in each operating system</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.load_cache">
<code class="descclassname">utool.util_cache.</code><code class="descname">load_cache</code><span class="sig-paren">(</span><em>dpath</em>, <em>fname</em>, <em>cfgstr</em>, <em>ext='.cPkl'</em>, <em>verbose=None</em>, <em>enabled=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#load_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.load_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data using util_io, but smartly constructs a filename</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.make_utool_json_encoder">
<code class="descclassname">utool.util_cache.</code><code class="descname">make_utool_json_encoder</code><span class="sig-paren">(</span><em>allow_pickle=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#make_utool_json_encoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.make_utool_json_encoder" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/8230315/python-sets-are">http://stackoverflow.com/questions/8230315/python-sets-are</a>
<a class="reference external" href="http://stackoverflow.com/questions/11561932/why-does-json">http://stackoverflow.com/questions/11561932/why-does-json</a>
<a class="reference external" href="https://github.com/jsonpickle/jsonpickle">https://github.com/jsonpickle/jsonpickle</a>
<a class="reference external" href="http://stackoverflow.com/questions/24369666/typeerror-b1">http://stackoverflow.com/questions/24369666/typeerror-b1</a>
<a class="reference external" href="http://stackoverflow.com/questions/30469575/how-to-pickle">http://stackoverflow.com/questions/30469575/how-to-pickle</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.save_cache">
<code class="descclassname">utool.util_cache.</code><code class="descname">save_cache</code><span class="sig-paren">(</span><em>dpath</em>, <em>fname</em>, <em>cfgstr</em>, <em>data</em>, <em>ext='.cPkl'</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#save_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.save_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves data using util_io, but smartly constructs a filename</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.shelf_open">
<code class="descclassname">utool.util_cache.</code><code class="descname">shelf_open</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#shelf_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.shelf_open" title="Permalink to this definition">¶</a></dt>
<dd><p>allows for shelf to be used in with statements</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7489732/easiest-way-to-add-a-function-to-existing-class">http://stackoverflow.com/questions/7489732/easiest-way-to-add-a-function-to-existing-class</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cache –test-shelf_open</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testshelf.shelf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">shelf_open</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">dict_</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.text_dict_read">
<code class="descclassname">utool.util_cache.</code><code class="descname">text_dict_read</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#text_dict_read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.text_dict_read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cache.text_dict_write">
<code class="descclassname">utool.util_cache.</code><code class="descname">text_dict_write</code><span class="sig-paren">(</span><em>fpath</em>, <em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#text_dict_write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.text_dict_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Very naive, but readable way of storing a dictionary on disk
FIXME: This broke on RoseMary’s big dataset. Not sure why. It gave bad
syntax. And the SyntaxError did not seem to be excepted.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.time_different_diskstores">
<code class="descclassname">utool.util_cache.</code><code class="descname">time_different_diskstores</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#time_different_diskstores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.time_different_diskstores" title="Permalink to this definition">¶</a></dt>
<dd><p>%timeit shelf_write_test()    # 15.1 ms per loop
%timeit cPickle_write_test()  # 1.26 ms per loop</p>
<p>%timeit shelf_read_test()     # 8.77 ms per loop
%timeit cPickle_read_test()   # 2.4 ms per loop
%timeit cPickle_read_test2()  # 2.35 ms per loop</p>
<p>%timeit json_read_test()
%timeit json_write_test()</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.to_json">
<code class="descclassname">utool.util_cache.</code><code class="descname">to_json</code><span class="sig-paren">(</span><em>val</em>, <em>allow_pickle=False</em>, <em>pretty=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#to_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a python object to a JSON string using the utool convention</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>val</strong> (<em>object</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">json_str</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/11561932/why-does-json-dumpslistnp">http://stackoverflow.com/questions/11561932/why-does-json-dumpslistnp</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cache –test-to_json
python3 -m utool.util_cache –test-to_json</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;{&quot;foo&quot;: &quot;not a dict&quot;}&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mf">1.3</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># {1: 1, 2: 2, 3: 3}, cant use integer keys</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="sa">b</span><span class="s1">&#39;an ascii string&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">get_zero_uuid</span><span class="p">(),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">LazyDict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;fo&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">LazyDict</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;cde&#39;</span><span class="p">},</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#val = ut.LazyDict(x=&#39;fo&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_pickle</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">allow_pickle</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">val</span> <span class="o">=</span> <span class="n">val</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="n">allow_pickle</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reload_val</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="n">allow_pickle</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make sure pickle doesnt happen by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">json_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="kc">False</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">allow_pickle</span><span class="p">,</span> <span class="s1">&#39;expected a type error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correctly got type error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">json_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;expected a type error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correctly got type error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;original = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;reconstructed = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">reload_val</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">reload_val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">==</span> <span class="n">val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">reload_val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># test 3.7 safe uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">to_json</span><span class="p">([</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.tryload_cache">
<code class="descclassname">utool.util_cache.</code><code class="descname">tryload_cache</code><span class="sig-paren">(</span><em>dpath</em>, <em>fname</em>, <em>cfgstr</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#tryload_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.tryload_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>returns None if cache cannot be loaded</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.tryload_cache_list">
<code class="descclassname">utool.util_cache.</code><code class="descname">tryload_cache_list</code><span class="sig-paren">(</span><em>dpath</em>, <em>fname</em>, <em>cfgstr_list</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#tryload_cache_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.tryload_cache_list" title="Permalink to this definition">¶</a></dt>
<dd><p>loads a list of similar cached datas. Returns flags that needs to be computed</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.tryload_cache_list_with_compute">
<code class="descclassname">utool.util_cache.</code><code class="descname">tryload_cache_list_with_compute</code><span class="sig-paren">(</span><em>use_cache</em>, <em>dpath</em>, <em>fname</em>, <em>cfgstr_list</em>, <em>compute_fn</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#tryload_cache_list_with_compute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.tryload_cache_list_with_compute" title="Permalink to this definition">¶</a></dt>
<dd><p>tries to load data, but computes it if it can’t give a compute function</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cache.view_global_cache_dir">
<code class="descclassname">utool.util_cache.</code><code class="descname">view_global_cache_dir</code><span class="sig-paren">(</span><em>appname='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#view_global_cache_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cache.view_global_cache_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_class">
<span id="utool-util-class-module"></span><h2>utool.util_class module<a class="headerlink" href="#module-utool.util_class" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>In this module:</dt>
<dd><ul class="first simple">
<li>a metaclass allowing for reloading of single class instances</li>
<li>functions to autoinject methods into a class upon instance creation.</li>
<li>A wrapper class allowing an object’s properties to be used as kwargs</li>
<li>a metaclass to forward properties to another class</li>
</ul>
<p class="last">ReloadingMetaclass
KwargsWrapper</p>
</dd>
</dl>
<dl class="class">
<dt id="utool.util_class.HashComparable">
<em class="property">class </em><code class="descclassname">utool.util_class.</code><code class="descname">HashComparable</code><a class="reference internal" href="_modules/utool/util_class.html#HashComparable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.HashComparable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="utool.util_class.HashComparable2">
<em class="property">class </em><code class="descclassname">utool.util_class.</code><code class="descname">HashComparable2</code><a class="reference internal" href="_modules/utool/util_class.html#HashComparable2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.HashComparable2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="utool.util_class.HashComparableMetaclass">
<em class="property">class </em><code class="descclassname">utool.util_class.</code><code class="descname">HashComparableMetaclass</code><a class="reference internal" href="_modules/utool/util_class.html#HashComparableMetaclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.HashComparableMetaclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
<p>Defines extra methods for Configs</p>
<p>FIXME: this breaks in python3 because
anything that overwrites hash overwrites inherited __eq__</p>
<p><a class="reference external" href="https://docs.python.org/3.6/reference/datamodel.html#object.__hash__">https://docs.python.org/3.6/reference/datamodel.html#object.__hash__</a></p>
</dd></dl>

<dl class="class">
<dt id="utool.util_class.KwargsWrapper">
<em class="property">class </em><code class="descclassname">utool.util_class.</code><code class="descname">KwargsWrapper</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#KwargsWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.KwargsWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></p>
<p>Allows an arbitrary object attributes to be passed as a <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs
argument</p>
</dd></dl>

<dl class="class">
<dt id="utool.util_class.ReloadingMetaclass">
<em class="property">class </em><code class="descclassname">utool.util_class.</code><code class="descname">ReloadingMetaclass</code><span class="sig-paren">(</span><em>name</em>, <em>bases</em>, <em>dct</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#ReloadingMetaclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.ReloadingMetaclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
<p>Classes with this metaclass will be able to reload themselves
on a per-instance basis using the rrr function.</p>
<p>If the functions _on_reload and _initialize_self exist
they will be called after and before reload respectively. Any
inject_instance functions should be handled there.</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>test_reloading_metaclass - shows a working example of this doctest</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@six</span><span class="o">.</span><span class="n">add_metaclass</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ReloadingMetaclass</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># You can edit foo on disk and call rrr in ipython</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># if you add a new function to it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This will not work as a doctests because</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Foo&#39;s parent module will be __main__ but</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># there will be no easy way to write to it.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This does work when you run from ipython</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@six</span><span class="o">.</span><span class="n">add_metaclass</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ReloadingMetaclass</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="o">.</span><span class="n">rrr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">spam</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.autogen_explicit_injectable_metaclass">
<code class="descclassname">utool.util_class.</code><code class="descname">autogen_explicit_injectable_metaclass</code><span class="sig-paren">(</span><em>classname</em>, <em>regen_command=None</em>, <em>conditional_imports=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#autogen_explicit_injectable_metaclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.autogen_explicit_injectable_metaclass" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>classname</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_class –exec-autogen_explicit_injectable_metaclass</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="k">import</span>  <span class="n">__CLASSTYPE_ATTRIBUTES__</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.control.IBEISControl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classname</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">controller_inject</span><span class="o">.</span><span class="n">CONTROLLER_CLASSNAME</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">autogen_explicit_injectable_metaclass</span><span class="p">(</span><span class="n">classname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.autogen_import_list">
<code class="descclassname">utool.util_class.</code><code class="descname">autogen_import_list</code><span class="sig-paren">(</span><em>classname</em>, <em>conditional_imports=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#autogen_import_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.autogen_import_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_class.compare_instance">
<code class="descclassname">utool.util_class.</code><code class="descname">compare_instance</code><span class="sig-paren">(</span><em>op</em>, <em>self</em>, <em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#compare_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.compare_instance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_class.decorate_class_method">
<code class="descclassname">utool.util_class.</code><code class="descname">decorate_class_method</code><span class="sig-paren">(</span><em>func</em>, <em>classkey=None</em>, <em>skipmain=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#decorate_class_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.decorate_class_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Will inject all decorated function as methods of classkey</p>
<p>classkey is some identifying string, tuple, or object</p>
<p>func can also be a tuple</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.decorate_postinject">
<code class="descclassname">utool.util_class.</code><code class="descname">decorate_postinject</code><span class="sig-paren">(</span><em>func</em>, <em>classkey=None</em>, <em>skipmain=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#decorate_postinject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.decorate_postinject" title="Permalink to this definition">¶</a></dt>
<dd><p>Will perform func with argument self after inject_instance is called on classkey</p>
<p>classkey is some identifying string, tuple, or object</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.get_classname">
<code class="descclassname">utool.util_class.</code><code class="descname">get_classname</code><span class="sig-paren">(</span><em>class_</em>, <em>local=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_classname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.get_classname" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>class</strong> (<em>type</em>) – </li>
<li><strong>local</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">classname</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_class –exec-get_classname –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">class_</span> <span class="o">=</span> <span class="n">ReloadingMetaclass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">get_classname</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">local</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;utool.util_class.ReloadingMetaclass&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">get_classname</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;ReloadingMetaclass&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.get_comparison_methods">
<code class="descclassname">utool.util_class.</code><code class="descname">get_comparison_methods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_comparison_methods"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.get_comparison_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>makes methods for &gt;, &lt;, =, etc…</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.get_comparison_operators">
<code class="descclassname">utool.util_class.</code><code class="descname">get_comparison_operators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_comparison_operators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.get_comparison_operators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_class.get_injected_modules">
<code class="descclassname">utool.util_class.</code><code class="descname">get_injected_modules</code><span class="sig-paren">(</span><em>classname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_injected_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.get_injected_modules" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="k">import</span> <span class="n">__CLASSNAME_CLASSKEY_REGISTER__</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.get_method_func">
<code class="descclassname">utool.util_class.</code><code class="descname">get_method_func</code><span class="sig-paren">(</span><em>method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_method_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.get_method_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_class.inject_all_external_modules">
<code class="descclassname">utool.util_class.</code><code class="descname">inject_all_external_modules</code><span class="sig-paren">(</span><em>self</em>, <em>classname=None</em>, <em>allow_override='override+warn'</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_all_external_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.inject_all_external_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>dynamically injects registered module methods into a class instance</p>
<p>FIXME: naming convention and use this in all places where this clas is used</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.inject_func_as_method">
<code class="descclassname">utool.util_class.</code><code class="descname">inject_func_as_method</code><span class="sig-paren">(</span><em>self</em>, <em>func</em>, <em>method_name=None</em>, <em>class_=None</em>, <em>allow_override=False</em>, <em>allow_main=False</em>, <em>verbose=True</em>, <em>override=None</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_func_as_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.inject_func_as_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Injects a function into an object as a method</p>
<p>Wraps func as a bound method of self. Then injects func into self
It is preferable to use make_class_method_decorator and inject_instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>self</strong> (<em>object</em>) – class instance</li>
<li><strong>func</strong> – some function whos first arugment is a class instance</li>
<li><strong>method_name</strong> (<em>str</em>) – default=func.__name__, if specified renames the method</li>
<li><strong>class</strong> (<em>type</em>) – if func is an unbound method of this class</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1015307/python-bind-an-unbound-method">http://stackoverflow.com/questions/1015307/python-bind-an-unbound-method</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.inject_func_as_property">
<code class="descclassname">utool.util_class.</code><code class="descname">inject_func_as_property</code><span class="sig-paren">(</span><em>self</em>, <em>func</em>, <em>method_name=None</em>, <em>class_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_func_as_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.inject_func_as_property" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">properties are more safely injected using metaclasses</p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/13850114/dynamically-adding-methods-with-or-without-metaclass-in-python">http://stackoverflow.com/questions/13850114/dynamically-adding-methods-with-or-without-metaclass-in-python</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.inject_func_as_unbound_method">
<code class="descclassname">utool.util_class.</code><code class="descname">inject_func_as_unbound_method</code><span class="sig-paren">(</span><em>class_</em>, <em>func</em>, <em>method_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_func_as_unbound_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.inject_func_as_unbound_method" title="Permalink to this definition">¶</a></dt>
<dd><p>This is actually quite simple</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.inject_instance">
<code class="descclassname">utool.util_class.</code><code class="descname">inject_instance</code><span class="sig-paren">(</span><em>self</em>, <em>classkey=None</em>, <em>allow_override=False</em>, <em>verbose=False</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.inject_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Injects an instance (self) of type (classkey)
with all functions registered to (classkey)</p>
<p>call this in the __init__ class function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>self</strong> – the class instance</li>
<li><strong>classkey</strong> – key for a class, preferably the class type itself, but it
doesnt have to be</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>make_class_method_decorator</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">make_class_method_decorator</span><span class="p">(</span><span class="n">InvertedIndex</span><span class="p">)(</span><span class="n">smk_debug</span><span class="o">.</span><span class="n">invindex_dbgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">inject_instance</span><span class="p">(</span><span class="n">invindex</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.makeForwardingMetaclass">
<code class="descclassname">utool.util_class.</code><code class="descname">makeForwardingMetaclass</code><span class="sig-paren">(</span><em>forwarding_dest_getter</em>, <em>whitelist</em>, <em>base_class=&lt;class 'object'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#makeForwardingMetaclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.makeForwardingMetaclass" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a metaclass that overrides __getattr__ and __setattr__ to forward some
specific attribute references to a specified instance variable</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.make_class_method_decorator">
<code class="descclassname">utool.util_class.</code><code class="descname">make_class_method_decorator</code><span class="sig-paren">(</span><em>classkey</em>, <em>modname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#make_class_method_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.make_class_method_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>register a class to be injectable
classkey is a key that identifies the injected class
REMEMBER to call inject_instance in __init__</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>classkey</strong> – the class to be injected into</li>
<li><strong>modname</strong> – the global __name__ of the module youa re injecting from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">decorator for injectable methods</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">closure_decorate_class_method (func)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CheeseShop</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">... </span>        <span class="n">ut</span><span class="o">.</span><span class="n">inject_all_external_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cheeseshop_method</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_class_method_decorator</span><span class="p">(</span><span class="n">CheeseShop</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shop1</span> <span class="o">=</span> <span class="n">CheeseShop</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">shop1</span><span class="p">,</span> <span class="s1">&#39;has_cheese&#39;</span><span class="p">),</span> <span class="s1">&#39;have not injected yet&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@cheeseshop_method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">has_cheese</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shop2</span> <span class="o">=</span> <span class="n">CheeseShop</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">shop2</span><span class="o">.</span><span class="n">has_cheese</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;external method not injected&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cheese shop does not have cheese. All is well.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.make_class_postinject_decorator">
<code class="descclassname">utool.util_class.</code><code class="descname">make_class_postinject_decorator</code><span class="sig-paren">(</span><em>classkey</em>, <em>modname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#make_class_postinject_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.make_class_postinject_decorator" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>classkey</strong> – the class to be injected into</li>
<li><strong>modname</strong> – the global __name__ of the module youa re injecting from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">decorator for injectable methods</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">closure_decorate_postinject (func)</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>make_class_method_decorator</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.postinject_instance">
<code class="descclassname">utool.util_class.</code><code class="descname">postinject_instance</code><span class="sig-paren">(</span><em>self</em>, <em>classkey</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#postinject_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.postinject_instance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_class.reload_class">
<code class="descclassname">utool.util_class.</code><code class="descname">reload_class</code><span class="sig-paren">(</span><em>self</em>, <em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reload_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.reload_class" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.reload_class_methods">
<code class="descclassname">utool.util_class.</code><code class="descname">reload_class_methods</code><span class="sig-paren">(</span><em>self</em>, <em>class_</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reload_class_methods"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.reload_class_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>rebinds all class methods</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>self</strong> (<em>object</em>) – class instance to reload</li>
<li><strong>class</strong> (<em>type</em>) – type to reload as</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">reload_class_methods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.reload_injected_modules">
<code class="descclassname">utool.util_class.</code><code class="descname">reload_injected_modules</code><span class="sig-paren">(</span><em>classname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reload_injected_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.reload_injected_modules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_class.reloadable_class">
<code class="descclassname">utool.util_class.</code><code class="descname">reloadable_class</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reloadable_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.reloadable_class" title="Permalink to this definition">¶</a></dt>
<dd><p>convinience decorator instead of &#64;six.add_metaclass(ReloadingMetaclass)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.reloading_meta_metaclass_factory">
<code class="descclassname">utool.util_class.</code><code class="descname">reloading_meta_metaclass_factory</code><span class="sig-paren">(</span><em>BASE_TYPE=&lt;class 'type'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reloading_meta_metaclass_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.reloading_meta_metaclass_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>hack for pyqt</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.remove_private_obfuscation">
<code class="descclassname">utool.util_class.</code><code class="descname">remove_private_obfuscation</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#remove_private_obfuscation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.remove_private_obfuscation" title="Permalink to this definition">¶</a></dt>
<dd><p>removes the python obfuscation of class privates so they can be executed as
they appear in class source. Useful when playing with IPython.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_class.test_reloading_metaclass">
<code class="descclassname">utool.util_class.</code><code class="descname">test_reloading_metaclass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#test_reloading_metaclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_class.test_reloading_metaclass" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_class –test-test_reloading_metaclass</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/8122734/pythons-imp-reload-function-is-not-working">http://stackoverflow.com/questions/8122734/pythons-imp-reload-function-is-not-working</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">test_reloading_metaclass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.util_config">
<span id="utool-util-config-module"></span><h2>utool.util_config module<a class="headerlink" href="#module-utool.util_config" title="Permalink to this headline">¶</a></h2>
<p>util_config</p>
<p>TODO: FINISH ME AND ALLOW FOR CUSTOM SETTINGS BASED OFF OF A USER PROFILE</p>
<dl class="function">
<dt id="utool.util_config.get_default_global_config">
<code class="descclassname">utool.util_config.</code><code class="descname">get_default_global_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#get_default_global_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_config.get_default_global_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_config.get_default_repo_config">
<code class="descclassname">utool.util_config.</code><code class="descname">get_default_repo_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#get_default_repo_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_config.get_default_repo_config" title="Permalink to this definition">¶</a></dt>
<dd><p>import utool</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_config.read_repo_config">
<code class="descclassname">utool.util_config.</code><code class="descname">read_repo_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#read_repo_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_config.read_repo_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_config.write_default_repo_config">
<code class="descclassname">utool.util_config.</code><code class="descname">write_default_repo_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#write_default_repo_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_config.write_default_repo_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_const">
<span id="utool-util-const-module"></span><h2>utool.util_const module<a class="headerlink" href="#module-utool.util_const" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-utool.util_cplat">
<span id="utool-util-cplat-module"></span><h2>utool.util_cplat module<a class="headerlink" href="#module-utool.util_cplat" title="Permalink to this headline">¶</a></h2>
<p>cross platform utilities</p>
<dl class="function">
<dt id="utool.util_cplat.assert_installed_debian">
<code class="descclassname">utool.util_cplat.</code><code class="descname">assert_installed_debian</code><span class="sig-paren">(</span><em>pkgname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#assert_installed_debian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.assert_installed_debian" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.change_term_title">
<code class="descclassname">utool.util_cplat.</code><code class="descname">change_term_title</code><span class="sig-paren">(</span><em>title</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#change_term_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.change_term_title" title="Permalink to this definition">¶</a></dt>
<dd><p>only works on unix systems only tested on Ubuntu GNOME changes text on
terminal title for identifying debugging tasks.</p>
<p>The title will remain until python exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>title</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5343265/setting-title-for-tabs-in-terminator-console-application-in-ubuntu/8850484#8850484">http://stackoverflow.com/questions/5343265/setting-title-for-tabs-in-terminator-console-application-in-ubuntu/8850484#8850484</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool change_term_title
echo -en “]0;newtitle”</p>
<blockquote>
<div>printf “e]2;newtitle”;</div></blockquote>
<p class="last">echo -en “]0;DocTest /home/joncrall/code/ibeis/wbia.algo.graph.core.py –test-AnnotInference._make_state_delta”</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;change title test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">change_term_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.check_installed_debian">
<code class="descclassname">utool.util_cplat.</code><code class="descname">check_installed_debian</code><span class="sig-paren">(</span><em>pkgname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#check_installed_debian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.check_installed_debian" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://www.cyberciti.biz/faq/find-out-if-package-is-installed-in-linux/">http://www.cyberciti.biz/faq/find-out-if-package-is-installed-in-linux/</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.chmod">
<code class="descclassname">utool.util_cplat.</code><code class="descname">chmod</code><span class="sig-paren">(</span><em>fpath</em>, <em>option</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#chmod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.chmod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.chmod_add_executable">
<code class="descclassname">utool.util_cplat.</code><code class="descname">chmod_add_executable</code><span class="sig-paren">(</span><em>fpath</em>, <em>group=True</em>, <em>user=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#chmod_add_executable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.chmod_add_executable" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15607903/python-module-os-chmodfile-664-does-not-change-the-permission-to-rw-rw-r-bu">http://stackoverflow.com/questions/15607903/python-module-os-chmodfile-664-does-not-change-the-permission-to-rw-rw-r-bu</a>
<a class="reference external" href="http://www.tutorialspoint.com/python/os_chmod.htm">http://www.tutorialspoint.com/python/os_chmod.htm</a>
<a class="reference external" href="https://en.wikipedia.org/wiki/Chmod">https://en.wikipedia.org/wiki/Chmod</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.cmd">
<code class="descclassname">utool.util_cplat.</code><code class="descname">cmd</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>A really roundabout way to issue a system call</p>
<p># FIXME: This function needs some work
# It should work without a hitch on windows or unix.
# It should be able to spit out stdout in realtime.
# Should be able to configure detatchment, shell, and sudo.</p>
<dl class="docutils">
<dt>FIXME:</dt>
<dd>on a mac ut.cmd(‘/Users/joncrall/Library/Application Support/ibeis/tomcat/bin/shutdown.sh’) will fail due to spaces</dd>
<dt>Kwargs:</dt>
<dd>quiet (bool) :
silence (bool) :
verbose (bool) :
detatch (bool) :
shell (bool) :
sudo (bool) :
pad_stdout (bool) :
dryrun (bool) :</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(None, None, None)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –test-cmd
python -m utool.util_cplat –test-cmd:0
python -m utool.util_cplat –test-cmd:1
python -m utool.util_cplat –test-cmd:2
python -m utool.util_cplat –test-cmd:1 –test-sudo
python -m utool.util_cplat –test-cmd:2 –test-sudo</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">ret</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">((</span><span class="s1">&#39;out&#39;</span><span class="p">,</span> <span class="s1">&#39;err&#39;</span><span class="p">,</span> <span class="s1">&#39;ret&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">ret</span><span class="p">))),</span> <span class="n">nobraces</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;out&#39;, &#39;hello world\n&#39;),</span>
<span class="go">(&#39;err&#39;, None),</span>
<span class="go">(&#39;ret&#39;, 0),</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>     <span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="go">         (&#39;out&#39;, &#39;hello world\n&#39;),</span>
<span class="go">         (&#39;err&#39;, None),</span>
<span class="go">         (&#39;ret&#39;, 0),</span>
<span class="go">         &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varydict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;shell&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;detatch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;sudo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span> <span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--test-sudo&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;echo hello world&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;hello world&#39;</span><span class="p">)],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">kw</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">varydict</span><span class="p">),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+ --- TEST CMD </span><span class="si">%d</span><span class="s1"> ---&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;testing cmd with params &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">args</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;args&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">restup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">pad_stdout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tupfields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;out&#39;</span><span class="p">,</span> <span class="s1">&#39;err&#39;</span><span class="p">,</span> <span class="s1">&#39;ret&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">output</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tupfields</span><span class="p">,</span> <span class="n">restup</span><span class="p">)),</span> <span class="n">nobraces</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L ___ TEST CMD </span><span class="si">%d</span><span class="s1"> ___</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ping is not as universal of a command as I thought</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varydict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;shell&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;detatch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ping localhost&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;ping&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost&#39;</span><span class="p">)],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">proc_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">kw</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">varydict</span><span class="p">),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+ --- TEST CMD </span><span class="si">%d</span><span class="s1"> ---&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;testing cmd with params &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">args</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;args&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">restup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">pad_stdout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">out</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">proc</span> <span class="o">=</span> <span class="n">restup</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">proc_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">proc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">proc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">proc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">proc</span><span class="o">.</span><span class="n">poll</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L ___ TEST CMD </span><span class="si">%d</span><span class="s1"> ___</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.cmd2">
<code class="descclassname">utool.util_cplat.</code><code class="descname">cmd2</code><span class="sig-paren">(</span><em>command</em>, <em>shell=False</em>, <em>detatch=False</em>, <em>verbose=False</em>, <em>verbout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#cmd2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.cmd2" title="Permalink to this definition">¶</a></dt>
<dd><p>Trying to clean up cmd</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> (<em>str</em>) – string command</li>
<li><strong>shell</strong> (<em>bool</em>) – if True, process is run in shell</li>
<li><strong>detatch</strong> (<em>bool</em>) – if True, process is run in background</li>
<li><strong>verbose</strong> (<em>int</em>) – verbosity mode</li>
<li><strong>verbout</strong> (<em>bool</em>) – if True, <cite>command</cite> writes to stdout in realtime.
defaults to True iff verbose &gt; 0</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">info - information about command status</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.editfile">
<code class="descclassname">utool.util_cplat.</code><code class="descname">editfile</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#editfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.editfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs gvim. Can also accept a module / class / function</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.ensure_app_cache_dir">
<code class="descclassname">utool.util_cplat.</code><code class="descname">ensure_app_cache_dir</code><span class="sig-paren">(</span><em>appname</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ensure_app_cache_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.ensure_app_cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exists</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.ensure_app_resource_dir">
<code class="descclassname">utool.util_cplat.</code><code class="descname">ensure_app_resource_dir</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ensure_app_resource_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.ensure_app_resource_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_app_cache_dir">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_app_cache_dir</code><span class="sig-paren">(</span><em>appname</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_app_cache_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_app_cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a writable directory for an application.
This should be used for temporary deletable data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>appname</strong> (<em>str</em>) – the name of the application</li>
<li><strong>*args</strong> – any other subdirectories may be specified</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dpath: writable cache directory</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_computer_name">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_computer_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_computer_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_computer_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns machine name</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_dir_diskspaces">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_dir_diskspaces</code><span class="sig-paren">(</span><em>dir_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dir_diskspaces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_dir_diskspaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_disk_space">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_disk_space</code><span class="sig-paren">(</span><em>start_path='.'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_disk_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_disk_space" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1392413/calculating-a-directory-size-using-python">http://stackoverflow.com/questions/1392413/calculating-a-directory-size-using-python</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_dynamic_lib_globstrs">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_dynamic_lib_globstrs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dynamic_lib_globstrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_dynamic_lib_globstrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_dynlib_dependencies">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_dynlib_dependencies</code><span class="sig-paren">(</span><em>lib_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dynlib_dependencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_dynlib_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes tools for inspecting dynamic library dependencies depending on the
current platform.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_dynlib_exports">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_dynlib_exports</code><span class="sig-paren">(</span><em>lib_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dynlib_exports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_dynlib_exports" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes tools for inspecting dynamic library dependencies depending on the
current platform. Returns the names of callable functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lib_path</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">depend_out</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –test-get_dynlib_exports</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib_path</span> <span class="o">=</span> <span class="s1">&#39;/home/joncrall/venv/local/lib/python2.7/site-packages/pyflann/lib/libflann.so&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depend_out</span> <span class="o">=</span> <span class="n">get_dynlib_exports</span><span class="p">(</span><span class="n">lib_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;depend_out = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">depend_out</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_file_info">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_file_info</code><span class="sig-paren">(</span><em>fpath</em>, <em>with_fpath=False</em>, <em>nice=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_file_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_file_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_file_nBytes">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_file_nBytes</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_file_nBytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_file_nBytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_file_nBytes_str">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_file_nBytes_str</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_file_nBytes_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_file_nBytes_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_flops">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_flops</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_flops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_flops" title="Permalink to this definition">¶</a></dt>
<dd><p># DOESNT WORK</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_free_diskbytes">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_free_diskbytes</code><span class="sig-paren">(</span><em>dir_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_free_diskbytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_free_diskbytes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dir</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a href="#id77"><span class="problematic" id="id78">bytes_</span></a> folder/drive free space (in bytes)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>References::</dt>
<dd><a class="reference external" href="http://stackoverflow.com/questions/51658/cross-platform-space-remaining-on-volume-using-python">http://stackoverflow.com/questions/51658/cross-platform-space-remaining-on-volume-using-python</a>
<a class="reference external" href="http://linux.die.net/man/2/statvfs">http://linux.die.net/man/2/statvfs</a></dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –exec-get_free_diskbytes
python -m utool.util_cplat –exec-get_free_diskbytes –dir /media/raid
python -m utool.util_cplat –exec-get_free_diskbytes –dir E:</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dir_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_</span> <span class="o">=</span> <span class="n">get_free_diskbytes</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;bytes_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">bytes_</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unused space in </span><span class="si">%r</span><span class="s1"> = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dir_</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">(</span><span class="n">bytes_</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Total space in </span><span class="si">%r</span><span class="s1"> = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dir_</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">(</span><span class="n">get_total_diskbytes</span><span class="p">(</span><span class="n">dir_</span><span class="p">))))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_install_dirs">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_install_dirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_install_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_install_dirs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_lib_ext">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_lib_ext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_lib_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_lib_ext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_path_dirs">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_path_dirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_path_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_path_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of directories in the PATH system variable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">pathdirs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –exec-get_path_dirs</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pathdirs</span> <span class="o">=</span> <span class="n">get_path_dirs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;pathdirs = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">pathdirs</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_plat_specifier">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_plat_specifier</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_plat_specifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_plat_specifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard platform specifier used by distutils</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_pylib_ext">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_pylib_ext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_pylib_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_pylib_ext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_python_dynlib">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_python_dynlib</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_python_dynlib"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_python_dynlib" title="Permalink to this definition">¶</a></dt>
<dd><p>python -c “import utool; print(utool.get_python_dynlib())”</p>
<p>get_python_dynlib</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dynlib</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dynlib</span> <span class="o">=</span> <span class="n">get_python_dynlib</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dynlib</span><span class="p">)</span>
<span class="go">/usr/lib/x86_64-linux-gnu/libpython2.7.so</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_system_python_library">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_system_python_library</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_system_python_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_system_python_library" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME; hacky way of finding python library. Not cross platform yet.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_total_diskbytes">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_total_diskbytes</code><span class="sig-paren">(</span><em>dir_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_total_diskbytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_total_diskbytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.get_user_name">
<code class="descclassname">utool.util_cplat.</code><code class="descname">get_user_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_user_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.get_user_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns user homefolder name</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.geteditor">
<code class="descclassname">utool.util_cplat.</code><code class="descname">geteditor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#geteditor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.geteditor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.getroot">
<code class="descclassname">utool.util_cplat.</code><code class="descname">getroot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#getroot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.getroot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.in_pyinstaller_package">
<code class="descclassname">utool.util_cplat.</code><code class="descname">in_pyinstaller_package</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#in_pyinstaller_package"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.in_pyinstaller_package" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/22472124/what-is-sys-meipass-in-python">http://stackoverflow.com/questions/22472124/what-is-sys-meipass-in-python</a>
<a class="reference external" href="http://stackoverflow.com/questions/7674790/bundling-data-files-with-pyinstaller-onefile">http://stackoverflow.com/questions/7674790/bundling-data-files-with-pyinstaller-onefile</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.ipython_paste">
<code class="descclassname">utool.util_cplat.</code><code class="descname">ipython_paste</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ipython_paste"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.ipython_paste" title="Permalink to this definition">¶</a></dt>
<dd><p>pastes for me FIXME: make something like this work on unix and windows</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.is64bit_python">
<code class="descclassname">utool.util_cplat.</code><code class="descname">is64bit_python</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#is64bit_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.is64bit_python" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if running 64 bit python and False if running on 32 bit</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.is_file_executable">
<code class="descclassname">utool.util_cplat.</code><code class="descname">is_file_executable</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#is_file_executable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.is_file_executable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.is_file_writable">
<code class="descclassname">utool.util_cplat.</code><code class="descname">is_file_writable</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#is_file_writable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.is_file_writable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.ls_libs">
<code class="descclassname">utool.util_cplat.</code><code class="descname">ls_libs</code><span class="sig-paren">(</span><em>dpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ls_libs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.ls_libs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.pip_install">
<code class="descclassname">utool.util_cplat.</code><code class="descname">pip_install</code><span class="sig-paren">(</span><em>package</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#pip_install"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.pip_install" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15974100/ipython-install-new-modules">http://stackoverflow.com/questions/15974100/ipython-install-new-modules</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.platform_cache_dir">
<code class="descclassname">utool.util_cplat.</code><code class="descname">platform_cache_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#platform_cache_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.platform_cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a directory which should be writable for any application
This should be used for temporary deletable data.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.print_dir_diskspace">
<code class="descclassname">utool.util_cplat.</code><code class="descname">print_dir_diskspace</code><span class="sig-paren">(</span><em>dir_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#print_dir_diskspace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.print_dir_diskspace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.print_path">
<code class="descclassname">utool.util_cplat.</code><code class="descname">print_path</code><span class="sig-paren">(</span><em>sort=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#print_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.print_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.print_system_users">
<code class="descclassname">utool.util_cplat.</code><code class="descname">print_system_users</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#print_system_users"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.print_system_users" title="Permalink to this definition">¶</a></dt>
<dd><p>prints users on the system</p>
<p>On unix looks for /bin/bash users in /etc/passwd</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –test-print_system_users</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">print_system_users</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.python_executable">
<code class="descclassname">utool.util_cplat.</code><code class="descname">python_executable</code><span class="sig-paren">(</span><em>check=True</em>, <em>short=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#python_executable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.python_executable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>short</strong> (<em>bool</em>) – (default = False)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">short</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">python_executable</span><span class="p">(</span><span class="n">short</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.quote_single_command">
<code class="descclassname">utool.util_cplat.</code><code class="descname">quote_single_command</code><span class="sig-paren">(</span><em>cmdstr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#quote_single_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.quote_single_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.run_realtime_process">
<code class="descclassname">utool.util_cplat.</code><code class="descname">run_realtime_process</code><span class="sig-paren">(</span><em>exe</em>, <em>shell=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#run_realtime_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.run_realtime_process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.search_env_paths">
<code class="descclassname">utool.util_cplat.</code><code class="descname">search_env_paths</code><span class="sig-paren">(</span><em>fname</em>, <em>key_list=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#search_env_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.search_env_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches your PATH to see if fname exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<em>str</em>) – file name to search for (can be glob pattern)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool search_env_paths –fname msvcr*.dll
python -m utool search_env_paths –fname ‘<em>flann</em>’</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;opencv2/highgui/libopencv_highgui.so&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--fname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;fname = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fname</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># [&#39;PATH&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found</span> <span class="o">=</span> <span class="n">search_env_paths</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">key_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">found</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strvals</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>OpenCV_DIR:PATH={share_opencv}
OpenCV_CONFIG_PATH:FILEPATH={share_opencv}</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.send_keyboard_input">
<code class="descclassname">utool.util_cplat.</code><code class="descname">send_keyboard_input</code><span class="sig-paren">(</span><em>text=None</em>, <em>key_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#send_keyboard_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.send_keyboard_input" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>None</em>) – </li>
<li><strong>key_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/14788036/python-win32api-sendmesage">http://stackoverflow.com/questions/14788036/python-win32api-sendmesage</a>
<a class="reference external" href="http://www.pinvoke.net/default.aspx/user32.sendinput">http://www.pinvoke.net/default.aspx/user32.sendinput</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –test-send_keyboard_input</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;%paste&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">send_keyboard_input</span><span class="p">(</span><span class="s1">&#39;%paste&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.set_process_title">
<code class="descclassname">utool.util_cplat.</code><code class="descname">set_process_title</code><span class="sig-paren">(</span><em>title</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#set_process_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.set_process_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.shell">
<code class="descclassname">utool.util_cplat.</code><code class="descname">shell</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#shell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.shell" title="Permalink to this definition">¶</a></dt>
<dd><p>Dangerous. Take out of production code</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.spawn_delayed_ipython_paste">
<code class="descclassname">utool.util_cplat.</code><code class="descname">spawn_delayed_ipython_paste</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#spawn_delayed_ipython_paste"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.spawn_delayed_ipython_paste" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_cplat.startfile">
<code class="descclassname">utool.util_cplat.</code><code class="descname">startfile</code><span class="sig-paren">(</span><em>fpath</em>, <em>detatch=True</em>, <em>quote=False</em>, <em>verbose=False</em>, <em>quiet=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#startfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.startfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses default program defined by the system to open a file.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/2692873/quote-posix-shell-special-characters-in-python-output">http://stackoverflow.com/questions/2692873/quote-posix-shell-special-characters-in-python-output</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.unload_module">
<code class="descclassname">utool.util_cplat.</code><code class="descname">unload_module</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#unload_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.unload_module" title="Permalink to this definition">¶</a></dt>
<dd><p>WARNING POTENTIALLY DANGEROUS AND MAY NOT WORK</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/437589/how-do-i-unload-reload-a-python-module">http://stackoverflow.com/questions/437589/how-do-i-unload-reload-a-python-module</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –test-unload_module</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">gc</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyhesaff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;pyhesaff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> refcount=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">getrefcount</span><span class="p">(</span><span class="n">pyhesaff</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#referrer_list = gc.get_referrers(sys.modules[modname])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;referrer_list = %s&#39; % (ut.repr4(referrer_list),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">unload_module</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pyhesaff</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.vd">
<code class="descclassname">utool.util_cplat.</code><code class="descname">vd</code><span class="sig-paren">(</span><em>dname=None</em>, <em>fname=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cplat.vd" title="Permalink to this definition">¶</a></dt>
<dd><p>View a directory in the operating system file browser. Currently supports
windows explorer, mac open, and linux nautlius.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dname</strong> (<em>str</em>) – directory name</li>
<li><strong>fname</strong> (<em>str</em>) – a filename to select in the directory (nautlius only)</li>
<li><strong>verbose</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –test-view_directory</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;test_vd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dir1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has space&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;space at end &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39; space at start &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&quot;quotes and spaces&quot;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;&#39;single quotes and spaces&#39;&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Frogram Piles (y2K)&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs_</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">dname</span> <span class="ow">in</span> <span class="n">dirs_</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.view_directory">
<code class="descclassname">utool.util_cplat.</code><code class="descname">view_directory</code><span class="sig-paren">(</span><em>dname=None</em>, <em>fname=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#view_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.view_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>View a directory in the operating system file browser. Currently supports
windows explorer, mac open, and linux nautlius.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dname</strong> (<em>str</em>) – directory name</li>
<li><strong>fname</strong> (<em>str</em>) – a filename to select in the directory (nautlius only)</li>
<li><strong>verbose</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_cplat –test-view_directory</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;test_vd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dir1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has space&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;space at end &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39; space at start &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&quot;quotes and spaces&quot;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;&#39;single quotes and spaces&#39;&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Frogram Piles (y2K)&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs_</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">dname</span> <span class="ow">in</span> <span class="n">dirs_</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_cplat.view_file_in_directory">
<code class="descclassname">utool.util_cplat.</code><code class="descname">view_file_in_directory</code><span class="sig-paren">(</span><em>fpaths</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#view_file_in_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_cplat.view_file_in_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_csv">
<span id="utool-util-csv-module"></span><h2>utool.util_csv module<a class="headerlink" href="#module-utool.util_csv" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_csv.CSV">
<em class="property">class </em><code class="descclassname">utool.util_csv.</code><code class="descname">CSV</code><span class="sig-paren">(</span><em>row_data</em>, <em>row_headers=None</em>, <em>col_headers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<dl class="method">
<dt id="utool.util_csv.CSV.compress_cols">
<code class="descname">compress_cols</code><span class="sig-paren">(</span><em>flags</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.compress_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.compress_cols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.compress_rows">
<code class="descname">compress_rows</code><span class="sig-paren">(</span><em>flags</em>, <em>with_header=True</em>, <em>inplace=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.compress_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.compress_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="utool.util_csv.CSV.from_fpath">
<em class="property">classmethod </em><code class="descname">from_fpath</code><span class="sig-paren">(</span><em>fpath</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.from_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.from_fpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.fuzzy_filter_columns">
<code class="descname">fuzzy_filter_columns</code><span class="sig-paren">(</span><em>fuzzy_headers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_filter_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_filter_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.fuzzy_find_colx">
<code class="descname">fuzzy_find_colx</code><span class="sig-paren">(</span><em>pat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_find_colx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_find_colx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.fuzzy_find_colxs">
<code class="descname">fuzzy_find_colxs</code><span class="sig-paren">(</span><em>pat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_find_colxs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_find_colxs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.fuzzy_reorder_columns">
<code class="descname">fuzzy_reorder_columns</code><span class="sig-paren">(</span><em>fuzzy_headers</em>, <em>inplace=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_reorder_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_reorder_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.nice_table">
<code class="descname">nice_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.nice_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.nice_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.nice_table2">
<code class="descname">nice_table2</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.nice_table2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.nice_table2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.permute_columns">
<code class="descname">permute_columns</code><span class="sig-paren">(</span><em>new_order</em>, <em>inplace=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.permute_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.permute_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.raw_table">
<code class="descname">raw_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.raw_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.raw_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_csv.CSV.shape">
<code class="descname">shape</code><a class="headerlink" href="#utool.util_csv.CSV.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.tabulate">
<code class="descname">tabulate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.tabulate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.tabulate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.take_column">
<code class="descname">take_column</code><span class="sig-paren">(</span><em>colx</em>, <em>with_header=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.take_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.take_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.take_fuzzy_column">
<code class="descname">take_fuzzy_column</code><span class="sig-paren">(</span><em>pat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.take_fuzzy_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.take_fuzzy_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_csv.CSV.transpose">
<code class="descname">transpose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.CSV.transpose" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_csv.make_csv_table">
<code class="descclassname">utool.util_csv.</code><code class="descname">make_csv_table</code><span class="sig-paren">(</span><em>column_list=[]</em>, <em>column_lbls=None</em>, <em>header=''</em>, <em>column_type=None</em>, <em>row_lbls=None</em>, <em>transpose=False</em>, <em>precision=2</em>, <em>use_lbl_width=True</em>, <em>comma_repl='&lt;com&gt;'</em>, <em>raw=False</em>, <em>new=False</em>, <em>standardize=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#make_csv_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.make_csv_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a csv table with aligned columns</p>
<p>make_csv_table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>column_list</strong> (<em>list</em>) – </li>
<li><strong>column_lbls</strong> (<em>None</em>) – </li>
<li><strong>header</strong> (<em>str</em>) – </li>
<li><strong>column_type</strong> (<em>None</em>) – </li>
<li><strong>row_lbls</strong> (<em>None</em>) – </li>
<li><strong>transpose</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">csv_text</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_csv</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="s1">&#39;# Test CSV&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_type</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_text</span> <span class="o">=</span> <span class="n">make_csv_table</span><span class="p">(</span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_lbls</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">column_type</span><span class="p">,</span> <span class="n">row_lbls</span><span class="p">,</span> <span class="n">transpose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">csv_text</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go"># Test CSV</span>
<span class="go"># num_rows=3</span>
<span class="go">#   num,  alpha</span>
<span class="go">      1,      A</span>
<span class="go">      2,      B</span>
<span class="go">      3,      C</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_csv.make_standard_csv">
<code class="descclassname">utool.util_csv.</code><code class="descname">make_standard_csv</code><span class="sig-paren">(</span><em>column_list</em>, <em>column_lbls=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#make_standard_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.make_standard_csv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_csv.numpy_to_csv">
<code class="descclassname">utool.util_csv.</code><code class="descname">numpy_to_csv</code><span class="sig-paren">(</span><em>arr</em>, <em>col_lbls=None</em>, <em>header=''</em>, <em>col_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#numpy_to_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.numpy_to_csv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_csv.read_csv">
<code class="descclassname">utool.util_csv.</code><code class="descname">read_csv</code><span class="sig-paren">(</span><em>fpath</em>, <em>binary=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#read_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_csv.read_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>reads csv in unicode</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_dbg">
<span id="utool-util-dbg-module"></span><h2>utool.util_dbg module<a class="headerlink" href="#module-utool.util_dbg" title="Permalink to this headline">¶</a></h2>
<p>TODO: rectify name difference between parent and caller</p>
<dl class="class">
<dt id="utool.util_dbg.EmbedOnException">
<em class="property">class </em><code class="descclassname">utool.util_dbg.</code><code class="descname">EmbedOnException</code><a class="reference internal" href="_modules/utool/util_dbg.html#EmbedOnException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.EmbedOnException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager which embeds in ipython if an exception is thrown</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.breakpoint">
<code class="descclassname">utool.util_dbg.</code><code class="descname">breakpoint</code><span class="sig-paren">(</span><em>*tags</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#breakpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.breakpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.debug_exception">
<code class="descclassname">utool.util_dbg.</code><code class="descname">debug_exception</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.debug_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.debug_hstack">
<code class="descclassname">utool.util_dbg.</code><code class="descname">debug_hstack</code><span class="sig-paren">(</span><em>stacktup</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_hstack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.debug_hstack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.debug_list">
<code class="descclassname">utool.util_dbg.</code><code class="descname">debug_list</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.debug_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.debug_npstack">
<code class="descclassname">utool.util_dbg.</code><code class="descname">debug_npstack</code><span class="sig-paren">(</span><em>stacktup</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_npstack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.debug_npstack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.debug_vstack">
<code class="descclassname">utool.util_dbg.</code><code class="descname">debug_vstack</code><span class="sig-paren">(</span><em>stacktup</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_vstack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.debug_vstack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.embed">
<code class="descclassname">utool.util_dbg.</code><code class="descname">embed</code><span class="sig-paren">(</span><em>parent_locals=None</em>, <em>parent_globals=None</em>, <em>exec_lines=None</em>, <em>remove_pyqt_hook=True</em>, <em>N=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#embed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.embed" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts interactive session. Similar to keyboard command in matlab.
Wrapper around IPython.embed</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.embed2">
<code class="descclassname">utool.util_dbg.</code><code class="descname">embed2</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#embed2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.embed2" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified from IPython.terminal.embed.embed so I can mess with stack_depth</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.execstr_attr_list">
<code class="descclassname">utool.util_dbg.</code><code class="descname">execstr_attr_list</code><span class="sig-paren">(</span><em>obj_name</em>, <em>attr_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_attr_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.execstr_attr_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.execstr_dict">
<code class="descclassname">utool.util_dbg.</code><code class="descname">execstr_dict</code><span class="sig-paren">(</span><em>dict_</em>, <em>local_name=None</em>, <em>exclude_list=None</em>, <em>explicit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.execstr_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>returns execable python code that declares variables using keys and values</p>
<p>execstr_dict</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict</strong> (<em>dict</em>) – </li>
<li><strong>local_name</strong> (<em>str</em>) – optional: local name of dictionary. Specifying this
is much safer</li>
<li><strong>exclude_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>execstr — the executable string that will put keys from dict</dt>
<dd><p class="first last">into local vars</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dbg –test-execstr_dict</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execstr</span> <span class="o">=</span> <span class="n">execstr_dict</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">execstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(),</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">b</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">execstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a = my_dictionary[&#39;a&#39;]</span>
<span class="go">b = my_dictionary[&#39;b&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execstr</span> <span class="o">=</span> <span class="n">execstr_dict</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locals_</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">execstr</span><span class="p">,</span> <span class="n">locals_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_take</span><span class="p">(</span><span class="n">locals_</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">locals_</span> <span class="ow">and</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">locals_</span><span class="p">,</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">b</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">execstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a = my_dictionary[&#39;a&#39;]</span>
<span class="go">b = my_dictionary[&#39;b&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execstr</span> <span class="o">=</span> <span class="n">execstr_dict</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">,</span> <span class="n">explicit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">execstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a = True</span>
<span class="go">b = False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.execstr_func">
<code class="descclassname">utool.util_dbg.</code><code class="descname">execstr_func</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.execstr_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.execstr_parent_locals">
<code class="descclassname">utool.util_dbg.</code><code class="descname">execstr_parent_locals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_parent_locals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.execstr_parent_locals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.explore_module">
<code class="descclassname">utool.util_dbg.</code><code class="descname">explore_module</code><span class="sig-paren">(</span><em>module_</em>, <em>seen=None</em>, <em>maxdepth=2</em>, <em>nonmodules=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#explore_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.explore_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.explore_stack">
<code class="descclassname">utool.util_dbg.</code><code class="descname">explore_stack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#explore_stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.explore_stack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.fix_embed_globals">
<code class="descclassname">utool.util_dbg.</code><code class="descname">fix_embed_globals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#fix_embed_globals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.fix_embed_globals" title="Permalink to this definition">¶</a></dt>
<dd><p>HACK adds current locals() to globals().
Can be dangerous.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.fmtlocals">
<code class="descclassname">utool.util_dbg.</code><code class="descname">fmtlocals</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dbg.fmtlocals" title="Permalink to this definition">¶</a></dt>
<dd><p>mimics lisp quasi quote functionality</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.formatex">
<code class="descclassname">utool.util_dbg.</code><code class="descname">formatex</code><span class="sig-paren">(</span><em>ex</em>, <em>msg='[!?] Caught exception'</em>, <em>prefix=None</em>, <em>key_list=[]</em>, <em>locals_=None</em>, <em>iswarning=False</em>, <em>tb=False</em>, <em>N=0</em>, <em>keys=None</em>, <em>colored=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#formatex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.formatex" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats an exception with relevant info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex</strong> (<em>Exception</em>) – exception to print</li>
<li><strong>msg</strong> (<em>unicode</em>) – a message to display to the user (default = u’[!?] Caught exception’)</li>
<li><strong>keys</strong> (<em>None</em>) – a list of strings denoting variables or expressions of interest (default = [])</li>
<li><strong>iswarning</strong> (<em>bool</em>) – prints as a warning rather than an error if True (default = False)</li>
<li><strong>tb</strong> (<em>bool</em>) – if True prints the traceback in the error message (default = False)</li>
<li><strong>prefix</strong> (<em>None</em>) – (default = None)</li>
<li><strong>locals</strong> (<em>None</em>) – (default = None)</li>
<li><strong>N</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>colored</strong> (<em>None</em>) – (default = None)</li>
<li><strong>key_list</strong> (<em>list</em>) – DEPRICATED use keys</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">formated exception</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dbg –exec-formatex</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Testing Exception&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;[test]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;tb&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locals_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iswarning</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colored</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">failfunc</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tb</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">N</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;test exception. This is not an error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">result</span> <span class="o">=</span> <span class="n">formatex</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">key_list</span><span class="p">,</span> <span class="n">locals_</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                          <span class="n">iswarning</span><span class="p">,</span> <span class="n">tb</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="n">colored</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="n">result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">failfunc</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>&lt;!!! WARNING !!!&gt;
Traceback (most recent call last):</p>
<blockquote>
<div>File “&lt;string&gt;”, line 15, in failfunc</div></blockquote>
<p>Exception: test exception. This is not an error[test] Testing Exception
&lt;class ‘Exception’&gt;: test exception. This is not an error
[test] N = 0
[test] foo = NameError (this likely due to a misformatted printex and is not related to the exception)
[test] tb = True
&lt;/!!! WARNING !!!&gt;</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_caller_lineno">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_caller_lineno</code><span class="sig-paren">(</span><em>N=0</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_lineno"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_caller_lineno" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_caller_modname">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_caller_modname</code><span class="sig-paren">(</span><em>N=0</em>, <em>allowmain=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_modname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_caller_modname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_caller_name">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_caller_name</code><span class="sig-paren">(</span><em>N=0</em>, <em>allow_genexpr=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_caller_name" title="Permalink to this definition">¶</a></dt>
<dd><p>get the name of the function that called you</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>N</strong> (<em>int</em>) – (defaults to 0) number of levels up in the stack</li>
<li><strong>allow_genexpr</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a function name</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dbg get_caller_name
python -m utool get_caller_name
python ~/code/utool/utool/__main__.py get_caller_name
python ~/code/utool/utool/__init__.py get_caller_name
python ~/code/utool/utool/util_dbg.py get_caller_name</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_genexpr</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">caller_name</span> <span class="o">=</span> <span class="n">get_caller_name</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">allow_genexpr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">caller_name</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_caller_prefix">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_caller_prefix</code><span class="sig-paren">(</span><em>N=0</em>, <em>aserror=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_caller_prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_current_stack_depth">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_current_stack_depth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_current_stack_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_current_stack_depth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_localvar_from_stack">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_localvar_from_stack</code><span class="sig-paren">(</span><em>varname</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dbg.get_localvar_from_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a local varable somewhere in the stack and returns the value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>varname</strong> (<em>str</em>) – variable name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None if varname is not found else its value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_parent_frame">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_parent_frame</code><span class="sig-paren">(</span><em>N=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_parent_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_parent_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_reprs">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_reprs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_reprs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_reprs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_stack_frame">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_stack_frame</code><span class="sig-paren">(</span><em>N=0</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_stack_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_stack_frame" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>N</strong> (<em>int</em>) – N=0 means the frame you called this function in.
N=1 is the parent frame.</li>
<li><strong>strict</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_var_from_stack">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_var_from_stack</code><span class="sig-paren">(</span><em>varname</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dbg.get_var_from_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a varable (local or global) somewhere in the stack and returns the value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>varname</strong> (<em>str</em>) – variable name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None if varname is not found else its value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_varname_from_locals">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_varname_from_locals</code><span class="sig-paren">(</span><em>val</em>, <em>locals_</em>, <em>default='varname-not-found'</em>, <em>strict=False</em>, <em>cmpfunc_=&lt;built-in function is_&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varname_from_locals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_varname_from_locals" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the string name which has where locals_[name] is val</p>
<p>Check the varname is in the parent namespace
This will only work with objects not primatives</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>(</strong><strong>)</strong> (<em>val</em>) – some value</li>
<li><strong>locals</strong> (<em>dict</em>) – local dictionary to search</li>
<li><strong>default</strong> (<em>str</em>) – </li>
<li><strong>strict</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the varname which is Val (if it exists)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_varname_from_stack">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_varname_from_stack</code><span class="sig-paren">(</span><em>var</em>, <em>N=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varname_from_stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_varname_from_stack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_varstr">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_varstr</code><span class="sig-paren">(</span><em>val</em>, <em>pad_stdout=True</em>, <em>locals_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_varstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.get_varval_from_locals">
<code class="descclassname">utool.util_dbg.</code><code class="descname">get_varval_from_locals</code><span class="sig-paren">(</span><em>key</em>, <em>locals_</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varval_from_locals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.get_varval_from_locals" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a variable value from locals.
Different from locals()[‘varname’] because
get_varval_from_locals(‘varname.attribute’, locals())
is allowed</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.haveIPython">
<code class="descclassname">utool.util_dbg.</code><code class="descname">haveIPython</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#haveIPython"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.haveIPython" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if IPython is available</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.import_testdata">
<code class="descclassname">utool.util_dbg.</code><code class="descname">import_testdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#import_testdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.import_testdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.inIPython">
<code class="descclassname">utool.util_dbg.</code><code class="descname">inIPython</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#inIPython"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.inIPython" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if running in IPython.</p>
<p>Reference: <a class="reference external" href="https://stackoverflow.com/a/39662359">https://stackoverflow.com/a/39662359</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.in_jupyter_notebook">
<code class="descclassname">utool.util_dbg.</code><code class="descname">in_jupyter_notebook</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#in_jupyter_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.in_jupyter_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://stackoverflow.com/questions/15411967/how-can-i-check-if-code-is-executed-in-the-ipython-notebook">http://stackoverflow.com/questions/15411967/how-can-i-check-if-code-is-executed-in-the-ipython-notebook</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.ipython_execstr">
<code class="descclassname">utool.util_dbg.</code><code class="descname">ipython_execstr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#ipython_execstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.ipython_execstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.is_valid_varname">
<code class="descclassname">utool.util_dbg.</code><code class="descname">is_valid_varname</code><span class="sig-paren">(</span><em>varname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#is_valid_varname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.is_valid_varname" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks syntax and validity of a variable name</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.load_testdata">
<code class="descclassname">utool.util_dbg.</code><code class="descname">load_testdata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#load_testdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.load_testdata" title="Permalink to this definition">¶</a></dt>
<dd><p>tries to load previously cached testdata</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.module_functions">
<code class="descclassname">utool.util_dbg.</code><code class="descname">module_functions</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#module_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.module_functions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.parse_locals_keylist">
<code class="descclassname">utool.util_dbg.</code><code class="descname">parse_locals_keylist</code><span class="sig-paren">(</span><em>locals_</em>, <em>key_list</em>, <em>strlist_=None</em>, <em>prefix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#parse_locals_keylist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.parse_locals_keylist" title="Permalink to this definition">¶</a></dt>
<dd><p>For each key in keylist, puts its value in locals into a stringlist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>locals</strong> – </li>
<li><strong>key_list</strong> (<em>list</em>) – </li>
<li><strong>strlist</strong> (<em>list</em>) – (default = None)</li>
<li><strong>prefix</strong> (<em>unicode</em>) – (default = u’‘)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id79"><span class="problematic" id="id80">strlist_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dbg –exec-parse_locals_keylist</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locals_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;num&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[(</span><span class="nb">len</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">),</span> <span class="s1">&#39;bar.lower.__name__&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strlist_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strlist_</span> <span class="o">=</span> <span class="n">parse_locals_keylist</span><span class="p">(</span><span class="n">locals_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">,</span> <span class="n">strlist_</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;strlist_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">strlist_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">strlist_ = [</span>
<span class="go">    &#39; len(foo) = 3&#39;,</span>
<span class="go">    &quot; bar.lower.__name__ = &#39;lower&#39;&quot;,</span>
<span class="go">    &#39; eggs = 4&#39;,</span>
<span class="go">    &#39; num = 5&#39;,</span>
<span class="go">    &#39; other = NameError (this likely due to a misformatted printex and is not related to the exception)&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.print_frame">
<code class="descclassname">utool.util_dbg.</code><code class="descname">print_frame</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#print_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.print_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.print_keys">
<code class="descclassname">utool.util_dbg.</code><code class="descname">print_keys</code><span class="sig-paren">(</span><em>key_list</em>, <em>locals_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#print_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.print_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.print_traceback">
<code class="descclassname">utool.util_dbg.</code><code class="descname">print_traceback</code><span class="sig-paren">(</span><em>with_colors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#print_traceback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.print_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>prints current stack</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.printex">
<code class="descclassname">utool.util_dbg.</code><code class="descname">printex</code><span class="sig-paren">(</span><em>ex</em>, <em>msg='[!?] Caught exception'</em>, <em>prefix=None</em>, <em>key_list=[]</em>, <em>locals_=None</em>, <em>iswarning=False</em>, <em>tb=False</em>, <em>pad_stdout=True</em>, <em>N=0</em>, <em>use_stdout=False</em>, <em>reraise=False</em>, <em>msg_=None</em>, <em>keys=None</em>, <em>colored=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#printex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.printex" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints (and/or logs) an exception with relevant info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex</strong> (<em>Exception</em>) – exception to print</li>
<li><strong>msg</strong> (<em>None</em>) – a message to display to the user</li>
<li><strong>keys</strong> (<em>None</em>) – a list of strings denoting variables or expressions of interest</li>
<li><strong>iswarning</strong> (<em>bool</em>) – prints as a warning rather than an error if True (defaults to False)</li>
<li><strong>tb</strong> (<em>bool</em>) – if True prints the traceback in the error message</li>
<li><strong>pad_stdout</strong> (<em>bool</em>) – separate the error message from the rest of stdout with newlines</li>
<li><strong>prefix</strong> (<em>None</em>) – </li>
<li><strong>locals</strong> (<em>None</em>) – </li>
<li><strong>N</strong> (<em>int</em>) – </li>
<li><strong>use_stdout</strong> (<em>bool</em>) – </li>
<li><strong>reraise</strong> (<em>bool</em>) – </li>
<li><strong>msg</strong> – </li>
<li><strong>key_list</strong> (<em>list</em>) – DEPRICATED use keys</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.printvar">
<code class="descclassname">utool.util_dbg.</code><code class="descname">printvar</code><span class="sig-paren">(</span><em>locals_</em>, <em>varname</em>, <em>attr='.shape'</em>, <em>typepad=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#printvar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.printvar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.printvar2">
<code class="descclassname">utool.util_dbg.</code><code class="descname">printvar2</code><span class="sig-paren">(</span><em>varstr</em>, <em>attr=''</em>, <em>typepad=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#printvar2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.printvar2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.public_attributes">
<code class="descclassname">utool.util_dbg.</code><code class="descname">public_attributes</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#public_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.public_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.qflag">
<code class="descclassname">utool.util_dbg.</code><code class="descname">qflag</code><span class="sig-paren">(</span><em>num=None</em>, <em>embed_=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#qflag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.qflag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.quasiquote">
<code class="descclassname">utool.util_dbg.</code><code class="descname">quasiquote</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#quasiquote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.quasiquote" title="Permalink to this definition">¶</a></dt>
<dd><p>mimics lisp quasi quote functionality</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.quit">
<code class="descclassname">utool.util_dbg.</code><code class="descname">quit</code><span class="sig-paren">(</span><em>num=None</em>, <em>embed_=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#quit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.quit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.quitflag">
<code class="descclassname">utool.util_dbg.</code><code class="descname">quitflag</code><span class="sig-paren">(</span><em>num=None</em>, <em>embed_=False</em>, <em>parent_locals=None</em>, <em>parent_globals=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#quitflag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.quitflag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dbg.save_testdata">
<code class="descclassname">utool.util_dbg.</code><code class="descname">save_testdata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#save_testdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.save_testdata" title="Permalink to this definition">¶</a></dt>
<dd><p>caches testdata</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.search_stack_for_localvar">
<code class="descclassname">utool.util_dbg.</code><code class="descname">search_stack_for_localvar</code><span class="sig-paren">(</span><em>varname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#search_stack_for_localvar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.search_stack_for_localvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a local varable somewhere in the stack and returns the value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>varname</strong> (<em>str</em>) – variable name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None if varname is not found else its value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.search_stack_for_var">
<code class="descclassname">utool.util_dbg.</code><code class="descname">search_stack_for_var</code><span class="sig-paren">(</span><em>varname</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#search_stack_for_var"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.search_stack_for_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a varable (local or global) somewhere in the stack and returns the value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>varname</strong> (<em>str</em>) – variable name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None if varname is not found else its value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dbg.super_print">
<code class="descclassname">utool.util_dbg.</code><code class="descname">super_print</code><span class="sig-paren">(</span><em>val</em>, <em>locals_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#super_print"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dbg.super_print" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_decor">
<span id="utool-util-decor-module"></span><h2>utool.util_decor module<a class="headerlink" href="#module-utool.util_decor" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_decor.accepts_numpy">
<code class="descclassname">utool.util_decor.</code><code class="descname">accepts_numpy</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.accepts_numpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the first input to be a numpy array and get result in numpy form</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.accepts_scalar_input">
<code class="descclassname">utool.util_decor.</code><code class="descname">accepts_scalar_input</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_scalar_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.accepts_scalar_input" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE in favor of accepts_scalar_input2
only accepts one input as vector</p>
<p>accepts_scalar_input is a decorator which expects to be used on class
methods.  It lets the user pass either a vector or a scalar to a function,
as long as the function treats everything like a vector. Input and output
is sanitized to the user expected format on return.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>func</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">wrp_asi</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">func</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_decor –test-accepts_scalar_input</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@accepts_scalar_input</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">list_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># dummy self because this decorator is for classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.accepts_scalar_input2">
<code class="descclassname">utool.util_decor.</code><code class="descname">accepts_scalar_input2</code><span class="sig-paren">(</span><em>argx_list=[0], outer_wrapper=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_scalar_input2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.accepts_scalar_input2" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME: change to better name. Complete implementation.</p>
<p>used in IBEIS setters</p>
<p>accepts_scalar_input2 is a decorator which expects to be used on class
methods.  It lets the user pass either a vector or a scalar to a function,
as long as the function treats everything like a vector. Input and output
is sanitized to the user expected format on return.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>argx_list</strong> (<em>list</em>) – indexes of args that could be passed in as scalars to
code that operates on lists. Ensures that decorated function gets
the argument as an iterable.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.accepts_scalar_input_vector_output">
<code class="descclassname">utool.util_decor.</code><code class="descname">accepts_scalar_input_vector_output</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_scalar_input_vector_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.accepts_scalar_input_vector_output" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE IN FAVOR OF accepts_scalar_input2</p>
<p>accepts_scalar_input_vector_output</p>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>Input:                           Excpeted Output 1to1   Expected Output 1toM</dt>
<dd>scalar         : 1           x                      [X]
n element list : [1, 2, 3]   [x, y, z]              [[X], [Y], [Z]]
1 element list : [1]         [x]                    [[X]]
0 element list : []          []                     []</dd>
</dl>
<p>There seems to be no real issue here, I be the thing that tripped me up
was when using sql and getting multiple columns that returned the
values inside of the N-tuple whereas when you get one column you get
one element inside of a 1-tuple, no that still makes sense.  There was
something where when you couln’t unpack it becuase it was already
empty…</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.apply_docstr">
<code class="descclassname">utool.util_decor.</code><code class="descname">apply_docstr</code><span class="sig-paren">(</span><em>docstr_func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#apply_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.apply_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes docstr of one functio to that of another</p>
</dd></dl>

<dl class="class">
<dt id="utool.util_decor.classproperty">
<em class="property">class </em><code class="descclassname">utool.util_decor.</code><code class="descname">classproperty</code><a class="reference internal" href="_modules/utool/util_decor.html#classproperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.classproperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">property</span></code></p>
<p>Decorates a method turning it into a classattribute</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/1697501/python-staticmethod-with-property">https://stackoverflow.com/questions/1697501/python-staticmethod-with-property</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.debug_function_exceptions">
<code class="descclassname">utool.util_decor.</code><code class="descname">debug_function_exceptions</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#debug_function_exceptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.debug_function_exceptions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_decor.dummy_args_decor">
<code class="descclassname">utool.util_decor.</code><code class="descname">dummy_args_decor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#dummy_args_decor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.dummy_args_decor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_decor.getter_1to1">
<code class="descclassname">utool.util_decor.</code><code class="descname">getter_1to1</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_decor.getter_1to1" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE in favor of accepts_scalar_input2
only accepts one input as vector</p>
<p>accepts_scalar_input is a decorator which expects to be used on class
methods.  It lets the user pass either a vector or a scalar to a function,
as long as the function treats everything like a vector. Input and output
is sanitized to the user expected format on return.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>func</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">wrp_asi</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">func</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_decor –test-accepts_scalar_input</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@accepts_scalar_input</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">list_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># dummy self because this decorator is for classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.getter_1toM">
<code class="descclassname">utool.util_decor.</code><code class="descname">getter_1toM</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_decor.getter_1toM" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE IN FAVOR OF accepts_scalar_input2</p>
<p>accepts_scalar_input_vector_output</p>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>Input:                           Excpeted Output 1to1   Expected Output 1toM</dt>
<dd>scalar         : 1           x                      [X]
n element list : [1, 2, 3]   [x, y, z]              [[X], [Y], [Z]]
1 element list : [1]         [x]                    [[X]]
0 element list : []          []                     []</dd>
</dl>
<p>There seems to be no real issue here, I be the thing that tripped me up
was when using sql and getting multiple columns that returned the
values inside of the N-tuple whereas when you get one column you get
one element inside of a 1-tuple, no that still makes sense.  There was
something where when you couln’t unpack it becuase it was already
empty…</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.ignores_exc_tb">
<code class="descclassname">utool.util_decor.</code><code class="descname">ignores_exc_tb</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#ignores_exc_tb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.ignores_exc_tb" title="Permalink to this definition">¶</a></dt>
<dd><p>PYTHON 3 VERSION</p>
<p>ignore_exc_tb decorates a function and remove both itself
and the function from any exception traceback that occurs.</p>
<p>This is useful to decorate other trivial decorators
which are polluting your stacktrace.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.indent_func">
<code class="descclassname">utool.util_decor.</code><code class="descname">indent_func</code><span class="sig-paren">(</span><em>input_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#indent_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.indent_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes either no arguments or an alias label</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.interested">
<code class="descclassname">utool.util_decor.</code><code class="descname">interested</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#interested"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.interested" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_decor.lazyfunc">
<code class="descclassname">utool.util_decor.</code><code class="descname">lazyfunc</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#lazyfunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.lazyfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a memcached version of a function</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.memoize">
<code class="descclassname">utool.util_decor.</code><code class="descname">memoize</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.memoize" title="Permalink to this definition">¶</a></dt>
<dd><p>simple memoization decorator</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://wiki.python.org/moin/PythonDecoratorLibrary#Memoize">https://wiki.python.org/moin/PythonDecoratorLibrary#Memoize</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – live python function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">func</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_decor memoize</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closure</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">incr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">value</span> <span class="o">=</span> <span class="n">closure</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_memo</span> <span class="o">=</span> <span class="n">memoize</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Call memoized version&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Counter should no longer increase&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Closure changes result without memoization&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closure</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.memoize_nonzero">
<code class="descclassname">utool.util_decor.</code><code class="descname">memoize_nonzero</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize_nonzero"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.memoize_nonzero" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoization decorator for functions taking a nonzero number of arguments.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/578231-fastest-memoization-decorator">http://code.activestate.com/recipes/578231-fastest-memoization-decorator</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.memoize_single">
<code class="descclassname">utool.util_decor.</code><code class="descname">memoize_single</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize_single"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.memoize_single" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoization decorator for a function taking a single argument</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/578231-fastest-memoization-decorator">http://code.activestate.com/recipes/578231-fastest-memoization-decorator</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.memoize_zero">
<code class="descclassname">utool.util_decor.</code><code class="descname">memoize_zero</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize_zero"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.memoize_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Memoization decorator for a function taking no arguments</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.on_exception_report_input">
<code class="descclassname">utool.util_decor.</code><code class="descname">on_exception_report_input</code><span class="sig-paren">(</span><em>func_=None</em>, <em>force=False</em>, <em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#on_exception_report_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.on_exception_report_input" title="Permalink to this definition">¶</a></dt>
<dd><p>If an error is thrown in the scope of this function’s stack frame then the
decorated function name and the arguments passed to it will be printed to
the utool print function.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.preserve_sig">
<code class="descclassname">utool.util_decor.</code><code class="descname">preserve_sig</code><span class="sig-paren">(</span><em>wrapper</em>, <em>orig_func</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#preserve_sig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.preserve_sig" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorates a wrapper function.</p>
<p>It seems impossible to presever signatures in python 2 without eval
(Maybe another option is to write to a temporary module?)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>wrapper</strong> – the function wrapping orig_func to change the signature of</li>
<li><strong>orig_func</strong> – the original function to take the signature from</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://emptysqua.re/blog/copying-a-python-functions-signature/">http://emptysqua.re/blog/copying-a-python-functions-signature/</a>
<a class="reference external" href="https://code.google.com/p/micheles/source/browse/decorator/src/decorator.py">https://code.google.com/p/micheles/source/browse/decorator/src/decorator.py</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_decor –test-preserve_sig</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ut.rrrr(False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listinput_</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot; just a test function &quot;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">listinput_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#orig_func = ut.take</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_func</span> <span class="o">=</span> <span class="n">myfunction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapper</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">accepts_scalar_input2</span><span class="p">([</span><span class="mi">0</span><span class="p">])(</span><span class="n">orig_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_wrp_preserve1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">preserve_sig</span><span class="p">(</span><span class="n">wrapper</span><span class="p">,</span> <span class="n">orig_func</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_wrp_preserve2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">preserve_sig</span><span class="p">(</span><span class="n">wrapper</span><span class="p">,</span> <span class="n">orig_func</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_wrp_preserve2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">_wrp_preserve1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_wrp_preserve2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">_wrp_preserve2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;source _wrp_preserve1 = %s&#39; % (ut.get_func_sourcecode(_wrp_preserve1),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;source _wrp_preserve2 = %s&#39; % (ut.get_func_sourcecode(_wrp_preserve2)),)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">_wrp_preserve1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.show_return_value">
<code class="descclassname">utool.util_decor.</code><code class="descname">show_return_value</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#show_return_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.show_return_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_decor.test_ignore_exec_traceback">
<code class="descclassname">utool.util_decor.</code><code class="descname">test_ignore_exec_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#test_ignore_exec_traceback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.test_ignore_exec_traceback" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_decor –test-test_ignore_exec_traceback</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">test_ignore_exec_traceback</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_decor.time_func">
<code class="descclassname">utool.util_decor.</code><code class="descname">time_func</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#time_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.time_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_decor.tracefunc">
<code class="descclassname">utool.util_decor.</code><code class="descname">tracefunc</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#tracefunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.tracefunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_decor.tracefunc_xml">
<code class="descclassname">utool.util_decor.</code><code class="descname">tracefunc_xml</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#tracefunc_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_decor.tracefunc_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes output of function to be printed in an XML style block</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_depricated">
<span id="utool-util-depricated-module"></span><h2>utool.util_depricated module<a class="headerlink" href="#module-utool.util_depricated" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_depricated.cartesian">
<code class="descclassname">utool.util_depricated.</code><code class="descname">cartesian</code><span class="sig-paren">(</span><em>arrays</em>, <em>out=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_depricated.html#cartesian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_depricated.cartesian" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a cartesian product of input arrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>arrays</strong> (<em>list of array-like</em>) – 1-D arrays to form the cartesian product of</li>
<li><strong>out</strong> (<em>ndarray</em>) – Outvar which is modified in place if specified</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>cartesian products formed of input arrays</dt>
<dd><p class="first last">2-D array of shape (M, len(arrays))</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">out (ndarray)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>gist.github.com/hernamesbarbara/68d073f551565de02ac5</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_depricated</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">cartesian</span><span class="p">(</span><span class="n">arrays</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">out</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="go">array([[1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3],</span>
<span class="go">       [4, 4, 5, 5, 4, 4, 5, 5, 4, 4, 5, 5],</span>
<span class="go">       [6, 7, 6, 7, 6, 7, 6, 7, 6, 7, 6, 7]])</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use itertools product instead</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="s1">&#39;import utool as ut</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">cartesian</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">statements</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;cartesian(arrays)&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;np.array(list(ut.iprod(*arrays)))&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">statements</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_depricated.find_std_inliers">
<code class="descclassname">utool.util_depricated.</code><code class="descname">find_std_inliers</code><span class="sig-paren">(</span><em>data</em>, <em>m=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_depricated.html#find_std_inliers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_depricated.find_std_inliers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_dev">
<span id="utool-util-dev-module"></span><h2>utool.util_dev module<a class="headerlink" href="#module-utool.util_dev" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_dev.ClassAttrDictProxy">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">ClassAttrDictProxy</code><span class="sig-paren">(</span><em>obj</em>, <em>keys</em>, <em>attrs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dict.DictLike" title="utool.util_dict.DictLike"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code></a></p>
<p>Allows class attributes to be specified using dictionary syntax</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">attr2</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ClassAttrDictProxy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;attr1&#39;</span><span class="p">,</span> <span class="s1">&#39;attr2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="p">[</span><span class="s1">&#39;attr2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;baz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">attr2</span> <span class="o">==</span> <span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="s1">&#39;should have changed in object&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_dev.ClassAttrDictProxy.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ClassAttrDictProxy.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ClassAttrDictProxy.setitem">
<code class="descname">setitem</code><span class="sig-paren">(</span><em>key</em>, <em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy.setitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy.setitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dev.ColumnLists">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">ColumnLists</code><span class="sig-paren">(</span><em>key_to_list={}</em>, <em>_meta=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Way to work with column data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key_to_list</strong> (<em>dict</em>) – (default = {})</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev ColumnLists –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_to_list</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ColumnLists</span><span class="p">(</span><span class="n">key_to_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newself</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">take</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">newself</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_dev.ColumnLists.asdataframe">
<code class="descname">asdataframe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.asdataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.asdataframe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.asdict">
<code class="descname">asdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.asdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.asdict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.aspandas">
<code class="descname">aspandas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.aspandas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.aspandas" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.cast_column">
<code class="descname">cast_column</code><span class="sig-paren">(</span><em>keys</em>, <em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.cast_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.cast_column" title="Permalink to this definition">¶</a></dt>
<dd><p>like map column but applies values inplace</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.chunks">
<code class="descname">chunks</code><span class="sig-paren">(</span><em>chunksize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.chunks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.compress">
<code class="descname">compress</code><span class="sig-paren">(</span><em>flags</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.compress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="utool.util_dev.ColumnLists.flatten">
<em class="property">classmethod </em><code class="descname">flatten</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.flatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.flatten" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.get_multis">
<code class="descname">get_multis</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.get_multis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.get_multis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.get_singles">
<code class="descname">get_singles</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.get_singles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.get_singles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.group">
<code class="descname">group</code><span class="sig-paren">(</span><em>labels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.group" title="Permalink to this definition">¶</a></dt>
<dd><p>group as list</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.group_indicies">
<code class="descname">group_indicies</code><span class="sig-paren">(</span><em>labels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.group_indicies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.group_indicies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.group_items">
<code class="descname">group_items</code><span class="sig-paren">(</span><em>labels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.group_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.group_items" title="Permalink to this definition">¶</a></dt>
<dd><p>group as dict</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.loc_by_key">
<code class="descname">loc_by_key</code><span class="sig-paren">(</span><em>key</em>, <em>vals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.loc_by_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.loc_by_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.map_column">
<code class="descname">map_column</code><span class="sig-paren">(</span><em>keys</em>, <em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.map_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.map_column" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>keys</strong> (<em>list</em><em> or </em><em>str</em>) – the column name(s) to apply the <cite>func</cite> to</li>
<li><strong>func</strong> (<em>callable</em>) – applied to each element in the specified columns</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.merge_rows">
<code class="descname">merge_rows</code><span class="sig-paren">(</span><em>key</em>, <em>merge_scalars=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.merge_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.merge_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses key as a unique index an merges all duplicates rows.  Use
cast_column to modify types of columns before merging to affect
behavior of duplicate rectification.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> – row to merge on</li>
<li><strong>merge_scalars</strong> – if True, scalar values become lists</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_to_list</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;uuid&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span>    <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">]],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span>    <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ColumnLists</span><span class="p">(</span><span class="n">key_to_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;uuid&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newself</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">merge_rows</span><span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">newself</span><span class="o">.</span><span class="n">to_csv</span><span class="p">())</span>
<span class="go">#             a,            c,            b,         uuid</span>
<span class="go">              4,          [3],          [4],            3</span>
<span class="go">              5,          [4],          [5],            4</span>
<span class="go">    &quot;[1, 2, 7]&quot;,  &quot;[1, 1, 1]&quot;,  &quot;[1, 2, 7]&quot;,  &quot;[1, 1, 1]&quot;</span>
<span class="go">       &quot;[3, 6]&quot;,     &quot;[2, 2]&quot;,     &quot;[3, 6]&quot;,     &quot;[2, 2]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.print">
<code class="descname">print</code><span class="sig-paren">(</span><em>ignore=None</em>, <em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.print"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.print" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>idxs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy with idxs removed</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.reorder_columns">
<code class="descname">reorder_columns</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.reorder_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.reorder_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.rrr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.rrr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_dev.ColumnLists.shape">
<code class="descname">shape</code><a class="headerlink" href="#utool.util_dev.ColumnLists.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.take">
<code class="descname">take</code><span class="sig-paren">(</span><em>idxs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.take"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.take" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a subset of rows</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.take_column">
<code class="descname">take_column</code><span class="sig-paren">(</span><em>keys</em>, <em>*extra_keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.take_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.take_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a subset of columns</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.to_csv">
<code class="descname">to_csv</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.to_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.to_csv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.ColumnLists.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dev.DictLike_old">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">DictLike_old</code><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>DEPRICATE
TODO: use util_dict.DictLike instead</p>
<dl class="method">
<dt id="utool.util_dev.DictLike_old.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.DictLike_old.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.DictLike_old.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.DictLike_old.iteritems">
<code class="descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.iteritems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.DictLike_old.itervalues">
<code class="descname">itervalues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.itervalues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.itervalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.DictLike_old.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.DictLike_old.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dev.InteractiveIter">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">InteractiveIter</code><span class="sig-paren">(</span><em>iterable=None</em>, <em>enabled=True</em>, <em>startx=0</em>, <em>default_action='next'</em>, <em>custom_actions=[]</em>, <em>wraparound=False</em>, <em>display_item=False</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Choose next value interactively</p>
<p>iterable should be a list, not a generator. sorry</p>
<dl class="classmethod">
<dt id="utool.util_dev.InteractiveIter.eventloop">
<em class="property">classmethod </em><code class="descname">eventloop</code><span class="sig-paren">(</span><em>custom_actions=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.eventloop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.eventloop" title="Permalink to this definition">¶</a></dt>
<dd><p>For use outside of iteration wrapping. Makes an interactive event loop
custom_actions should be specified in format
[dispname, keys, desc, func]</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.InteractiveIter.handle_ans">
<code class="descname">handle_ans</code><span class="sig-paren">(</span><em>ans_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.handle_ans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.handle_ans" title="Permalink to this definition">¶</a></dt>
<dd><p>preforms an actionm based on a user answer</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.InteractiveIter.prompt">
<code class="descname">prompt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.prompt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.prompt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.InteractiveIter.wait_for_input">
<code class="descname">wait_for_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.wait_for_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.wait_for_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dev.InteractivePrompt">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">InteractivePrompt</code><span class="sig-paren">(</span><em>actions={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="utool.util_dev.InteractivePrompt.handle_ans">
<code class="descname">handle_ans</code><span class="sig-paren">(</span><em>ans_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.handle_ans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.handle_ans" title="Permalink to this definition">¶</a></dt>
<dd><p>preforms an actionm based on a user answer</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.InteractivePrompt.loop">
<code class="descname">loop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.loop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.InteractivePrompt.prompt">
<code class="descname">prompt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.prompt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.prompt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.InteractivePrompt.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>tup</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dev.MemoryTracker">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">MemoryTracker</code><span class="sig-paren">(</span><em>lbl='Memtrack Init'</em>, <em>disable=None</em>, <em>avail=True</em>, <em>used=True</em>, <em>total_diff=True</em>, <em>abs_mag=True</em>, <em>peak=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A <code class="docutils literal notranslate"><span class="pre">class</span></code> for tracking memory usage.
On initialization it logs the current available (free) memory.
Calling the report method logs the current available memory as well
as memory usage difference w.r.t the last report.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">(</span><span class="s1">&#39;[ENTRY]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s1">&#39;[BEFORE_CREATE]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">128</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">20</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s1">&#39;[AFTER_CREATE]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">track_obj</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="s1">&#39;arr&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report_objs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report_largest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">arr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s1">&#39;[DELETE]&#39;</span><span class="p">)</span>
<span class="go">#&gt;&gt;&gt; memtrack.report_largest()</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_dev.MemoryTracker.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.collect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.get_available_memory">
<code class="descname">get_available_memory</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.get_available_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.get_available_memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.get_peak_memory">
<code class="descname">get_peak_memory</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.get_peak_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.get_peak_memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.get_used_memory">
<code class="descname">get_used_memory</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.get_used_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.get_used_memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.measure_memory">
<code class="descname">measure_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.measure_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.measure_memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.record">
<code class="descname">record</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.record" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.report">
<code class="descname">report</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.report_largest">
<code class="descname">report_largest</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_largest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_largest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.report_obj">
<code class="descname">report_obj</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_obj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.report_objs">
<code class="descname">report_objs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_objs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_objs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.report_type">
<code class="descname">report_type</code><span class="sig-paren">(</span><em>class_</em>, <em>more=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.MemoryTracker.track_obj">
<code class="descname">track_obj</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.track_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.track_obj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dev.NamedPartial">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">NamedPartial</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#NamedPartial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.NamedPartial" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">functools.partial</span></code>, <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="utool.util_dev.NiceRepr">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">NiceRepr</code><a class="reference internal" href="_modules/utool/util_dev.html#NiceRepr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.NiceRepr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>base class that defines a nice representation and string func
for a class given that the user implements __nice__</p>
<p>Rename to NiceObject?</p>
</dd></dl>

<dl class="class">
<dt id="utool.util_dev.PriorityQueue">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">PriorityQueue</code><span class="sig-paren">(</span><em>items=None</em>, <em>ascending=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>abstracted priority queue for our needs</p>
<p>Combines properties of dicts and heaps
Uses a heap for fast minimum/maximum value search
Uses a dict for fast read only operations</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev PriorityQueue</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/522995-priority-dict-a-priority-queue-with-updatable-prio/">http://code.activestate.com/recipes/522995-priority-dict-a-priority-queue-with-updatable-prio/</a>
<a class="reference external" href="https://stackoverflow.com/questions/33024215/built-in-max-heap-api-in-python">https://stackoverflow.com/questions/33024215/built-in-max-heap-api-in-python</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">29</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">9</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd># TODO: can also use sortedcontainers to maintain priority queue
import sortedcontainers
queue = sortedcontainers.SortedListWithKey(items, key=lambda x: x[1])
queue.add((‘a’, 1))</dd>
</dl>
<dl class="method">
<dt id="utool.util_dev.PriorityQueue.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.PriorityQueue.delete_items">
<code class="descname">delete_items</code><span class="sig-paren">(</span><em>key_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.delete_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.delete_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.PriorityQueue.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.PriorityQueue.peek">
<code class="descname">peek</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.peek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.peek" title="Permalink to this definition">¶</a></dt>
<dd><p>Peek at the next item in the queue</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.PriorityQueue.peek_many">
<code class="descname">peek_many</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.peek_many"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.peek_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually this can be quite inefficient</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">peek_many</span><span class="p">(</span><span class="mi">56</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.PriorityQueue.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>key=NoParam</em>, <em>default=NoParam</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the next item off the queue</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dev.PriorityQueue.pop_many">
<code class="descname">pop_many</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.pop_many"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.pop_many" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dev.PriorityQueue.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dev.Shortlist">
<em class="property">class </em><code class="descclassname">utool.util_dev.</code><code class="descname">Shortlist</code><span class="sig-paren">(</span><em>maxsize=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#Shortlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.Shortlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Keeps an ordered collection of items.
Removes smallest items if size grows to large.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortsize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span> <span class="o">=</span> <span class="n">Shortlist</span><span class="p">(</span><span class="n">shortsize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_dev.Shortlist.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#Shortlist.insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.Shortlist.insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_dev.are_you_sure">
<code class="descclassname">utool.util_dev.</code><code class="descname">are_you_sure</code><span class="sig-paren">(</span><em>msg=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#are_you_sure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.are_you_sure" title="Permalink to this definition">¶</a></dt>
<dd><p>Prompts user to accept or checks command line for -y</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>msg</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">accept or not</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.autopep8_diff">
<code class="descclassname">utool.util_dev.</code><code class="descname">autopep8_diff</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#autopep8_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.autopep8_diff" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fpath</strong> (<em>str</em>) – file path string</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-autopep8_diff –fpath ingest_data.py</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--fpath&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;ingest_data.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">autopep8_diff</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.compile_cython">
<code class="descclassname">utool.util_dev.</code><code class="descname">compile_cython</code><span class="sig-paren">(</span><em>fpath</em>, <em>clean=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#compile_cython"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.compile_cython" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles a cython pyx into a shared library</p>
<p>This seems broken
compiles pyx -&gt; pyd/dylib/so</p>
<p class="rubric">Examples</p>
<p>REAL SETUP.PY OUTPUT
cythoning vtool/linalg_cython.pyx to vtoollinalg_cython.c
C:MinGWbingcc.exe -mdll -O -Wall ^
-IC:Python27Libsite-packagesnumpycoreinclude ^
-IC:Python27include -IC:Python27PC ^
-c vtoollinalg_cython.c ^
-o buildtemp.win32-2.7Releasevtoollinalg_cython.o</p>
<p>writing buildtemp.win32-2.7Releasevtoollinalg_cython.def</p>
<p>C:MinGWbingcc.exe -shared -s buildtemp.win32-2.7Releasevtoollinalg_cython.o buildtemp.win32-2.7Releasevtoollinalg_cython.def -LC:Python27libs -LC:Python27PCbuild -lpython27 -lmsvcr90 -o buildlib.win32-2.7vtoollinalg_cython.pyd</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.copy_text_to_clipboard">
<code class="descclassname">utool.util_dev.</code><code class="descname">copy_text_to_clipboard</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#copy_text_to_clipboard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.copy_text_to_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies text to the clipboard</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>pip install pyperclip
sudo apt-get install xclip
sudo apt-get install xsel</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard">http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard</a>
<a class="reference external" href="http://stackoverflow.com/questions/579687/how-do-i-copy-a-string-to-the-clipboard-on-windows-using-python">http://stackoverflow.com/questions/579687/how-do-i-copy-a-string-to-the-clipboard-on-windows-using-python</a></p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first">import pyperclip
# Qt is by far the fastest, followed by xsel, and then xclip
#
backend_order = [‘xclip’, ‘xsel’, ‘qt’, ‘gtk’]
backend_order = [‘qt’, ‘xsel’, ‘xclip’, ‘gtk’]
for be in backend_order:</p>
<blockquote class="last">
<div>print(‘be = %r’ % (be,))
pyperclip.set_clipboard(be)
%timeit pyperclip.copy(‘a line of reasonable length text’)
%timeit pyperclip.paste()</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.delayed_retry_gen">
<code class="descclassname">utool.util_dev.</code><code class="descname">delayed_retry_gen</code><span class="sig-paren">(</span><em>delay_schedule=[0.1, 1, 10], msg=None, timeout=None, raise_=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#delayed_retry_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.delayed_retry_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>template code for a infinte retry loop</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.dev_ipython_copypaster">
<code class="descclassname">utool.util_dev.</code><code class="descname">dev_ipython_copypaster</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#dev_ipython_copypaster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.dev_ipython_copypaster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.disable_garbage_collection">
<code class="descclassname">utool.util_dev.</code><code class="descname">disable_garbage_collection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#disable_garbage_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.disable_garbage_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.enable_garbage_collection">
<code class="descclassname">utool.util_dev.</code><code class="descname">enable_garbage_collection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#enable_garbage_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.enable_garbage_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.ensure_str_list">
<code class="descclassname">utool.util_dev.</code><code class="descname">ensure_str_list</code><span class="sig-paren">(</span><em>input_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ensure_str_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ensure_str_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.ensureqt">
<code class="descclassname">utool.util_dev.</code><code class="descname">ensureqt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ensureqt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ensureqt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.exec_argparse_funckw">
<code class="descclassname">utool.util_dev.</code><code class="descname">exec_argparse_funckw</code><span class="sig-paren">(</span><em>func</em>, <em>globals_=None</em>, <em>defaults={}</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#exec_argparse_funckw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.exec_argparse_funckw" title="Permalink to this definition">¶</a></dt>
<dd><p>for doctests kwargs</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.exec_func_src
ut.argparse_funckw</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.exec_funckw">
<code class="descclassname">utool.util_dev.</code><code class="descname">exec_funckw</code><span class="sig-paren">(</span><em>func</em>, <em>globals_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#exec_funckw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.exec_funckw" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.argparse_funckw</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.execstr_funckw">
<code class="descclassname">utool.util_dev.</code><code class="descname">execstr_funckw</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#execstr_funckw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.execstr_funckw" title="Permalink to this definition">¶</a></dt>
<dd><p>for doctests kwargs</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.exec_func_src
ut.argparse_funckw</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.extract_timeit_setup">
<code class="descclassname">utool.util_dev.</code><code class="descname">extract_timeit_setup</code><span class="sig-paren">(</span><em>func</em>, <em>doctest_number</em>, <em>sentinal</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#extract_timeit_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.extract_timeit_setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.find_exe">
<code class="descclassname">utool.util_dev.</code><code class="descname">find_exe</code><span class="sig-paren">(</span><em>name</em>, <em>path_hints=[]</em>, <em>required=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#find_exe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.find_exe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.fix_super_reload">
<code class="descclassname">utool.util_dev.</code><code class="descname">fix_super_reload</code><span class="sig-paren">(</span><em>this_class</em>, <em>self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#fix_super_reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.fix_super_reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixes an error where reload causes super(X, self) to raise an exception</p>
<p>The problem is that reloading causes X to point to the wrong version of the
class.  This function fixes the problem by searching and returning the
correct version of the class. See example for proper usage.</p>
<p>USE <cite>ut.super2</cite> INSTEAD</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>this_class</strong> (<em>class</em>) – class passed into super</li>
<li><strong>self</strong> (<em>instance</em>) – instance passed into super</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>DisableExample:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Parent</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># Dont do this, it will error if you reload</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># super(Foo, self).__init__()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># Do this instead</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">_Foo</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">super2</span><span class="p">(</span><span class="n">Foo</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">super</span><span class="p">(</span><span class="n">_Foo</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.focusvim">
<code class="descclassname">utool.util_dev.</code><code class="descname">focusvim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#focusvim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.focusvim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.garbage_collect">
<code class="descclassname">utool.util_dev.</code><code class="descname">garbage_collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#garbage_collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.garbage_collect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_clipboard">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_clipboard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_clipboard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard">http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_cython_exe">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_cython_exe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_cython_exe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_cython_exe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_dev_paste_code">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_dev_paste_code</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_dev_paste_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_dev_paste_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_jagged_stats">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_jagged_stats</code><span class="sig-paren">(</span><em>arr_list</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_jagged_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_jagged_stats" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arr_list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">stats_dict</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_jagged_stats</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats_dict</span> <span class="o">=</span> <span class="n">get_jagged_stats</span><span class="p">(</span><span class="n">arr_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats_dict</span><span class="p">)),</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;   : [2.5, 6.5, 3.0],</span>
<span class="go">    &#39;std&#39;    : [1.118034, 3.5, 0.0],</span>
<span class="go">    &#39;max&#39;    : [4.0, 10.0, 3.0],</span>
<span class="go">    &#39;min&#39;    : [1.0, 3.0, 3.0],</span>
<span class="go">    &#39;nMin&#39;   : [1, 1, 3],</span>
<span class="go">    &#39;nMax&#39;   : [1, 1, 3],</span>
<span class="go">    &#39;shape&#39;  : [&#39;(4,)&#39;, &#39;(2,)&#39;, &#39;(4,)&#39;],</span>
<span class="go">    &#39;num_nan&#39;: [0, 0, 1],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_nonconflicting_path_old">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_nonconflicting_path_old</code><span class="sig-paren">(</span><em>base_fmtstr</em>, <em>dpath</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_nonconflicting_path_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_nonconflicting_path_old" title="Permalink to this definition">¶</a></dt>
<dd><p>base_fmtstr must have a %d in it</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_nonconflicting_string">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_nonconflicting_string</code><span class="sig-paren">(</span><em>base_fmtstr</em>, <em>conflict_set</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_nonconflicting_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_nonconflicting_string" title="Permalink to this definition">¶</a></dt>
<dd><p>gets a new string that wont conflict with something that already exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>base_fmtstr</strong> (<em>str</em>) – </li>
<li><strong>conflict_set</strong> (<em>set</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_nonconflicting_string</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base_fmtstr</span> <span class="o">=</span> <span class="s1">&#39;somestring</span><span class="si">%d</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conflict_set</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;somestring0&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_nonconflicting_string</span><span class="p">(</span><span class="n">base_fmtstr</span><span class="p">,</span> <span class="n">conflict_set</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">somestring1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_object_base">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_object_base</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_object_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_object_base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_object_nbytes">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_object_nbytes</code><span class="sig-paren">(</span><em>obj</em>, <em>fallback_type=None</em>, <em>follow_pointers=False</em>, <em>exclude_modules=True</em>, <em>listoverhead=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_object_nbytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_object_nbytes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_object_nbytes
python -m utool.util_dev –test-get_object_nbytes:1</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_nbytes</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;nBytes = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nBytes</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nBytes = 8</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">species</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">TEST_SPECIES</span><span class="o">.</span><span class="n">ZEB_PLAIN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaids</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">get_valid_aids</span><span class="p">(</span><span class="n">species</span><span class="o">=</span><span class="n">species</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daids</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">get_valid_aids</span><span class="p">(</span><span class="n">species</span><span class="o">=</span><span class="n">species</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qreq_</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">new_query_request</span><span class="p">(</span><span class="n">qaids</span><span class="p">,</span> <span class="n">daids</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_nbytes</span><span class="p">(</span><span class="n">qreq_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">(</span><span class="n">nBytes</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">,))</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first">import sys
sizedict = {key: sys.getsizeof(key()) for key in [dict, list, set, tuple, int, float]}
ut.print_dict(sizedict)
sizedict = {</p>
<blockquote>
<div>&lt;type ‘tuple’&gt;: 56,
&lt;type ‘set’&gt;: 232,
&lt;type ‘list’&gt;: 72,
&lt;type ‘float’&gt;: 24,
&lt;type ‘int’&gt;: 24,
&lt;type ‘dict’&gt;: 280,</div></blockquote>
<p class="last">}</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_object_size_str">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_object_size_str</code><span class="sig-paren">(</span><em>obj</em>, <em>lbl=''</em>, <em>unit=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_object_size_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_object_size_str" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_object_size_str –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">512</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">nBytes</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">result = &#39;5.00 KB&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_overlaps">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_overlaps</code><span class="sig-paren">(</span><em>set1</em>, <em>set2</em>, <em>s1='s1'</em>, <em>s2='s2'</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_overlaps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_partial_func_name">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_partial_func_name</code><span class="sig-paren">(</span><em>func</em>, <em>precision=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_partial_func_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_partial_func_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_setdiff_info">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_setdiff_info</code><span class="sig-paren">(</span><em>set1</em>, <em>set2</em>, <em>s1='s1'</em>, <em>s2='s2'</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_setdiff_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_setdiff_items">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_setdiff_items</code><span class="sig-paren">(</span><em>set1</em>, <em>set2</em>, <em>s1='s1'</em>, <em>s2='s2'</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_setdiff_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_statdict">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_statdict</code><span class="sig-paren">(</span><em>list_</em>, <em>axis=None</em>, <em>use_nan=False</em>, <em>use_sum=False</em>, <em>use_median=False</em>, <em>size=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_statdict" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>listlike</em>) – values to get statistics of</li>
<li><strong>axis</strong> (<em>int</em>) – if <cite>list_</cite> is ndarray then this specifies the axis</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>stats: dictionary of common numpy statistics</dt>
<dd><p class="first last">(min, max, mean, std, nMin, nMax, shape)</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">OrderedDict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>get_stats_str</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_stats
python -m utool.util_dev –test-get_stats:1</dd>
<dt>Examples0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;: np.array([0.5206, 0.6425], dtype=np.float32),</span>
<span class="go">    &#39;std&#39;: np.array([0.2854, 0.2517], dtype=np.float32),</span>
<span class="go">    &#39;max&#39;: np.array([0.9637, 0.9256], dtype=np.float32),</span>
<span class="go">    &#39;min&#39;: np.array([0.0202, 0.0871], dtype=np.float32),</span>
<span class="go">    &#39;nMin&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;nMax&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;shape&#39;: (10, 2),</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
<dt>Examples1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">strkeys</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{mean: 20.0, std: 13.2, max: 41.0, min: 0.0, nMin: 7, nMax: 3, shape: (100,), num_nan: 1}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_stats">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_stats</code><span class="sig-paren">(</span><em>list_</em>, <em>axis=None</em>, <em>use_nan=False</em>, <em>use_sum=False</em>, <em>use_median=False</em>, <em>size=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_stats" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>listlike</em>) – values to get statistics of</li>
<li><strong>axis</strong> (<em>int</em>) – if <cite>list_</cite> is ndarray then this specifies the axis</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>stats: dictionary of common numpy statistics</dt>
<dd><p class="first last">(min, max, mean, std, nMin, nMax, shape)</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">OrderedDict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>get_stats_str</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_stats
python -m utool.util_dev –test-get_stats:1</dd>
<dt>Examples0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;: np.array([0.5206, 0.6425], dtype=np.float32),</span>
<span class="go">    &#39;std&#39;: np.array([0.2854, 0.2517], dtype=np.float32),</span>
<span class="go">    &#39;max&#39;: np.array([0.9637, 0.9256], dtype=np.float32),</span>
<span class="go">    &#39;min&#39;: np.array([0.0202, 0.0871], dtype=np.float32),</span>
<span class="go">    &#39;nMin&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;nMax&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;shape&#39;: (10, 2),</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
<dt>Examples1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">strkeys</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{mean: 20.0, std: 13.2, max: 41.0, min: 0.0, nMin: 7, nMax: 3, shape: (100,), num_nan: 1}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_stats_str">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_stats_str</code><span class="sig-paren">(</span><em>list_=None</em>, <em>newlines=False</em>, <em>keys=None</em>, <em>exclude_keys=[]</em>, <em>lbl=None</em>, <em>precision=None</em>, <em>axis=0</em>, <em>stat_dict=None</em>, <em>use_nan=False</em>, <em>align=False</em>, <em>use_median=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_stats_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_stats_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the string version of get_stats</p>
<p>DEPRICATE in favor of ut.repr3(ut.get_stats(…))</p>
<p>if keys is not None then it only displays chosen keys
excluded keys are always removed</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_stats_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_keys</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stat_str</span> <span class="o">=</span> <span class="n">get_stats_str</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">newlines</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="n">exclude_keys</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">stat_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;mean&#39;: 3, &#39;std&#39;: 1.41, &#39;max&#39;: 5, &#39;min&#39;: 1, &#39;nMin&#39;: 1, &#39;nMax&#39;: 1, &#39;shape&#39;: (5,)}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>repr2
get_stats</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.get_submodules_from_dpath">
<code class="descclassname">utool.util_dev.</code><code class="descname">get_submodules_from_dpath</code><span class="sig-paren">(</span><em>dpath</em>, <em>only_packages=False</em>, <em>recursive=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_submodules_from_dpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.get_submodules_from_dpath" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dpath</strong> (<em>str</em>) – directory path</li>
<li><strong>only_packages</strong> (<em>bool</em>) – if True returns only package directories,
otherwise returns module files. (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">submod_fpaths</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –exec-get_submodules_from_dpath –only_packages</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dpath&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_packages</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only_packages&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">submod_fpaths</span> <span class="o">=</span> <span class="n">get_submodules_from_dpath</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">only_packages</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">submod_fpaths</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">lmap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">,</span> <span class="n">submod_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;submod_fpaths = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">submod_fpaths</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.grace_period">
<code class="descclassname">utool.util_dev.</code><code class="descname">grace_period</code><span class="sig-paren">(</span><em>msg=''</em>, <em>seconds=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#grace_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.grace_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives user a window to stop a process before it happens</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.init_catch_ctrl_c">
<code class="descclassname">utool.util_dev.</code><code class="descname">init_catch_ctrl_c</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#init_catch_ctrl_c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.init_catch_ctrl_c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.input_timeout">
<code class="descclassname">utool.util_dev.</code><code class="descname">input_timeout</code><span class="sig-paren">(</span><em>msg='Waiting for input...'</em>, <em>timeout=30</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#input_timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.input_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME: Function does not work quite right yet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>msg</strong> (<em>str</em>) – </li>
<li><strong>timeout</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ans</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><p>?</p>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1335507/keyboard-input-with-timeout-in-python">http://stackoverflow.com/questions/1335507/keyboard-input-with-timeout-in-python</a>
<a class="reference external" href="http://home.wlu.edu/~levys/software/kbhit.py">http://home.wlu.edu/~levys/software/kbhit.py</a>
<a class="reference external" href="http://stackoverflow.com/questions/3471461/raw-input-and-timeout/3911560#3911560">http://stackoverflow.com/questions/3471461/raw-input-and-timeout/3911560#3911560</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Waiting for input...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeout</span> <span class="o">=</span> <span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans</span> <span class="o">=</span> <span class="n">input_timeout</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.instancelist">
<code class="descclassname">utool.util_dev.</code><code class="descname">instancelist</code><span class="sig-paren">(</span><em>obj_list</em>, <em>check=False</em>, <em>shared_attrs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#instancelist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.instancelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes methods and attribute calls on a list of objects of the same type</p>
<p>Bundles a list of object of the same type into a single object.
The new object contains the same functions as each original object
but applies them to each element of the list independantly when called.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev instancelist</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span> <span class="s1">&#39;bye&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">instancelist</span><span class="p">(</span><span class="n">obj_list</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isalpha</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.inverable_group_multi_list">
<code class="descclassname">utool.util_dev.</code><code class="descname">inverable_group_multi_list</code><span class="sig-paren">(</span><em>item_lists</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#inverable_group_multi_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.inverable_group_multi_list" title="Permalink to this definition">¶</a></dt>
<dd><p>aid_list1 = np.array([1, 1, 2, 2, 3, 3])
aid2_list = np.array([4, 2, 1, 9, 8, 7])
item_lists = (np.array(aid1_list), np.array(aid2_list))</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.inverable_unique_two_lists">
<code class="descclassname">utool.util_dev.</code><code class="descname">inverable_unique_two_lists</code><span class="sig-paren">(</span><em>item1_list</em>, <em>item2_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#inverable_unique_two_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.inverable_unique_two_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>item1_list = aid1_list
item2_list = aid2_list</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.ipcopydev">
<code class="descclassname">utool.util_dev.</code><code class="descname">ipcopydev</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ipcopydev"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.ipcopydev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.is_developer">
<code class="descclassname">utool.util_dev.</code><code class="descname">is_developer</code><span class="sig-paren">(</span><em>mycomputers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#is_developer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.is_developer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.iup">
<code class="descclassname">utool.util_dev.</code><code class="descname">iup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#iup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.iup" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut when pt is not imported</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.make_at_least_n_items_valid">
<code class="descclassname">utool.util_dev.</code><code class="descname">make_at_least_n_items_valid</code><span class="sig-paren">(</span><em>flag_list</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#make_at_least_n_items_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.make_at_least_n_items_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>tries to make at least min(len(flag_list, n) items True in flag_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>flag_list</strong> (<em>list</em>) – list of booleans</li>
<li><strong>n</strong> (<em>int</em>) – number of items to ensure are True</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-make_at_least_n_items_valid</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list</span> <span class="o">=</span> <span class="n">make_at_least_n_items_valid</span><span class="p">(</span><span class="n">flag_list</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">flag_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[ True  True  True  True False False False  True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.make_call_graph">
<code class="descclassname">utool.util_dev.</code><code class="descname">make_call_graph</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#make_call_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.make_call_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>profile with pycallgraph</p>
<p class="rubric">Example</p>
<p>pycallgraph graphviz – ./mypythonscript.py</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pycallgraph.slowchop.com/en/master/">http://pycallgraph.slowchop.com/en/master/</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.make_object_graph">
<code class="descclassname">utool.util_dev.</code><code class="descname">make_object_graph</code><span class="sig-paren">(</span><em>obj</em>, <em>fpath='sample_graph.png'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#make_object_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.make_object_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>memoryprofile with objgraph</p>
<p class="rubric">Examples</p>
<p>#import objgraph
#objgraph.show_most_common_types()
#objgraph.show_growth()
#memtrack.report()
#memtrack.report()
#objgraph.show_growth()
#import gc
#gc.collect()
#memtrack.report()
#y = 0
#objgraph.show_growth()
#memtrack.report()
#utool.embed()</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://mg.pov.lt/objgraph/">http://mg.pov.lt/objgraph/</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.memory_dump">
<code class="descclassname">utool.util_dev.</code><code class="descname">memory_dump</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#memory_dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.memory_dump" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/141351/how-do-i-find-what-is-using-memory-in-a-python-process-in-a-production-system">http://stackoverflow.com/questions/141351/how-do-i-find-what-is-using-memory-in-a-python-process-in-a-production-system</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.numpy_list_num_bits">
<code class="descclassname">utool.util_dev.</code><code class="descname">numpy_list_num_bits</code><span class="sig-paren">(</span><em>nparr_list</em>, <em>expected_type</em>, <em>expected_dims</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#numpy_list_num_bits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.numpy_list_num_bits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.overrideable_partial">
<code class="descclassname">utool.util_dev.</code><code class="descname">overrideable_partial</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**default_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#overrideable_partial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.overrideable_partial" title="Permalink to this definition">¶</a></dt>
<dd><p>like partial, but given kwargs can be overrideden at calltime</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.pandas_reorder">
<code class="descclassname">utool.util_dev.</code><code class="descname">pandas_reorder</code><span class="sig-paren">(</span><em>df</em>, <em>order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#pandas_reorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.pandas_reorder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.print_object_size">
<code class="descclassname">utool.util_dev.</code><code class="descname">print_object_size</code><span class="sig-paren">(</span><em>obj</em>, <em>lbl=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#print_object_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.print_object_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.print_object_size_tree">
<code class="descclassname">utool.util_dev.</code><code class="descname">print_object_size_tree</code><span class="sig-paren">(</span><em>obj</em>, <em>lbl='obj'</em>, <em>maxdepth=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#print_object_size_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.print_object_size_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Needs work</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.pylab_qt4">
<code class="descclassname">utool.util_dev.</code><code class="descname">pylab_qt4</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#pylab_qt4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.pylab_qt4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.report_memsize">
<code class="descclassname">utool.util_dev.</code><code class="descname">report_memsize</code><span class="sig-paren">(</span><em>obj</em>, <em>name=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#report_memsize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.report_memsize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.reset_catch_ctrl_c">
<code class="descclassname">utool.util_dev.</code><code class="descname">reset_catch_ctrl_c</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#reset_catch_ctrl_c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.reset_catch_ctrl_c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.search_module">
<code class="descclassname">utool.util_dev.</code><code class="descname">search_module</code><span class="sig-paren">(</span><em>mod</em>, <em>pat</em>, <em>ignore_case=True</em>, <em>recursive=False</em>, <em>_seen=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#search_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.search_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches module functions, classes, and constants for members matching a
pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mod</strong> (<em>module</em>) – live python module</li>
<li><strong>pat</strong> (<em>str</em>) – regular expression</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">found_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –exec-search_module –mod=utool –pat=module
python -m utool.util_dev –exec-search_module –mod=opengm –pat=cut
python -m utool.util_dev –exec-search_module –mod=opengm –pat=multi
python -m utool.util_dev –exec-search_module –mod=utool –pat=Levenshtein</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_case</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mod&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pat</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--pat&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;search&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;pat = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pat</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mod</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_list</span> <span class="o">=</span> <span class="n">search_module</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">pat</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="n">recursive</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;found_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">found_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>mod = cv2
pat = ‘freak’</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.search_utool">
<code class="descclassname">utool.util_dev.</code><code class="descname">search_utool</code><span class="sig-paren">(</span><em>pat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#search_utool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.search_utool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.set_clipboard">
<code class="descclassname">utool.util_dev.</code><code class="descname">set_clipboard</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#set_clipboard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.set_clipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for copy_text_to_clipboard</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.set_overlap_items">
<code class="descclassname">utool.util_dev.</code><code class="descname">set_overlap_items</code><span class="sig-paren">(</span><em>set1</em>, <em>set2</em>, <em>s1='s1'</em>, <em>s2='s2'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#set_overlap_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.set_overlap_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.set_overlaps">
<code class="descclassname">utool.util_dev.</code><code class="descname">set_overlaps</code><span class="sig-paren">(</span><em>set1</em>, <em>set2</em>, <em>s1='s1'</em>, <em>s2='s2'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#set_overlaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.set_overlaps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.stats_dict">
<code class="descclassname">utool.util_dev.</code><code class="descname">stats_dict</code><span class="sig-paren">(</span><em>list_</em>, <em>axis=None</em>, <em>use_nan=False</em>, <em>use_sum=False</em>, <em>use_median=False</em>, <em>size=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.stats_dict" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>listlike</em>) – values to get statistics of</li>
<li><strong>axis</strong> (<em>int</em>) – if <cite>list_</cite> is ndarray then this specifies the axis</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>stats: dictionary of common numpy statistics</dt>
<dd><p class="first last">(min, max, mean, std, nMin, nMax, shape)</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">OrderedDict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>get_stats_str</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –test-get_stats
python -m utool.util_dev –test-get_stats:1</dd>
<dt>Examples0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;: np.array([0.5206, 0.6425], dtype=np.float32),</span>
<span class="go">    &#39;std&#39;: np.array([0.2854, 0.2517], dtype=np.float32),</span>
<span class="go">    &#39;max&#39;: np.array([0.9637, 0.9256], dtype=np.float32),</span>
<span class="go">    &#39;min&#39;: np.array([0.0202, 0.0871], dtype=np.float32),</span>
<span class="go">    &#39;nMin&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;nMax&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;shape&#39;: (10, 2),</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
<dt>Examples1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">strkeys</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{mean: 20.0, std: 13.2, max: 41.0, min: 0.0, nMin: 7, nMax: 3, shape: (100,), num_nan: 1}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.strip_line_comments">
<code class="descclassname">utool.util_dev.</code><code class="descname">strip_line_comments</code><span class="sig-paren">(</span><em>code_text</em>, <em>comment_char='#'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#strip_line_comments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.strip_line_comments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.super2">
<code class="descclassname">utool.util_dev.</code><code class="descname">super2</code><span class="sig-paren">(</span><em>this_class</em>, <em>self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#super2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.super2" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixes an error where reload causes super(X, self) to raise an exception</p>
<p>The problem is that reloading causes X to point to the wrong version of the
class.  This function fixes the problem by searching and returning the
correct version of the class. See example for proper usage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>this_class</strong> (<em>class</em>) – class passed into super</li>
<li><strong>self</strong> (<em>instance</em>) – instance passed into super</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If the parent module is reloaded, the super call may fail</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># super(Foo, self).__init__()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This will work around the problem most of the time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ut.super2(Foo, self).__init__()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Parent</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildSafe</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">super2</span><span class="p">(</span><span class="n">ChildSafe</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildDanger</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">super</span><span class="p">(</span><span class="n">ChildDanger</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># initial loading is fine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safe1</span> <span class="o">=</span> <span class="n">ChildSafe</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">danger1</span> <span class="o">=</span> <span class="n">ChildDanger</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">safe1</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">danger1</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># But if we reload (via simulation), then there will be issues</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Parent_orig</span> <span class="o">=</span> <span class="n">Parent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildSafe_orig</span> <span class="o">=</span> <span class="n">ChildSafe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildDanger_orig</span> <span class="o">=</span> <span class="n">ChildDanger</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># reloading the changes the outer classname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># but the inner class is still bound via the closure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># (we simulate this by using the old functions)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># (note in reloaded code the names would not change)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Parent_new</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">Parent_orig</span><span class="o">.</span><span class="fm">__init__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Parent_new</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;Parent&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildSafe_new</span><span class="p">(</span><span class="n">Parent_new</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">ChildSafe_orig</span><span class="o">.</span><span class="fm">__init__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildSafe_new</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;ChildSafe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildDanger_new</span><span class="p">(</span><span class="n">Parent_new</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">ChildDanger_orig</span><span class="o">.</span><span class="fm">__init__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildDanger_new</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;ChildDanger&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safe2</span> <span class="o">=</span> <span class="n">ChildSafe_new</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">safe2</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">danger2</span> <span class="o">=</span> <span class="n">ChildDanger_new</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.timeit_compare">
<code class="descclassname">utool.util_dev.</code><code class="descname">timeit_compare</code><span class="sig-paren">(</span><em>stmt_list</em>, <em>setup=''</em>, <em>iterations=100000</em>, <em>verbose=True</em>, <em>strict=False</em>, <em>assertsame=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#timeit_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.timeit_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares several statments by timing them and also
checks that they have the same return value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stmt_list</strong> (<em>list</em>) – list of statments to compare</li>
<li><strong>setup</strong> (<em>str</em>) – </li>
<li><strong>iterations</strong> (<em>int</em>) – </li>
<li><strong>verbose</strong> (<em>bool</em>) – </li>
<li><strong>strict</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>(passed, time_list, result_list)</dt>
<dd><p class="first last">passed (bool): True if all results are the same
time_list (list): list of times for each statment
result_list (list): list of results values for each statment</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (bool, list, list)</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dev –exec-timeit_compare</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="go">        &#39;&#39;&#39;</span>
<span class="go">        import numpy as np</span>
<span class="go">        rng = np.random.RandomState(0)</span>
<span class="go">        invVR_mats = rng.rand(1000, 3, 3).astype(np.float64)</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt1</span> <span class="o">=</span> <span class="s1">&#39;invVR_mats[:, 0:2, 2].T&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt2</span> <span class="o">=</span> <span class="s1">&#39;invVR_mats.T[2, 0:2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterations</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">stmt1</span><span class="p">,</span> <span class="n">stmt2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="n">iterations</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.timeit_grid">
<code class="descclassname">utool.util_dev.</code><code class="descname">timeit_grid</code><span class="sig-paren">(</span><em>stmt_list</em>, <em>setup=''</em>, <em>iterations=10000</em>, <em>input_sizes=None</em>, <em>verbose=True</em>, <em>show=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#timeit_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.timeit_grid" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Timeit::</dt>
<dd><p class="first">import utool as ut
setup = ut.codeblock(</p>
<blockquote>
<div><p>‘’’
import utool as ut
from six.moves import range, zip
import time
def time_append(size):</p>
<blockquote>
<div><p>start_time    = time.time()
last_time     = start_time
list2 = []
for x in range(size):</p>
<blockquote>
<div>now_time    = time.time()
between = now_time - last_time
last_time   = now_time
list2.append(between)</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>def time_assign(size):</dt>
<dd><p class="first">start_time    = time.time()
last_time     = start_time
list1 = ut.alloc_nones(size)
for x in range(size):</p>
<blockquote class="last">
<div>now_time    = time.time()
between = now_time - last_time
last_time   = now_time
list1[x] = between</div></blockquote>
</dd>
<dt>def time_baseline(size):</dt>
<dd><p class="first">start_time    = time.time()
last_time     = start_time
for x in range(size):</p>
<blockquote class="last">
<div>now_time    = time.time()
between = now_time - last_time
last_time   = now_time</div></blockquote>
</dd>
<dt>def time_null(size):</dt>
<dd><dl class="first last docutils">
<dt>for x in range(size):</dt>
<dd>pass</dd>
</dl>
</dd>
</dl>
<p>‘’‘)</p>
</div></blockquote>
<p class="last">input_sizes = [2 ** count for count in range(7, 12)]
stmt_list = [‘time_assign’, ‘time_append’, ‘time_baseline’, ‘time_null’]
input_sizes=[100, 1000, 10000]
ut.timeit_grid(stmt_list, setup, input_sizes=input_sizes, show=True)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.tuples_to_unique_scalars">
<code class="descclassname">utool.util_dev.</code><code class="descname">tuples_to_unique_scalars</code><span class="sig-paren">(</span><em>tup_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#tuples_to_unique_scalars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.tuples_to_unique_scalars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dev.uninvert_unique_two_lists">
<code class="descclassname">utool.util_dev.</code><code class="descname">uninvert_unique_two_lists</code><span class="sig-paren">(</span><em>flat_list</em>, <em>reconstruct_tup</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#uninvert_unique_two_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.uninvert_unique_two_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>flat_list = thumb_list</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dev.user_cmdline_prompt">
<code class="descclassname">utool.util_dev.</code><code class="descname">user_cmdline_prompt</code><span class="sig-paren">(</span><em>msg=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#user_cmdline_prompt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dev.user_cmdline_prompt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_dict">
<span id="utool-util-dict-module"></span><h2>utool.util_dict module<a class="headerlink" href="#module-utool.util_dict" title="Permalink to this headline">¶</a></h2>
<p>convinience functions for dictionaries</p>
<dl class="attribute">
<dt id="utool.util_dict.AutoDict">
<code class="descclassname">utool.util_dict.</code><code class="descname">AutoDict</code><a class="headerlink" href="#utool.util_dict.AutoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_dict.AutoVivification" title="utool.util_dict.AutoVivification"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.AutoVivification</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_dict.AutoOrderedDict">
<code class="descclassname">utool.util_dict.</code><code class="descname">AutoOrderedDict</code><a class="headerlink" href="#utool.util_dict.AutoOrderedDict" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_dict.OrderedAutoVivification" title="utool.util_dict.OrderedAutoVivification"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.OrderedAutoVivification</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="utool.util_dict.AutoVivification">
<em class="property">class </em><code class="descclassname">utool.util_dict.</code><code class="descname">AutoVivification</code><a class="reference internal" href="_modules/utool/util_dict.html#AutoVivification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.AutoVivification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Implementation of perl’s autovivification feature.</p>
<p>An AutoVivification is an infinitely nested default dict of dicts.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts">http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">AutoVivification</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Notice that there is no KeyError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">10</span><span class="p">][</span><span class="mi">100</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dict_ = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dict_</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">dict_ = {0: {10: {100: None}}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="utool.util_dict.DefaultValueDict">
<em class="property">class </em><code class="descclassname">utool.util_dict.</code><code class="descname">DefaultValueDict</code><span class="sig-paren">(</span><em>default</em>, <em>other=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DefaultValueDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DefaultValueDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>picklable default dictionary that can store scalar values.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DefaultValueDict</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="utool.util_dict.DictLike">
<em class="property">class </em><code class="descclassname">utool.util_dict.</code><code class="descname">DictLike</code><a class="reference internal" href="_modules/utool/util_dict.html#DictLike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>move to util_dict rectify with util_dev</p>
<dl class="docutils">
<dt>An inherited class must specify the <code class="docutils literal notranslate"><span class="pre">getitem</span></code>, <code class="docutils literal notranslate"><span class="pre">setitem</span></code>, and</dt>
<dd><code class="docutils literal notranslate"><span class="pre">keys</span></code> methods.</dd>
</dl>
<dl class="method">
<dt id="utool.util_dict.DictLike.asdict">
<code class="descname">asdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.asdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.asdict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.delitem">
<code class="descname">delitem</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.delitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.delitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.iteritems">
<code class="descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.iteritems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.iterkeys">
<code class="descname">iterkeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.iterkeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.itervalues">
<code class="descname">itervalues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.itervalues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.itervalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.setitem">
<code class="descname">setitem</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.setitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.setitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.DictLike.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.DictLike.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_dict.OrderedAutoVivification">
<em class="property">class </em><code class="descclassname">utool.util_dict.</code><code class="descname">OrderedAutoVivification</code><a class="reference internal" href="_modules/utool/util_dict.html#OrderedAutoVivification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.OrderedAutoVivification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></p>
<p>Implementation of perl’s autovivification feature.</p>
<p>An OrderedAutoVivification is an infinitely nested default dict of ordered
dicts.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts">http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts</a></p>
<dl class="docutils">
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">AutoOrderedDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Notice that there is no KeyError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">10</span><span class="p">][</span><span class="mi">100</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">10</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dict_ = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dict_</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">dict_ = {0: {10: {100: None, 1: None}}}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.all_dict_combinations">
<code class="descclassname">utool.util_dict.</code><code class="descname">all_dict_combinations</code><span class="sig-paren">(</span><em>varied_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#all_dict_combinations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.all_dict_combinations" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>varied_dict</strong> (<em>dict</em>) – a dict with lists of possible parameter settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict_list a list of dicts correpsonding to all combinations of params settings</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-all_dict_combinations</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;logdist_weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="s1">&#39;pipeline_root&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">],</span> <span class="s1">&#39;sv_on&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    {&#39;logdist_weight&#39;: 0.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: True},</span>
<span class="go">    {&#39;logdist_weight&#39;: 0.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: False},</span>
<span class="go">    {&#39;logdist_weight&#39;: 0.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: None},</span>
<span class="go">    {&#39;logdist_weight&#39;: 1.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: True},</span>
<span class="go">    {&#39;logdist_weight&#39;: 1.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: False},</span>
<span class="go">    {&#39;logdist_weight&#39;: 1.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: None},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.all_dict_combinations_lbls">
<code class="descclassname">utool.util_dict.</code><code class="descname">all_dict_combinations_lbls</code><span class="sig-paren">(</span><em>varied_dict</em>, <em>remove_singles=True</em>, <em>allow_lone_singles=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#all_dict_combinations_lbls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.all_dict_combinations_lbls" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a label for each variation in a varydict.</p>
<p>It tries to not be oververbose and returns only what parameters are varied
in each label.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-all_dict_combinations_lbls
python -m utool.util_dict –exec-all_dict_combinations_lbls:1</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;logdist_weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="s1">&#39;pipeline_root&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">],</span> <span class="s1">&#39;sv_on&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comb_lbls</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">all_dict_combinations_lbls</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">comb_lbls</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &#39;logdist_weight=0.0,sv_on=True&#39;,</span>
<span class="go">    &#39;logdist_weight=0.0,sv_on=False&#39;,</span>
<span class="go">    &#39;logdist_weight=0.0,sv_on=None&#39;,</span>
<span class="go">    &#39;logdist_weight=1.0,sv_on=True&#39;,</span>
<span class="go">    &#39;logdist_weight=1.0,sv_on=False&#39;,</span>
<span class="go">    &#39;logdist_weight=1.0,sv_on=None&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;logdist_weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="s1">&#39;pipeline_root&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">],</span> <span class="s1">&#39;sv_on&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_lone_singles</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comb_lbls</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations_lbls</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">,</span> <span class="n">allow_lone_singles</span><span class="o">=</span><span class="n">allow_lone_singles</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">comb_lbls</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &#39;logdist_weight=0.0,pipeline_root=vsmany,sv_on=True&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.all_dict_combinations_ordered">
<code class="descclassname">utool.util_dict.</code><code class="descname">all_dict_combinations_ordered</code><span class="sig-paren">(</span><em>varied_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#all_dict_combinations_ordered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.all_dict_combinations_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as all_dict_combinations but preserves order</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.assert_keys_are_subset">
<code class="descclassname">utool.util_dict.</code><code class="descname">assert_keys_are_subset</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#assert_keys_are_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.assert_keys_are_subset" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assert_keys_are_subset</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dict2 = {4:3, 3:3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.augdict">
<code class="descclassname">utool.util_dict.</code><code class="descname">augdict</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#augdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.augdict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.build_conflict_dict">
<code class="descclassname">utool.util_dict.</code><code class="descname">build_conflict_dict</code><span class="sig-paren">(</span><em>key_list</em>, <em>val_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#build_conflict_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.build_conflict_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds dict where a list of values is associated with more than one key</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key_list</strong> (<em>list</em>) – </li>
<li><strong>val_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">key_to_vals</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-build_conflict_dict</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_to_vals</span> <span class="o">=</span> <span class="n">build_conflict_dict</span><span class="p">(</span><span class="n">key_list</span><span class="p">,</span> <span class="n">val_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">key_to_vals</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    1: [&#39;a&#39;, &#39;e&#39;],</span>
<span class="go">    2: [&#39;b&#39;, &#39;c&#39;],</span>
<span class="go">    3: [&#39;d&#39;],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.count_dict_vals">
<code class="descclassname">utool.util_dict.</code><code class="descname">count_dict_vals</code><span class="sig-paren">(</span><em>dict_of_lists</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#count_dict_vals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.count_dict_vals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.delete_dict_keys">
<code class="descclassname">utool.util_dict.</code><code class="descname">delete_dict_keys</code><span class="sig-paren">(</span><em>dict_</em>, <em>key_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#delete_dict_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.delete_dict_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes items from a dictionary inplace. Keys that do not exist are
ignored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict</strong> (<em>dict</em>) – dict like object with a __del__ attribute</li>
<li><strong>key_list</strong> (<em>list</em>) – list of keys that specify the items to remove</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-delete_dict_keys</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;bread&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;churches&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;very small rocks&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;duck&#39;</span><span class="p">,</span> <span class="s1">&#39;bread&#39;</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delete_dict_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;churches&#39;: 1, &#39;very small rocks&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.delete_keys">
<code class="descclassname">utool.util_dict.</code><code class="descname">delete_keys</code><span class="sig-paren">(</span><em>dict_</em>, <em>key_list</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.delete_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes items from a dictionary inplace. Keys that do not exist are
ignored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict</strong> (<em>dict</em>) – dict like object with a __del__ attribute</li>
<li><strong>key_list</strong> (<em>list</em>) – list of keys that specify the items to remove</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-delete_dict_keys</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;bread&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;churches&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;very small rocks&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;duck&#39;</span><span class="p">,</span> <span class="s1">&#39;bread&#39;</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delete_dict_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;churches&#39;: 1, &#39;very small rocks&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.depth_atleast">
<code class="descclassname">utool.util_dict.</code><code class="descname">depth_atleast</code><span class="sig-paren">(</span><em>list_</em>, <em>depth</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#depth_atleast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.depth_atleast" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns if depth of list is at least <code class="docutils literal notranslate"><span class="pre">depth</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>depth</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-depth_atleast –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[</span><span class="mi">0</span><span class="p">]]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">depth_atleast</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">depth</span><span class="p">)</span> <span class="k">for</span> <span class="n">depth</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_accum">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_accum</code><span class="sig-paren">(</span><em>*dict_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_accum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_accum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_assign">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_assign</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em>, <em>vals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_assign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_assign" title="Permalink to this definition">¶</a></dt>
<dd><p>simple method for assigning or setting values with a similar interface
to dict_take</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_filter_nones">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_filter_nones</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_filter_nones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_filter_nones" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes None values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dict</strong> (<em>dict</em>) – a dictionary</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-dict_filter_nones</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># fails on python 3 because of dict None order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;four&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="n">dict_filter_nones</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict2_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{None: &#39;fun&#39;, 2: &#39;blue&#39;, 3: &#39;four&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_find_keys">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_find_keys</code><span class="sig-paren">(</span><em>dict_</em>, <em>val_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_find_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_find_keys" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict</strong> (<em>dict</em>) – </li>
<li><strong>val_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">found_dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-dict_find_keys</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hierarchical&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;kdtree&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;composite&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;autotuned&#39;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span> <span class="s1">&#39;saved&#39;</span><span class="p">:</span> <span class="mi">254</span><span class="p">,</span> <span class="s1">&#39;kmeans&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;lsh&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;kdtree_single&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_dict</span> <span class="o">=</span> <span class="n">dict_find_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">val_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">map_vals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">found_dict</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{1: [&#39;default&#39;, &#39;kdtree&#39;]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_find_other_sameval_keys">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_find_other_sameval_keys</code><span class="sig-paren">(</span><em>dict_</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_find_other_sameval_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_find_other_sameval_keys" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hierarchical&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;kdtree&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;composite&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;autotuned&#39;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span> <span class="s1">&#39;saved&#39;</span><span class="p">:</span> <span class="mi">254</span><span class="p">,</span> <span class="s1">&#39;kmeans&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;lsh&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;kdtree_single&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_dict</span> <span class="o">=</span> <span class="n">dict_find_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">val_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_hist">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_hist</code><span class="sig-paren">(</span><em>item_list</em>, <em>weight_list=None</em>, <em>ordered=False</em>, <em>labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_hist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a histogram of items in item_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item_list</strong> (<em>list</em>) – list with hashable items (usually containing duplicates)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>dictionary where the keys are items in item_list, and the values</dt>
<dd>are the number of times the item appears in item_list.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-dict_hist</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">1232</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">1232</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">900</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hist_</span> <span class="o">=</span> <span class="n">dict_hist</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">hist_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{1: 1, 2: 4, 39: 1, 900: 3, 1232: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_hist_cumsum">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_hist_cumsum</code><span class="sig-paren">(</span><em>hist_</em>, <em>reverse=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_hist_cumsum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_hist_cumsum" title="Permalink to this definition">¶</a></dt>
<dd><p>VERY HACKY</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_intersection">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_intersection</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em>, <em>combine=False</em>, <em>combine_op=&lt;built-in function add&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_intersection" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict1</strong> (<em>dict</em>) – </li>
<li><strong>dict2</strong> (<em>dict</em>) – </li>
<li><strong>combine</strong> (<em>bool</em>) – Combines keys only if the values are equal if False else
values are combined using combine_op (default = False)</li>
<li><strong>combine_op</strong> (<em>func</em>) – (default = op.add)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id81"><span class="problematic" id="id82">mergedict_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-dict_intersection</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combine</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">dict_intersection</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">,</span> <span class="n">combine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mergedict_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mergedict_ = {&#39;b&#39;: 2, &#39;c&#39;: 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_isect">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_isect</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em>, <em>combine=False</em>, <em>combine_op=&lt;built-in function add&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.dict_isect" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict1</strong> (<em>dict</em>) – </li>
<li><strong>dict2</strong> (<em>dict</em>) – </li>
<li><strong>combine</strong> (<em>bool</em>) – Combines keys only if the values are equal if False else
values are combined using combine_op (default = False)</li>
<li><strong>combine_op</strong> (<em>func</em>) – (default = op.add)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id83"><span class="problematic" id="id84">mergedict_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-dict_intersection</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combine</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">dict_intersection</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">,</span> <span class="n">combine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mergedict_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mergedict_ = {&#39;b&#39;: 2, &#39;c&#39;: 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_isect_combine">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_isect_combine</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em>, <em>combine_op=&lt;built-in function add&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_isect_combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_isect_combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Intersection of dict keys and combination of dict values</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_keysubset">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_keysubset</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_keysubset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_keysubset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_set_column">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_set_column</code><span class="sig-paren">(</span><em>list_of_dicts_</em>, <em>colkey</em>, <em>value_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_set_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_set_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_setdiff">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_setdiff</code><span class="sig-paren">(</span><em>dict_</em>, <em>negative_keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_setdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_setdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a copy of <a href="#id85"><span class="problematic" id="id86">dict_</span></a> without keys in the negative_keys list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict</strong> (<em>dict</em>) – </li>
<li><strong>negative_keys</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_stack">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_stack</code><span class="sig-paren">(</span><em>dict_list</em>, <em>key_prefix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>stacks values from two dicts into a new dict where the values are list of
the input values. the keys are the same.</p>
<p>DEPRICATE in favor of dict_stack2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dict_list</strong> (<em>list</em>) – list of dicts with similar keys</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict dict_stacked</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-dict_stack
python -m utool.util_dict –test-dict_stack:1</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack</span><span class="p">([</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, 2], &#39;b&#39;: [2, 3], &#39;c&#39;: [4]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get equivalent behavior with dict_stack2?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Almost, as long as None is not part of the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked_</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">([</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">ut</span><span class="o">.</span><span class="n">filter_Nones</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">dict_stacked_</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, 2], &#39;b&#39;: [2, 3], &#39;c&#39;: [4]}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_stack2">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_stack2</code><span class="sig-paren">(</span><em>dict_list</em>, <em>key_suffix=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_stack2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_stack2" title="Permalink to this definition">¶</a></dt>
<dd><p>Stacks vals from a list of dicts into a dict of lists. Inserts Nones in
place of empty items to preserve order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict_list</strong> (<em>list</em>) – list of dicts</li>
<li><strong>key_suffix</strong> (<em>str</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">stacked_dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Usual case: multiple dicts as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, 2], &#39;b&#39;: [2, 3], &#39;c&#39;: [None, 4]}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: one dict as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1], &#39;b&#39;: [2]}</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: zero dicts as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{}</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: empty dicts as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[{}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{}</span>
</pre></div>
</div>
</dd>
<dt>Example4:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: one dict is empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [[1, 2], None], &#39;b&#39;: [[2, 3], None]}</span>
</pre></div>
</div>
</dd>
<dt>Example5:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: disjoint dicts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [[1, 2], None], &#39;b&#39;: [[2, 3], None], &#39;c&#39;: [None, 4]}</span>
</pre></div>
</div>
</dd>
<dt>Example6:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: 3 dicts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, None, None, None], &#39;b&#39;: [None, 1, None, 2], &#39;c&#39;: [None, None, 1, None]}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_subset">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_subset</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em>, <em>default=NoParam</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_subset" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict</strong> (<em>dict</em>) – </li>
<li><strong>keys</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">subset dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subdict_</span> <span class="o">=</span> <span class="n">dict_subset</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">subdict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">newlines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;K&#39;: 3, &#39;dcvs_clip_max&#39;: 0.2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_take">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_take</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em>, <em>*d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_take" title="Permalink to this definition">¶</a></dt>
<dd><p>get multiple values from a dictionary</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_take_asnametup">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_take_asnametup</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em>, <em>name='_NamedTup'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_asnametup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_take_asnametup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_take_column">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_take_column</code><span class="sig-paren">(</span><em>list_of_dicts_</em>, <em>colkey</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_take_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_take_gen">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_take_gen</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em>, <em>*d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_take_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>generate multiple values from a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict</strong> (<em>dict</em>) – </li>
<li><strong>keys</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Varargs:</dt>
<dd>d: if specified is default for key errors</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-dict_take_gen</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dict_take_gen</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, None, None]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dict_take_gen</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;did not get key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;correctly got key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">correctly got key error</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_take_list">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_take_list</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em>, <em>*d</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.dict_take_list" title="Permalink to this definition">¶</a></dt>
<dd><p>get multiple values from a dictionary</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_take_pop">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_take_pop</code><span class="sig-paren">(</span><em>dict_</em>, <em>keys</em>, <em>*d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_take_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>like dict_take but pops values off</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-dict_take_pop</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;other&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;another&#39;</span><span class="p">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;before: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dict_take_pop</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;after: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, None, None]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;before: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dict_take_pop</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;did not get key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;correctly got key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;after: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">correctly got key error</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_to_keyvals">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_to_keyvals</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_to_keyvals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_to_keyvals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_union">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_union</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_union" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_union2">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_union2</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_union2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_union3">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_union3</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em>, <em>combine_op=&lt;built-in function add&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_union3" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict1</strong> (<em>dict</em>) – </li>
<li><strong>dict2</strong> (<em>dict</em>) – </li>
<li><strong>combine_op</strong> (<em>func</em>) – (default=op.add)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id87"><span class="problematic" id="id88">mergedict_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-dict_union3</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combine_op</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">add</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">dict_union3</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">,</span> <span class="n">combine_op</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mergedict_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mergedict_ = {&#39;a&#39;: 1, &#39;b&#39;: 4, &#39;c&#39;: 6, &#39;d&#39;: 9, &#39;e&#39;: 21, &#39;f&#39;: 42}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_union_combine">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_union_combine</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em>, <em>combine_op=&lt;built-in function add&gt;</em>, <em>default=NoParam</em>, <em>default2=NoParam</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union_combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_union_combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine of dict keys and uses dfault value when key does not exist</p>
<p>CAREFUL WHEN USING THIS WITH REDUCE. Use dict_stack2 instead</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_update_newkeys">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_update_newkeys</code><span class="sig-paren">(</span><em>dict_</em>, <em>dict2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_update_newkeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_update_newkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Like dict.update, but does not overwrite items</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dict_where_len0">
<code class="descclassname">utool.util_dict.</code><code class="descname">dict_where_len0</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_where_len0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dict_where_len0" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts a dict of lists. Returns keys that have vals with no length</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dictinfo">
<code class="descclassname">utool.util_dict.</code><code class="descname">dictinfo</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dictinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dictinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>In depth debugging info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dict</strong> (<em>dict</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">dictinfo</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.dzip">
<code class="descclassname">utool.util_dict.</code><code class="descname">dzip</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dzip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.dzip" title="Permalink to this definition">¶</a></dt>
<dd><p>Zips elementwise pairs between list1 and list2 into a dictionary. Values
from list2 can be broadcast onto list1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list1</strong> (<em>sequence</em>) – full sequence</li>
<li><strong>list2</strong> (<em>sequence</em>) – can either be a sequence of one item or a sequence of
equal length to <cite>list1</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>util_list.broadcast_zip</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">similar to dict(zip(list1, list2))</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict dzip</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.flatten_dict_items">
<code class="descclassname">utool.util_dict.</code><code class="descname">flatten_dict_items</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#flatten_dict_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.flatten_dict_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Flattens keys / values in a heirarchical dictionary</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flatter_dict</span> <span class="o">=</span> <span class="n">flatten_dict_items</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flatter_dict = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">flatter_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">flatter_dict = {</span>
<span class="go">    (1, 1, 1): [1],</span>
<span class="go">    (1, 2, 1): [3],</span>
<span class="go">    (1, 2, 3): [2],</span>
<span class="go">    (2, 2, 1): [4],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.flatten_dict_vals">
<code class="descclassname">utool.util_dict.</code><code class="descname">flatten_dict_vals</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#flatten_dict_vals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.flatten_dict_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>Flattens only values in a heirarchical dictionary, keys are nested.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.get_dict_column">
<code class="descclassname">utool.util_dict.</code><code class="descname">get_dict_column</code><span class="sig-paren">(</span><em>dict_</em>, <em>colx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#get_dict_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.get_dict_column" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict</strong> (<a href="#id89"><span class="problematic" id="id90">dict_</span></a>) – a dictionary of lists</li>
<li><strong>colx</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-get_dict_column</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">retdict_</span> <span class="o">=</span> <span class="n">get_dict_column</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">retdict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [2, 0], &#39;b&#39;: [5, 3], &#39;c&#39;: [8, 6]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.get_dict_hashid">
<code class="descclassname">utool.util_dict.</code><code class="descname">get_dict_hashid</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#get_dict_hashid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.get_dict_hashid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dict</strong> (<em>dict</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">id hash</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary">http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-get_dict_hashid
python3 -m utool.util_dict –test-get_dict_hashid</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dict_ = {&#39;a&#39;: {&#39;c&#39;: &#39;d&#39;}, 1: 143, dict: set}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dict_ = {&#39;a&#39;: {&#39;c&#39;: &#39;d&#39;}, 1: 143 } non-determenism</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashid</span> <span class="o">=</span> <span class="n">get_dict_hashid</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hashid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mxgkepoboqjerkhb</span>
</pre></div>
</div>
<p>oegknoalkrkojumi</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.group_items">
<code class="descclassname">utool.util_dict.</code><code class="descname">group_items</code><span class="sig-paren">(</span><em>items</em>, <em>by=None</em>, <em>sorted_=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#group_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.group_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups a list of items by group id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>items</strong> (<em>list</em>) – a list of the values to be grouped.
if <cite>by</cite> is None, then each item is assumed to be a
(groupid, value) pair.</li>
<li><strong>by</strong> (<em>list</em>) – a corresponding list to group items by.
if specified, these are used as the keys to group values
in <cite>items</cite></li>
<li><strong>sorted</strong> (<em>bool</em>) – if True preserves the ordering of items within groups
(default = True) FIXME. the opposite is true</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">groupid_to_items: maps a groupid to a list of items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>group_indices - first part of a a more fine grained grouping algorithm
apply_gropuing - second part of a more fine grained grouping algorithm</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-group_items</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ham&#39;</span><span class="p">,</span>     <span class="s1">&#39;jam&#39;</span><span class="p">,</span>   <span class="s1">&#39;spam&#39;</span><span class="p">,</span>     <span class="s1">&#39;eggs&#39;</span><span class="p">,</span>    <span class="s1">&#39;cheese&#39;</span><span class="p">,</span> <span class="s1">&#39;bannana&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">by</span>    <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;protein&#39;</span><span class="p">,</span>  <span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;dairy&#39;</span><span class="p">,</span>  <span class="s1">&#39;fruit&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_to_items</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_items</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="nb">iter</span><span class="p">(</span><span class="n">by</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">groupid_to_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;dairy&#39;: [&#39;cheese&#39;], &#39;fruit&#39;: [&#39;jam&#39;, &#39;bannana&#39;], &#39;protein&#39;: [&#39;ham&#39;, &#39;spam&#39;, &#39;eggs&#39;]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.group_pairs">
<code class="descclassname">utool.util_dict.</code><code class="descname">group_pairs</code><span class="sig-paren">(</span><em>pair_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#group_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.group_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups a list of items using the first element in each pair as the item and
the second element as the groupid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pair_list</strong> (<em>list</em>) – list of 2-tuples (item, groupid)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">groupid_to_items: maps a groupid to a list of items</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>group_items</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.groupby_attr">
<code class="descclassname">utool.util_dict.</code><code class="descname">groupby_attr</code><span class="sig-paren">(</span><em>item_list</em>, <em>attrname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#groupby_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.groupby_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.groupby_tags">
<code class="descclassname">utool.util_dict.</code><code class="descname">groupby_tags</code><span class="sig-paren">(</span><em>item_list</em>, <em>tags_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#groupby_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.groupby_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>case where an item can belong to multiple groups</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – </li>
<li><strong>tags_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">groupid_to_items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-groupby_tags</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tagged_item_list</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;meat&#39;</span><span class="p">,</span> <span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;eggs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;cheese&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dairy&#39;</span><span class="p">,</span> <span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;jam&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;banana&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;weapon&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tagged_item_list</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tagged_item_list</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_to_items</span> <span class="o">=</span> <span class="n">groupby_tags</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">tags_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_to_items</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">map_vals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">groupid_to_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;groupid_to_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">groupid_to_items</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">groupid_to_items = {</span>
<span class="go">    &#39;dairy&#39;: [&#39;cheese&#39;],</span>
<span class="go">    &#39;food&#39;: [&#39;banana&#39;, &#39;cheese&#39;, &#39;eggs&#39;, &#39;jam&#39;, &#39;spam&#39;],</span>
<span class="go">    &#39;fruit&#39;: [&#39;banana&#39;, &#39;jam&#39;],</span>
<span class="go">    &#39;meat&#39;: [&#39;spam&#39;],</span>
<span class="go">    &#39;protein&#39;: [&#39;cheese&#39;, &#39;eggs&#39;, &#39;spam&#39;],</span>
<span class="go">    &#39;weapon&#39;: [&#39;banana&#39;],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="utool.util_dict.hashdict">
<em class="property">class </em><code class="descclassname">utool.util_dict.</code><code class="descname">hashdict</code><a class="reference internal" href="_modules/utool/util_dict.html#hashdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hashdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>hashable dict implementation, suitable for use as a key into
other dicts.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h1</span> <span class="o">=</span> <span class="n">hashdict</span><span class="p">({</span><span class="s2">&quot;apples&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bananas&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h2</span> <span class="o">=</span> <span class="n">hashdict</span><span class="p">({</span><span class="s2">&quot;bananas&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;mangoes&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h1</span><span class="o">+</span><span class="n">h2</span>
<span class="go">hashdict(apples=1, bananas=3, mangoes=5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="p">[</span><span class="n">h1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;salad&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="p">[</span><span class="n">h1</span><span class="p">]</span>
<span class="go">&#39;salad&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="p">[</span><span class="n">h2</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">hashdict(bananas=3, mangoes=5)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1151658/python-hashable-dicts">http://stackoverflow.com/questions/1151658/python-hashable-dicts</a>
<a class="reference external" href="http://stackoverflow.com/questions/1151658/python-hashable-dicts">http://stackoverflow.com/questions/1151658/python-hashable-dicts</a></p>
<dl class="method">
<dt id="utool.util_dict.hashdict.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None.  Remove all items from D.<a class="reference internal" href="_modules/utool/util_dict.html#hashdict.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hashdict.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.hashdict.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; v, remove specified key and return the corresponding value.<a class="reference internal" href="_modules/utool/util_dict.html#hashdict.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hashdict.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dict.hashdict.popitem">
<code class="descname">popitem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; (k, v), remove and return some (key, value) pair as a<a class="reference internal" href="_modules/utool/util_dict.html#hashdict.popitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hashdict.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>2-tuple; but raise KeyError if D is empty.</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_dict.hashdict.setdefault">
<code class="descname">setdefault</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; D.get(k,d), also set D[k]=d if k not in D<a class="reference internal" href="_modules/utool/util_dict.html#hashdict.setdefault"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hashdict.setdefault" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_dict.hashdict.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em>E</em>, <span class="optional">]</span><em>**F</em><span class="sig-paren">)</span> &#x2192; None.  Update D from dict/iterable E and F.<a class="reference internal" href="_modules/utool/util_dict.html#hashdict.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hashdict.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_dict.hierarchical_group_items">
<code class="descclassname">utool.util_dict.</code><code class="descname">hierarchical_group_items</code><span class="sig-paren">(</span><em>item_list</em>, <em>groupids_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#hierarchical_group_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hierarchical_group_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generalization of group_item. Convert a flast list of ids into a heirarchical dictionary.</p>
<p>TODO: move to util_dict</p>
<dl class="docutils">
<dt>Reference:</dt>
<dd><a class="reference external" href="http://stackoverflow.com/questions/10193235/python-translate-a-table-to-a-hierarchical-dictionary">http://stackoverflow.com/questions/10193235/python-translate-a-table-to-a-hierarchical-dictionary</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>item_list</strong> (<em>list</em>) – </li>
<li><strong>groupids_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-hierarchical_group_items</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">tree = {1: [1, 2], 2: [3, 4]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">tree = {</span>
<span class="go">    1: {1: [7], 2: [3], 3: [1, 5]},</span>
<span class="go">    2: {1: [6, 8], 2: [2, 4]},</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">tree = {</span>
<span class="go">    1: {</span>
<span class="go">        1: {1: [1]},</span>
<span class="go">        2: {1: [3], 3: [2]},</span>
<span class="go">    },</span>
<span class="go">    2: {</span>
<span class="go">        2: {1: [4]},</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.hierarchical_map_vals">
<code class="descclassname">utool.util_dict.</code><code class="descname">hierarchical_map_vals</code><span class="sig-paren">(</span><em>func</em>, <em>node</em>, <em>max_depth=None</em>, <em>depth=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#hierarchical_map_vals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.hierarchical_map_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>node is a dict tree like structure with leaves of type list</p>
<p>TODO: move to util_dict</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-hierarchical_map_vals</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">len_tree = {</span>
<span class="go">    1: {1: 1, 2: 1, 3: 2},</span>
<span class="go">    2: {1: 2, 2: 2},</span>
<span class="go">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">depth</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="nb">int</span><span class="p">((</span><span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1">#nonflat_levelids = [([total + 2 * x + 1] * num + [total + 2 * x + 2] * num) for x in range(num2)]</span>
<span class="gp">... </span>    <span class="n">nonflat_levelids</span> <span class="o">=</span> <span class="p">[([</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">)]</span>
<span class="gp">... </span>    <span class="n">levelids</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">nonflat_levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">groupids_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">total</span> <span class="o">+=</span> <span class="n">num2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">... </span>    <span class="n">num</span> <span class="o">//=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;groupids_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;depth = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_tree_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">iflatten_dict_values</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flat_tree_values = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;flat_tree_keys = &#39; + str(list(ut.iflatten_dict_keys(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;iflatten_dict_items = &#39; + str(list(ut.iflatten_dict_items(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.hmap_vals">
<code class="descclassname">utool.util_dict.</code><code class="descname">hmap_vals</code><span class="sig-paren">(</span><em>func</em>, <em>node</em>, <em>max_depth=None</em>, <em>depth=0</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.hmap_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>node is a dict tree like structure with leaves of type list</p>
<p>TODO: move to util_dict</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-hierarchical_map_vals</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">len_tree = {</span>
<span class="go">    1: {1: 1, 2: 1, 3: 2},</span>
<span class="go">    2: {1: 2, 2: 2},</span>
<span class="go">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">depth</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="nb">int</span><span class="p">((</span><span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1">#nonflat_levelids = [([total + 2 * x + 1] * num + [total + 2 * x + 2] * num) for x in range(num2)]</span>
<span class="gp">... </span>    <span class="n">nonflat_levelids</span> <span class="o">=</span> <span class="p">[([</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">)]</span>
<span class="gp">... </span>    <span class="n">levelids</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">nonflat_levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">groupids_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">total</span> <span class="o">+=</span> <span class="n">num2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">... </span>    <span class="n">num</span> <span class="o">//=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;groupids_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;depth = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_tree_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">iflatten_dict_values</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flat_tree_values = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;flat_tree_keys = &#39; + str(list(ut.iflatten_dict_keys(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;iflatten_dict_items = &#39; + str(list(ut.iflatten_dict_items(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.iflatten_dict_values">
<code class="descclassname">utool.util_dict.</code><code class="descname">iflatten_dict_values</code><span class="sig-paren">(</span><em>node</em>, <em>depth=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#iflatten_dict_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.iflatten_dict_values" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.invert_dict">
<code class="descclassname">utool.util_dict.</code><code class="descname">invert_dict</code><span class="sig-paren">(</span><em>dict_</em>, <em>unique_vals=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#invert_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.invert_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverses the keys and values in a dictionary. Set unique_vals to False if
the values in the dict are not unique.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict</strong> (<a href="#id91"><span class="problematic" id="id92">dict_</span></a>) – dictionary</li>
<li><strong>unique_vals</strong> (<em>bool</em>) – if False, inverted keys are returned in a list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">inverted_dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-invert_dict</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">invert_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">inverted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{1: &#39;a&#39;, 2: &#39;b&#39;}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;good&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;junk&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">,)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">invert_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">inverted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;good&#39;: 2, &#39;ok&#39;: 1, &#39;junk&#39;: 0, &#39;UNKNOWN&#39;: None}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">invert_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">unique_vals</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">map_dict_vals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">inverted_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">inverted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{0: [&#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;], 1: [&#39;a&#39;], 2: [&#39;f&#39;]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.is_dicteq">
<code class="descclassname">utool.util_dict.</code><code class="descname">is_dicteq</code><span class="sig-paren">(</span><em>dict1_</em>, <em>dict2_</em>, <em>almosteq_ok=True</em>, <em>verbose_err=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#is_dicteq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.is_dicteq" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see if dicts are the same. Performs recursion. Handles numpy</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.iter_all_dict_combinations_ordered">
<code class="descclassname">utool.util_dict.</code><code class="descname">iter_all_dict_combinations_ordered</code><span class="sig-paren">(</span><em>varied_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#iter_all_dict_combinations_ordered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.iter_all_dict_combinations_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as all_dict_combinations but preserves order</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.iteritems_sorted">
<code class="descclassname">utool.util_dict.</code><code class="descname">iteritems_sorted</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#iteritems_sorted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.iteritems_sorted" title="Permalink to this definition">¶</a></dt>
<dd><p>change to iteritems ordered</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.keys_sorted_by_value">
<code class="descclassname">utool.util_dict.</code><code class="descname">keys_sorted_by_value</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#keys_sorted_by_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.keys_sorted_by_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.map_dict_keys">
<code class="descclassname">utool.util_dict.</code><code class="descname">map_dict_keys</code><span class="sig-paren">(</span><em>func</em>, <em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#map_dict_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.map_dict_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) – a function</li>
<li><strong>dict</strong> (<em>dict</em>) – a dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">transformed dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">newdict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-map_dict_keys</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">ord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_keys</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">map_dict_keys</span><span class="p">,</span> <span class="nb">len</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{97: [1, 2, 3], 98: []}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.map_dict_vals">
<code class="descclassname">utool.util_dict.</code><code class="descname">map_dict_vals</code><span class="sig-paren">(</span><em>func</em>, <em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#map_dict_vals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.map_dict_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) – a function</li>
<li><strong>dict</strong> (<em>dict</em>) – a dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">transformed dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">newdict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-map_dict_vals</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_vals</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 3, &#39;b&#39;: 0}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.map_keys">
<code class="descclassname">utool.util_dict.</code><code class="descname">map_keys</code><span class="sig-paren">(</span><em>func</em>, <em>dict_</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.map_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) – a function</li>
<li><strong>dict</strong> (<em>dict</em>) – a dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">transformed dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">newdict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-map_dict_keys</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">ord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_keys</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">map_dict_keys</span><span class="p">,</span> <span class="nb">len</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{97: [1, 2, 3], 98: []}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.map_vals">
<code class="descclassname">utool.util_dict.</code><code class="descname">map_vals</code><span class="sig-paren">(</span><em>func</em>, <em>dict_</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.map_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) – a function</li>
<li><strong>dict</strong> (<em>dict</em>) – a dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">transformed dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">newdict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-map_dict_vals</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_vals</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 3, &#39;b&#39;: 0}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.merge_dicts">
<code class="descclassname">utool.util_dict.</code><code class="descname">merge_dicts</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#merge_dicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.merge_dicts" title="Permalink to this definition">¶</a></dt>
<dd><p>add / concatenate / union / join / merge / combine dictionaries</p>
<p>Copies the first dictionary given and then repeatedly calls update using
the rest of the dicts given in args. Duplicate keys will receive the last
value specified the list of dictionaries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a href="#id93"><span class="problematic" id="id94">mergedict_</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-merge_dicts</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/38987/how-can-i-merge-two-python-dictionaries-in-a-single-expression">http://stackoverflow.com/questions/38987/how-can-i-merge-two-python-dictionaries-in-a-single-expression</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">newlines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 1, &#39;b&#39;: 3, &#39;c&#39;: 4}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.move_odict_item">
<code class="descclassname">utool.util_dict.</code><code class="descname">move_odict_item</code><span class="sig-paren">(</span><em>odict</em>, <em>key</em>, <em>newpos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#move_odict_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.move_odict_item" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/22663966/changing-order-of-ordered-dictionary-in-python">http://stackoverflow.com/questions/22663966/changing-order-of-ordered-dictionary-in-python</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-move_odict_item</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;b&#39;: 2, &#39;e&#39;: 5}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.order_dict_by">
<code class="descclassname">utool.util_dict.</code><code class="descname">order_dict_by</code><span class="sig-paren">(</span><em>dict_</em>, <em>key_order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#order_dict_by"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.order_dict_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorders items in a dictionary according to a custom key order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict</strong> (<a href="#id95"><span class="problematic" id="id96">dict_</span></a>) – a dictionary</li>
<li><strong>key_order</strong> (<em>list</em>) – custom key order</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sorted_dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">OrderedDict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –exec-order_dict_by</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_order</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_dict</span> <span class="o">=</span> <span class="n">order_dict_by</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">key_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;sorted_dict = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">sorted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="s1">&#39;sorted_dict = {4: 4, 2: 2, 3: 3, 1: 1}&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.range_hist">
<code class="descclassname">utool.util_dict.</code><code class="descname">range_hist</code><span class="sig-paren">(</span><em>items</em>, <em>bins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#range_hist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.range_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bins items into a discrete histogram by values and/or ranges.</p>
<blockquote>
<div>items = [1, 2, 3, 4, 5, 6, 7]
bins = [0, 1, 2, (3, float(‘inf’))]
ut.range_hist(items, bins)</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.sort_dict">
<code class="descclassname">utool.util_dict.</code><code class="descname">sort_dict</code><span class="sig-paren">(</span><em>dict_</em>, <em>part='keys'</em>, <em>key=None</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#sort_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.sort_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>sorts a dictionary by its values or its keys</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict</strong> (<a href="#id97"><span class="problematic" id="id98">dict_</span></a>) – a dictionary</li>
<li><strong>part</strong> (<em>str</em>) – specifies to sort by keys or values</li>
<li><strong>key</strong> (<em>Optional</em><em>[</em><em>func</em><em>]</em>) – a function that takes specified part
and returns a sortable value</li>
<li><strong>reverse</strong> (<em>bool</em>) – (Defaults to False) - True for descinding order. False
for ascending order.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sorted dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">OrderedDict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict sort_dict</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="s1">&#39;vals&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="s1">&#39;vals&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    {&#39;a&#39;: 3, &#39;b&#39;: 1, &#39;c&#39;: 2},</span>
<span class="go">    {&#39;b&#39;: 1, &#39;c&#39;: 2, &#39;a&#39;: 3},</span>
<span class="go">    {&#39;a&#39;: 3, &#39;c&#39;: 2, &#39;b&#39;: 1},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_dict.update_dict">
<code class="descclassname">utool.util_dict.</code><code class="descname">update_dict</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em>, <em>copy=False</em>, <em>alias_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#update_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.update_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_dict.update_existing">
<code class="descclassname">utool.util_dict.</code><code class="descname">update_existing</code><span class="sig-paren">(</span><em>dict1</em>, <em>dict2</em>, <em>copy=False</em>, <em>assert_exists=False</em>, <em>iswarning=False</em>, <em>alias_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#update_existing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_dict.update_existing" title="Permalink to this definition">¶</a></dt>
<dd><p>updates vals in dict1 using vals from dict2 only if the
key is already in dict1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict1</strong> (<em>dict</em>) – </li>
<li><strong>dict2</strong> (<em>dict</em>) – </li>
<li><strong>copy</strong> (<em>bool</em>) – if true modifies dictionary in place (default = False)</li>
<li><strong>assert_exists</strong> (<em>bool</em>) – if True throws error if new key specified (default = False)</li>
<li><strong>alias_dict</strong> (<em>dict</em>) – dictionary of alias keys for dict2 (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict - updated dictionary</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_dict –test-update_existing</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="n">update_existing</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;d&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dict1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dict1</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dict1_</span> <span class="ow">is</span> <span class="n">dict1</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.util_func">
<span id="utool-util-func-module"></span><h2>utool.util_func module<a class="headerlink" href="#module-utool.util_func" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_func.compose_functions">
<code class="descclassname">utool.util_func.</code><code class="descname">compose_functions</code><span class="sig-paren">(</span><em>*func_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_func.html#compose_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_func.compose_functions" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Referenes:</dt>
<dd><a class="reference external" href="https://mathieularose.com/function-composition-in-python/">https://mathieularose.com/function-composition-in-python/</a></dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_func.identity">
<code class="descclassname">utool.util_func.</code><code class="descname">identity</code><span class="sig-paren">(</span><em>input_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_func.html#identity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_func.identity" title="Permalink to this definition">¶</a></dt>
<dd><p>identity function</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_git">
<span id="utool-util-git-module"></span><h2>utool.util_git module<a class="headerlink" href="#module-utool.util_git" title="Permalink to this headline">¶</a></h2>
<p>TODO: export from utool</p>
<blockquote>
<div>python -m utool.util_inspect check_module_usage –pat=”util_git.py”</div></blockquote>
<dl class="class">
<dt id="utool.util_git.Repo">
<em class="property">class </em><code class="descclassname">utool.util_git.</code><code class="descname">Repo</code><span class="sig-paren">(</span><em>url=None</em>, <em>code_dir=None</em>, <em>dpath=None</em>, <em>modname=None</em>, <em>pythoncmd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Handles a Python module repository</p>
<dl class="attribute">
<dt id="utool.util_git.Repo.active_branch">
<code class="descname">active_branch</code><a class="headerlink" href="#utool.util_git.Repo.active_branch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.active_remote">
<code class="descname">active_remote</code><a class="headerlink" href="#utool.util_git.Repo.active_remote" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.active_tracking_branch_name">
<code class="descname">active_tracking_branch_name</code><a class="headerlink" href="#utool.util_git.Repo.active_tracking_branch_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.active_tracking_remote_head">
<code class="descname">active_tracking_remote_head</code><a class="headerlink" href="#utool.util_git.Repo.active_tracking_remote_head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.add_script">
<code class="descname">add_script</code><span class="sig-paren">(</span><em>key</em>, <em>script</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.add_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.add_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.aliases">
<code class="descname">aliases</code><a class="headerlink" href="#utool.util_git.Repo.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.as_gitpython">
<code class="descname">as_gitpython</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.as_gitpython"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.as_gitpython" title="Permalink to this definition">¶</a></dt>
<dd><p>pip install gitpython</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.branches">
<code class="descname">branches</code><a class="headerlink" href="#utool.util_git.Repo.branches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.change_url_format">
<code class="descname">change_url_format</code><span class="sig-paren">(</span><em>out_type='ssh'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.change_url_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.change_url_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the url format for committing</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.chdir_context">
<code class="descname">chdir_context</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.chdir_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.chdir_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.check_cpp_build">
<code class="descname">check_cpp_build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.check_cpp_build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.check_cpp_build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.check_importable">
<code class="descname">check_importable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.check_importable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.check_importable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.check_installed">
<code class="descname">check_installed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.check_installed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.check_installed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.checkout2">
<code class="descname">checkout2</code><span class="sig-paren">(</span><em>branch</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.checkout2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.checkout2" title="Permalink to this definition">¶</a></dt>
<dd><p>Checkout <cite>branch</cite> and automatically overwrites conflict files.</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><em>recursive=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.clone" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.custom_build">
<code class="descname">custom_build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.custom_build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.custom_build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.custom_install">
<code class="descname">custom_install</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.custom_install"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.custom_install" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.get_branch_remote">
<code class="descname">get_branch_remote</code><span class="sig-paren">(</span><em>branch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.get_branch_remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.get_branch_remote" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.get_script">
<code class="descname">get_script</code><span class="sig-paren">(</span><em>type_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.get_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.get_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.has_script">
<code class="descname">has_script</code><span class="sig-paren">(</span><em>type_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.has_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.has_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.infer_info">
<code class="descname">infer_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.infer_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.infer_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.is_cloned">
<code class="descname">is_cloned</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.is_cloned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.is_cloned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.is_gitrepo">
<code class="descname">is_gitrepo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.is_gitrepo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.is_gitrepo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.is_owner">
<code class="descname">is_owner</code><span class="sig-paren">(</span><em>userid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.is_owner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.is_owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.issue">
<code class="descname">issue</code><span class="sig-paren">(</span><em>command</em>, <em>sudo=False</em>, <em>dry=False</em>, <em>error='raise'</em>, <em>return_out=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.issue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.issue" title="Permalink to this definition">¶</a></dt>
<dd><p>issues a command on a repo</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_git –exec-repocmd</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">ut</span><span class="p">,</span> <span class="n">prefer_pkg</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;git status&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sudo</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repocmd</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">sudo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.modname">
<code class="descname">modname</code><a class="headerlink" href="#utool.util_git.Repo.modname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.owner">
<code class="descname">owner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.owner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.pull">
<code class="descname">pull</code><span class="sig-paren">(</span><em>has_submods=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.pull" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.pull2">
<code class="descname">pull2</code><span class="sig-paren">(</span><em>overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.pull2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.pull2" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls and automatically overwrites conflict files.</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.python_develop">
<code class="descname">python_develop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.python_develop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.python_develop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.remotes">
<code class="descname">remotes</code><a class="headerlink" href="#utool.util_git.Repo.remotes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.rename_branch">
<code class="descname">rename_branch</code><span class="sig-paren">(</span><em>old_branch_name</em>, <em>new_branch_name</em>, <em>remote='origin'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.rename_branch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.rename_branch" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1526794/rename?answertab=votes#tab-top">http://stackoverflow.com/questions/1526794/rename?answertab=votes#tab-top</a>
<a class="reference external" href="http://stackoverflow.com/questions/9524933/renaming-a-branch-in-github">http://stackoverflow.com/questions/9524933/renaming-a-branch-in-github</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_git –test-rename_branch –old=mymaster –new=wbia_master</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--repo&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remote</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--remote&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old_branch_name</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--old&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_branch_name</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--new&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rename_branch</span><span class="p">(</span><span class="n">old_branch_name</span><span class="p">,</span> <span class="n">new_branch_name</span><span class="p">,</span> <span class="n">repo</span><span class="p">,</span> <span class="n">remote</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_git.Repo.reponame">
<code class="descname">reponame</code><a class="headerlink" href="#utool.util_git.Repo.reponame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.reset_branch_to_remote">
<code class="descname">reset_branch_to_remote</code><span class="sig-paren">(</span><em>branch</em>, <em>hard=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.reset_branch_to_remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.reset_branch_to_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>does a git reset –hard to whatever remote the branch is assigned to</p>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_git.Repo.resolve_conflicts">
<em class="property">static </em><code class="descname">resolve_conflicts</code><span class="sig-paren">(</span><em>fpath</em>, <em>strat</em>, <em>force=False</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.resolve_conflicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.resolve_conflicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses merge conflits and takes either version</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_git.Repo.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.set_branch_remote">
<code class="descname">set_branch_remote</code><span class="sig-paren">(</span><em>branch</em>, <em>remote</em>, <em>remote_branch=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.set_branch_remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.set_branch_remote" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.Repo.short_status">
<code class="descname">short_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.short_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.Repo.short_status" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_git short_status</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">Repo</span><span class="p">(</span><span class="n">dpath</span><span class="o">=</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">short_status</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_git.RepoManager">
<em class="property">class </em><code class="descclassname">utool.util_git.</code><code class="descname">RepoManager</code><span class="sig-paren">(</span><em>repo_urls=None</em>, <em>code_dir=None</em>, <em>userid=None</em>, <em>permitted_repos=None</em>, <em>label=''</em>, <em>pythoncmd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Batch git operations on multiple repos</p>
<dl class="method">
<dt id="utool.util_git.RepoManager.add_repo">
<code class="descname">add_repo</code><span class="sig-paren">(</span><em>repo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.add_repo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.add_repo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.add_repos">
<code class="descname">add_repos</code><span class="sig-paren">(</span><em>repo_urls=None</em>, <em>code_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.add_repos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.add_repos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.check_cpp_build">
<code class="descname">check_cpp_build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.check_cpp_build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.check_cpp_build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.check_importable">
<code class="descname">check_importable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.check_importable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.check_importable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.check_installed">
<code class="descname">check_installed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.check_installed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.check_installed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.custom_build">
<code class="descname">custom_build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.custom_build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.custom_build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.custom_install">
<code class="descname">custom_install</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.custom_install"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.custom_install" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.ensure">
<code class="descname">ensure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.ensure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.ensure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.issue">
<code class="descname">issue</code><span class="sig-paren">(</span><em>command</em>, <em>sudo=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.issue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.issue" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a command on all of managed repos</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.only_with_pysetup">
<code class="descname">only_with_pysetup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.only_with_pysetup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.only_with_pysetup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_git.RepoManager.repo_dirs">
<code class="descname">repo_dirs</code><a class="headerlink" href="#utool.util_git.RepoManager.repo_dirs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_git.RepoManager.repo_urls">
<code class="descname">repo_urls</code><a class="headerlink" href="#utool.util_git.RepoManager.repo_urls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_git.RepoManager.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_git.RepoManager.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.RepoManager.union" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_git.git_sequence_editor_squash">
<code class="descclassname">utool.util_git.</code><code class="descname">git_sequence_editor_squash</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#git_sequence_editor_squash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.git_sequence_editor_squash" title="Permalink to this definition">¶</a></dt>
<dd><p>squashes wip messages</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_git –exec-git_sequence_editor_squash</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--fpath&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">git_sequence_editor_squash</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><dl class="first last docutils">
<dt>text = ut.codeblock(</dt>
<dd>‘’’
pick 852aa05 better doctest for tips
pick 3c779b8 wip
pick 02bc21d wip
pick 1853828 Fixed root tablename
pick 9d50233 doctest updates
pick 66230a5 wip
pick c612e98 wip
pick b298598 Fixed tablename error
pick 1120a87 wip
pick f6c4838 wip
pick 7f92575 wip
‘’‘)</dd>
</dl>
</dd>
<dt>Ignore:</dt>
<dd><dl class="first last docutils">
<dt>def squash_consecutive_commits_with_same_message():</dt>
<dd><blockquote class="first">
<div><p># <a class="reference external" href="http://stackoverflow.com/questions/8226278/git-alias-to-squash-all-commits-with-a-particular-commit-message">http://stackoverflow.com/questions/8226278/git-alias-to-squash-all-commits-with-a-particular-commit-message</a>
# Can do interactively with this. Can it be done automatically and pay attention to
# Timestamps etc?
git rebase –interactive HEAD~40 –autosquash
git rebase –interactive $(git merge-base HEAD master) –autosquash</p>
<p># Lookbehind correct version
%s/([a-z]* [a-z0-9]* wipn)&#64;&lt;=pick ([a-z0-9]*) wip/squash 2 wip/gc</p>
</div></blockquote>
<p># THE FULL NON-INTERACTIVE AUTOSQUASH SCRIPT
# TODO: Dont squash if there is a one hour timedelta between commits</p>
<dl class="docutils">
<dt>GIT_EDITOR=”cat $1” GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </dt>
<dd>–fpath $1” git rebase -i $(git rev-list HEAD | tail -n 1) –autosquash –no-verify</dd>
<dt>GIT_EDITOR=”cat $1” GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </dt>
<dd>–fpath $1” git rebase -i HEAD~10 –autosquash –no-verify</dd>
<dt>GIT_EDITOR=”cat $1” GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </dt>
<dd>–fpath $1” git rebase -i $(git merge-base HEAD master) –autosquash –no-verify</dd>
</dl>
<p># 14d778fa30a93f85c61f34d09eddb6d2cafd11e2
# c509a95d4468ebb61097bd9f4d302367424772a3
# b0ffc26011e33378ee30730c5e0ef1994bfe1a90
# GIT_SEQUENCE_EDITOR=&lt;script&gt; git rebase -i &lt;params&gt;
# GIT_SEQUENCE_EDITOR=”echo ‘FOOBAR $1’ ” git rebase -i HEAD~40 –autosquash
# git checkout master
# git branch -D tmp
# git checkout -b tmp
# option to get the tail commit
$(git rev-list HEAD | tail -n 1)
# GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </p>
<blockquote>
<div>–fpath $1” git rebase -i HEAD~40 –autosquash</div></blockquote>
<dl class="docutils">
<dt># GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </dt>
<dd>–fpath $1” git rebase -i HEAD~40 –autosquash –no-verify</dd>
</dl>
<p class="last">&lt;params&gt;</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_git.std_build_command">
<code class="descclassname">utool.util_git.</code><code class="descname">std_build_command</code><span class="sig-paren">(</span><em>repo='.'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#std_build_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_git.std_build_command" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE
My standard build script names.</p>
<p>Calls mingw_build.bat on windows and unix_build.sh  on unix</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_grabdata">
<span id="utool-util-grabdata-module"></span><h2>utool.util_grabdata module<a class="headerlink" href="#module-utool.util_grabdata" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_grabdata.archive_files">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">archive_files</code><span class="sig-paren">(</span><em>archive_fpath</em>, <em>fpath_list</em>, <em>small=True</em>, <em>allowZip64=False</em>, <em>overwrite=False</em>, <em>verbose=True</em>, <em>common_prefix=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#archive_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.archive_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the files in <cite>fpath_list</cite> to an zip/tar archive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>archive_fpath</strong> (<em>str</em>) – path to zipfile to create</li>
<li><strong>fpath_list</strong> (<em>list</em>) – path of files to add to the zipfile</li>
<li><strong>small</strong> (<em>bool</em>) – if True uses compression but the zipfile will take more
time to write</li>
<li><strong>allowZip64</strong> (<em>bool</em>) – use if a file is over 2GB</li>
<li><strong>overwrite</strong> (<em>bool</em>) – </li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag(default = True)</li>
<li><strong>common_prefix</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/2/library/zipfile.html">https://docs.python.org/2/library/zipfile.html</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –test-archive_files</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">archive_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;testarchive.zip&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># remove an existing test archive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">),</span> <span class="s1">&#39;archive should not exist&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">TESTIMG_URL_DICT</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">small</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allowZip64</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">overwrite</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">archive_files</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">,</span> <span class="n">fpath_list</span><span class="p">,</span> <span class="n">small</span><span class="p">,</span> <span class="n">allowZip64</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exists</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">),</span> <span class="s1">&#39;archive should exist&#39;</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><p class="first"># <a class="reference external" href="http://superuser.com/questions/281573/best-options-compressing-files-7-zip">http://superuser.com/questions/281573/best-options-compressing-files-7-zip</a>
# Create a small 7zip archive
7z a -t7z -m0=lzma -mx=9 -mfb=64 -md=32m -ms=on archive.7z dir1
7z a -t7z -m0=lzma -mx=9 -mfb=64 -md=32m -ms=on wbia-linux-binary.7z wbia</p>
<p class="last"># Create a small zip archive
7za a -mm=Deflate -mfb=258 -mpass=15 -r wbia-linux-binary.zip wbia</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.clean_dropbox_link">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">clean_dropbox_link</code><span class="sig-paren">(</span><em>dropbox_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#clean_dropbox_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.clean_dropbox_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Dropbox links should be en-mass downloaed from dl.dropbox</p>
<p>DEPRICATE?</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dropbox_url</span> <span class="o">=</span> <span class="s1">&#39;www.dropbox.com/s/123456789abcdef/foobar.zip?dl=0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cleaned_url</span> <span class="o">=</span> <span class="n">clean_dropbox_link</span><span class="p">(</span><span class="n">dropbox_url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cleaned_url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">dl.dropbox.com/s/123456789abcdef/foobar.zip</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.clear_test_img_cache">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">clear_test_img_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#clear_test_img_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.clear_test_img_cache" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –test-clear_test_img_cache</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testimg_fpath</span> <span class="o">=</span> <span class="n">clear_test_img_cache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">testimg_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.download_url">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">download_url</code><span class="sig-paren">(</span><em>url</em>, <em>filename=None</em>, <em>spoof=False</em>, <em>iri_fallback=True</em>, <em>verbose=True</em>, <em>new=True</em>, <em>chunk_size=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#download_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.download_url" title="Permalink to this definition">¶</a></dt>
<dd><p>downloads a url to a filename.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> (<em>str</em>) – url to download</li>
<li><strong>filename</strong> (<em>str</em>) – path to download to. Defaults to basename of url</li>
<li><strong>spoof</strong> (<em>bool</em>) – if True pretends to by Firefox</li>
<li><strong>iri_fallback</strong> – falls back to requests get call if there is a UnicodeError</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://blog.moleculea.com/2012/10/04/urlretrieve-progres-indicator/">http://blog.moleculea.com/2012/10/04/urlretrieve-progres-indicator/</a>
<a class="reference external" href="http://stackoverflow.com/questions/15644964/python-progress-bar-and-downloads">http://stackoverflow.com/questions/15644964/python-progress-bar-and-downloads</a>
<a class="reference external" href="http://stackoverflow.com/questions/16694907/how-to-download-large-file-in-python-with-requests-py">http://stackoverflow.com/questions/16694907/how-to-download-large-file-in-python-with-requests-py</a></p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://www.jrsoftware.org/download.php/ispack.exe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">download_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="go">ispack.exe</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.experiment_download_multiple_urls">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">experiment_download_multiple_urls</code><span class="sig-paren">(</span><em>url_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#experiment_download_multiple_urls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.experiment_download_multiple_urls" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1112343/capture-sigint-in-python">http://stackoverflow.com/questions/1112343/capture-sigint-in-python</a>
<a class="reference external" href="http://stackoverflow.com/questions/16694907/download-large-file-requests">http://stackoverflow.com/questions/16694907/download-large-file-requests</a>
GracefulInterruptHandler</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first">import signal
import sys
def signal_handler(signal, frame):</p>
<blockquote>
<div>print(‘You pressed Ctrl+C!’)
sys.exit(0)</div></blockquote>
<p class="last">signal.signal(signal.SIGINT, signal_handler)
print(‘Press Ctrl+C’)
signal.pause()</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/random/ibeis-win32-setup-ymd_hm-2015-08-01_16-28.exe&#39;</span><span class="p">,</span>   <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/L10/L10_R1/S1_L10_R1_PICT0070.JPG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0001.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0002.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0003.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0004.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0005.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0006.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0007.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0008.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0022.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0023.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0024.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0025.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0026.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0027.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0028.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0029.JPG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.geo_locate">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">geo_locate</code><span class="sig-paren">(</span><em>default='Unknown'</em>, <em>timeout=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#geo_locate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.geo_locate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.get_file_local_hash">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">get_file_local_hash</code><span class="sig-paren">(</span><em>fpath</em>, <em>hash_list</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#get_file_local_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.get_file_local_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.get_prefered_browser">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">get_prefered_browser</code><span class="sig-paren">(</span><em>pref_list=[]</em>, <em>fallback=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#get_prefered_browser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.get_prefered_browser" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>browser_preferences</strong> (<em>list</em>) – (default = [])</li>
<li><strong>fallback</strong> (<em>bool</em>) – uses default if non of preferences work (default = True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –test-get_prefered_browser</dd>
<dt>Ignore:</dt>
<dd>import webbrowser
webbrowser._tryorder
pref_list = [‘chrome’, ‘firefox’, ‘google-chrome’]
pref_list = [‘firefox’, ‘google-chrome’]</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">browser_preferences</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;firefox&#39;</span><span class="p">,</span> <span class="s1">&#39;chrome&#39;</span><span class="p">,</span> <span class="s1">&#39;safari&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fallback</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">browser</span> <span class="o">=</span> <span class="n">get_prefered_browser</span><span class="p">(</span><span class="n">browser_preferences</span><span class="p">,</span> <span class="n">fallback</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;browser = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">browser</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.get_valid_test_imgkeys">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">get_valid_test_imgkeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#get_valid_test_imgkeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.get_valid_test_imgkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>returns valid keys for grab_test_imgpath</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.grab_file_remote_hash">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">grab_file_remote_hash</code><span class="sig-paren">(</span><em>file_url</em>, <em>hash_list</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_file_remote_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.grab_file_remote_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.grab_file_url">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">grab_file_url</code><span class="sig-paren">(</span><em>file_url</em>, <em>appname='utool'</em>, <em>download_dir=None</em>, <em>delay=None</em>, <em>spoof=False</em>, <em>fname=None</em>, <em>verbose=True</em>, <em>redownload=False</em>, <em>check_hash=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_file_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.grab_file_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a file and returns the local path of the file.</p>
<p>The resulting file is cached, so multiple calls to this function do not
result in multiple dowloads.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_url</strong> (<em>str</em>) – url to the file</li>
<li><strong>appname</strong> (<em>str</em>) – (default = ‘utool’)</li>
<li><strong>custom directory</strong> (<em>download_dir</em>) – (default = None)</li>
<li><strong>delay</strong> (<em>None</em>) – delay time before download (default = None)</li>
<li><strong>spoof</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>fname</strong> (<em>str</em>) – custom file name (default = None)</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag (default = True)</li>
<li><strong>redownload</strong> (<em>bool</em>) – if True forces redownload of the file
(default = False)</li>
<li><strong>check_hash</strong> (<em>bool</em><em> or </em><em>iterable</em>) – if True, defaults to checking 4 hashes
(in order): custom, md5, sha1, sha256.  These hashes are checked
for remote copies and, if found, will check the local file.  You may
also specify a list of hashes to check, for example [‘md5’, ‘sha256’]
in the specified order.  The first verified hash to be found is used
(default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">fpath - file path string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –test-grab_file_url:0
python -m utool.util_grabdata –test-grab_file_url:1</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">basename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">,</span> <span class="nb">locals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_url</span> <span class="o">=</span> <span class="s1">&#39;http://i.imgur.com/JGrqMnV.png&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redownload</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;lena.png&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lena_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">(</span><span class="n">file_url</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">redownload</span><span class="o">=</span><span class="n">redownload</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">lena_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">lena.png</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">,</span> <span class="nb">locals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_url</span> <span class="o">=</span> <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/detect.yolo.12.classes&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;detect.yolo.12.classes&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">(</span><span class="n">file_url</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">,</span> <span class="n">check_hash</span><span class="o">=</span><span class="n">check_hash</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.grab_s3_contents">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">grab_s3_contents</code><span class="sig-paren">(</span><em>fpath</em>, <em>bucket</em>, <em>key</em>, <em>auth_access_id=None</em>, <em>auth_secret_key=None</em>, <em>auth_domain=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_s3_contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.grab_s3_contents" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.grab_selenium_chromedriver">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">grab_selenium_chromedriver</code><span class="sig-paren">(</span><em>redownload=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_selenium_chromedriver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.grab_selenium_chromedriver" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically download selenium chrome driver if needed</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –test-grab_selenium_chromedriver:1</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">grab_selenium_chromedriver</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">selenium.webdriver</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;puppies&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">selenium.webdriver</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;puppies&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.grab_selenium_driver">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">grab_selenium_driver</code><span class="sig-paren">(</span><em>driver_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_selenium_driver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.grab_selenium_driver" title="Permalink to this definition">¶</a></dt>
<dd><p>pip install selenium -U</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.grab_test_imgpath">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">grab_test_imgpath</code><span class="sig-paren">(</span><em>key='lena.png'</em>, <em>allow_external=True</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_test_imgpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.grab_test_imgpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets paths to standard / fun test images.
Downloads them if they dont exits</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<em>str</em>) – one of the standard test images, e.g. lena.png, carl.jpg, …</li>
<li><strong>allow_external</strong> (<em>bool</em>) – if True you can specify existing fpaths</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">testimg_fpath - filepath to the downloaded or cached test image.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.get_valid_test_imgkeys</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –test-grab_test_imgpath</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;carl.jpg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testimg_fpath</span> <span class="o">=</span> <span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assertpath</span><span class="p">(</span><span class="n">testimg_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.grab_zipped_url">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">grab_zipped_url</code><span class="sig-paren">(</span><em>zipped_url</em>, <em>ensure=True</em>, <em>appname='utool'</em>, <em>download_dir=None</em>, <em>force_commonprefix=True</em>, <em>cleanup=False</em>, <em>redownload=False</em>, <em>spoof=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_zipped_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.grab_zipped_url" title="Permalink to this definition">¶</a></dt>
<dd><p>downloads and unzips the url</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>zipped_url</strong> (<em>str</em>) – url which must be either a .zip of a .tar.gz file</li>
<li><strong>ensure</strong> (<em>bool</em>) – eager evaluation if True(default = True)</li>
<li><strong>appname</strong> (<em>str</em>) – (default = ‘utool’)</li>
<li><strong>download_dir</strong> (<em>str</em>) – containing downloading directory</li>
<li><strong>force_commonprefix</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>cleanup</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>redownload</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>spoof</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –exec-grab_zipped_url –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_url</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ensure</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">appname</span> <span class="o">=</span> <span class="s1">&#39;utool&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">download_dir</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force_commonprefix</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cleanup</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redownload</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spoof</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">grab_zipped_url</span><span class="p">(</span><span class="n">zipped_url</span><span class="p">,</span> <span class="n">ensure</span><span class="p">,</span> <span class="n">appname</span><span class="p">,</span> <span class="n">download_dir</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">force_commonprefix</span><span class="p">,</span> <span class="n">cleanup</span><span class="p">,</span> <span class="n">redownload</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">spoof</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_url</span> <span class="o">=</span> <span class="s1">&#39;https://wildbookiarepository.azureedge.net/data/testdata.zip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_url</span> <span class="o">=</span> <span class="s1">&#39;http://www.spam.com/eggs/data.zip&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.list_remote">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">list_remote</code><span class="sig-paren">(</span><em>remote_uri</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#list_remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.list_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>remote_uri = <a class="reference external" href="mailto:'user&#37;&#52;&#48;xx&#46;xx&#46;xx&#46;xx">‘user<span>&#64;</span>xx<span>&#46;</span>xx<span>&#46;</span>xx<span>&#46;</span>xx</a>’</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.open_url_in_browser">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">open_url_in_browser</code><span class="sig-paren">(</span><em>url</em>, <em>browsername=None</em>, <em>fallback=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#open_url_in_browser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.open_url_in_browser" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a url in the specified or default browser</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>str</em>) – web url</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata –test-open_url_in_browser</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://www.jrsoftware.org/isdl.php&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">open_url_in_browser</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s1">&#39;chrome&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.read_s3_contents">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">read_s3_contents</code><span class="sig-paren">(</span><em>bucket</em>, <em>key</em>, <em>auth_access_id=None</em>, <em>auth_secret_key=None</em>, <em>auth_domain=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#read_s3_contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.read_s3_contents" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.rsync">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">rsync</code><span class="sig-paren">(</span><em>src_uri</em>, <em>dst_uri</em>, <em>exclude_dirs=[]</em>, <em>port=22</em>, <em>dryrun=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#rsync"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.rsync" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for rsync</p>
<p>General function to push or pull a directory from a remote server to a
local path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src_uri</strong> (<em>str</em>) – </li>
<li><strong>dst_uri</strong> (<em>str</em>) – </li>
<li><strong>exclude_dirs</strong> (<em>list</em>) – (default = [])</li>
<li><strong>port</strong> (<em>int</em>) – (default = 22)</li>
<li><strong>dryrun</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.tecmint.com/rsync-local-remote-file-synchronization-commands/">http://www.tecmint.com/rsync-local-remote-file-synchronization-commands/</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_grabdata rsync</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src_uri</span> <span class="o">=</span> <span class="s1">&#39;local/path/file.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dst_uri</span> <span class="o">=</span> <span class="s1">&#39;host.cs.college.edge:/remove/path/file.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">port</span> <span class="o">=</span> <span class="mi">22</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dryrun</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">rsync</span><span class="p">(</span><span class="n">src_uri</span><span class="p">,</span> <span class="n">dst_uri</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">dryrun</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Notes (rsync commandline options):</dt>
<dd><p class="first">rsync [OPTION]… SRC [SRC]… DEST
-v : verbose
-r : copies data recursively (but dont preserve timestamps and</p>
<blockquote>
<div>permission while transferring data</div></blockquote>
<dl class="docutils">
<dt>-a <span class="classifier-delimiter">:</span> <span class="classifier">archive mode, allows recursive copying and preserves symlinks,</span></dt>
<dd>permissions, user and group ownerships, and timestamps</dd>
</dl>
<p class="last">-z : compress file data
-i, –itemize-changes       output a change-summary for all updates
-s, –protect-args :        no space-splitting; only wildcard special-chars
-h : human-readable, output numbers in a human-readable format
-P                          same as –partial –progress</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.s3_dict_encode_to_str">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">s3_dict_encode_to_str</code><span class="sig-paren">(</span><em>s3_dict</em>, <em>return_local_directory_if_available=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#s3_dict_encode_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.s3_dict_encode_to_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.s3_str_decode_to_dict">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">s3_str_decode_to_dict</code><span class="sig-paren">(</span><em>s3_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#s3_str_decode_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.s3_str_decode_to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.scp_pull">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">scp_pull</code><span class="sig-paren">(</span><em>remote_path</em>, <em>local_path='.'</em>, <em>remote='localhost'</em>, <em>user=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#scp_pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.scp_pull" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper for scp</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.split_archive_ext">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">split_archive_ext</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#split_archive_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.split_archive_ext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.unarchive_file">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">unarchive_file</code><span class="sig-paren">(</span><em>archive_fpath</em>, <em>force_commonprefix=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#unarchive_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.unarchive_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.untar_file">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">untar_file</code><span class="sig-paren">(</span><em>targz_fpath</em>, <em>force_commonprefix=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#untar_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.untar_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.unzip_file">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">unzip_file</code><span class="sig-paren">(</span><em>zip_fpath</em>, <em>force_commonprefix=True</em>, <em>output_dir=None</em>, <em>prefix=None</em>, <em>dryrun=False</em>, <em>overwrite=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#unzip_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.unzip_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.url_read">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">url_read</code><span class="sig-paren">(</span><em>url</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#url_read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.url_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Directly reads data from url</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_grabdata.url_read_text">
<code class="descclassname">utool.util_grabdata.</code><code class="descname">url_read_text</code><span class="sig-paren">(</span><em>url</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#url_read_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_grabdata.url_read_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Directly reads text data from url</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_graph">
<span id="utool-util-graph-module"></span><h2>utool.util_graph module<a class="headerlink" href="#module-utool.util_graph" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_graph.all_multi_paths">
<code class="descclassname">utool.util_graph.</code><code class="descname">all_multi_paths</code><span class="sig-paren">(</span><em>graph</em>, <em>source</em>, <em>target</em>, <em>data=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#all_multi_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.all_multi_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns specific paths along multi-edges from the source to this table.
Multipaths are identified by edge keys.</p>
<p>Returns all paths from source to target. This function treats multi-edges
as distinct and returns the key value in each edge tuple that defines a
path.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dtool.depcache_control</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dtool.example_depcache</span> <span class="k">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="s1">&#39;notchpair&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_multi_paths</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;notchpair&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_multi_paths</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result1</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list1 = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">path_list1</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list2 = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">path_list2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">result1</span><span class="p">,</span> <span class="n">result2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">path_list1 = [</span>
<span class="go">    [(&#39;dummy_annot&#39;, &#39;notch&#39;, 0), (&#39;notch&#39;, &#39;notchpair&#39;, 0)],</span>
<span class="go">    [(&#39;dummy_annot&#39;, &#39;notch&#39;, 0), (&#39;notch&#39;, &#39;notchpair&#39;, 1)],</span>
<span class="go">]</span>
<span class="go">path_list2 = [</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;chip&#39;, 0),</span>
<span class="go">        (&#39;chip&#39;, &#39;keypoint&#39;, 0),</span>
<span class="go">        (&#39;keypoint&#39;, &#39;fgweight&#39;, 0),</span>
<span class="go">        (&#39;fgweight&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;chip&#39;, 0),</span>
<span class="go">        (&#39;chip&#39;, &#39;keypoint&#39;, 0),</span>
<span class="go">        (&#39;keypoint&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;chip&#39;, 0),</span>
<span class="go">        (&#39;chip&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;probchip&#39;, 0),</span>
<span class="go">        (&#39;probchip&#39;, &#39;fgweight&#39;, 0),</span>
<span class="go">        (&#39;fgweight&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.approx_min_num_components">
<code class="descclassname">utool.util_graph.</code><code class="descname">approx_min_num_components</code><span class="sig-paren">(</span><em>nodes</em>, <em>negative_edges</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#approx_min_num_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.approx_min_num_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Find approximate minimum number of connected components possible
Each edge represents that two nodes must be separated</p>
<p>This code doesn’t solve the problem. The problem is NP-complete and
reduces to minimum clique cover (MCC). This is only an approximate
solution. Not sure what the approximation ratio is.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph approx_min_num_components</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g_pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g_pos</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g_neg</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complement</span><span class="p">(</span><span class="n">g_pos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#import wbia.plottool as pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.qt4ensure()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(g_pos)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(g_neg)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negative_edges</span> <span class="o">=</span> <span class="n">g_neg</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negative_edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">approx_min_num_components</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">negative_edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.bfs_conditional">
<code class="descclassname">utool.util_graph.</code><code class="descname">bfs_conditional</code><span class="sig-paren">(</span><em>G</em>, <em>source</em>, <em>reverse=False</em>, <em>keys=True</em>, <em>data=False</em>, <em>yield_nodes=True</em>, <em>yield_if=None</em>, <em>continue_if=None</em>, <em>visited_nodes=None</em>, <em>yield_source=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#bfs_conditional"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.bfs_conditional" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce edges in a breadth-first-search starting at source, but only return
nodes that satisfiy a condition, and only iterate past a node if it
satisfies a different condition.</p>
<p>conditions are callables that take (G, child, edge) and return true or false</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph bfs_conditional</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">continue_if</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">G</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">edge</span><span class="p">:</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">bfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">yield_nodes</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 2), (1, 3), (2, 1), (2, 3), (2, 4), (3, 1), (3, 2), (4, 2)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">continue_if</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">G</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">edge</span><span class="p">:</span> <span class="p">(</span><span class="n">child</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yield_if</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">G</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">edge</span><span class="p">:</span> <span class="p">(</span><span class="n">child</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                  <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                  <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">bfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">continue_if</span><span class="o">=</span><span class="n">continue_if</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">yield_if</span><span class="o">=</span><span class="n">yield_if</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 3, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.bfs_multi_edges">
<code class="descclassname">utool.util_graph.</code><code class="descname">bfs_multi_edges</code><span class="sig-paren">(</span><em>G</em>, <em>source</em>, <em>reverse=False</em>, <em>keys=True</em>, <em>data=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#bfs_multi_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.bfs_multi_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on <a class="reference external" href="http://www.ics.uci.edu/~eppstein/PADS/BFS.py">http://www.ics.uci.edu/~eppstein/PADS/BFS.py</a>
by D. Eppstein, July 2004.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.color_nodes">
<code class="descclassname">utool.util_graph.</code><code class="descname">color_nodes</code><span class="sig-paren">(</span><em>graph</em>, <em>labelattr='label'</em>, <em>brightness=0.878</em>, <em>outof=None</em>, <em>sat_adjust=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#color_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.color_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Colors edges and nodes by nid</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.dag_longest_path">
<code class="descclassname">utool.util_graph.</code><code class="descname">dag_longest_path</code><span class="sig-paren">(</span><em>graph</em>, <em>source</em>, <em>target</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#dag_longest_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.dag_longest_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the longest path in a dag between two nodes</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.dfs_conditional">
<code class="descclassname">utool.util_graph.</code><code class="descname">dfs_conditional</code><span class="sig-paren">(</span><em>G</em>, <em>source</em>, <em>state</em>, <em>can_cross</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#dfs_conditional"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.dfs_conditional" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;lava&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;lava&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">can_cross</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">edge</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># can only cross lava once, then your lava protection wears off</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">get_edge_data</span><span class="p">(</span><span class="o">*</span><span class="n">edge</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">lava</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;lava&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">lava</span> <span class="ow">or</span> <span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">state</span> <span class="o">+</span> <span class="n">lava</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">lava</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">5</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">can_cross</span><span class="o">=</span><span class="n">can_cross</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;lava&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">5</span> <span class="ow">in</span> <span class="n">dfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">can_cross</span><span class="o">=</span><span class="n">can_cross</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.dict_depth">
<code class="descclassname">utool.util_graph.</code><code class="descname">dict_depth</code><span class="sig-paren">(</span><em>dict_</em>, <em>accum=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#dict_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.dict_depth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.edges_to_adjacency_list">
<code class="descclassname">utool.util_graph.</code><code class="descname">edges_to_adjacency_list</code><span class="sig-paren">(</span><em>edges</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#edges_to_adjacency_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.edges_to_adjacency_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.get_allkeys">
<code class="descclassname">utool.util_graph.</code><code class="descname">get_allkeys</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#get_allkeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.get_allkeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.get_graph_bounding_box">
<code class="descclassname">utool.util_graph.</code><code class="descname">get_graph_bounding_box</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#get_graph_bounding_box"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.get_graph_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.get_levels">
<code class="descclassname">utool.util_graph.</code><code class="descname">get_levels</code><span class="sig-paren">(</span><em>dict_</em>, <em>n=0</em>, <em>levels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#get_levels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.get_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPCIRATE</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict</strong> (<a href="#id99"><span class="problematic" id="id100">dict_</span></a>) – a dictionary</li>
<li><strong>n</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>levels</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph –test-get_levels –show
python3 -m utool.util_graph –test-get_levels –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">from_root</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dummy_annot&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                            <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">from_root</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels_</span> <span class="o">=</span> <span class="n">get_levels</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">levels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">levels_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    [&#39;dummy_annot&#39;],</span>
<span class="go">    [&#39;chip&#39;, &#39;probchip&#39;],</span>
<span class="go">    [&#39;keypoint&#39;, &#39;fgweight&#39;],</span>
<span class="go">    [&#39;fgweight&#39;],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.graph_info">
<code class="descclassname">utool.util_graph.</code><code class="descname">graph_info</code><span class="sig-paren">(</span><em>graph</em>, <em>ignore=None</em>, <em>stats=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#graph_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.graph_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.greedy_mincost_diameter_augment">
<code class="descclassname">utool.util_graph.</code><code class="descname">greedy_mincost_diameter_augment</code><span class="sig-paren">(</span><em>graph</em>, <em>max_cost</em>, <em>candidates=None</em>, <em>weight=None</em>, <em>cost=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#greedy_mincost_diameter_augment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.greedy_mincost_diameter_augment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.longest_levels">
<code class="descclassname">utool.util_graph.</code><code class="descname">longest_levels</code><span class="sig-paren">(</span><em>levels_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#longest_levels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.longest_levels" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>levels</strong> (<em>list</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph –exec-longest_levels –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels_</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_levels</span> <span class="o">=</span> <span class="n">longest_levels</span><span class="p">(</span><span class="n">levels_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;new_levels = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">new_levels</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">new_levels = [</span>
<span class="go">    [&#39;dummy_annot&#39;],</span>
<span class="go">    [&#39;chip&#39;, &#39;probchip&#39;],</span>
<span class="go">    [&#39;keypoint&#39;],</span>
<span class="go">    [&#39;fgweight&#39;],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.mincost_diameter_augment">
<code class="descclassname">utool.util_graph.</code><code class="descname">mincost_diameter_augment</code><span class="sig-paren">(</span><em>graph</em>, <em>max_cost</em>, <em>candidates=None</em>, <em>weight=None</em>, <em>cost=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#mincost_diameter_augment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.mincost_diameter_augment" title="Permalink to this definition">¶</a></dt>
<dd><p>PROBLEM: Bounded Cost Minimum Diameter Edge Addition (BCMD)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<em>nx.Graph</em>) – input graph</li>
<li><strong>max_cost</strong> (<em>float</em>) – maximum weighted diamter of the graph</li>
<li><strong>weight</strong> (<em>str</em>) – key of the edge weight attribute</li>
<li><strong>cost</strong> (<em>str</em>) – key of the edge cost attribute</li>
<li><strong>candidates</strong> (<em>list</em>) – set of non-edges, optional, defaults
to the complement of the graph</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">if no solution exists
list: minimum cost edges if solution exists</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>We are given a graph G = (V, E) with an edge weight function w, an edge
cost function c, an a maximum cost B.</p>
<p>The goal is to find a set of candidate non-edges F.</p>
<p>Let x[e] in {0, 1} denote if a non-edge e is excluded or included.</p>
<p>minimize sum(c(e) * x[e] for e in F)
such that
weighted_diamter(graph.union({e for e in F if x[e]})) &lt;= B</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://www.cse.unsw.edu.au/~sergeg/papers/FratiGGM13isaac.pdf">https://www.cse.unsw.edu.au/~sergeg/papers/FratiGGM13isaac.pdf</a>
<a class="reference external" href="http://www.cis.upenn.edu/~sanjeev/papers/diameter.pdf">http://www.cis.upenn.edu/~sanjeev/papers/diameter.pdf</a>
<a class="reference external" href="http://dl.acm.org/citation.cfm?id=2953882">http://dl.acm.org/citation.cfm?id=2953882</a></p>
<p class="rubric">Notes</p>
<p>There is a 4-Approximation of the BCMD problem
Running time is O((3 ** B * B ** 3 + n + log(B * n)) * B * n ** 2)</p>
<p>This algorithm usexs a clustering approach to find a set C, of B + 1
cluster centers.  Then we create a minimum height rooted tree, T = (U
subseteq V, D) so that C subseteq U.  This tree T approximates an
optimal B-augmentation.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">nx</span><span class="o">.</span><span class="n">__version__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">nx</span><span class="o">.</span><span class="n">add_path</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="o">.</span><span class="n">add_path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">add_path</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#cost_func   = lambda e: e[0] + e[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cost_func</span>   <span class="o">=</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weight_func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complement</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cost&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">cost_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">weight_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">comp_graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cost&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">cost_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">comp_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">comp_graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">weight_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">comp_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">comp_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_cost</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cost</span> <span class="o">=</span> <span class="s1">&#39;cost&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weight</span> <span class="o">=</span> <span class="s1">&#39;weight&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">best_edges</span> <span class="o">=</span> <span class="n">mincost_diameter_augment</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">max_cost</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="n">cost</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;best_edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">best_edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">soln_edges</span> <span class="o">=</span> <span class="n">greedy_mincost_diameter_augment</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">max_cost</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="n">cost</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;soln_edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">soln_edges</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_all_nodes_between">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_all_nodes_between</code><span class="sig-paren">(</span><em>graph</em>, <em>source</em>, <em>target</em>, <em>data=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_all_nodes_between"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_all_nodes_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all nodes with on paths between source and target.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_all_simple_edge_paths">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_all_simple_edge_paths</code><span class="sig-paren">(</span><em>G</em>, <em>source</em>, <em>target</em>, <em>cutoff=None</em>, <em>keys=False</em>, <em>data=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_all_simple_edge_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_all_simple_edge_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns each path from source to target as a list of edges.</p>
<p>This function is meant to be used with MultiGraphs or MultiDiGraphs.
When <code class="docutils literal notranslate"><span class="pre">keys</span></code> is True each edge in the path is returned with its unique key
identifier. In this case it is possible to distinguish between different
paths along different edges between the same two nodes.</p>
<p>Derived from simple_paths.py in networkx</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_common_ancestors">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_common_ancestors</code><span class="sig-paren">(</span><em>graph</em>, <em>node1</em>, <em>node2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_common_ancestors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_common_ancestors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_common_descendants">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_common_descendants</code><span class="sig-paren">(</span><em>graph</em>, <em>node1</em>, <em>node2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_common_descendants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_common_descendants" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_contracted_nodes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_contracted_nodes</code><span class="sig-paren">(</span><em>G</em>, <em>u</em>, <em>v</em>, <em>self_loops=True</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_contracted_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_contracted_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>copy of networkx function with inplace modification
TODO: commit to networkx</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_dag_node_rank">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_dag_node_rank</code><span class="sig-paren">(</span><em>graph</em>, <em>nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_dag_node_rank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_dag_node_rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns rank of nodes that define the “level” each node is on in a
topological sort. This is the same as the Graphviz dot rank.</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>simple_graph = ut.simplify_graph(exi_graph)
adj_dict = ut.nx_to_adj_dict(simple_graph)
import wbia.plottool as pt
pt.qt4ensure()
pt.show_nx(graph)</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adj_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">4</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">5</span><span class="p">:</span> <span class="p">[],</span> <span class="mi">6</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">7</span><span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">],</span> <span class="mi">8</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="mi">9</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_graph</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_from_adj_dict</span><span class="p">(</span><span class="n">adj_dict</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">f_graph</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ranks = ut.nx_dag_node_rank(graph, nodes)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ranks</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_dag_node_rank</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ranks = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ranks</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">ranks = [3, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_delete_None_edge_attr">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_delete_None_edge_attr</code><span class="sig-paren">(</span><em>graph</em>, <em>edges=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_None_edge_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_delete_None_edge_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_delete_None_node_attr">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_delete_None_node_attr</code><span class="sig-paren">(</span><em>graph</em>, <em>nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_None_node_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_delete_None_node_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_delete_edge_attr">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_delete_edge_attr</code><span class="sig-paren">(</span><em>graph</em>, <em>name</em>, <em>edges=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_edge_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_delete_edge_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an attributes from specific edges in the graph</p>
<dl class="docutils">
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;eggs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">78</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">78</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">edges</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">77</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">77</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">77</span>
</pre></div>
</div>
</dd>
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;eggs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">edges</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">5</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_delete_node_attr">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_delete_node_attr</code><span class="sig-paren">(</span><em>graph</em>, <em>name</em>, <em>nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_node_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_delete_node_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes node attributes</p>
<dl class="docutils">
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datas</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">34</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">34</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_node_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;club&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">nodes</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_node_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;club&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">32</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_edges">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_edges</code><span class="sig-paren">(</span><em>graph</em>, <em>keys=False</em>, <em>data=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_edges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_edges_between">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_edges_between</code><span class="sig-paren">(</span><em>graph</em>, <em>nodes1</em>, <em>nodes2=None</em>, <em>assume_disjoint=False</em>, <em>assume_sparse=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_edges_between"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_edges_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Get edges between two components or within a single component</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>graph</strong> (<em>nx.Graph</em>) – the graph</li>
<li><strong>nodes1</strong> (<em>set</em>) – list of nodes</li>
<li><strong>nodes2</strong> (<em>set</em>) – (default=None) if None it is equivlanet to nodes2=nodes1</li>
<li><strong>assume_disjoint</strong> (<em>bool</em>) – skips expensive check to ensure edges arnt
returned twice (default=False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph –test-nx_edges_between</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>  <span class="c1"># cc 1234</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>  <span class="c1"># cc 567 / 5678</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">digraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">,</span> <span class="n">nodes2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">,</span> <span class="n">nodes2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n2 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n4 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n4</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n5 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n5</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n1 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n3 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n3</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n2</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]),</span> <span class="s1">&#39;2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n4</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]),</span> <span class="s1">&#39;4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n5</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]),</span> <span class="s1">&#39;5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n1</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]),</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n3</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]),</span> <span class="s1">&#39;3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span> <span class="o">+</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">nodes2</span> <span class="o">+</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">assume_sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n6 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n6</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span> <span class="o">+</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">nodes2</span> <span class="o">+</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">assume_sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n6 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n6</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n6</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]),</span> <span class="s1">&#39;6&#39;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit:</dt>
<dd><p class="first">from utool.util_graph import *  # NOQA
# ut.timeit_compare()
import networkx as nx
import utool as ut
graph = nx.fast_gnp_random_graph(1000, .001)
list(nx.connected_components(graph))
rng = np.random.RandomState(0)
nodes1 = set(rng.choice(list(graph.nodes()), 500, replace=False))
nodes2 = set(graph.nodes()) - nodes1
edges_between = ut.nx_edges_between
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=False, assume_disjoint=True))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=False, assume_disjoint=False))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=True, assume_disjoint=False))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=True, assume_disjoint=True))</p>
<p class="last">graph = nx.fast_gnp_random_graph(1000, .1)
rng = np.random.RandomState(0)
print(graph.number_of_edges())
nodes1 = set(rng.choice(list(graph.nodes()), 500, replace=False))
nodes2 = set(graph.nodes()) - nodes1
edges_between = ut.nx_edges_between
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=True, assume_disjoint=True))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=False, assume_disjoint=True))</p>
</dd>
<dt>Ignore:</dt>
<dd>graph = nx.DiGraph(edges)
graph = nx.Graph(edges)
nodes1 = [1, 2, 3, 4]
nodes2 = nodes1</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_ensure_agraph_color">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_ensure_agraph_color</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_ensure_agraph_color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_ensure_agraph_color" title="Permalink to this definition">¶</a></dt>
<dd><p>changes colors to hex strings on graph attrs</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_from_adj_dict">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_from_adj_dict</code><span class="sig-paren">(</span><em>adj_dict</em>, <em>cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_from_adj_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_from_adj_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_from_matrix">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_from_matrix</code><span class="sig-paren">(</span><em>weight_matrix</em>, <em>nodes=None</em>, <em>remove_self=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_from_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_from_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_from_node_edge">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_from_node_edge</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>edges=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_from_node_edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_from_node_edge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_gen_edge_attrs">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_gen_edge_attrs</code><span class="sig-paren">(</span><em>G</em>, <em>key</em>, <em>edges=None</em>, <em>default=NoParam</em>, <em>on_missing='error'</em>, <em>on_keyerr='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_edge_attrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_gen_edge_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Improved generator version of nx.get_edge_attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>on_missing</strong> (<em>str</em>) – Strategy for handling nodes missing from G.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘error’.
is on_missing is not error, then we allow any edge even if the
endpoints are not in the graph.</li>
<li><strong>on_keyerr</strong> (<em>str</em>) – Strategy for handling keys missing from node dicts.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘default’
if default is specified, otherwise defaults to ‘error’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span> <span class="s1">&#39;baz&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_edge_attrs</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_gen_edge_values">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_gen_edge_values</code><span class="sig-paren">(</span><em>G</em>, <em>key</em>, <em>edges=None</em>, <em>default=NoParam</em>, <em>on_missing='error'</em>, <em>on_keyerr='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_edge_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_gen_edge_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates attributes values of specific edges</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>on_missing</strong> (<em>str</em>) – Strategy for handling nodes missing from G.
Can be {‘error’, ‘default’}.  defaults to ‘error’.</li>
<li><strong>on_keyerr</strong> (<em>str</em>) – Strategy for handling keys missing from node dicts.
Can be {‘error’, ‘default’}.  defaults to ‘default’
if default is specified, otherwise defaults to ‘error’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_gen_node_attrs">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_gen_node_attrs</code><span class="sig-paren">(</span><em>G</em>, <em>key</em>, <em>nodes=None</em>, <em>default=NoParam</em>, <em>on_missing='error'</em>, <em>on_keyerr='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_node_attrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_gen_node_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Improved generator version of nx.get_node_attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>on_missing</strong> (<em>str</em>) – Strategy for handling nodes missing from G.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘error’.</li>
<li><strong>on_keyerr</strong> (<em>str</em>) – Strategy for handling keys missing from node dicts.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘default’
if default is specified, otherwise defaults to ‘error’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>strategies are:</dt>
<dd>error - raises an error if key or node does not exist
default - returns node, but uses value specified by default
filter - skips the node</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;baz&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ALL CASES</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;baz&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;full&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_grid</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="s1">&#39;full&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">util_const</span><span class="o">.</span><span class="n">NoParam</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">input_grid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_grid</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;on_missing&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;filter&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;on_keyerr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;filter&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kws</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">kw_grid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">in_</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">kws</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">kw2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_union</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="n">in_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1">#print(kw2)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">on_missing</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;on_missing&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">on_keyerr</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;on_keyerr&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">on_keyerr</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="n">util_const</span><span class="o">.</span><span class="n">NoParam</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">on_keyerr</span> <span class="o">=</span> <span class="s1">&#39;error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">will_miss</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">will_keyerr</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">on_missing</span> <span class="o">==</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;part&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">will_miss</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;full&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">will_miss</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">on_keyerr</span> <span class="o">==</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;part&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">will_keyerr</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">on_missing</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;full&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="n">will_keyerr</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">want_error</span> <span class="o">=</span> <span class="n">will_miss</span> <span class="ow">or</span> <span class="n">will_keyerr</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">gen</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="o">**</span><span class="n">kw2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">attrs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">want_error</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s1">&#39;should not have errored&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">want_error</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s1">&#39;should have errored&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_gen_node_values">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_gen_node_values</code><span class="sig-paren">(</span><em>G</em>, <em>key</em>, <em>nodes</em>, <em>default=NoParam</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_node_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_gen_node_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates attributes values of specific nodes</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_get_default_edge_attributes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_get_default_edge_attributes</code><span class="sig-paren">(</span><em>graph</em>, <em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_get_default_edge_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_get_default_edge_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_get_default_node_attributes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_get_default_node_attributes</code><span class="sig-paren">(</span><em>graph</em>, <em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_get_default_node_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_get_default_node_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_make_adj_matrix">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_make_adj_matrix</code><span class="sig-paren">(</span><em>G</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_make_adj_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_make_adj_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_mincut_edges_weighted">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_mincut_edges_weighted</code><span class="sig-paren">(</span><em>G</em>, <em>s</em>, <em>t</em>, <em>capacity='weight'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_mincut_edges_weighted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_mincut_edges_weighted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_minimum_weight_component">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_minimum_weight_component</code><span class="sig-paren">(</span><em>graph</em>, <em>weight='weight'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_minimum_weight_component"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_minimum_weight_component" title="Permalink to this definition">¶</a></dt>
<dd><p>A minimum weight component is an MST + all negative edges</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_node_dict">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_node_dict</code><span class="sig-paren">(</span><em>G</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_node_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_node_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_set_default_edge_attributes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_set_default_edge_attributes</code><span class="sig-paren">(</span><em>graph</em>, <em>key</em>, <em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_set_default_edge_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_set_default_edge_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_set_default_node_attributes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_set_default_node_attributes</code><span class="sig-paren">(</span><em>graph</em>, <em>key</em>, <em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_set_default_node_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_set_default_node_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_sink_nodes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_sink_nodes</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_sink_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_sink_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_source_nodes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_source_nodes</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_source_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_source_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_to_adj_dict">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_to_adj_dict</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_to_adj_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_to_adj_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_topsort_nodes">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_topsort_nodes</code><span class="sig-paren">(</span><em>graph</em>, <em>nodes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_topsort_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_topsort_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_topsort_rank">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_topsort_rank</code><span class="sig-paren">(</span><em>graph</em>, <em>nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_topsort_rank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_topsort_rank" title="Permalink to this definition">¶</a></dt>
<dd><p>graph = inputs.exi_graph.reverse()
nodes = <a href="#id101"><span class="problematic" id="id102">flat_node_order_</span></a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.nx_transitive_reduction">
<code class="descclassname">utool.util_graph.</code><code class="descname">nx_transitive_reduction</code><span class="sig-paren">(</span><em>G</em>, <em>mode=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_transitive_reduction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.nx_transitive_reduction" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Transitive_reduction#Computing_the_reduction_using_the_closure">https://en.wikipedia.org/wiki/Transitive_reduction#Computing_the_reduction_using_the_closure</a>
<a class="reference external" href="http://dept-info.labri.fr/~thibault/tmp/0201008.pdf">http://dept-info.labri.fr/~thibault/tmp/0201008.pdf</a>
<a class="reference external" href="http://stackoverflow.com/questions/17078696/transitive-reduction-of-directed-graph-in-python">http://stackoverflow.com/questions/17078696/transitive-reduction-of-directed-graph-in-python</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph nx_transitive_reduction –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">testdata_graph</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G_tr</span> <span class="o">=</span> <span class="n">nx_transitive_reduction</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G_tr2</span> <span class="o">=</span> <span class="n">nx_transitive_reduction</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G_</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">dag</span><span class="o">.</span><span class="n">transitive_closure</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G</span>    <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G_tr</span> <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G_tr2</span> <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G_</span>   <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">dag</span><span class="o">.</span><span class="n">transitive_closure</span><span class="p">(</span><span class="n">G_tr</span><span class="p">),</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.paths_to_root">
<code class="descclassname">utool.util_graph.</code><code class="descname">paths_to_root</code><span class="sig-paren">(</span><em>tablename</em>, <em>root</em>, <em>child_to_parents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#paths_to_root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.paths_to_root" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph –exec-paths_to_root:0
python -m utool.util_graph –exec-paths_to_root:1</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_to_parents</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chipmask&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;descriptor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;notch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;keypoint&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="s1">&#39;dummy_annot&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;fgweight&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_root</span> <span class="o">=</span> <span class="n">paths_to_root</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">child_to_parents</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">to_root</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;keypoint&#39;: {</span>
<span class="go">        &#39;chip&#39;: {</span>
<span class="go">            &#39;dummy_annot&#39;: None,</span>
<span class="go">        },</span>
<span class="go">    },</span>
<span class="go">    &#39;probchip&#39;: {</span>
<span class="go">        &#39;dummy_annot&#39;: None,</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;annotations&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;Notch_Tips&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_to_parents</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Block_Curvature&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;Trailing_Edge&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Has_Notch&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;annotations&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;annotations&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Trailing_Edge&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_root</span> <span class="o">=</span> <span class="n">paths_to_root</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">child_to_parents</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">to_root</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.reverse_path">
<code class="descclassname">utool.util_graph.</code><code class="descname">reverse_path</code><span class="sig-paren">(</span><em>dict_</em>, <em>root</em>, <em>child_to_parents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#reverse_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.reverse_path" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph –exec-reverse_path –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_to_parents</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chipmask&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;descriptor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;notch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;keypoint&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_root</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;dummy_annot&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;dummy_annot&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reversed_</span> <span class="o">=</span> <span class="n">reverse_path</span><span class="p">(</span><span class="n">to_root</span><span class="p">,</span> <span class="s1">&#39;dummy_annot&#39;</span><span class="p">,</span> <span class="n">child_to_parents</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">reversed_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;dummy_annot&#39;: {</span>
<span class="go">        &#39;chip&#39;: {</span>
<span class="go">            &#39;keypoint&#39;: {</span>
<span class="go">                &#39;fgweight&#39;: None,</span>
<span class="go">            },</span>
<span class="go">        },</span>
<span class="go">        &#39;probchip&#39;: {</span>
<span class="go">            &#39;fgweight&#39;: None,</span>
<span class="go">        },</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.reverse_path_edges">
<code class="descclassname">utool.util_graph.</code><code class="descname">reverse_path_edges</code><span class="sig-paren">(</span><em>edge_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#reverse_path_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.reverse_path_edges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.shortest_levels">
<code class="descclassname">utool.util_graph.</code><code class="descname">shortest_levels</code><span class="sig-paren">(</span><em>levels_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#shortest_levels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.shortest_levels" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>levels</strong> (<em>list</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph –exec-shortest_levels –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels_</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_levels</span> <span class="o">=</span> <span class="n">shortest_levels</span><span class="p">(</span><span class="n">levels_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;new_levels = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">new_levels</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">new_levels = [</span>
<span class="go">    [&#39;dummy_annot&#39;],</span>
<span class="go">    [&#39;chip&#39;, &#39;probchip&#39;],</span>
<span class="go">    [&#39;keypoint&#39;, &#39;fgweight&#39;],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.simplify_graph">
<code class="descclassname">utool.util_graph.</code><code class="descname">simplify_graph</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#simplify_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.simplify_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>strips out everything but connectivity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>graph</strong> (<em>nx.Graph</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">new_graph</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">nx.Graph</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python3 -m utool.util_graph simplify_graph –show
python2 -m utool.util_graph simplify_graph –show</p>
<p class="last">python2 -c “import networkx as nx; print(nx.__version__)”
python3 -c “import networkx as nx; print(nx.__version__)”</p>
</dd>
<dt>Ignore:</dt>
<dd><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_graph</span> <span class="o">=</span> <span class="n">simplify_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">new_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#adj_list = sorted(list(nx.generate_adjlist(new_graph)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#result = ut.repr2(adj_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(0, 1), (0, 2), (0, 3), (0, 4), (1, 3), (2, 3), (2, 4), (3, 4)]</span>
</pre></div>
</div>
<p class="last">[‘0 1 2 3 4’, ‘1 3 4’, ‘2 4’, ‘3’, ‘4 3’]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.stack_graphs">
<code class="descclassname">utool.util_graph.</code><code class="descname">stack_graphs</code><span class="sig-paren">(</span><em>graph_list</em>, <em>vert=False</em>, <em>pad=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#stack_graphs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.stack_graphs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.subgraph_from_edges">
<code class="descclassname">utool.util_graph.</code><code class="descname">subgraph_from_edges</code><span class="sig-paren">(</span><em>G</em>, <em>edge_list</em>, <em>ref_back=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#subgraph_from_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.subgraph_from_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a networkx graph that is a subgraph of G
defined by the list of edges in edge_list.</p>
<p>Requires G to be a networkx MultiGraph or MultiDiGraph
edge_list is a list of edges in either (u,v) or (u,v,d) form
where u and v are nodes comprising an edge,
and d would be a dictionary of edge attributes</p>
<p>ref_back determines whether the created subgraph refers to back
to the original graph and therefore changes to the subgraph’s
attributes also affect the original graph, or if it is to create a
new copy of the original graph.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/16150557/nx-subgraph-from-edges">http://stackoverflow.com/questions/16150557/nx-subgraph-from-edges</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.testdata_graph">
<code class="descclassname">utool.util_graph.</code><code class="descname">testdata_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#testdata_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.testdata_graph" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(graph, G)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_graph –exec-testdata_graph –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">G</span><span class="p">)</span> <span class="o">=</span> <span class="n">testdata_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensureqt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;agraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_graph.translate_graph">
<code class="descclassname">utool.util_graph.</code><code class="descname">translate_graph</code><span class="sig-paren">(</span><em>graph</em>, <em>t_xy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#translate_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.translate_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.translate_graph_to_origin">
<code class="descclassname">utool.util_graph.</code><code class="descname">translate_graph_to_origin</code><span class="sig-paren">(</span><em>graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#translate_graph_to_origin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.translate_graph_to_origin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.traverse_path">
<code class="descclassname">utool.util_graph.</code><code class="descname">traverse_path</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>seen_</em>, <em>allkeys</em>, <em>mat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#traverse_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.traverse_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_graph.weighted_diamter">
<code class="descclassname">utool.util_graph.</code><code class="descname">weighted_diamter</code><span class="sig-paren">(</span><em>graph</em>, <em>weight=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#weighted_diamter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_graph.weighted_diamter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_gridsearch">
<span id="utool-util-gridsearch-module"></span><h2>utool.util_gridsearch module<a class="headerlink" href="#module-utool.util_gridsearch" title="Permalink to this headline">¶</a></h2>
<p>module for gridsearch helper</p>
<dl class="class">
<dt id="utool.util_gridsearch.CountstrParser">
<em class="property">class </em><code class="descclassname">utool.util_gridsearch.</code><code class="descname">CountstrParser</code><span class="sig-paren">(</span><em>lhs_dict</em>, <em>prop2_nid2_aids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#CountstrParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.CountstrParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parses a statement like  ‘#primary&gt;0&amp;#primary1&gt;1’ and returns a filtered
set.</p>
<p>FIXME: make generalizable beyond wbia</p>
<dl class="attribute">
<dt id="utool.util_gridsearch.CountstrParser.compare_op_map">
<code class="descname">compare_op_map</code><em class="property"> = {'!=': &lt;built-in function ne&gt;, '&lt;': &lt;built-in function lt&gt;, '&lt;=': &lt;built-in function le&gt;, '=': &lt;built-in function eq&gt;, '&gt;': &lt;built-in function gt&gt;, '&gt;=': &lt;built-in function ge&gt;}</em><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.compare_op_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_gridsearch.CountstrParser.numop">
<code class="descname">numop</code><em class="property"> = '#'</em><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.numop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.CountstrParser.parse_countstr_binop">
<code class="descname">parse_countstr_binop</code><span class="sig-paren">(</span><em>part</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#CountstrParser.parse_countstr_binop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.parse_countstr_binop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.CountstrParser.parse_countstr_expr">
<code class="descname">parse_countstr_expr</code><span class="sig-paren">(</span><em>countstr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#CountstrParser.parse_countstr_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.parse_countstr_expr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.CountstrParser.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_gridsearch.DimensionBasis">
<em class="property">class </em><code class="descclassname">utool.util_gridsearch.</code><code class="descname">DimensionBasis</code><span class="sig-paren">(</span><em>dimension_name</em>, <em>dimension_point_list</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.DimensionBasis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="utool.util_gridsearch.DimensionBasis.dimension_name">
<code class="descname">dimension_name</code><a class="headerlink" href="#utool.util_gridsearch.DimensionBasis.dimension_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_gridsearch.DimensionBasis.dimension_point_list">
<code class="descname">dimension_point_list</code><a class="headerlink" href="#utool.util_gridsearch.DimensionBasis.dimension_point_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_gridsearch.GridSearch">
<em class="property">class </em><code class="descclassname">utool.util_gridsearch.</code><code class="descname">GridSearch</code><span class="sig-paren">(</span><em>grid_basis</em>, <em>label=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>helper for executing iterations and analyzing the results of a grid search</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_basis</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">8</span><span class="p">,</span> <span class="o">.</span><span class="mi">9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gridsearch</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">GridSearch</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;testdata_gridsearch&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cfgdict</span> <span class="ow">in</span> <span class="n">gridsearch</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">tp_score</span> <span class="o">=</span> <span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">]</span> <span class="o">**</span> <span class="o">.</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">tn_score</span> <span class="o">=</span> <span class="p">(</span><span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">]))</span> <span class="o">/</span> <span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">gridsearch</span><span class="o">.</span><span class="n">append_result</span><span class="p">(</span><span class="n">tp_score</span><span class="p">,</span> <span class="n">tn_score</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.append_result">
<code class="descname">append_result</code><span class="sig-paren">(</span><em>tp_score</em>, <em>tn_score</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.append_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.append_result" title="Permalink to this definition">¶</a></dt>
<dd><p>for use in iteration</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_csv_results">
<code class="descname">get_csv_results</code><span class="sig-paren">(</span><em>max_lines=None</em>, <em>score_lbl='score_diff'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_csv_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_csv_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Make csv text describing results</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>max_lines</strong> (<em>int</em>) – add top num lines to the csv. No limit if None.</li>
<li><strong>score_lbl</strong> (<em>str</em>) – score label to sort by</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result data in csv format</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-get_csv_results</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score_lbl</span> <span class="o">=</span> <span class="s1">&#39;score_diff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gridsearch</span> <span class="o">=</span> <span class="n">testdata_grid_search</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csvtext</span> <span class="o">=</span> <span class="n">gridsearch</span><span class="o">.</span><span class="n">get_csv_results</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">csvtext</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hashstr</span><span class="p">(</span><span class="n">csvtext</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">60yptleiwo@lk@24</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_dimension_stats">
<code class="descname">get_dimension_stats</code><span class="sig-paren">(</span><em>param_lbl</em>, <em>score_lbl='score_diff'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_dimension_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_dimension_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns result stats about a specific parameter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>param_lbl</strong> (<em>str</em>) – </li>
<li><strong>score_lbl</strong> (<em>str</em>) – score label to sort by</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">param2_score_stats</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_dimension_stats_str">
<code class="descname">get_dimension_stats_str</code><span class="sig-paren">(</span><em>param_lbl</em>, <em>score_lbl='score_diff'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_dimension_stats_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_dimension_stats_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a result stat string about a specific parameter</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_param_lbls">
<code class="descname">get_param_lbls</code><span class="sig-paren">(</span><em>exclude_unvaried_dimension=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_param_lbls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_param_lbls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_param_list_and_lbls">
<code class="descname">get_param_list_and_lbls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_param_list_and_lbls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_param_list_and_lbls" title="Permalink to this definition">¶</a></dt>
<dd><p>returns input data</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_rank_cfgdict">
<code class="descname">get_rank_cfgdict</code><span class="sig-paren">(</span><em>rank=0</em>, <em>score_lbl='score_diff'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_rank_cfgdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_rank_cfgdict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_score_list_and_lbls">
<code class="descname">get_score_list_and_lbls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_score_list_and_lbls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_score_list_and_lbls" title="Permalink to this definition">¶</a></dt>
<dd><p>returns result data</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.get_sorted_columns_and_labels">
<code class="descname">get_sorted_columns_and_labels</code><span class="sig-paren">(</span><em>score_lbl='score_diff'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_sorted_columns_and_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_sorted_columns_and_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>returns sorted input and result data</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.plot_dimension">
<code class="descname">plot_dimension</code><span class="sig-paren">(</span><em>param_lbl</em>, <em>score_lbl='score_diff'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.plot_dimension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.plot_dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots result statistics about a specific parameter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>param_lbl</strong> (<em>str</em>) – </li>
<li><strong>score_lbl</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-plot_dimension
python -m utool.util_gridsearch –test-plot_dimension –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gridsearch</span> <span class="o">=</span> <span class="n">testdata_grid_search</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">param_lbl</span> <span class="o">=</span> <span class="s1">&#39;p&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score_lbl</span> <span class="o">=</span> <span class="s1">&#39;score_diff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">gridsearch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dimension</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dimension</span><span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dimension</span><span class="p">(</span><span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.GridSearch.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.GridSearch.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_gridsearch.Nesting">
<em class="property">class </em><code class="descclassname">utool.util_gridsearch.</code><code class="descname">Nesting</code><span class="sig-paren">(</span><em>type_</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>x = Nesting.from_nestings(nestings)
list(x.itertype(‘nonNested’))</p>
<dl class="method">
<dt id="utool.util_gridsearch.Nesting.as_list">
<code class="descname">as_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.as_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.as_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="utool.util_gridsearch.Nesting.from_nestings">
<em class="property">classmethod </em><code class="descname">from_nestings</code><span class="sig-paren">(</span><em>nestings</em>, <em>type_='root'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.from_nestings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.from_nestings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="utool.util_gridsearch.Nesting.from_text">
<em class="property">classmethod </em><code class="descname">from_text</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.from_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.from_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.Nesting.itertype">
<code class="descname">itertype</code><span class="sig-paren">(</span><em>type_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.itertype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.itertype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.Nesting.recombine">
<code class="descname">recombine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.recombine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.recombine" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_gridsearch.ParamInfo">
<em class="property">class </em><code class="descclassname">utool.util_gridsearch.</code><code class="descname">ParamInfo</code><span class="sig-paren">(</span><em>varname=None</em>, <em>default=None</em>, <em>shortprefix=None</em>, <em>type_=NoParam</em>, <em>varyvals=[]</em>, <em>varyslice=None</em>, <em>hideif=NoParam</em>, <em>help_=None</em>, <em>valid_values=None</em>, <em>max_=None</em>, <em>min_=None</em>, <em>step_=None</em>, <em>none_ok=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>small class for individual paramater information</p>
<p>Configuration objects should use these for default / printing / type
information.
NOTE: the actual value of the parameter for any specific configuration is
not stored here.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-ParamInfo</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pi</span> <span class="o">=</span> <span class="n">ParamInfo</span><span class="p">(</span><span class="n">varname</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DynStruct</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pi</span><span class="o">.</span><span class="n">get_itemstr</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foo=5</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.append_hideif">
<code class="descname">append_hideif</code><span class="sig-paren">(</span><em>hideif</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.append_hideif"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.append_hideif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.cast_to_valid_type">
<code class="descname">cast_to_valid_type</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.cast_to_valid_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.cast_to_valid_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a <cite>value</cite> for this param is valid and attempts
to cast it if it is close</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.error_if_invalid_value">
<code class="descname">error_if_invalid_value</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.error_if_invalid_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.error_if_invalid_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a <cite>value</cite> for this param is valid</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.get_itemstr">
<code class="descname">get_itemstr</code><span class="sig-paren">(</span><em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.get_itemstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.get_itemstr" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cfg</strong> (<em>dict-like</em>) – Parent object (like a dtool.Config)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.is_enabled">
<code class="descname">is_enabled</code><span class="sig-paren">(</span><em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.is_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.is_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>alternative to is_hidden. a bit hacky. only returns false if
another config hides you. self hiding is ok</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.is_hidden">
<code class="descname">is_hidden</code><span class="sig-paren">(</span><em>cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.is_hidden"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.is_hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this param is hidden by the parent context of <cite>cfg</cite></p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.is_type_enforced">
<code class="descname">is_type_enforced</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.is_type_enforced"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.is_type_enforced" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfo.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_gridsearch.ParamInfoBool">
<em class="property">class </em><code class="descclassname">utool.util_gridsearch.</code><code class="descname">ParamInfoBool</code><span class="sig-paren">(</span><em>varname</em>, <em>default=False</em>, <em>shortprefix=None</em>, <em>type_=&lt;class 'bool'&gt;</em>, <em>varyvals=[]</em>, <em>varyslice=None</em>, <em>hideif=False</em>, <em>help_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoBool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoBool" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_gridsearch.ParamInfo" title="utool.util_gridsearch.ParamInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_gridsearch.ParamInfo</span></code></a></p>
<p>param info for booleans</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pi</span> <span class="o">=</span> <span class="n">ParamInfoBool</span><span class="p">(</span><span class="s1">&#39;cheese_on&#39;</span><span class="p">,</span> <span class="n">hideif</span><span class="o">=</span><span class="n">util_const</span><span class="o">.</span><span class="n">NoParam</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DynStruct</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">cheese_on</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pi</span><span class="o">.</span><span class="n">get_itemstr</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nocheese</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoBool.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.ParamInfoBool.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_gridsearch.ParamInfoList">
<em class="property">class </em><code class="descclassname">utool.util_gridsearch.</code><code class="descname">ParamInfoList</code><span class="sig-paren">(</span><em>name</em>, <em>param_info_list=[]</em>, <em>constraint_func=None</em>, <em>hideif=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>small class for ut.Pref-less configurations</p>
<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.append_hideif">
<code class="descname">append_hideif</code><span class="sig-paren">(</span><em>hideif</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.append_hideif"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.append_hideif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.aslist">
<code class="descname">aslist</code><span class="sig-paren">(</span><em>hideif=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.aslist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.aslist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.get_grid_basis">
<code class="descname">get_grid_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_grid_basis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_grid_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.get_gridsearch_input">
<code class="descname">get_gridsearch_input</code><span class="sig-paren">(</span><em>defaultslice=slice(0</em>, <em>1</em>, <em>None)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_gridsearch_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_gridsearch_input" title="Permalink to this definition">¶</a></dt>
<dd><p>for gridsearch</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.get_slicedict">
<code class="descname">get_slicedict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_slicedict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_slicedict" title="Permalink to this definition">¶</a></dt>
<dd><p>for gridsearch</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.get_varnames">
<code class="descname">get_varnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_varnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_varnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.get_varydict">
<code class="descname">get_varydict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_varydict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_varydict" title="Permalink to this definition">¶</a></dt>
<dd><p>for gridsearch</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_gridsearch.ParamInfoList.updated_cfgdict">
<code class="descname">updated_cfgdict</code><span class="sig-paren">(</span><em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.updated_cfgdict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.updated_cfgdict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.constrain_cfgdict_list">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">constrain_cfgdict_list</code><span class="sig-paren">(</span><em>cfgdict_list_</em>, <em>constraint_func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#constrain_cfgdict_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.constrain_cfgdict_list" title="Permalink to this definition">¶</a></dt>
<dd><p>constrains configurations and removes duplicates</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.customize_base_cfg">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">customize_base_cfg</code><span class="sig-paren">(</span><em>cfgname</em>, <em>cfgopt_strs</em>, <em>base_cfg</em>, <em>cfgtype</em>, <em>alias_keys=None</em>, <em>valid_keys=None</em>, <em>offset=0</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#customize_base_cfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.customize_base_cfg" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cfgname</strong> (<em>str</em>) – config name</li>
<li><strong>cfgopt_strs</strong> (<em>str</em>) – mini-language defining key variations</li>
<li><strong>base_cfg</strong> (<em>dict</em>) – specifies the default cfg to customize</li>
<li><strong>cfgtype</strong> – </li>
<li><strong>alias_keys</strong> (<em>None</em>) – (default = None)</li>
<li><strong>valid_keys</strong> (<em>None</em>) – if base_cfg is not specied, this defines the valid
keys (default = None)</li>
<li><strong>offset</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>strict</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>cfg_combo - list of config dicts defining customized configs</dt>
<dd><p class="first last">based on cfgopt_strs. customized configs always are given an
_cfgindex, _cfgstr, and _cfgname key.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-customize_base_cfg:0</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfgname</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;dsize=1000,per_name=[1,2]&#39;</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgname</span> <span class="o">=</span> <span class="s1">&#39;name&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;b=[1,2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base_cfg</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alias_keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valid_keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strict</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combo</span> <span class="o">=</span> <span class="n">customize_base_cfg</span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">base_cfg</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                               <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">strict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_combo = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfg_combo</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_combo = [</span>
<span class="go">    {&#39;_cfgindex&#39;: 0, &#39;_cfgname&#39;: &#39;name&#39;, &#39;_cfgstr&#39;: &#39;name:b=[1,2]&#39;, &#39;_cfgtype&#39;: None, &#39;b&#39;: 1},</span>
<span class="go">    {&#39;_cfgindex&#39;: 1, &#39;_cfgname&#39;: &#39;name&#39;, &#39;_cfgstr&#39;: &#39;name:b=[1,2]&#39;, &#39;_cfgtype&#39;: None, &#39;b&#39;: 2},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.get_cfg_lbl">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">get_cfg_lbl</code><span class="sig-paren">(</span><em>cfg, name=None, nonlbl_keys=['_cfgstr', '_cfgname', '_cfgtype', '_cfgindex'], key_order=None, with_name=True, default_cfg=None, sep=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_cfg_lbl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.get_cfg_lbl" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats a flat configuration dict into a short string label. This is useful
for re-creating command line strings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cfg</strong> (<em>dict</em>) – </li>
<li><strong>name</strong> (<em>str</em>) – (default = None)</li>
<li><strong>nonlbl_keys</strong> (<em>list</em>) – (default = INTERNAL_CFGKEYS)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cfg_lbl</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch get_cfg_lbl</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;var1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var2&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonlbl_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_cfgstr&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgname&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgtype&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgindex&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_lbl</span> <span class="o">=</span> <span class="n">get_cfg_lbl</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nonlbl_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_lbl = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_lbl</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_lbl = test:var1=val1,var2=val2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;var1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var2&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;var2&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_lbl</span> <span class="o">=</span> <span class="n">get_cfg_lbl</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default_cfg</span><span class="o">=</span><span class="n">default_cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_lbl = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_lbl</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_lbl = :var2=val2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test:K=[1,2,3]&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonlbl_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_cfgstr&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgname&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgtype&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgindex&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_lbl</span> <span class="o">=</span> <span class="n">get_cfg_lbl</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nonlbl_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_lbl = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_lbl</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_lbl = test:K=1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.get_cfgdict_lbl_list_subset">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">get_cfgdict_lbl_list_subset</code><span class="sig-paren">(</span><em>cfgdict_list</em>, <em>varied_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_cfgdict_lbl_list_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.get_cfgdict_lbl_list_subset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.get_cfgdict_list_subset">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">get_cfgdict_list_subset</code><span class="sig-paren">(</span><em>cfgdict_list</em>, <em>keys</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_cfgdict_list_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.get_cfgdict_list_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list of unique dictionaries only with keys specified in keys</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cfgdict_list</strong> (<em>list</em>) – </li>
<li><strong>keys</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cfglbl_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-get_cfgdict_list_subset</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict_sublist</span> <span class="o">=</span> <span class="n">get_cfgdict_list_subset</span><span class="p">(</span><span class="n">cfgdict_list</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfgdict_sublist</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    {&#39;K&#39;: 3, &#39;dcvs_clip_max&#39;: 0.1},</span>
<span class="go">    {&#39;K&#39;: 5, &#39;dcvs_clip_max&#39;: 0.1},</span>
<span class="go">    {&#39;K&#39;: 3, &#39;dcvs_clip_max&#39;: 0.2},</span>
<span class="go">    {&#39;K&#39;: 5, &#39;dcvs_clip_max&#39;: 0.2},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.get_nonvaried_cfg_lbls">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">get_nonvaried_cfg_lbls</code><span class="sig-paren">(</span><em>cfg_list</em>, <em>default_cfg=None</em>, <em>mainkey='_cfgname'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_nonvaried_cfg_lbls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.get_nonvaried_cfg_lbls" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>TODO: this might only need to return a single value. Maybe not if the names</dt>
<dd>are different.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cfg_list</strong> (<em>list</em>) – </li>
<li><strong>default_cfg</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cfglbl_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –exec-get_nonvaried_cfg_lbls</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_cfg</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfglbl_list</span> <span class="o">=</span> <span class="n">get_nonvaried_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">default_cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfglbl_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfglbl_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfglbl_list = [&#39;test:b=1&#39;, &#39;test:b=1&#39;, &#39;test:b=1&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.get_varied_cfg_lbls">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">get_varied_cfg_lbls</code><span class="sig-paren">(</span><em>cfg_list</em>, <em>default_cfg=None</em>, <em>mainkey='_cfgname'</em>, <em>checkname=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_varied_cfg_lbls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.get_varied_cfg_lbls" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cfg_list</strong> (<em>list</em>) – </li>
<li><strong>default_cfg</strong> (<em>None</em>) – (default = None)</li>
<li><strong>checkname</strong> (<em>bool</em>) – if True removes names if they are all the same.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cfglbl_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –exec-get_varied_cfg_lbls</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_cfg</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfglbl_list</span> <span class="o">=</span> <span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">default_cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfglbl_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfglbl_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfglbl_list = [&#39;test:f=1&#39;, &#39;test:f=2&#39;, &#39;test:f=3,z=4&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.grid_search_generator">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">grid_search_generator</code><span class="sig-paren">(</span><em>grid_basis=[]</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#grid_search_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.grid_search_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Iteratively yeilds individual configuration points
inside a defined basis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>grid_basis</strong> (<em>list</em>) – a list of 2-component tuple. The named tuple looks
like this:</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-grid_search_generator</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_basis</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;dim1&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;dim2&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">4</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">grid_search_generator</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_lbls</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span>  <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first_vals</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_types</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">first_vals</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="s1">&#39;grid search&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_csv_table</span><span class="p">(</span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_lbls</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">column_types</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">grid search</span>
<span class="go"># num_rows=3</span>
<span class="go">#   dim1,  dim2</span>
<span class="go">    0.10,  0.10</span>
<span class="go">    0.20,  0.40</span>
<span class="go">    0.30,  0.50</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.gridsearch_timer">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">gridsearch_timer</code><span class="sig-paren">(</span><em>func_list</em>, <em>args_list</em>, <em>niters=None</em>, <em>**searchkw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#gridsearch_timer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.gridsearch_timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Times a series of functions on a series of inputs</p>
<p>args_list is a list should vary the input sizes
can also be a func that take a count param</p>
<p>items in args_list list or returned by the func should be a tuple so it can be
unpacked</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m wbia.annotmatch_funcs –exec-get_annotmatch_rowids_from_aid2 –show
python -m wbia.annotmatch_funcs –exec-get_annotmatch_rowids_from_aid:1 –show</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func_list</strong> (<em>list</em>) – </li>
<li><strong>args_list</strong> (<em>list</em>) – </li>
<li><strong>niters</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">time_result</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –exec-gridsearch_timer –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_recursive</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_iterative</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">35</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">niters</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searchkw</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_result</span> <span class="o">=</span> <span class="n">gridsearch_timer</span><span class="p">(</span><span class="n">func_list</span><span class="p">,</span> <span class="n">args_list</span><span class="p">,</span> <span class="n">niters</span><span class="p">,</span> <span class="o">**</span><span class="n">searchkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;time_result = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">time_result</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_result</span><span class="p">[</span><span class="s1">&#39;plot_timings&#39;</span><span class="p">]()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.interact_gridsearch_result_images">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">interact_gridsearch_result_images</code><span class="sig-paren">(</span><em>show_result_func</em>, <em>cfgdict_list</em>, <em>cfglbl_list</em>, <em>cfgresult_list</em>, <em>score_list=None</em>, <em>fnum=None</em>, <em>figtitle=''</em>, <em>unpack=False</em>, <em>max_plots=25</em>, <em>verbose=True</em>, <em>precision=3</em>, <em>scorelbl='score'</em>, <em>onclick_func=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#interact_gridsearch_result_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.interact_gridsearch_result_images" title="Permalink to this definition">¶</a></dt>
<dd><p>helper function for visualizing results of gridsearch</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.lookup_base_cfg_list">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">lookup_base_cfg_list</code><span class="sig-paren">(</span><em>cfgname</em>, <em>named_defaults_dict</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#lookup_base_cfg_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.lookup_base_cfg_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.make_cfglbls">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">make_cfglbls</code><span class="sig-paren">(</span><em>cfgdict_list</em>, <em>varied_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#make_cfglbls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.make_cfglbls" title="Permalink to this definition">¶</a></dt>
<dd><p>Show only the text in labels that mater from the cfgdict</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.make_constrained_cfg_and_lbl_list">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">make_constrained_cfg_and_lbl_list</code><span class="sig-paren">(</span><em>varied_dict</em>, <em>constraint_func=None</em>, <em>slice_dict=None</em>, <em>defaultslice=slice(0</em>, <em>1</em>, <em>None)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#make_constrained_cfg_and_lbl_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.make_constrained_cfg_and_lbl_list" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>varied_dict</strong> (<em>dict</em>) – parameters to vary with possible variations</li>
<li><strong>constraint_func</strong> (<em>func</em>) – function to restirct parameter variations</li>
<li><strong>slice_dict</strong> (<em>dict</em>) – dict of slices for each param of valid possible values</li>
<li><strong>defaultslice</strong> (<em>slice</em>) – default slice used if slice is not specified in slice_dict</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(cfgdict_list, cfglbl_list)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-make_constrained_cfg_and_lbl_list</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">constraint_func</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgdict_list</span><span class="p">,</span> <span class="n">cfglbl_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">make_constrained_cfg_and_lbl_list</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">,</span> <span class="n">constraint_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">((</span><span class="n">cfgdict_list</span><span class="p">,</span> <span class="n">cfglbl_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.noexpand_parse_cfgstrs">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">noexpand_parse_cfgstrs</code><span class="sig-paren">(</span><em>cfgopt_strs</em>, <em>alias_keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#noexpand_parse_cfgstrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.noexpand_parse_cfgstrs" title="Permalink to this definition">¶</a></dt>
<dd><p>alias_keys = None
cfgopt_strs = ‘f=2,c=[(1,2),(3,4)],d=1’
string  = cfgopt_strs</p>
<p>cfgopt_strs = ‘f=2,c=[1,2,3,4]’</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch noexpand_parse_cfgstrs</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;b=[1,2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alias_keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combo</span> <span class="o">=</span> <span class="n">noexpand_parse_cfgstrs</span><span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_combo = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfg_combo</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">0</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_combo = {&#39;b&#39;: [1, 2]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.parse_argv_cfg">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">parse_argv_cfg</code><span class="sig-paren">(</span><em>argname, default=[''], named_defaults_dict=None, valid_keys=None, alias_keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_argv_cfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.parse_argv_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>simple configs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>argname</strong> (<em>str</em>) – </li>
<li><strong>default</strong> (<em>list</em>) – (default = [])</li>
<li><strong>named_defaults_dict</strong> (<em>dict</em>) – (default = None)</li>
<li><strong>valid_keys</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">cfg_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –exec-parse_argv_cfg –filt :foo=bar
python -m utool.util_gridsearch –exec-parse_argv_cfg</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname</span> <span class="o">=</span> <span class="s1">&#39;--filt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">parse_argv_cfg</span><span class="p">(</span><span class="n">argname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.parse_cfgstr3">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">parse_cfgstr3</code><span class="sig-paren">(</span><em>string</em>, <em>debug=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_cfgstr3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.parse_cfgstr3" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://stackoverflow.com/questions/4801403/how-can-i-use-pyparsing-to-parse-nested-expressions-that-have-mutiple-opener-clo">http://stackoverflow.com/questions/4801403/how-can-i-use-pyparsing-to-parse-nested-expressions-that-have-mutiple-opener-clo</a></p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="go">cfgopt_strs = &#39;f=2,c=[(1,2),(3,4)],d=1,j=[[1,2],[3,4]],foobar,x=&quot;[fdsfds&quot;,y=&quot;]fdsfds&quot;,e=[[1,2],[3,4]],[]&#39;</span>
<span class="go">string  =  cfgopt_strs</span>
<span class="go">parse_cfgstr3(string)</span>
</pre></div>
</div>
</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch parse_cfgstr3 –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;b=[1,2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict</span> <span class="o">=</span> <span class="n">parse_cfgstr3</span><span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfgdict = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgdict</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfgdict = {&#39;b&#39;: [1, 2]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;myprefix=False,sentence_break=False&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict</span> <span class="o">=</span> <span class="n">parse_cfgstr3</span><span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfgopt_strs = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfgdict = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgdict</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfgdict = {&#39;myprefix&#39;: False, &#39;sentence_break&#39;: False}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.parse_cfgstr_list2">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">parse_cfgstr_list2</code><span class="sig-paren">(</span><em>cfgstr_list</em>, <em>named_defaults_dict=None</em>, <em>cfgtype=None</em>, <em>alias_keys=None</em>, <em>valid_keys=None</em>, <em>expand_nested=True</em>, <em>strict=True</em>, <em>special_join_dict=None</em>, <em>is_nestedcfgtype=False</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_cfgstr_list2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.parse_cfgstr_list2" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses config strings. By looking up name in a dict of configs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cfgstr_list</strong> (<em>list</em>) – </li>
<li><strong>named_defaults_dict</strong> (<em>dict</em>) – (default = None)</li>
<li><strong>cfgtype</strong> (<em>None</em>) – (default = None)</li>
<li><strong>alias_keys</strong> (<em>None</em>) – (default = None)</li>
<li><strong>valid_keys</strong> (<em>None</em>) – (default = None)</li>
<li><strong>expand_nested</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>strict</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>- used for annot configs so special joins arent geometrically combined</strong> (<em>is_nestedcfgtype</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>Normal Case:</dt>
<dd>–flag name</dd>
<dt>Custom Arugment Cases:</dt>
<dd>–flag name:custom_key1=custom_val1,custom_key2=custom_val2</dd>
<dt>Multiple Config Case:</dt>
<dd>–flag name1:custom_args1 name2:custom_args2</dd>
<dt>Multiple Config (special join) Case:</dt>
<dd>(here name2 and name3 have some special interaction)
–flag name1:custom_args1 name2:custom_args2::name3:custom_args3</dd>
<dt>Varied Argument Case:</dt>
<dd>–flag name:key1=[val1,val2]</dd>
</dl>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cfg_combos_list</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-parse_cfgstr_list2
python -m utool.util_gridsearch –test-parse_cfgstr_list2:0
python -m utool.util_gridsearch –test-parse_cfgstr_list2:1
python -m utool.util_gridsearch –test-parse_cfgstr_list2:2</dd>
<dt>Setup:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</pre></div>
</div>
</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;name:f=1&#39;</span><span class="p">,</span> <span class="s1">&#39;name:b=[1,2]&#39;</span><span class="p">,</span> <span class="s1">&#39;name1:f=1::name2:f=1,b=2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#cfgstr_list = [&#39;name&#39;, &#39;name1:f=1::name2:f=1,b=2&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joined&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;name:&#39;, &#39;name:f=1&#39;, &#39;name:b=1&#39;, &#39;name:b=2&#39;, &#39;name1:f=1,joined=True&#39;, &#39;name2:b=2,f=1,joined=True&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Allow for definition of a named default on the fly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;base=:f=2,c=[1,2]&#39;</span><span class="p">,</span> <span class="s1">&#39;base:f=1&#39;</span><span class="p">,</span> <span class="s1">&#39;base:b=[1,2]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;base:c=1,f=1&#39;, &#39;base:c=2,f=1&#39;, &#39;base:b=1,c=1,f=2&#39;, &#39;base:b=1,c=2,f=2&#39;, &#39;base:b=2,c=1,f=2&#39;, &#39;base:b=2,c=2,f=2&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;base:f=2,c=[(1,2),(3,4)]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># test simplest case</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name:b=[1,2]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joined&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.parse_cfgstr_name_options">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">parse_cfgstr_name_options</code><span class="sig-paren">(</span><em>cfgstr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_cfgstr_name_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.parse_cfgstr_name_options" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cfgstr</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(cfgname, cfgopt_strs, subx)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –test-parse_cfgstr_name_options</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span> <span class="o">+</span> <span class="n">NAMEVARSEP</span> <span class="o">+</span> <span class="s1">&#39;myvar1=myval1,myvar2=myval2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)</span> <span class="o">=</span> <span class="n">parse_cfgstr_name_options</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(cfgname, cfg_optstrs, subx) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">((</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(cfgname, cfg_optstrs, subx) = (&#39;default&#39;, &#39;myvar1=myval1,myvar2=myval2&#39;, None)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;default[0:1]&#39;</span> <span class="o">+</span> <span class="n">NAMEVARSEP</span> <span class="o">+</span> <span class="s1">&#39;myvar1=myval1,myvar2=myval2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)</span> <span class="o">=</span> <span class="n">parse_cfgstr_name_options</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(cfgname, cfg_optstrs, subx) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">((</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(cfgname, cfg_optstrs, subx) = (&#39;default&#39;, &#39;myvar1=myval1,myvar2=myval2&#39;, slice(0, 1, None))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;default[0]&#39;</span> <span class="o">+</span> <span class="n">NAMEVARSEP</span> <span class="o">+</span> <span class="s1">&#39;myvar1=myval1,myvar2=myval2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)</span> <span class="o">=</span> <span class="n">parse_cfgstr_name_options</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(cfgname, cfg_optstrs, subx) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">((</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(cfgname, cfg_optstrs, subx) = (&#39;default&#39;, &#39;myvar1=myval1,myvar2=myval2&#39;, [0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.parse_nestings">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">parse_nestings</code><span class="sig-paren">(</span><em>string</em>, <em>only_curl=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_nestings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.parse_nestings" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo">http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch parse_nestings:1 –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;lambda u: sign(u) * abs(u)**3.0 * greater(u, 0)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recombined</span> <span class="o">=</span> <span class="n">recombine_nestings</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PARSED_BLOCKS = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;recombined = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">recombined</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;orig       = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">string</span><span class="p">,))</span>
<span class="go">PARSED_BLOCKS = [</span>
<span class="go">    (&#39;nonNested&#39;, &#39;lambda u: sign&#39;),</span>
<span class="go">    (&#39;paren&#39;, [(&#39;ITEM&#39;, &#39;(&#39;), (&#39;nonNested&#39;, &#39;u&#39;), (&#39;ITEM&#39;, &#39;)&#39;)]),</span>
<span class="go">    (&#39;nonNested&#39;, &#39;* abs&#39;),</span>
<span class="go">    (&#39;paren&#39;, [(&#39;ITEM&#39;, &#39;(&#39;), (&#39;nonNested&#39;, &#39;u&#39;), (&#39;ITEM&#39;, &#39;)&#39;)]),</span>
<span class="go">    (&#39;nonNested&#39;, &#39;**3.0 * greater&#39;),</span>
<span class="go">    (&#39;paren&#39;, [(&#39;ITEM&#39;, &#39;(&#39;), (&#39;nonNested&#39;, &#39;u, 0&#39;), (&#39;ITEM&#39;, &#39;)&#39;)]),</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\chapter{Identification \textbf</span><span class="si">{foobar}</span><span class="s1"> workflow}\label{chap:application}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PARSED_BLOCKS = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="go">PARSED_BLOCKS = [</span>
<span class="go">    (&#39;nonNested&#39;, &#39;\\chapter&#39;),</span>
<span class="go">    (&#39;curl&#39;, [(&#39;ITEM&#39;, &#39;{&#39;), (&#39;nonNested&#39;, &#39;Identification \\textbf&#39;), (&#39;curl&#39;, [(&#39;ITEM&#39;, &#39;{&#39;), (&#39;nonNested&#39;, &#39;foobar&#39;), (&#39;ITEM&#39;, &#39;}&#39;)]), (&#39;nonNested&#39;, &#39;workflow&#39;), (&#39;ITEM&#39;, &#39;}&#39;)]),</span>
<span class="go">    (&#39;nonNested&#39;, &#39;\\label&#39;),</span>
<span class="go">    (&#39;curl&#39;, [(&#39;ITEM&#39;, &#39;{&#39;), (&#39;nonNested&#39;, &#39;chap:application&#39;), (&#39;ITEM&#39;, &#39;}&#39;)]),</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.parse_nestings2">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">parse_nestings2</code><span class="sig-paren">(</span><em>string, nesters=['()', '[]', '&lt;&gt;', &quot;''&quot;, '&quot;&quot;'], escape='\\'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_nestings2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.parse_nestings2" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo">http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;lambda u: sign(u) * abs(u)**3.0 * greater(u, 0)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings2</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parsed_blocks = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;lambda u: sign(&quot;\&quot;u(</span><span class="se">\&#39;</span><span class="s1">fdfds</span><span class="se">\&#39;</span><span class="s1">)&quot;) * abs(u)**3.0 * greater(u, 0)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings2</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parsed_blocks = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recombined</span> <span class="o">=</span> <span class="n">recombine_nestings</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PARSED_BLOCKS = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;recombined = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">recombined</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;orig       = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">string</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.partition_varied_cfg_list">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">partition_varied_cfg_list</code><span class="sig-paren">(</span><em>cfg_list</em>, <em>default_cfg=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#partition_varied_cfg_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.partition_varied_cfg_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Separates varied from non-varied parameters in a list of configs</p>
<p>TODO: partition nested configs</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_gridsearch –exec-partition_varied_cfg_list:0</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonvaried_cfg</span><span class="p">,</span> <span class="n">varied_cfg_list</span> <span class="o">=</span> <span class="n">partition_varied_cfg_list</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">({</span><span class="s1">&#39;nonvaried_cfg&#39;</span><span class="p">:</span> <span class="n">nonvaried_cfg</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="s1">&#39;varied_cfg_list&#39;</span><span class="p">:</span> <span class="n">varied_cfg_list</span><span class="p">},</span> <span class="n">explicit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nonvaried_cfg={&#39;b&#39;: 1},</span>
<span class="go">varied_cfg_list=[{&#39;f&#39;: 1}, {&#39;f&#39;: 2}, {&#39;f&#39;: 3, &#39;z&#39;: 4}],</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;q1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x3&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y3&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="p">{</span><span class="s1">&#39;q1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x3&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y3&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;e1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonvaried_cfg</span><span class="p">,</span> <span class="n">varied_cfg_list</span> <span class="o">=</span> <span class="n">partition_varied_cfg_list</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">({</span><span class="s1">&#39;nonvaried_cfg&#39;</span><span class="p">:</span> <span class="n">nonvaried_cfg</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="s1">&#39;varied_cfg_list&#39;</span><span class="p">:</span> <span class="n">varied_cfg_list</span><span class="p">},</span> <span class="n">explicit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nonvaried_cfg={&#39;f1&#39;: {&#39;a2&#39;: {&#39;x3&#39;: 1}, &#39;b2&#39;: 1}, &#39;q1&#39;: 1},</span>
<span class="go">varied_cfg_list=[{&#39;f1&#39;: {&#39;a2&#39;: {&#39;y3&#39;: 2}}}, {&#39;e1&#39;: 1, &#39;f1&#39;: {&#39;a2&#39;: {&#39;y3&#39;: 1}}}],</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.recombine_nestings">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">recombine_nestings</code><span class="sig-paren">(</span><em>parsed_blocks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#recombine_nestings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.recombine_nestings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_gridsearch.testdata_grid_search">
<code class="descclassname">utool.util_gridsearch.</code><code class="descname">testdata_grid_search</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#testdata_grid_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_gridsearch.testdata_grid_search" title="Permalink to this definition">¶</a></dt>
<dd><p>test data function for doctests</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_hash">
<span id="utool-util-hash-module"></span><h2>utool.util_hash module<a class="headerlink" href="#module-utool.util_hash" title="Permalink to this headline">¶</a></h2>
<p>Hashing convinience functions</p>
<p>You should opt to use a hash*27 function over a hash* function.</p>
<p>TODO: the same hashing algorithm should be used everywhere
Currently there is a mix of sha1, sha256, and sha512 in different places.</p>
<dl class="function">
<dt id="utool.util_hash.augment_uuid">
<code class="descclassname">utool.util_hash.</code><code class="descname">augment_uuid</code><span class="sig-paren">(</span><em>uuid_</em>, <em>*hashables</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#augment_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.augment_uuid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.b">
<code class="descclassname">utool.util_hash.</code><code class="descname">b</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#b"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.b" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.combine_hashes">
<code class="descclassname">utool.util_hash.</code><code class="descname">combine_hashes</code><span class="sig-paren">(</span><em>bytes_list</em>, <em>hasher=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#combine_hashes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.combine_hashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Only works on bytes</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">(</span><span class="s1">&#39;1111&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;2222&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;22&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;22&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_list</span> <span class="o">=</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">combine_hashes</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hasher</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">combine_hashes</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">hasher</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_</span> <span class="o">=</span> <span class="n">out2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">hasher</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span> <span class="o">==</span> <span class="n">freeze_hash_bytes</span><span class="p">(</span><span class="n">hasher</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">convert_bytes_to_bigbase</span><span class="p">(</span><span class="n">hasher</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span> <span class="o">==</span> <span class="n">convert_hexstr_to_bigbase</span><span class="p">(</span><span class="n">hasher</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">out1</span> <span class="o">!=</span> <span class="n">out2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;out1 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">out1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;out2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">out2</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.combine_uuids">
<code class="descclassname">utool.util_hash.</code><code class="descname">combine_uuids</code><span class="sig-paren">(</span><em>uuids</em>, <em>ordered=True</em>, <em>salt=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#combine_uuids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.combine_uuids" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a uuid that specifies a group of UUIDS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uuids</strong> (<em>list</em>) – list of uuid objects</li>
<li><strong>ordered</strong> (<em>bool</em>) – if False uuid order changes the resulting combined uuid
otherwise the uuids are considered an orderless set</li>
<li><strong>salt</strong> (<em>str</em>) – salts the resulting hash</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">combined uuid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">uuid.UUID</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash –test-combine_uuids</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuids</span> <span class="o">=</span> <span class="p">[</span><span class="n">hashable_to_uuid</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">),</span> <span class="n">hashable_to_uuid</span><span class="p">(</span><span class="s1">&#39;two&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">hashable_to_uuid</span><span class="p">(</span><span class="s1">&#39;three&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo1</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo2</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo3</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo4</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">([</span><span class="n">combo1</span><span class="p">,</span> <span class="n">combo2</span><span class="p">,</span> <span class="n">combo3</span><span class="p">,</span> <span class="n">combo4</span><span class="p">],</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">UUID(&#39;83ee781f-8646-ccba-0ed8-13842825c12a&#39;),</span>
<span class="go">UUID(&#39;52bbb33f-612e-2ab8-a62c-2f46e5b1edc8&#39;),</span>
<span class="go">UUID(&#39;945cadab-e834-e581-0f74-62f106d20d81&#39;),</span>
<span class="go">UUID(&#39;945cadab-e834-e581-0f74-62f106d20d81&#39;),</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuids</span> <span class="o">=</span> <span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;5ff6b34e-7d8f-ef32-5fad-489266acd2ae&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;f2400146-ec12-950b-1489-668228e155a8&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;037d6f31-8c73-f961-1fe4-d616442a1e86&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;ca45d6e2-e648-09cc-a49e-e71c6fa3b3f3&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ordered</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">salt</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">ordered</span><span class="p">,</span> <span class="n">salt</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1dabc66b-b564-676a-99b4-5cae7a9e7294</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.convert_bytes_to_bigbase">
<code class="descclassname">utool.util_hash.</code><code class="descname">convert_bytes_to_bigbase</code><span class="sig-paren">(</span><em>bytes_, alphabet=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#convert_bytes_to_bigbase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.convert_bytes_to_bigbase" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bytes</strong> (<em>bytes</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p>Ignore:</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash convert_bytes_to_bigbase</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_</span> <span class="o">=</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;9999999999999999999999999999999999&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_27</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">convert_bytes_to_bigbase</span><span class="p">(</span><span class="n">bytes_</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">fervudwhpustklnptklklcgswbmvtustqocdpgiwkgrvwytvneardkpytd</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.convert_hexstr_to_bigbase">
<code class="descclassname">utool.util_hash.</code><code class="descname">convert_hexstr_to_bigbase</code><span class="sig-paren">(</span><em>hexstr, alphabet=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'], bigbase=26</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#convert_hexstr_to_bigbase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.convert_hexstr_to_bigbase" title="Permalink to this definition">¶</a></dt>
<dd><p>Packs a long hexstr into a shorter length string with a larger base</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first"># Determine the length savings with lossless conversion
import sympy as sy
consts = dict(hexbase=16, hexlen=256, bigbase=27)
symbols = sy.symbols(‘hexbase, hexlen, bigbase, newlen’)
haexbase, hexlen, bigbase, newlen = symbols
eqn = sy.Eq(16 ** hexlen,  bigbase ** newlen)
newlen_ans = sy.solve(eqn, newlen)[0].subs(consts).evalf()
print(‘newlen_ans = %r’ % (newlen_ans,))</p>
<p># for a 27 char alphabet we can get 216
print(‘Required length for lossless conversion len2 = %r’ % (len2,))</p>
<dl class="docutils">
<dt>def info(base, len):</dt>
<dd>bits = base ** len
print(‘base = %r’ % (base,))
print(‘len = %r’ % (len,))
print(‘bits = %r’ % (bits,))</dd>
</dl>
<p class="last">info(16, 256)
info(27, 16)
info(27, 64)
info(27, 216)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.digest_data">
<code class="descclassname">utool.util_hash.</code><code class="descname">digest_data</code><span class="sig-paren">(</span><em>data</em>, <em>alg='sha256'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#digest_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.digest_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.freeze_hash_bytes">
<code class="descclassname">utool.util_hash.</code><code class="descname">freeze_hash_bytes</code><span class="sig-paren">(</span><em>bytes_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#freeze_hash_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.freeze_hash_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.get_file_hash">
<code class="descclassname">utool.util_hash.</code><code class="descname">get_file_hash</code><span class="sig-paren">(</span><em>fpath</em>, <em>blocksize=65536</em>, <em>hasher=None</em>, <em>stride=1</em>, <em>hexdigest=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#get_file_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.get_file_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>For better hashes use hasher=hashlib.sha256, and keep stride=1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<em>str</em>) – file path string</li>
<li><strong>blocksize</strong> (<em>int</em>) – 2 ** 16. Affects speed of reading file</li>
<li><strong>hasher</strong> (<em>None</em>) – defaults to sha1 for fast (but insecure) hashing</li>
<li><strong>stride</strong> (<em>int</em>) – strides &gt; 1 skip data to hash, useful for faster
hashing, but less accurate, also makes hash dependant on
blocksize.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/3431825/generating-a-md5-checksum-of-a-file">http://stackoverflow.com/questions/3431825/generating-a-md5-checksum-of-a-file</a>
<a class="reference external" href="http://stackoverflow.com/questions/5001893/when-should-i-use-sha-1-and-when-should-i-use-sha-2">http://stackoverflow.com/questions/5001893/when-should-i-use-sha-1-and-when-should-i-use-sha-2</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash –test-get_file_hash
python -m utool.util_hash –test-get_file_hash:0
python -m utool.util_hash –test-get_file_hash:1</dd>
<dt>Ignore:</dt>
<dd><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#blocksize = 65536  # 2 ** 16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blocksize</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hasher</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stride</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashbytes_20</span> <span class="o">=</span> <span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">blocksize</span><span class="p">,</span> <span class="n">hasher</span><span class="p">,</span> <span class="n">stride</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">hashbytes_20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;7\x07B\x0eX&lt;sRu\xa2\x90P\xda\xb2\x84?\x81?\xa9\xd9&#39;</span>
</pre></div>
</div>
<p>‘x13x9bxf6x0fxa3QQ xd7”$xe9mx05x9ex81xf6xf2vxe4’</p>
<p class="last">‘x16x00x80Xxx8c-HxcdPxf6x02x9frlxbfx99VQxb5’</p>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#fpath = ut.grab_file_url(&#39;http://en.wikipedia.org/wiki/List_of_comets_by_type&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;tmp.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">lorium_ipsum</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blocksize</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hasher</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stride</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashbytes_20</span> <span class="o">=</span> <span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">blocksize</span><span class="p">,</span> <span class="n">hasher</span><span class="p">,</span> <span class="n">stride</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">hashbytes_20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;5KP\xcf&gt;R\xf6\xffO:L\xac\x9c\xd3V+\x0e\xf6\xe1n&#39;</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><a href="#id103"><span class="problematic" id="id104">file_</span></a> = open(fpath, ‘rb’)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.get_file_uuid">
<code class="descclassname">utool.util_hash.</code><code class="descname">get_file_uuid</code><span class="sig-paren">(</span><em>fpath</em>, <em>hasher=None</em>, <em>stride=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#get_file_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.get_file_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a uuid from the hash of a file</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.get_zero_uuid">
<code class="descclassname">utool.util_hash.</code><code class="descname">get_zero_uuid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#get_zero_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.get_zero_uuid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.hash_data">
<code class="descclassname">utool.util_hash.</code><code class="descname">hash_data</code><span class="sig-paren">(</span><em>data</em>, <em>hashlen=None</em>, <em>alphabet=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hash_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hash_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a unique hash depending on the state of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>object</em>) – any sort of loosely organized data</li>
<li><strong>hashlen</strong> (<em>None</em>) – (default = None)</li>
<li><strong>alphabet</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">text -  hash string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash hash_data</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">failed</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">check_hash</span><span class="p">(</span><span class="n">input_</span><span class="p">,</span> <span class="n">want</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">count</span> <span class="o">=</span> <span class="n">counter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">counter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">got</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hash_data</span><span class="p">(</span><span class="n">input_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">) </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">got</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="n">want</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">got</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">want</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">failed</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">got</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">want</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;wuvrng&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">],</span> <span class="s1">&#39;dekbfpby&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="nb">tuple</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">]),</span> <span class="s1">&#39;dekbfpby&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;marreflbv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="sa">b</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;2&#39;</span><span class="p">],</span> <span class="s1">&#39;nwfs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">],</span> <span class="s1">&#39;arfrp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="s1">&#39;3&#39;</span><span class="p">],</span> <span class="s1">&#39;uyqwcq&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="s1">&#39;ehkgxk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]),</span> <span class="s1">&#39;mjcpwa&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000</span><span class="p">),</span> <span class="s1">&#39;bdwosuey&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">got</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">want</span> <span class="ow">in</span> <span class="n">failed</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;failed </span><span class="si">{}</span><span class="s1"> on </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">input_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;got=</span><span class="si">{}</span><span class="s1">, want=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">got</span><span class="p">,</span> <span class="n">want</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">failed</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashable_to_uuid">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashable_to_uuid</code><span class="sig-paren">(</span><em>hashable_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashable_to_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashable_to_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: ensure that python2 and python3 agree on hashes of the same
information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>hashable</strong> (<em>hashable</em>) – hashables are bytes-like objects
An object that supports the Buffer Protocol, like bytes, bytearray
or memoryview. Bytes-like objects can be used for various operations
that expect binary data, such as compression, saving to a binary
file or sending over a socket. Some operations need the binary data
to be mutable, in which case not all bytes-like objects can apply.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a href="#id105"><span class="problematic" id="id106">uuid_</span></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">UUID</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash –test-hashable_to_uuid</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashables</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;foobar&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;foobar&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="sa">u</span><span class="s1">&#39;foobar&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">10</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuids</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">hashable_</span> <span class="ow">in</span> <span class="n">hashables</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">uuid_</span> <span class="o">=</span> <span class="n">hashable_to_uuid</span><span class="p">(</span><span class="n">hashable_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">uuids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uuid_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">lmap</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuids</span><span class="p">),</span> <span class="n">strvals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">8843d7f9-2416-211d-e9eb-b963ff4ce281,</span>
<span class="go">8843d7f9-2416-211d-e9eb-b963ff4ce281,</span>
<span class="go">8843d7f9-2416-211d-e9eb-b963ff4ce281,</span>
<span class="go">e864ece8-8880-43b6-7277-c8b2cefe96ad,</span>
<span class="go">a01eda32-e4e0-b139-3274-e91d1b3e9ecf,</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashid_arr">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashid_arr</code><span class="sig-paren">(</span><em>arr</em>, <em>label='arr'</em>, <em>hashlen=16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashid_arr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashid_arr" title="Permalink to this definition">¶</a></dt>
<dd><p>newer version of hashstr_arr2</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashstr">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashstr</code><span class="sig-paren">(</span><em>data, hashlen=16, alphabet=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashstr" title="Permalink to this definition">¶</a></dt>
<dd><p>python -c “import utool as ut; print(ut.hashstr(‘abcd’))”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>hashable</em>) – </li>
<li><strong>hashlen</strong> (<em>int</em>) – (default = 16)</li>
<li><strong>alphabet</strong> (<em>list</em>) – list of characters:</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">hashstr</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash –test-hashstr
python3 -m utool.util_hash –test-hashstr
python3 -m utool.util_hash –test-hashstr:2
python -m utool.util_hash hashstr:3
python3 -m utool.util_hash hashstr:3</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">hashlen</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">text = mi5yum60mbxhyp+x</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">hashlen</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">text = 0000000000000000</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">hashlen</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">text = z5lqw0bzt4dmb9yy</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">uuid</span> <span class="k">import</span> <span class="n">UUID</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;7cd0197b-1394-9d16-b1eb-0d8d7a60aedc&#39;</span><span class="p">),</span> <span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;c76b54a5-adb6-7f16-f0fb-190ab99409f8&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr_arr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="n">ALPHABET_27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><p class="first">data = np.array([‘a’, ‘b’], dtype=object)
data.tobytes()
data = np.array([‘a’, ‘b’])
data = [‘a’, ‘b’]
data = np.array([1, 2, 3])
import hashlib
from six.moves import cPickle as pickle
pickle.dumps(data, protocol=2)</p>
<p>python2 -c “import hashlib, numpy; print(hashlib.sha1(‘ab’).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(‘ab’.encode(‘utf8’)).hexdigest())”</p>
<p>python2 -c “import hashlib, numpy; print(hashlib.sha1(‘ab’).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(b’ab’).hexdigest())”</p>
<p>python2 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([1, 2])).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([1, 2])).hexdigest())”</p>
<p># TODO: numpy arrays of strings must be encoded to bytes first in python3
python2 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([‘a’, ‘b’])).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([b’a’, b’b’])).hexdigest())”</p>
<p class="last">python -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([‘a’, ‘b’], dtype=object)).hexdigest())”
python -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([‘a’, ‘b’], dtype=object)).hexdigest())”</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashstr27">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashstr27</code><span class="sig-paren">(</span><em>data, alphabet=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr27"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashstr27" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashstr_arr">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashstr_arr</code><span class="sig-paren">(</span><em>arr</em>, <em>lbl='arr'</em>, <em>pathsafe=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_arr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashstr_arr" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>arr</strong> (<em>ndarray</em>) – </li>
<li><strong>lbl</strong> (<em>str</em>) – (default = ‘arr’)</li>
<li><strong>pathsafe</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">arr_hashstr</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash –test-hashstr_arr
python -m utool.util_hash hashstr_arr:2</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="s1">&#39;arr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pathsafe</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_hashstr</span> <span class="o">=</span> <span class="n">hashstr_arr</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">pathsafe</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="n">ALPHABET_27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;arr_hashstr = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr_hashstr</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">arr_hashstr = arr((2,3)daukyreqnhfejkfs)</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="s1">&#39;arr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pathsafe</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_hashstr</span> <span class="o">=</span> <span class="n">hashstr_arr</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">pathsafe</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="n">ALPHABET_27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;arr_hashstr = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr_hashstr</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">arr_hashstr = arr-_2,3_daukyreqnhfejkfs-</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashstr_arr27">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashstr_arr27</code><span class="sig-paren">(</span><em>arr, lbl, alphabet=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_arr27"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashstr_arr27" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashstr_md5">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashstr_md5</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_md5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashstr_md5" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">hasher</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">hasher</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">())</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.hashstr_sha1">
<code class="descclassname">utool.util_hash.</code><code class="descname">hashstr_sha1</code><span class="sig-paren">(</span><em>data</em>, <em>base10=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_sha1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.hashstr_sha1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.image_uuid">
<code class="descclassname">utool.util_hash.</code><code class="descname">image_uuid</code><span class="sig-paren">(</span><em>pil_img</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#image_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.image_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>UNSAFE: DEPRICATE: JPEG IS NOT GAURENTEED TO PRODUCE CONSITENT VALUES ON</p>
<p>MULTIPLE MACHINES image global unique id</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/23565889/jpeg-images-have-different-pixel-values-across-multiple-devices">http://stackoverflow.com/questions/23565889/jpeg-images-have-different-pixel-values-across-multiple-devices</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.make_hash">
<code class="descclassname">utool.util_hash.</code><code class="descname">make_hash</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#make_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.make_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a hash from a dictionary, list, tuple or set to any level, that
contains only other hashable types (including any lists, tuples, sets, and
dictionaries). In the case where other kinds of objects (like classes) need
to be hashed, pass in a collection of object attributes that are pertinent.
For example, a class can be hashed in this fashion:</p>
<p>make_hash([cls.__dict__, cls.__name__])</p>
<p>A function can be hashed like so:</p>
<p>make_hash([fn.__dict__, fn.__code__])</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary">http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.random_nonce">
<code class="descclassname">utool.util_hash.</code><code class="descname">random_nonce</code><span class="sig-paren">(</span><em>length=64</em>, <em>alphabet=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#random_nonce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.random_nonce" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a random string of len=&lt;length&gt; from &lt;alphabet&gt;
I have no idea why this is named random_nonce</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.random_uuid">
<code class="descclassname">utool.util_hash.</code><code class="descname">random_uuid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#random_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.random_uuid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_hash.write_hash_file">
<code class="descclassname">utool.util_hash.</code><code class="descname">write_hash_file</code><span class="sig-paren">(</span><em>fpath</em>, <em>hash_tag='md5'</em>, <em>recompute=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#write_hash_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.write_hash_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a hash file for each file in a path</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash –test-write_hash_file</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_hash_file</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_hash.write_hash_file_for_path">
<code class="descclassname">utool.util_hash.</code><code class="descname">write_hash_file_for_path</code><span class="sig-paren">(</span><em>path</em>, <em>recompute=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#write_hash_file_for_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_hash.write_hash_file_for_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a hash file for each file in a path</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_hash –test-write_hash_file_for_path</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hash_fpath_list</span> <span class="o">=</span> <span class="n">write_hash_file_for_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">hash_fpath</span> <span class="ow">in</span> <span class="n">hash_fpath_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">hash_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">hash_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-utool.util_import">
<span id="utool-util-import-module"></span><h2>utool.util_import module<a class="headerlink" href="#module-utool.util_import" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd><p class="first">utool._internal.util_importer</p>
<p class="last">TODO: <a class="reference external" href="http://code.activestate.com/recipes/473888-lazy-module-imports/">http://code.activestate.com/recipes/473888-lazy-module-imports/</a>
<a class="reference external" href="https://pypi.python.org/pypi/zope.deferredimport/3.5.2">https://pypi.python.org/pypi/zope.deferredimport/3.5.2</a></p>
</dd>
</dl>
<dl class="function">
<dt id="utool.util_import.check_module_installed">
<code class="descclassname">utool.util_import.</code><code class="descname">check_module_installed</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#check_module_installed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.check_module_installed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a python module is installed without attempting to import it.
Note, that if <code class="docutils literal notranslate"><span class="pre">modname</span></code> indicates a child module, the parent module is
always loaded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modname</strong> (<em>str</em>) – module name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">found</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/14050281/module-exists-without-importing">http://stackoverflow.com/questions/14050281/module-exists-without-importing</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_import check_module_installed –show –verbimp –modname=this
python -m utool.util_import check_module_installed –show –verbimp –modname=wbia.scripts.iccv</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;this&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_installed</span> <span class="o">=</span> <span class="n">check_module_installed</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_imported</span> <span class="o">=</span> <span class="n">modname</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;module(</span><span class="si">%r</span><span class="s1">).is_installed = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">is_installed</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;module(</span><span class="si">%r</span><span class="s1">).is_imported = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">is_imported</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;this&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">,</span> <span class="s1">&#39;module(this) should not have ever been imported&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.get_modpath_from_modname">
<code class="descclassname">utool.util_import.</code><code class="descname">get_modpath_from_modname</code><span class="sig-paren">(</span><em>modname</em>, <em>prefer_pkg=False</em>, <em>prefer_main=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#get_modpath_from_modname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.get_modpath_from_modname" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as get_modpath but doesnt import directly</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>get_modpath</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.import_modname">
<code class="descclassname">utool.util_import.</code><code class="descname">import_modname</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_modname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.import_modname" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modname</strong> (<em>str</em>) – module name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">module</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">module</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_import –test-import_modname</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool._internal&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool._internal.meta_util_six&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool.util_path&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#&#39;utool.util_path.checkpath&#39;,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modules</span> <span class="o">=</span> <span class="p">[</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span> <span class="k">for</span> <span class="n">modname</span> <span class="ow">in</span> <span class="n">modname_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">([</span><span class="n">m</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">modname_list</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.import_module_from_fpath">
<code class="descclassname">utool.util_import.</code><code class="descname">import_module_from_fpath</code><span class="sig-paren">(</span><em>module_fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_module_from_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.import_module_from_fpath" title="Permalink to this definition">¶</a></dt>
<dd><p>imports module from a file path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module_fpath</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">module</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">module</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_import –test-import_module_from_fpath</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">import_module_from_fpath</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;module = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">module</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first">import shutil
import ubelt as ub
test_root = ub.ensure_app_cache_dir(‘test_fpath_import’)
# Clear the directory
shutil.rmtree(test_root)
test_root = ub.ensure_app_cache_dir(‘test_fpath_import’)</p>
<p># —–
# Define two temporary modules with the same name that are not in sys.path
import sys, os, os.path
from os.path import join</p>
<p># Even though they have the same name they have different values
mod1_fpath = ub.ensuredir((test_root, ‘path1’, ‘testmod’))
ub.writeto(join(mod1_fpath, ‘__init__.py’), ‘version = 1nfrom . import siblingna1 = 1’)
ub.writeto(join(mod1_fpath, ‘sibling.py’), ‘spam = “ham”nb1 = 2’)</p>
<p># Even though they have the same name they have different values
mod2_fpath = ub.ensuredir((test_root, ‘path2’, ‘testmod’))
ub.writeto(join(mod2_fpath, ‘__init__.py’), ‘version = 2nfrom . import siblingna2 = 3’)
ub.writeto(join(mod2_fpath, ‘sibling.py’), ‘spam = “jam”nb2 = 4’)</p>
<p># —–
# Neither module should be importable through the normal mechanism
try:</p>
<blockquote>
<div>import testmod
assert False, ‘should fail’</div></blockquote>
<dl class="docutils">
<dt>except ImportError as ex:</dt>
<dd>pass</dd>
</dl>
<p>mod1 = ut.import_module_from_fpath(mod1_fpath)
print(‘mod1.version = {!r}’.format(mod1.version))
print(‘mod1.version = {!r}’.format(mod1.version))
print(mod1.version == 1, ‘mod1 version is 1’)
print(‘mod1.a1 = {!r}’.format(mod1.a1))</p>
<p>mod2 = ut.import_module_from_fpath(mod2_fpath)
print(‘mod2.version = {!r}’.format(mod2.version))
print(mod2.version == 2, ‘mod2 version is 2’)
print(‘mod2.a2 = {!r}’.format(mod1.a2))</p>
<p># BUT Notice how mod1 is mod2
print(mod1 is mod2)</p>
<p># mod1 has attributes from mod1 and mod2
print(‘mod1.a1 = {!r}’.format(mod1.a1))
print(‘mod1.a2 = {!r}’.format(mod1.a2))
print(‘mod2.a1 = {!r}’.format(mod2.a1))
print(‘mod2.a2 = {!r}’.format(mod2.a2))</p>
<p># Both are version 2
print(‘mod1.version = {!r}’.format(mod1.version))
print(‘mod2.version = {!r}’.format(mod2.version))</p>
<p># However sibling always remains at version1 (ham)
print(‘mod2.sibling.spam = {!r}’.format(mod2.sibling.spam))</p>
<p># now importing testmod works because it reads from sys.modules
import testmod</p>
<p># reloading mod1 overwrites attrs again
mod1 = ut.import_module_from_fpath(mod1_fpath)</p>
<p># Removing both from sys.modules
del sys.modules[‘testmod’]
del sys.modules[‘testmod.sibling’]
mod2 = ut.import_module_from_fpath(mod2_fpath)</p>
<dl class="docutils">
<dt>print(not hasattr(mod2, ‘a1’),</dt>
<dd>‘mod2 no longer has a1 and it reloads itself correctly’)</dd>
</dl>
<p># ——-</p>
<p>del sys.modules[‘testmod’]
del sys.modules[‘testmod.sibling’]
mod1 = ut.import_module_from_fpath(mod1_fpath)</p>
<p># third test
mod3_fpath = ub.ensuredir((test_root, ‘path3’, ‘testmod’))
ub.writeto(join(mod3_fpath, ‘__init__.py’), ‘version = 3’)</p>
<p>module_fpath = mod3_fpath
modname = ‘testmod’</p>
<p class="last"># third test
mod4_fpath = ub.ensuredir((test_root, ‘path3’, ‘novelmod’))
ub.writeto(join(mod4_fpath, ‘__init__.py’), ‘version = 4’)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.import_star">
<code class="descclassname">utool.util_import.</code><code class="descname">import_star</code><span class="sig-paren">(</span><em>modname</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_star"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.import_star" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modname</strong> (<em>str</em>) – module name</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Tutorial:</dt>
<dd><p class="first">Replacement for
from modname import *</p>
<p class="last">Usage is like this
globals().update(ut.import_star(‘&lt;module&gt;’))
OR
ut.import_star(‘&lt;module&gt;’, __name__)</p>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="go">modname = &#39;opengm&#39;</span>
<span class="go">submod = None</span>
<span class="go">parent = __name__</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.import_star_execstr">
<code class="descclassname">utool.util_import.</code><code class="descname">import_star_execstr</code><span class="sig-paren">(</span><em>modname</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_star_execstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.import_star_execstr" title="Permalink to this definition">¶</a></dt>
<dd><p>print(ut.import_star_execstr(‘opengm.inference’))</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.package_contents">
<code class="descclassname">utool.util_import.</code><code class="descname">package_contents</code><span class="sig-paren">(</span><em>package</em>, <em>with_pkg=False</em>, <em>with_mod=True</em>, <em>ignore_prefix=[]</em>, <em>ignore_suffix=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#package_contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.package_contents" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1707709/list-all-the-modules-that-are-part-of-a-python-package">http://stackoverflow.com/questions/1707709/list-all-the-modules-that-are-part-of-a-python-package</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>package</strong> – </li>
<li><strong>with_pkg</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>with_mod</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_import –exec-package_contents</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">package</span> <span class="o">=</span> <span class="n">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_prefix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;wbia.tests&#39;</span><span class="p">,</span> <span class="s1">&#39;wbia.control.__SQLITE3__&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="s1">&#39;_autogen_explicit_controller&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_suffix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_grave&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_pkg</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_mod</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">package_contents</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">with_pkg</span><span class="p">,</span> <span class="n">with_mod</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                          <span class="n">ignore_prefix</span><span class="p">,</span> <span class="n">ignore_suffix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.possible_import_patterns">
<code class="descclassname">utool.util_import.</code><code class="descname">possible_import_patterns</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#possible_import_patterns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.possible_import_patterns" title="Permalink to this definition">¶</a></dt>
<dd><p>does not support from x import *
does not support from x import z, y</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;package.submod.submod2.module&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">possible_import_patterns</span><span class="p">(</span><span class="n">modname</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &#39;import\spackage.submod.submod2.module&#39;,</span>
<span class="go">    &#39;from\spackage\.submod\.submod2\simportmodule&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_import.tryimport">
<code class="descclassname">utool.util_import.</code><code class="descname">tryimport</code><span class="sig-paren">(</span><em>modname</em>, <em>pipiname=None</em>, <em>ensure=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#tryimport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_import.tryimport" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_import –test-tryimport</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;pyfiglet&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipiname</span> <span class="o">=</span> <span class="s1">&#39;git+https://github.com/pwaller/pyfiglet&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyfiglet</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">tryimport</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">pipiname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pyfiglet</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pyfiglet</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">),</span> <span class="s1">&#39;unknown error&#39;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># disabled because not everyone has access to being a super user</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;lru&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipiname</span> <span class="o">=</span> <span class="s1">&#39;git+https://github.com/amitdev/lru-dict&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lru</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">tryimport</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">pipiname</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lru</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">),</span> <span class="s1">&#39;did not ensure lru&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-utool.util_inject">
<span id="utool-util-inject-module"></span><h2>utool.util_inject module<a class="headerlink" href="#module-utool.util_inject" title="Permalink to this headline">¶</a></h2>
<p>Injects code into live modules or into text source files.</p>
<p>Basic use case is to extend the print function into a logging function</p>
<dl class="function">
<dt id="utool.util_inject.DUMMYPROF_FUNC">
<code class="descclassname">utool.util_inject.</code><code class="descname">DUMMYPROF_FUNC</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#DUMMYPROF_FUNC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.DUMMYPROF_FUNC" title="Permalink to this definition">¶</a></dt>
<dd><p>dummy profiling func. does nothing</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.PROFILE_FUNC">
<code class="descclassname">utool.util_inject.</code><code class="descname">PROFILE_FUNC</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.PROFILE_FUNC" title="Permalink to this definition">¶</a></dt>
<dd><p>dummy profiling func. does nothing</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.TIMERPROF_FUNC">
<code class="descclassname">utool.util_inject.</code><code class="descname">TIMERPROF_FUNC</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#TIMERPROF_FUNC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.TIMERPROF_FUNC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inject.colored_pygments_excepthook">
<code class="descclassname">utool.util_inject.</code><code class="descname">colored_pygments_excepthook</code><span class="sig-paren">(</span><em>type_</em>, <em>value</em>, <em>tb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#colored_pygments_excepthook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.colored_pygments_excepthook" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/14775916/color-exceptions-python">https://stackoverflow.com/questions/14775916/color-exceptions-python</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inject –test-colored_pygments_excepthook</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.get_injected_modules">
<code class="descclassname">utool.util_inject.</code><code class="descname">get_injected_modules</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#get_injected_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.get_injected_modules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inject.inject">
<code class="descclassname">utool.util_inject.</code><code class="descname">inject</code><span class="sig-paren">(</span><em>module_name=None</em>, <em>module_prefix='[???]'</em>, <em>DEBUG=False</em>, <em>module=None</em>, <em>N=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.inject" title="Permalink to this definition">¶</a></dt>
<dd><p>Injects your module with utool magic</p>
<p>Utool magic is not actually magic. It just turns your <code class="docutils literal notranslate"><span class="pre">print</span></code> statments into
logging statments, allows for your module to be used with the utool.Indent
context manager and the and utool.indent_func decorator. <code class="docutils literal notranslate"><span class="pre">printDBG</span></code> will soon
be deprecated as will <code class="docutils literal notranslate"><span class="pre">print_</span></code>. The function rrr is a developer convinience for
reloading the module dynamically durring runtime. The profile decorator is
a no-op if not using kernprof.py, otherwise it is kernprof.py’s profile
decorator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module_name</strong> (<em>str</em>) – the __name__ varaible in your module</li>
<li><strong>module_prefix</strong> (<em>str</em>) – a user defined module prefix</li>
<li><strong>DEBUG</strong> (<em>bool</em>) – </li>
<li><strong>module</strong> (<em>None</em>) – the actual module (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(print, <a href="#id107"><span class="problematic" id="id108">print_</span></a>, printDBG, rrr, <a href="#id109"><span class="problematic" id="id110">profile_</span></a>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inject</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">unicode_literals</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">util.util_inject</span> <span class="k">import</span> <span class="n">inject</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">,</span> <span class="n">rrr</span><span class="p">,</span> <span class="n">profile</span> <span class="o">=</span> <span class="n">inject2</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;[mod]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.inject2">
<code class="descclassname">utool.util_inject.</code><code class="descname">inject2</code><span class="sig-paren">(</span><em>module_name=None</em>, <em>module_prefix=None</em>, <em>DEBUG=False</em>, <em>module=None</em>, <em>N=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.inject2" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper that depricates <a href="#id111"><span class="problematic" id="id112">print_</span></a> and printDBG</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.inject_colored_exceptions">
<code class="descclassname">utool.util_inject.</code><code class="descname">inject_colored_exceptions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_colored_exceptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.inject_colored_exceptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes exceptions to be colored if not already</p>
<p>Hooks into sys.excepthook</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inject –test-inject_colored_exceptions</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inject</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sys.excepthook = </span><span class="si">%r</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">excepthook</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#assert sys.excepthook is colored_pygments_excepthook, &#39;bad excepthook&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;should be in color&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.inject_print_functions">
<code class="descclassname">utool.util_inject.</code><code class="descname">inject_print_functions</code><span class="sig-paren">(</span><em>module_name=None</em>, <em>module_prefix='[???]'</em>, <em>DEBUG=False</em>, <em>module=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_print_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.inject_print_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>makes print functions to be injected into the module</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.inject_python_code">
<code class="descclassname">utool.util_inject.</code><code class="descname">inject_python_code</code><span class="sig-paren">(</span><em>fpath</em>, <em>patch_code</em>, <em>tag=None</em>, <em>inject_location='after_imports'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_python_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.inject_python_code" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE
puts code into files on disk</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.inject_python_code2">
<code class="descclassname">utool.util_inject.</code><code class="descname">inject_python_code2</code><span class="sig-paren">(</span><em>fpath</em>, <em>patch_code</em>, <em>tag</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_python_code2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.inject_python_code2" title="Permalink to this definition">¶</a></dt>
<dd><p>Does autogeneration stuff</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.make_module_print_func">
<code class="descclassname">utool.util_inject.</code><code class="descname">make_module_print_func</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_print_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.make_module_print_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inject.make_module_profile_func">
<code class="descclassname">utool.util_inject.</code><code class="descname">make_module_profile_func</code><span class="sig-paren">(</span><em>module_name=None</em>, <em>module_prefix='[???]'</em>, <em>module=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_profile_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.make_module_profile_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inject.make_module_reload_func">
<code class="descclassname">utool.util_inject.</code><code class="descname">make_module_reload_func</code><span class="sig-paren">(</span><em>module_name=None</em>, <em>module_prefix='[???]'</em>, <em>module=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_reload_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.make_module_reload_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Injects dynamic module reloading</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.make_module_write_func">
<code class="descclassname">utool.util_inject.</code><code class="descname">make_module_write_func</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_write_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.make_module_write_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inject.memprof">
<code class="descclassname">utool.util_inject.</code><code class="descname">memprof</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#memprof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.memprof" title="Permalink to this definition">¶</a></dt>
<dd><p>requires memory_profiler
pip install memory_profiler</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pypi.python.org/pypi/memory_profiler">https://pypi.python.org/pypi/memory_profiler</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.noinject">
<code class="descclassname">utool.util_inject.</code><code class="descname">noinject</code><span class="sig-paren">(</span><em>module_name=None</em>, <em>module_prefix='[???]'</em>, <em>DEBUG=False</em>, <em>module=None</em>, <em>N=0</em>, <em>via=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#noinject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.noinject" title="Permalink to this definition">¶</a></dt>
<dd><p>Use in modules that do not have inject in them</p>
<p>Does not inject anything into the module. Just lets utool know that a module
is being imported so the import order can be debuged</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.print">
<code class="descclassname">utool.util_inject.</code><code class="descname">print</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.print" title="Permalink to this definition">¶</a></dt>
<dd><p>logging builtins.print</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.profile">
<code class="descclassname">utool.util_inject.</code><code class="descname">profile</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.profile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inject.reload_module">
<code class="descclassname">utool.util_inject.</code><code class="descname">reload_module</code><span class="sig-paren">(</span><em>module</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#reload_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.reload_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inject.rrr">
<code class="descclassname">utool.util_inject.</code><code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic module reloading</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inject.split_python_text_into_lines">
<code class="descclassname">utool.util_inject.</code><code class="descname">split_python_text_into_lines</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#split_python_text_into_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inject.split_python_text_into_lines" title="Permalink to this definition">¶</a></dt>
<dd><p># TODO: make it so this function returns text so one statment is on one
# line that means no splitting up things like function definitions into
# multiple lines</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_inspect">
<span id="utool-util-inspect-module"></span><h2>utool.util_inspect module<a class="headerlink" href="#module-utool.util_inspect" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_inspect.BaronWraper">
<em class="property">class </em><code class="descclassname">utool.util_inspect.</code><code class="descname">BaronWraper</code><span class="sig-paren">(</span><em>sourcecode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="utool.util_inspect.BaronWraper.defined_functions">
<code class="descname">defined_functions</code><span class="sig-paren">(</span><em>recursive=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.defined_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.defined_functions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.find_func">
<code class="descname">find_func</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.find_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.find_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.find_root_function">
<code class="descname">find_root_function</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.find_root_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.find_root_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.find_usage">
<code class="descname">find_usage</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.find_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.find_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="utool.util_inspect.BaronWraper.from_fpath">
<em class="property">classmethod </em><code class="descname">from_fpath</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.from_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.from_fpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.internal_call_graph">
<code class="descname">internal_call_graph</code><span class="sig-paren">(</span><em>with_doctests=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.internal_call_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.internal_call_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.print_diff">
<code class="descname">print_diff</code><span class="sig-paren">(</span><em>fpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.print_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.print_diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.rrr">
<code class="descname">rrr</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>reload_module=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inspect.BaronWraper.rrr" title="Permalink to this definition">¶</a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.to_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.BaronWraper.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>fpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_inspect.KWReg">
<em class="property">class </em><code class="descclassname">utool.util_inspect.</code><code class="descname">KWReg</code><span class="sig-paren">(</span><em>enabled=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#KWReg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.KWReg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper to register keywords for complex keyword parsers</p>
<dl class="attribute">
<dt id="utool.util_inspect.KWReg.defaultkw">
<code class="descname">defaultkw</code><a class="headerlink" href="#utool.util_inspect.KWReg.defaultkw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_inspect.KWReg.print_defaultkw">
<code class="descname">print_defaultkw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#KWReg.print_defaultkw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.KWReg.print_defaultkw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.argparse_funckw">
<code class="descclassname">utool.util_inspect.</code><code class="descname">argparse_funckw</code><span class="sig-paren">(</span><em>func</em>, <em>defaults={}</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#argparse_funckw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.argparse_funckw" title="Permalink to this definition">¶</a></dt>
<dd><p>allows kwargs to be specified on the commandline from testfuncs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>lbl, verbose, only_specified, force_keys, type_hint, alias_dict</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">funckw</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect argparse_funckw</dd>
<dt>SeeAlso:</dt>
<dd>exec_funckw
recursive_parse_kwargs
parse_kwarg_keys</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">get_instance_attrnames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funckw</span> <span class="o">=</span> <span class="n">argparse_funckw</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;funckw = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">funckw</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">funckw = {</span>
<span class="go">    &#39;default&#39;: True,</span>
<span class="go">    &#39;with_methods&#39;: True,</span>
<span class="go">    &#39;with_properties&#39;: True,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.check_module_usage">
<code class="descclassname">utool.util_inspect.</code><code class="descname">check_module_usage</code><span class="sig-paren">(</span><em>modpath_patterns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#check_module_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.check_module_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME: not fully implmented</p>
<p>Desired behavior is —
Given a set of modules specified by a list of patterns, returns how the
functions defined in the modules are called: a) with themselves and b) by
other files in the project not in the given set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modpath_patterns</strong> (<em>list</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool.util_inspect check_module_usage –show
utprof.py -m utool.util_inspect check_module_usage –show
python -m utool.util_inspect check_module_usage –pat=”[‘auto*’, ‘user_dialogs.py’, ‘special_query.py’, ‘qt_inc_automatch.py’, ‘devcases.py’]”
python -m utool.util_inspect check_module_usage –pat=”preproc_detectimg.py”
python -m utool.util_inspect check_module_usage –pat=”neighbor_index.py”
python -m utool.util_inspect check_module_usage –pat=”manual_chip_funcs.py”
python -m utool.util_inspect check_module_usage –pat=”preproc_probchip.py”
python -m utool.util_inspect check_module_usage –pat=”guiback.py”</p>
<p class="last">python -m utool.util_inspect check_module_usage –pat=”util_str.py”</p>
</dd>
</dl>
<p>Ignore:</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_grave*&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;auto*&#39;</span><span class="p">,</span> <span class="s1">&#39;user_dialogs.py&#39;</span><span class="p">,</span> <span class="s1">&#39;special_query.py&#39;</span><span class="p">,</span> <span class="s1">&#39;qt_inc_automatch.py&#39;</span><span class="p">,</span> <span class="s1">&#39;devcases.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;neighbor_index.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;manual_chip_funcs.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--pat&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">check_module_usage</span><span class="p">(</span><span class="n">modpath_patterns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.check_static_member_vars">
<code class="descclassname">utool.util_inspect.</code><code class="descname">check_static_member_vars</code><span class="sig-paren">(</span><em>class_</em>, <em>fpath=None</em>, <em>only_init=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#check_static_member_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.check_static_member_vars" title="Permalink to this definition">¶</a></dt>
<dd><p><a href="#id113"><span class="problematic" id="id114">class_</span></a> can either be live object or a classname</p>
<p># fpath = ut.truepath(‘~/code/ibeis/ibeis/viz/viz_graph2.py’)
# classname = ‘AnnotGraphWidget’</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.dummy_func">
<code class="descclassname">utool.util_inspect.</code><code class="descname">dummy_func</code><span class="sig-paren">(</span><em>arg1, arg2, arg3=None, arg4=[1, 2, 3], arg5={}, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#dummy_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.dummy_func" title="Permalink to this definition">¶</a></dt>
<dd><p>test func for kwargs parseing</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.exec_func_doctest">
<code class="descclassname">utool.util_inspect.</code><code class="descname">exec_func_doctest</code><span class="sig-paren">(</span><em>func</em>, <em>start_sentinal=None</em>, <em>end_sentinal=None</em>, <em>num=0</em>, <em>globals_=None</em>, <em>locals_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_doctest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.exec_func_doctest" title="Permalink to this definition">¶</a></dt>
<dd><p>execs a func doctest and returns requested local vars.</p>
<p>func = encoder.learn_threshold2
num = 0
start_sentinal = ‘import wbia.plottool as pt’
end_sentinal = ‘<a href="#id115"><span class="problematic" id="id116">pnum_</span></a> = pt.make_pnum_nextgen’</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.exec_func_src">
<code class="descclassname">utool.util_inspect.</code><code class="descname">exec_func_src</code><span class="sig-paren">(</span><em>func</em>, <em>globals_=None</em>, <em>locals_=None</em>, <em>key_list=None</em>, <em>sentinal=None</em>, <em>update=None</em>, <em>keys=None</em>, <em>verbose=False</em>, <em>start=None</em>, <em>stop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_src"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.exec_func_src" title="Permalink to this definition">¶</a></dt>
<dd><p>execs a func and returns requested local vars.</p>
<p>Does not modify globals unless update=True (or in IPython)</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.execstr_funckw</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.exec_func_src2">
<code class="descclassname">utool.util_inspect.</code><code class="descname">exec_func_src2</code><span class="sig-paren">(</span><em>func</em>, <em>globals_=None</em>, <em>locals_=None</em>, <em>sentinal=None</em>, <em>verbose=False</em>, <em>start=None</em>, <em>stop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_src2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.exec_func_src2" title="Permalink to this definition">¶</a></dt>
<dd><p>execs a func and returns requested local vars.</p>
<p>Does not modify globals unless update=True (or in IPython)</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.execstr_funckw</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.exec_func_src3">
<code class="descclassname">utool.util_inspect.</code><code class="descname">exec_func_src3</code><span class="sig-paren">(</span><em>func</em>, <em>globals_</em>, <em>sentinal=None</em>, <em>verbose=False</em>, <em>start=None</em>, <em>stop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_src3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.exec_func_src3" title="Permalink to this definition">¶</a></dt>
<dd><p>execs a func and returns requested local vars.</p>
<p>Does not modify globals unless update=True (or in IPython)</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.execstr_funckw</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.execstr_func_doctest">
<code class="descclassname">utool.util_inspect.</code><code class="descname">execstr_func_doctest</code><span class="sig-paren">(</span><em>func</em>, <em>num=0</em>, <em>start_sentinal=None</em>, <em>end_sentinal=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#execstr_func_doctest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.execstr_func_doctest" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>execs a func doctest and returns requested local vars.</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd>
</dl>
<p>func = encoder.learn_threshold2
num = 0
start_sentinal = ‘import wbia.plottool as pt’
end_sentinal = ‘<a href="#id117"><span class="problematic" id="id118">pnum_</span></a> = pt.make_pnum_nextgen’</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.filter_valid_kwargs">
<code class="descclassname">utool.util_inspect.</code><code class="descname">filter_valid_kwargs</code><span class="sig-paren">(</span><em>func</em>, <em>dict_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#filter_valid_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.filter_valid_kwargs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.find_funcs_called_with_kwargs">
<code class="descclassname">utool.util_inspect.</code><code class="descname">find_funcs_called_with_kwargs</code><span class="sig-paren">(</span><em>sourcecode</em>, <em>target_kwargs_name='kwargs'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#find_funcs_called_with_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.find_funcs_called_with_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds functions that are called with the keyword <cite>kwargs</cite> variable</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python3 -m utool.util_inspect find_funcs_called_with_kwargs</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="go">        &#39;&#39;&#39;</span>
<span class="go">        x, y = list(zip(*ut.ichunks(data, 2)))</span>
<span class="go">        somecall(arg1, arg2, arg3=4, **kwargs)</span>
<span class="go">        import sys</span>
<span class="go">        sys.badcall(**kwargs)</span>
<span class="go">        def foo():</span>
<span class="go">            bar(**kwargs)</span>
<span class="go">            ut.holymoly(**kwargs)</span>
<span class="go">            baz()</span>
<span class="go">            def biz(**kwargs):</span>
<span class="go">                foo2(**kwargs)</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_funcnamess</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">find_funcs_called_with_kwargs</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;child_funcnamess = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">child_funcnamess</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;foo2&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_funcnamess</span><span class="p">,</span> <span class="s1">&#39;foo2 should not be found&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;bar&#39;</span> <span class="ow">in</span> <span class="n">child_funcnamess</span><span class="p">,</span> <span class="s1">&#39;bar should be found&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_argnames">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_argnames</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_argnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_argnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_dev_hints">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_dev_hints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_dev_hints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_dev_hints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_docstr">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_docstr</code><span class="sig-paren">(</span><em>func_or_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the docstring from a live object</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_func_argspec">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_func_argspec</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_argspec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_func_argspec" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper around inspect.getargspec but takes into account utool decorators</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_func_docblocks">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_func_docblocks</code><span class="sig-paren">(</span><em>func_or_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_docblocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_func_docblocks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_func_kwargs">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_func_kwargs</code><span class="sig-paren">(</span><em>func</em>, <em>recursive=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_func_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>func = wbia.run_experiment</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_func_modname">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_func_modname</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_modname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_func_modname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_func_sourcecode">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_func_sourcecode</code><span class="sig-paren">(</span><em>func</em>, <em>stripdef=False</em>, <em>stripret=False</em>, <em>strip_docstr=False</em>, <em>strip_comments=False</em>, <em>remove_linenums=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_sourcecode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_func_sourcecode" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper around inspect.getsource but takes into account utool decorators
strip flags are very hacky as of now</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> (<em>function</em>) – </li>
<li><strong>stripdef</strong> (<em>bool</em>) – </li>
<li><strong>stripret</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>strip_docstr</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>strip_comments</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>remove_linenums</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect –test-get_func_sourcecode</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">get_func_sourcecode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stripdef</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stripret</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">get_func_sourcecode</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">stripdef</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_funcdoc">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_funcdoc</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcdoc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_funcdoc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_funcfpath">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_funcfpath</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcfpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_funcfpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_funcglobals">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_funcglobals</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcglobals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_funcglobals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_funckw">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_funckw</code><span class="sig-paren">(</span><em>func</em>, <em>recursive=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funckw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_funckw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_funcname">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_funcname</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_funcname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_funcnames_from_modpath">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_funcnames_from_modpath</code><span class="sig-paren">(</span><em>modpath</em>, <em>include_methods=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcnames_from_modpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_funcnames_from_modpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all functions defined in module</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_instance_attrnames">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_instance_attrnames</code><span class="sig-paren">(</span><em>obj</em>, <em>default=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_instance_attrnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_instance_attrnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_internal_call_graph">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_internal_call_graph</code><span class="sig-paren">(</span><em>fpath</em>, <em>with_doctests=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_internal_call_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_internal_call_graph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect get_internal_call_graph –show –modpath=~/code/ibeis/ibeis/init/main_helpers.py –show
python -m utool.util_inspect get_internal_call_graph –show –modpath=~/code/dtool/dtool/depcache_table.py –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modpath&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_doctests</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--with_doctests&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">get_internal_call_graph</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">with_doctests</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">qt4ensure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">as_directed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">zoom_factory</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">pan_factory</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_kwargs">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_kwargs</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>keys, is_arbitrary</dt>
<dd>keys (list): kwargs keys
is_arbitrary (bool): has generic <a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect –test-get_kwargs</dd>
<dt>Ignore:</dt>
<dd><dl class="first last docutils">
<dt>def func1(a, b, c):</dt>
<dd>pass</dd>
<dt>def func2(a, b, c, <a href="#id5"><span class="problematic" id="id6">*</span></a>args):</dt>
<dd>pass</dd>
<dt>def func3(a, b, c, <a href="#id7"><span class="problematic" id="id8">*</span></a>args, <a href="#id9"><span class="problematic" id="id10">**</span></a>kwargs):</dt>
<dd>pass</dd>
<dt>def func4(a, b=1, c=2):</dt>
<dd>pass</dd>
<dt>def func5(a, b=1, c=2, <a href="#id11"><span class="problematic" id="id12">*</span></a>args):</dt>
<dd>pass</dd>
<dt>def func6(a, b=1, c=2, <a href="#id13"><span class="problematic" id="id14">**</span></a>kwargs):</dt>
<dd>pass</dd>
<dt>def func7(a, b=1, c=2, <a href="#id15"><span class="problematic" id="id16">*</span></a>args, <a href="#id17"><span class="problematic" id="id18">**</span></a>kwargs):</dt>
<dd>pass</dd>
<dt>for func in [locals()[‘func’ + str(x)] for x in range(1, 8)]:</dt>
<dd>print(inspect.getargspec(func))</dd>
</dl>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_kwargs</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_kwdefaults">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_kwdefaults</code><span class="sig-paren">(</span><em>func</em>, <em>parse_source=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_kwdefaults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_kwdefaults" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>func</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect get_kwdefaults</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">dummy_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_source</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwdefaults</span> <span class="o">=</span> <span class="n">get_kwdefaults</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">parse_source</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;kwdefaults = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">kwdefaults</span><span class="p">),))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_kwdefaults2">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_kwdefaults2</code><span class="sig-paren">(</span><em>func</em>, <em>parse_source=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_kwdefaults2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_kwdefaults2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_method_func">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_method_func</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_method_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_method_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_module_from_class">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_module_from_class</code><span class="sig-paren">(</span><em>class_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_module_from_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_module_from_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_module_owned_functions">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_module_owned_functions</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_module_owned_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_module_owned_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace with iter_module_doctesable (but change that name to be something better)</p>
<p>returns functions actually owned by the module
module = vtool.distance</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_object_methods">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_object_methods</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_object_methods"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_object_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all methods belonging to an object instance specified in by the
__dir__ function</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">NiceRepr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">methods1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">inject_func_as_method</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">methods2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span> <span class="ow">in</span> <span class="n">methods2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.get_unbound_args">
<code class="descclassname">utool.util_inspect.</code><code class="descname">get_unbound_args</code><span class="sig-paren">(</span><em>argspec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_unbound_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.get_unbound_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.help_members">
<code class="descclassname">utool.util_inspect.</code><code class="descname">help_members</code><span class="sig-paren">(</span><em>obj</em>, <em>use_other=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#help_members"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.help_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspects members of a class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> (<em>class</em><em> or </em><em>module</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect help_members</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DynStruct</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">help_members</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.infer_arg_types_and_descriptions">
<code class="descclassname">utool.util_inspect.</code><code class="descname">infer_arg_types_and_descriptions</code><span class="sig-paren">(</span><em>argname_list</em>, <em>defaults</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#infer_arg_types_and_descriptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.infer_arg_types_and_descriptions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>argname_list</strong> (<em>list</em>) – </li>
<li><strong>defaults</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(argtype_list, argdesc_list)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect –test-infer_arg_types_and_descriptions</dd>
<dt>Ignore:</dt>
<dd>python -c “import utool; print(utool.auto_docstr(‘wbia.algo.hots.pipeline’, ‘build_chipmatches’))”</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ibs&#39;</span><span class="p">,</span> <span class="s1">&#39;qaid&#39;</span><span class="p">,</span> <span class="s1">&#39;fdKfds&#39;</span><span class="p">,</span> <span class="s1">&#39;qfx2_foo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defaults</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">infer_arg_types_and_descriptions</span><span class="p">(</span><span class="n">argname_list</span><span class="p">,</span> <span class="n">defaults</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argtype_list</span><span class="p">,</span> <span class="n">argdesc_list</span><span class="p">,</span> <span class="n">argdefault_list</span><span class="p">,</span> <span class="n">hasdefault_list</span> <span class="o">=</span> <span class="n">tup</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.infer_function_info">
<code class="descclassname">utool.util_inspect.</code><code class="descname">infer_function_info</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#infer_function_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.infer_function_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Infers information for make_default_docstr
# TODO: Interleave old documentation with new documentation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – live python function</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool –tf infer_function_info:0
python -m utool –tf infer_function_info:1 –funcname=wbia_cnn.models.siam.ignore_hardest_cases</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">infer_function_info</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func = ut.Timer.tic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_default_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcinfo</span> <span class="o">=</span> <span class="n">infer_function_info</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">funcinfo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--funcname&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Parse out custom function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">funcname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">script</span> <span class="o">=</span> <span class="s1">&#39;import </span><span class="si">{modname}</span><span class="se">\n</span><span class="s1">func = </span><span class="si">{funcname}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">modname</span><span class="o">=</span><span class="n">modname</span><span class="p">,</span> <span class="n">funcname</span><span class="o">=</span><span class="n">funcname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">globals_</span><span class="p">,</span> <span class="n">locals_</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="n">globals_</span><span class="p">,</span> <span class="n">locals_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">locals_</span><span class="p">[</span><span class="s1">&#39;func&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcinfo</span> <span class="o">=</span> <span class="n">infer_function_info</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">funcinfo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.inherit_kwargs">
<code class="descclassname">utool.util_inspect.</code><code class="descname">inherit_kwargs</code><span class="sig-paren">(</span><em>inherit_func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#inherit_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.inherit_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO move to util_decor
inherit_func = inspect_pdfs
func = encoder.visualize.im_func</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.is_bateries_included">
<code class="descclassname">utool.util_inspect.</code><code class="descname">is_bateries_included</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_bateries_included"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.is_bateries_included" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns if a value is a python builtin function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> (<em>object</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">flag</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/23149218/check-if-a-python-function-is-builtin">http://stackoverflow.com/questions/23149218/check-if-a-python-function-is-builtin</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool._internal.meta_util_six is_builtin</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool._internal.meta_util_six</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="nb">zip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">is_bateries_included</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flag = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">flag</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.is_defined_by_module">
<code class="descclassname">utool.util_inspect.</code><code class="descname">is_defined_by_module</code><span class="sig-paren">(</span><em>item</em>, <em>module</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_defined_by_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.is_defined_by_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if item is directly defined by a module.
This check may be prone to errors.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.is_defined_by_module2">
<code class="descclassname">utool.util_inspect.</code><code class="descname">is_defined_by_module2</code><span class="sig-paren">(</span><em>item</em>, <em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_defined_by_module2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.is_defined_by_module2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.is_valid_python">
<code class="descclassname">utool.util_inspect.</code><code class="descname">is_valid_python</code><span class="sig-paren">(</span><em>code</em>, <em>reraise=True</em>, <em>ipy_magic_workaround=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_valid_python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.is_valid_python" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/23576681/python-check-syntax">http://stackoverflow.com/questions/23576681/python-check-syntax</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.iter_module_doctestable">
<code class="descclassname">utool.util_inspect.</code><code class="descname">iter_module_doctestable</code><span class="sig-paren">(</span><em>module</em>, <em>include_funcs=True</em>, <em>include_classes=True</em>, <em>include_methods=True</em>, <em>include_builtin=True</em>, <em>include_inherited=False</em>, <em>debug_key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#iter_module_doctestable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.iter_module_doctestable" title="Permalink to this definition">¶</a></dt>
<dd><p>Yeilds doctestable live object form a modules</p>
<p>TODO: change name to iter_module_members
Replace with iter_module_doctesable (but change that name to be something
better)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>module</strong> (<em>module</em>) – live python module</li>
<li><strong>include_funcs</strong> (<em>bool</em>) – </li>
<li><strong>include_classes</strong> (<em>bool</em>) – </li>
<li><strong>include_methods</strong> (<em>bool</em>) – </li>
<li><strong>include_builtin</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>include_inherited</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Yeilds:</dt>
<dd>tuple (str, callable): (funcname, func) doctestable</dd>
<dt>CommandLine:</dt>
<dd><dl class="first last docutils">
<dt>python -m utool –tf iter_module_doctestable </dt>
<dd>–modname=wbia.algo.hots.chip_match
–modname=wbia.control.IBEISControl
–modname=wbia.control.SQLDatabaseControl
–modname=wbia.control.manual_annot_funcs
–modname=wbia.control.manual_annot_funcs
–modname=wbia.expt.test_result
–modname=utool.util_progress –debug-key=build_msg_fmtstr_time2
–modname=utool.util_progress –debug-key=ProgressIter</dd>
</dl>
</dd>
<dt>Debug:</dt>
<dd># fix profile with doctest
utprof.py -m utool –tf iter_module_doctestable –modname=utool.util_inspect –debugkey=zzz_profiled_is_yes
utprof.py -m utool –tf iter_module_doctestable –modname=wbia.algo.hots.chip_match –debugkey=to_json</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>   <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argparse_funckw</span><span class="p">(</span><span class="n">iter_module_doctestable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_tests</span> <span class="k">if</span> <span class="n">modname</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">debug_key</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--debugkey&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;debug_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">debug_key</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;include_inherited&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doctestable_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">iter_module_doctestable</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_names</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">doctestable_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">func_names</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.list_class_funcnames">
<code class="descclassname">utool.util_inspect.</code><code class="descname">list_class_funcnames</code><span class="sig-paren">(</span><em>fname, blank_pats=['    #']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#list_class_funcnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.list_class_funcnames" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<em>str</em>) – filepath</li>
<li><strong>blank_pats</strong> (<em>list</em>) – defaults to ‘    #’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">funcname_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;util_class.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blank_pats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;    #&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname_list</span> <span class="o">=</span> <span class="n">list_class_funcnames</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">blank_pats</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">funcname_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.list_global_funcnames">
<code class="descclassname">utool.util_inspect.</code><code class="descname">list_global_funcnames</code><span class="sig-paren">(</span><em>fname, blank_pats=['    #']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#list_global_funcnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.list_global_funcnames" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<em>str</em>) – filepath</li>
<li><strong>blank_pats</strong> (<em>list</em>) – defaults to ‘    #’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">funcname_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;util_class.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blank_pats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;    #&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname_list</span> <span class="o">=</span> <span class="n">list_global_funcnames</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">blank_pats</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">funcname_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.lookup_attribute_chain">
<code class="descclassname">utool.util_inspect.</code><code class="descname">lookup_attribute_chain</code><span class="sig-paren">(</span><em>attrname</em>, <em>namespace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#lookup_attribute_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.lookup_attribute_chain" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrname</span> <span class="o">=</span> <span class="n">funcname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namespace</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="vm">__dict__</span>
</pre></div>
</div>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">globals_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrname</span> <span class="o">=</span> <span class="s1">&#39;KWReg.print_defaultkw&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.parse_func_kwarg_keys">
<code class="descclassname">utool.util_inspect.</code><code class="descname">parse_func_kwarg_keys</code><span class="sig-paren">(</span><em>func</em>, <em>with_vals=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_func_kwarg_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.parse_func_kwarg_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>hacky inference of kwargs keys</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.parse_function_names">
<code class="descclassname">utool.util_inspect.</code><code class="descname">parse_function_names</code><span class="sig-paren">(</span><em>sourcecode</em>, <em>top_level=True</em>, <em>ignore_condition=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_function_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.parse_function_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all function names in a file without importing it</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sourcecode</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">func_names</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect parse_function_names</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__file__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#fpath = ut.truepath(&#39;~/code/bintrees/bintrees/avltree.py&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_names</span> <span class="o">=</span> <span class="n">parse_function_names</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;func_names = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">func_names</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.parse_import_names">
<code class="descclassname">utool.util_inspect.</code><code class="descname">parse_import_names</code><span class="sig-paren">(</span><em>sourcecode</em>, <em>top_level=True</em>, <em>fpath=None</em>, <em>branch=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_import_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.parse_import_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all function names in a file without importing it</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sourcecode</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">func_names</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect parse_import_names</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/20445733/how-to-tell-which-modules-have-been-imported-in-some-source-code">https://stackoverflow.com/questions/20445733/how-to-tell-which-modules-have-been-imported-in-some-source-code</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__file__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#fpath = ut.truepath(&#39;~/code/bintrees/bintrees/avltree.py&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_names</span> <span class="o">=</span> <span class="n">parse_import_names</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;func_names = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">func_names</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.parse_kwarg_keys">
<code class="descclassname">utool.util_inspect.</code><code class="descname">parse_kwarg_keys</code><span class="sig-paren">(</span><em>source</em>, <em>keywords='kwargs'</em>, <em>with_vals=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_kwarg_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.parse_kwarg_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the source code to find keys used by the <cite>**kwargs</cite> keywords
dictionary variable. if <cite>with_vals</cite> is True, we also attempt to infer the
default values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">kwarg_keys</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool.util_inspect parse_kwarg_keys</p>
<p class="last">python -m utool.util_inspect parse_kwarg_keys</p>
</dd>
<dt>SeeAlso:</dt>
<dd>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> x = &#39;hidden_x&#39;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> y = 3 # hidden val&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs.get(x, y)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs.get(&#39;foo&#39;, None)</span><span class="se">\n</span><span class="s2"> kwargs.pop(&#39;bar&#39;, 3)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs.pop(&#39;str&#39;, &#39;3fd&#39;)</span><span class="se">\n</span><span class="s2"> kwargs.pop(&#39;str&#39;, &#39;3f</span><span class="se">\\</span><span class="s2">&#39;d&#39;)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> </span><span class="se">\&quot;</span><span class="s2">kwargs.get(&#39;baz&#39;, None)</span><span class="se">\&quot;\n</span><span class="s2"> kwargs[&#39;foo2&#39;]&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> #kwargs.get(&#39;biz&#39;, None)</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs[&#39;bloop&#39;]&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> x = &#39;bop&#39; in kwargs&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;source = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">source</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">parse_kwarg_keys</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_vals</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwarg_items</span> <span class="o">=</span> <span class="n">parse_kwarg_keys</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">with_vals</span><span class="o">=</span><span class="n">with_vals</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;kwarg_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">kwarg_items</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwarg_keys</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">kwarg_items</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;baz&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;foo&#39;</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;bloop&#39;</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;bop&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">kwarg_items = [</span>
<span class="go">    (&#39;foo&#39;, None),</span>
<span class="go">    (&#39;bar&#39;, 3),</span>
<span class="go">    (&#39;str&#39;, &#39;3fd&#39;),</span>
<span class="go">    (&#39;str&#39;, &quot;3f&#39;d&quot;),</span>
<span class="go">    (&#39;foo2&#39;, None),</span>
<span class="go">    (&#39;bloop&#39;, None),</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.parse_project_imports">
<code class="descclassname">utool.util_inspect.</code><code class="descname">parse_project_imports</code><span class="sig-paren">(</span><em>dpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_project_imports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.parse_project_imports" title="Permalink to this definition">¶</a></dt>
<dd><p>dpath = ub.truepath(‘~/code/clab/clab’)</p>
<dl class="docutils">
<dt>Script:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dpath&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_project_imports</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.parse_return_type">
<code class="descclassname">utool.util_inspect.</code><code class="descname">parse_return_type</code><span class="sig-paren">(</span><em>sourcecode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_return_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.parse_return_type" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sourcecode</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(return_type, return_name, return_header)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>testcase
automated_helpers query_vsone_verified</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect parse_return_type
python -m utool.util_inspect –test-parse_return_type</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    bar = True</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    return bar</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;?&#39;, &#39;bar&#39;, &#39;Returns&#39;, &#39;&#39;)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    return True</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;bool&#39;, &#39;True&#39;, &#39;Returns&#39;, &#39;&#39;)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    for i in range(2): </span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        yield i</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;?&#39;, &#39;i&#39;, &#39;Yields&#39;, &#39;&#39;)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    if tmp is True:</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        return (True, False)</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    elif tmp is False:</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        return 1</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    else:</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        bar = baz()</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        return bar</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;tuple&#39;, &#39;(True, False)&#39;, &#39;Returns&#39;, &#39;&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.prettyprint_parsetree">
<code class="descclassname">utool.util_inspect.</code><code class="descname">prettyprint_parsetree</code><span class="sig-paren">(</span><em>pt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#prettyprint_parsetree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.prettyprint_parsetree" title="Permalink to this definition">¶</a></dt>
<dd><p>pip install astdump
pip install codegen</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.recursive_parse_kwargs">
<code class="descclassname">utool.util_inspect.</code><code class="descname">recursive_parse_kwargs</code><span class="sig-paren">(</span><em>root_func</em>, <em>path_=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#recursive_parse_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.recursive_parse_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>recursive kwargs parser
TODO: rectify with others
FIXME: if docstr indentation is off, this fails</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>root_func</strong> (<em>function</em>) – live python function</li>
<li><strong>path</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool.util_inspect recursive_parse_kwargs:0
python -m utool.util_inspect recursive_parse_kwargs:0 –verbinspect
python -m utool.util_inspect recursive_parse_kwargs:1</p>
<p>python -m utool.util_inspect recursive_parse_kwargs:2 –mod vtool –func ScoreNormalizer.visualize</p>
<p class="last">python -m utool.util_inspect recursive_parse_kwargs:2 –mod wbia.viz.viz_matches –func show_name_matches –verbinspect
python -m utool.util_inspect recursive_parse_kwargs:2 –mod wbia.expt.experiment_drawing –func draw_rank_cmc –verbinspect</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_func</span> <span class="o">=</span> <span class="n">iter_module_doctestable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">root_func</span><span class="p">),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    (&#39;include_funcs&#39;, True),</span>
<span class="go">    (&#39;include_classes&#39;, True),</span>
<span class="go">    (&#39;include_methods&#39;, True),</span>
<span class="go">    (&#39;include_builtin&#39;, True),</span>
<span class="go">    (&#39;include_inherited&#39;, False),</span>
<span class="go">    (&#39;debug_key&#39;, None),</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.hots</span> <span class="k">import</span> <span class="n">chip_match</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">chip_match</span><span class="o">.</span><span class="n">ChipMatch</span><span class="o">.</span><span class="n">show_ranked_matches</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">chip_match</span><span class="o">.</span><span class="n">ChipMatch</span><span class="p">)</span>
</pre></div>
</div>
<p>import wbia
import utool as ut
ibs = wbia.opendb(defaultdb=’testdb1’)
kwkeys1 = ibs.parse_annot_stats_filter_kws()
ut.recursive_parse_kwargs(ibs.get_annotconfig_stats, verbose=1)
kwkeys2 = list(ut.recursive_parse_kwargs(ibs.get_annotconfig_stats).keys())</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mod&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;plottool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--func&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;draw_histogram&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_func</span> <span class="o">=</span> <span class="n">lookup_attribute_chain</span><span class="p">(</span><span class="n">funcname</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed</span> <span class="o">=</span> <span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">root_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unique_flags</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parsed = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">parsed</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unique = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">unique</span><span class="p">),))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.set_funcdoc">
<code class="descclassname">utool.util_inspect.</code><code class="descname">set_funcdoc</code><span class="sig-paren">(</span><em>func</em>, <em>newdoc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#set_funcdoc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.set_funcdoc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.set_funcname">
<code class="descclassname">utool.util_inspect.</code><code class="descname">set_funcname</code><span class="sig-paren">(</span><em>func</em>, <em>newname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#set_funcname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.set_funcname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.special_parse_process_python_code">
<code class="descclassname">utool.util_inspect.</code><code class="descname">special_parse_process_python_code</code><span class="sig-paren">(</span><em>sourcecode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#special_parse_process_python_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.special_parse_process_python_code" title="Permalink to this definition">¶</a></dt>
<dd><p>pip install redbaron
<a class="reference external" href="http://stackoverflow.com/questions/7456933/python-ast-with-preserved-comments">http://stackoverflow.com/questions/7456933/python-ast-with-preserved-comments</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_inspect special_parse_process_python_code –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">special_parse_process_python_code</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_inspect.zzz_profiled_is_no">
<code class="descclassname">utool.util_inspect.</code><code class="descname">zzz_profiled_is_no</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#zzz_profiled_is_no"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.zzz_profiled_is_no" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_inspect.zzz_profiled_is_yes">
<code class="descclassname">utool.util_inspect.</code><code class="descname">zzz_profiled_is_yes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#zzz_profiled_is_yes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_inspect.zzz_profiled_is_yes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_io">
<span id="utool-util-io-module"></span><h2>utool.util_io module<a class="headerlink" href="#module-utool.util_io" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_io.FixRenamedUnpickler">
<em class="property">class </em><code class="descclassname">utool.util_io.</code><code class="descname">FixRenamedUnpickler</code><a class="reference internal" href="_modules/utool/util_io.html#FixRenamedUnpickler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.FixRenamedUnpickler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pickle.Unpickler</span></code></p>
<dl class="method">
<dt id="utool.util_io.FixRenamedUnpickler.find_class">
<code class="descname">find_class</code><span class="sig-paren">(</span><em>module</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#FixRenamedUnpickler.find_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.FixRenamedUnpickler.find_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object from a specified module.</p>
<p>If necessary, the module will be imported. Subclasses may override
this method (e.g. to restrict unpickling of arbitrary classes and
functions).</p>
<p>This method is called whenever a class or a function object is
needed.  Both arguments passed are str objects.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_io.load_cPkl">
<code class="descclassname">utool.util_io.</code><code class="descname">load_cPkl</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=None</em>, <em>n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_cPkl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.load_cPkl" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a pickled file with optional verbosity.
Aims for compatibility between python2 and python3.</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">makedata_simple</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">20</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a large amount of data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">makedata_simple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;tmp.pkl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">save_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_file_nBytes_str</span><span class="p">(</span><span class="s1">&#39;tmp.pkl&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#del data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">load_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">makedata_complex</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">20</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item2</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">10</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>             <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item3</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">10</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item4</span> <span class="o">=</span> <span class="p">{</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">(</span><span class="n">a</span><span class="p">):</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;item1&#39;</span><span class="p">:</span> <span class="n">item1</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">:</span> <span class="n">item2</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;item3&#39;</span><span class="p">:</span> <span class="n">item3</span><span class="p">,</span> <span class="s1">&#39;item4&#39;</span><span class="p">:</span> <span class="n">item4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a large amount of data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">makedata_complex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;tmp.pkl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">save_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_file_nBytes_str</span><span class="p">(</span><span class="s1">&#39;tmp.pkl&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#del data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">load_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cacher</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">Cacher</span><span class="p">(</span><span class="s1">&#39;tmp&#39;</span><span class="p">,</span> <span class="n">cache_dir</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">cfgstr</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data3</span> <span class="o">=</span> <span class="n">cacher</span><span class="o">.</span><span class="n">ensure</span><span class="p">(</span><span class="n">makedata_complex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data4</span> <span class="o">=</span> <span class="n">cacher</span><span class="o">.</span><span class="n">ensure</span><span class="p">(</span><span class="n">makedata_complex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;/home/joncrall/Desktop/smkcache/inva_PZ_Master1VUUIDS((5616)vxihbjwtggyovrto)_vpgwpcafbjkkpjdf.cPkl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_file_nBytes_str</span><span class="p">(</span><span class="n">fpath</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">load_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
</pre></div>
</div>
<dl class="last docutils">
<dt>def makedata_complex():</dt>
<dd>data = np.empty((1000, 2 ** 20), dtype=np.uint8)
data[:] = 0
return data</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.load_data">
<code class="descclassname">utool.util_io.</code><code class="descname">load_data</code><span class="sig-paren">(</span><em>fpath</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>More generic interface to load data</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.load_hdf5">
<code class="descclassname">utool.util_io.</code><code class="descname">load_hdf5</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.load_hdf5" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.load_json">
<code class="descclassname">utool.util_io.</code><code class="descname">load_json</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.load_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.load_numpy">
<code class="descclassname">utool.util_io.</code><code class="descname">load_numpy</code><span class="sig-paren">(</span><em>fpath</em>, <em>mmap_mode=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.load_numpy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.load_pytables">
<code class="descclassname">utool.util_io.</code><code class="descname">load_pytables</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_pytables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.load_pytables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.load_text">
<code class="descclassname">utool.util_io.</code><code class="descname">load_text</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=None</em>, <em>aslines=False</em>, <em>strict=True</em>, <em>n=None</em>, <em>errors='replace'</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.load_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads text from a file. Automatically returns utf8.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>aslines</strong> (<em>bool</em>) – if True returns list of lines</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">text from fpath (this is unicode)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>x = b’‘’/whaleshark_003_forsxc3xb8g.wmv” /&gt;rn’‘’
ut.writeto(‘foo.txt’, x)
y = ut.readfrom(‘foo.txt’)
y.encode(‘utf8’) == x</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.lock_and_load_cPkl">
<code class="descclassname">utool.util_io.</code><code class="descname">lock_and_load_cPkl</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#lock_and_load_cPkl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.lock_and_load_cPkl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.lock_and_save_cPkl">
<code class="descclassname">utool.util_io.</code><code class="descname">lock_and_save_cPkl</code><span class="sig-paren">(</span><em>fpath</em>, <em>data</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#lock_and_save_cPkl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.lock_and_save_cPkl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.read_from">
<code class="descclassname">utool.util_io.</code><code class="descname">read_from</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=None</em>, <em>aslines=False</em>, <em>strict=True</em>, <em>n=None</em>, <em>errors='replace'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#read_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.read_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads text from a file. Automatically returns utf8.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>aslines</strong> (<em>bool</em>) – if True returns list of lines</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">text from fpath (this is unicode)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>x = b’‘’/whaleshark_003_forsxc3xb8g.wmv” /&gt;rn’‘’
ut.writeto(‘foo.txt’, x)
y = ut.readfrom(‘foo.txt’)
y.encode(‘utf8’) == x</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.read_lines_from">
<code class="descclassname">utool.util_io.</code><code class="descname">read_lines_from</code><span class="sig-paren">(</span><em>fpath</em>, <em>num_lines=None</em>, <em>verbose=None</em>, <em>n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#read_lines_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.read_lines_from" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.readfrom">
<code class="descclassname">utool.util_io.</code><code class="descname">readfrom</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=None</em>, <em>aslines=False</em>, <em>strict=True</em>, <em>n=None</em>, <em>errors='replace'</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.readfrom" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads text from a file. Automatically returns utf8.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>aslines</strong> (<em>bool</em>) – if True returns list of lines</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">text from fpath (this is unicode)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>x = b’‘’/whaleshark_003_forsxc3xb8g.wmv” /&gt;rn’‘’
ut.writeto(‘foo.txt’, x)
y = ut.readfrom(‘foo.txt’)
y.encode(‘utf8’) == x</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.save_cPkl">
<code class="descclassname">utool.util_io.</code><code class="descname">save_cPkl</code><span class="sig-paren">(</span><em>fpath</em>, <em>data</em>, <em>verbose=None</em>, <em>n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_cPkl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.save_cPkl" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves data to a pickled file with optional verbosity</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.save_data">
<code class="descclassname">utool.util_io.</code><code class="descname">save_data</code><span class="sig-paren">(</span><em>fpath</em>, <em>data</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.save_data" title="Permalink to this definition">¶</a></dt>
<dd><p>More generic interface to write data</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.save_hdf5">
<code class="descclassname">utool.util_io.</code><code class="descname">save_hdf5</code><span class="sig-paren">(</span><em>fpath</em>, <em>data</em>, <em>verbose=None</em>, <em>compression='lzf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.save_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Restricted save of data using hdf5. Can only save ndarrays and dicts of
ndarrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<em>str</em>) – </li>
<li><strong>data</strong> (<em>ndarray</em>) – </li>
<li><strong>compression</strong> (<em>str</em>) – DEFLATE/GZIP - standard
LZF  - fast
SHUFFLE - compression ratio
FLETCHER32 - error detection
Scale-offset - integer / float scaling and truncation
SZIP - fast and patented</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_io –test-save_hdf5</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://docs.h5py.org/en/latest/quick.html">http://docs.h5py.org/en/latest/quick.html</a>
<a class="reference external" href="http://docs.h5py.org/en/latest/mpi.html">http://docs.h5py.org/en/latest/mpi.html</a></p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;myfile.hdf5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compression</span> <span class="o">=</span> <span class="s1">&#39;lzf&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">compression</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">load_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">data2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="n">data2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;foobar&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">save_hdf5</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;myfile2.hdf5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">compression</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">load_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">data2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">all</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">==</span> <span class="n">data2</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># cPkl / numpy seems to be faster with this initial implementation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        import numpy as np</span>
<span class="go">        import utool as ut</span>
<span class="go">        rng = np.random.RandomState(0)</span>
<span class="go">        fpath = ut.unixjoin(ut.ensure_app_resource_dir(&#39;utool&#39;), &#39;io_test_data&#39;)</span>
<span class="go">        data = (rng.rand(1000000, 128) * 255).astype(np.uint8).copy()</span>
<span class="go">        #print(ut.get_object_size_str(data))</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test load time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;gzip&#39;)</span>
<span class="go">        ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;lzf&#39;)</span>
<span class="go">        ut.save_cPkl(fpath + &#39;.cPkl&#39;, data, verbose=False)</span>
<span class="go">        ut.save_numpy(fpath + &#39;.npy&#39;, data, verbose=False)</span>
<span class="go">        ut.save_pytables(fpath + &#39;.tables&#39;, data, verbose=False)</span>
<span class="go">        &#39;&#39;&#39;).split(&#39;\n&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_dev</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list1</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test save time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        ut.load_hdf5(fpath + &#39;.hdf5&#39;, verbose=False)</span>
<span class="go">        ut.load_cPkl(fpath + &#39;.cPkl&#39;, verbose=False)</span>
<span class="go">        ut.load_numpy(fpath + &#39;.npy&#39;, verbose=False)</span>
<span class="go">        ut.load_pytables(fpath + &#39;.tables&#39;, verbose=False)</span>
<span class="go">        &#39;&#39;&#39;).split(&#39;\n&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_dev</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list2</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;finished timeing&#39;</span><span class="p">)</span>
<span class="go">+----------------</span>
<span class="go">| TIMEIT COMPARE</span>
<span class="go">+----------------</span>
<span class="go">| iterations = 10</span>
<span class="go">| Input:</span>
<span class="go">|     | num | stmt</span>
<span class="go">|     |   0 | u&quot;ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;gzip&#39;)&quot;</span>
<span class="go">|     |   1 | u&quot;ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;lzf&#39;)&quot;</span>
<span class="go">|     |   2 | u&quot;ut.save_cPkl(fpath + &#39;.cPkl&#39;, data, verbose=False)&quot;</span>
<span class="go">|     |   3 | u&quot;ut.save_numpy(fpath + &#39;.npy&#39;, data, verbose=False)&quot;</span>
<span class="go">|     |   4 | u&quot;ut.save_pytables(fpath + &#39;.tables&#39;, data, verbose=False)&quot;</span>
<span class="gp">...</span>
<span class="go">| Output:</span>
<span class="go">|    * PASSED: each statement produced the same result</span>
<span class="go">|    | num | total time | per loop | stmt</span>
<span class="go">|    |   0 |    0.03 ks |   3.15 s | ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;gzip&#39;)</span>
<span class="go">|    |   1 |    0.01 ks |   1.25 s | ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;lzf&#39;)</span>
<span class="go">|    |   2 |     5.30 s |   0.53 s | ut.save_cPkl(fpath + &#39;.cPkl&#39;, data, verbose=False)</span>
<span class="go">|    |   3 |     4.97 s |   0.50 s | ut.save_numpy(fpath + &#39;.npy&#39;, data, verbose=False)</span>
<span class="go">|    |   4 |     9.23 s |   0.92 s | ut.save_pytables(fpath + &#39;.tables&#39;, data, verbose=False)</span>
<span class="go">L_________________</span>
<span class="go">+----------------</span>
<span class="go">| TIMEIT COMPARE</span>
<span class="go">+----------------</span>
<span class="go">| iterations = 10</span>
<span class="go">| Input:</span>
<span class="go">|     | num | stmt</span>
<span class="go">|     |   0 | u&quot;ut.load_hdf5(fpath + &#39;.hdf5&#39;, verbose=False)&quot;</span>
<span class="go">|     |   1 | u&quot;ut.load_cPkl(fpath + &#39;.cPkl&#39;, verbose=False)&quot;</span>
<span class="go">|     |   2 | u&quot;ut.load_numpy(fpath + &#39;.npy&#39;, verbose=False)&quot;</span>
<span class="go">|     |   3 | u&quot;ut.load_pytables(fpath + &#39;.tables&#39;, verbose=False)&quot;</span>
<span class="gp">...</span>
<span class="go">| Output:</span>
<span class="go">|    * PASSED: each statement produced the same result</span>
<span class="go">|    | num | total time | per loop | stmt</span>
<span class="go">|    |   0 |     2.39 s |   0.24 s | ut.load_hdf5(fpath + &#39;.hdf5&#39;, verbose=False)</span>
<span class="go">|    |   1 |     0.39 s |   0.04 s | ut.load_cPkl(fpath + &#39;.cPkl&#39;, verbose=False)</span>
<span class="go">|    |   2 |     0.19 s |   0.02 s | ut.load_numpy(fpath + &#39;.npy&#39;, verbose=False)</span>
<span class="go">|    |   3 |     0.33 s |   0.03 s | ut.load_pytables(fpath + &#39;.tables&#39;, verbose=False)</span>
<span class="go">L_________________</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><p class="first">%timeit save_hdf5(fpath, data, verbose=False, compression=’gzip’)
%timeit save_hdf5(fpath, data, verbose=False, compression=’lzf’)
%timeit save_cPkl(fpath + ‘.cPkl’, data, verbose=False)
%timeit save_pytables(fpath + ‘.tables’, data, verbose=False)
1 loops, best of 3: 258 ms per loop
10 loops, best of 3: 111 ms per loop
10 loops, best of 3: 53.1 ms per loop
10 loops, best of 3: 96.5 ms per loop</p>
<p class="last">save_hdf5(fpath, data, verbose=False, compression=’gzip’)
%timeit load_hdf5(fpath, verbose=False)
save_hdf5(fpath, data, verbose=False, compression=’lzf’)
%timeit load_hdf5(fpath, verbose=False)
%timeit load_cPkl(fpath + ‘.cPkl’, verbose=False)
%timeit load_pytables(fpath + ‘.tables’, verbose=False)
100 loops, best of 3: 19.4 ms per loop
100 loops, best of 3: 14.4 ms per loop
100 loops, best of 3: 3.92 ms per loop
100 loops, best of 3: 6.22 ms per loop</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>pip install mpi4py</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.save_json">
<code class="descclassname">utool.util_io.</code><code class="descname">save_json</code><span class="sig-paren">(</span><em>fpath</em>, <em>data</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.save_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.save_numpy">
<code class="descclassname">utool.util_io.</code><code class="descname">save_numpy</code><span class="sig-paren">(</span><em>fpath</em>, <em>data</em>, <em>verbose=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.save_numpy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.save_pytables">
<code class="descclassname">utool.util_io.</code><code class="descname">save_pytables</code><span class="sig-paren">(</span><em>fpath</em>, <em>data</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_pytables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.save_pytables" title="Permalink to this definition">¶</a></dt>
<dd><p>sudo pip install numexpr
sudo pip install tables</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pytables.github.io/cookbook/py2exe_howto.html">https://pytables.github.io/cookbook/py2exe_howto.html</a>
<a class="reference external" href="https://gist.github.com/andrewgiessel/7515520">https://gist.github.com/andrewgiessel/7515520</a>
<a class="reference external" href="http://stackoverflow.com/questions/8843062/python-how-to-store-a-numpy-multidimensional-array-in-pytables">http://stackoverflow.com/questions/8843062/python-how-to-store-a-numpy-multidimensional-array-in-pytables</a>
<a class="reference external" href="http://pytables.github.io/usersguide/tutorials.html#creating-new-array-objects">http://pytables.github.io/usersguide/tutorials.html#creating-new-array-objects</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;myfile.pytables.hdf5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compression</span> <span class="o">=</span> <span class="s1">&#39;gzip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_pytables</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">load_pytables</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">data2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="n">data2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.save_text">
<code class="descclassname">utool.util_io.</code><code class="descname">save_text</code><span class="sig-paren">(</span><em>fpath</em>, <em>to_write</em>, <em>aslines=False</em>, <em>verbose=None</em>, <em>onlyifdiff=False</em>, <em>mode='w'</em>, <em>n=None</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.save_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes text to a file. Automatically encodes text as utf8.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>to_write</strong> (<em>str</em>) – text to write (must be unicode text)</li>
<li><strong>aslines</strong> (<em>bool</em>) – if True to_write is assumed to be a list of lines</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag</li>
<li><strong>onlyifdiff</strong> (<em>bool</em>) – only writes if needed!
checks hash of to_write vs the hash of the contents of fpath</li>
<li><strong>mode</strong> (<em>unicode</em>) – (default = u’w’)</li>
<li><strong>n</strong> (<em>int</em>) – (default = 2)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_io –exec-write_to –show</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testwrite.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_write</span> <span class="o">=</span> <span class="s1">&#39;utf-8 symbols Δ, Й, ק, م, ๗, あ, 叶, 葉, and 말.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onlyifdiff</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;w&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">to_write</span><span class="p">,</span> <span class="n">aslines</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">onlyifdiff</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;read_    = &#39;</span> <span class="o">+</span> <span class="n">read_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to_write = &#39;</span> <span class="o">+</span> <span class="n">to_write</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">read_</span> <span class="o">==</span> <span class="n">to_write</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.try_decode">
<code class="descclassname">utool.util_io.</code><code class="descname">try_decode</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#try_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.try_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_io.write_to">
<code class="descclassname">utool.util_io.</code><code class="descname">write_to</code><span class="sig-paren">(</span><em>fpath</em>, <em>to_write</em>, <em>aslines=False</em>, <em>verbose=None</em>, <em>onlyifdiff=False</em>, <em>mode='w'</em>, <em>n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#write_to"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_io.write_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes text to a file. Automatically encodes text as utf8.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>to_write</strong> (<em>str</em>) – text to write (must be unicode text)</li>
<li><strong>aslines</strong> (<em>bool</em>) – if True to_write is assumed to be a list of lines</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag</li>
<li><strong>onlyifdiff</strong> (<em>bool</em>) – only writes if needed!
checks hash of to_write vs the hash of the contents of fpath</li>
<li><strong>mode</strong> (<em>unicode</em>) – (default = u’w’)</li>
<li><strong>n</strong> (<em>int</em>) – (default = 2)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_io –exec-write_to –show</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testwrite.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_write</span> <span class="o">=</span> <span class="s1">&#39;utf-8 symbols Δ, Й, ק, م, ๗, あ, 叶, 葉, and 말.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onlyifdiff</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;w&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">to_write</span><span class="p">,</span> <span class="n">aslines</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">onlyifdiff</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;read_    = &#39;</span> <span class="o">+</span> <span class="n">read_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to_write = &#39;</span> <span class="o">+</span> <span class="n">to_write</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">read_</span> <span class="o">==</span> <span class="n">to_write</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_io.writeto">
<code class="descclassname">utool.util_io.</code><code class="descname">writeto</code><span class="sig-paren">(</span><em>fpath</em>, <em>to_write</em>, <em>aslines=False</em>, <em>verbose=None</em>, <em>onlyifdiff=False</em>, <em>mode='w'</em>, <em>n=None</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.writeto" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes text to a file. Automatically encodes text as utf8.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>to_write</strong> (<em>str</em>) – text to write (must be unicode text)</li>
<li><strong>aslines</strong> (<em>bool</em>) – if True to_write is assumed to be a list of lines</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag</li>
<li><strong>onlyifdiff</strong> (<em>bool</em>) – only writes if needed!
checks hash of to_write vs the hash of the contents of fpath</li>
<li><strong>mode</strong> (<em>unicode</em>) – (default = u’w’)</li>
<li><strong>n</strong> (<em>int</em>) – (default = 2)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_io –exec-write_to –show</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testwrite.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_write</span> <span class="o">=</span> <span class="s1">&#39;utf-8 symbols Δ, Й, ק, م, ๗, あ, 叶, 葉, and 말.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onlyifdiff</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;w&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">to_write</span><span class="p">,</span> <span class="n">aslines</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">onlyifdiff</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;read_    = &#39;</span> <span class="o">+</span> <span class="n">read_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to_write = &#39;</span> <span class="o">+</span> <span class="n">to_write</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">read_</span> <span class="o">==</span> <span class="n">to_write</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-utool.util_ipynb">
<span id="utool-util-ipynb-module"></span><h2>utool.util_ipynb module<a class="headerlink" href="#module-utool.util_ipynb" title="Permalink to this headline">¶</a></h2>
<p>Utilities for IPython/Jupyter Notebooks</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd># to connect to a notebook on a remote machine that does not have the
# appropriate port exposed you must start an SSH tunnel.
# Typically a jupyter-notebook runs on port 8888.
# Run this command on your local machine.
ssh -N -f -L localhost:8888:localhost:8889 &lt;remote_user&gt;&#64;&lt;remote_host&gt;</dd>
</dl>
<dl class="class">
<dt id="utool.util_ipynb.IPYNBCell">
<em class="property">class </em><code class="descclassname">utool.util_ipynb.</code><code class="descname">IPYNBCell</code><span class="sig-paren">(</span><em>header</em>, <em>code</em>, <em>footer</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_ipynb.IPYNBCell" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="utool.util_ipynb.IPYNBCell.code">
<code class="descname">code</code><a class="headerlink" href="#utool.util_ipynb.IPYNBCell.code" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_ipynb.IPYNBCell.footer">
<code class="descname">footer</code><a class="headerlink" href="#utool.util_ipynb.IPYNBCell.footer" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_ipynb.IPYNBCell.header">
<code class="descname">header</code><a class="headerlink" href="#utool.util_ipynb.IPYNBCell.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.code_cell">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">code_cell</code><span class="sig-paren">(</span><em>sourcecode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#code_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.code_cell" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sourcecode</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">json formatted ipython notebook code cell</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m wbia.templates.generate_notebook –exec-code_cell</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.templates.generate_notebook</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">notebook_cells</span><span class="o">.</span><span class="n">timestamp_distribution</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">notebook_cells</span><span class="o">.</span><span class="n">initialize</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">code_cell</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.export_notebook">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">export_notebook</code><span class="sig-paren">(</span><em>run_nb</em>, <em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#export_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.export_notebook" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.format_cells">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">format_cells</code><span class="sig-paren">(</span><em>block</em>, <em>locals_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#format_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.format_cells" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.make_autogen_str">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">make_autogen_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#make_autogen_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.make_autogen_str" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_ipynb –exec-make_autogen_str –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ipynb</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">make_autogen_str</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.make_notebook">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">make_notebook</code><span class="sig-paren">(</span><em>cell_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#make_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.make_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p># Change cell width
<a class="reference external" href="http://stackoverflow.com/questions/21971449/how-do-i-increase-the-cell-width-of-the-ipython-notebook-in-my-browser/24207353#24207353">http://stackoverflow.com/questions/21971449/how-do-i-increase-the-cell-width-of-the-ipython-notebook-in-my-browser/24207353#24207353</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.markdown_cell">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">markdown_cell</code><span class="sig-paren">(</span><em>markdown</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#markdown_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.markdown_cell" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>markdown</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">json formatted ipython notebook markdown cell</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m wbia.templates.generate_notebook –exec-markdown_cell</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.templates.generate_notebook</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">markdown</span> <span class="o">=</span> <span class="s1">&#39;# Title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="n">markdown</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.normalize_cells">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">normalize_cells</code><span class="sig-paren">(</span><em>block</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#normalize_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.normalize_cells" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.repr_single_for_md">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">repr_single_for_md</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#repr_single_for_md"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.repr_single_for_md" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">str_repr</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m wbia.templates.generate_notebook –exec-repr_single_for_md –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.templates.generate_notebook</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;#HTML(</span><span class="se">\&#39;</span><span class="s1">&lt;iframe src=&quot;</span><span class="si">%s</span><span class="s1">&quot; width=700 height=350&gt;&lt;/iframe&gt;</span><span class="se">\&#39;</span><span class="s1"> % pdf_fpath)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repr_single_for_md</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_ipynb.run_ipython_notebook">
<code class="descclassname">utool.util_ipynb.</code><code class="descname">run_ipython_notebook</code><span class="sig-paren">(</span><em>notebook_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#run_ipython_notebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ipynb.run_ipython_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://github.com/paulgb/runipy">https://github.com/paulgb/runipy</a>
&gt;&gt;&gt; from utool.util_ipynb import *  # NOQA</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_iter">
<span id="utool-util-iter-module"></span><h2>utool.util_iter module<a class="headerlink" href="#module-utool.util_iter" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_iter.and_iters">
<code class="descclassname">utool.util_iter.</code><code class="descname">and_iters</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#and_iters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.and_iters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_iter.evaluate_generator">
<code class="descclassname">utool.util_iter.</code><code class="descname">evaluate_generator</code><span class="sig-paren">(</span><em>iter_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#evaluate_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.evaluate_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>for evaluating each item in a generator and ignoring output</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.ichunk_slices">
<code class="descclassname">utool.util_iter.</code><code class="descname">ichunk_slices</code><span class="sig-paren">(</span><em>total</em>, <em>chunksize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunk_slices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ichunk_slices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_iter.ichunks">
<code class="descclassname">utool.util_iter.</code><code class="descname">ichunks</code><span class="sig-paren">(</span><em>iterable</em>, <em>chunksize</em>, <em>bordermode=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ichunks" title="Permalink to this definition">¶</a></dt>
<dd><p>generates successive n-sized chunks from <code class="docutils literal notranslate"><span class="pre">iterable</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>iterable</strong> (<em>list</em>) – input to iterate over</li>
<li><strong>chunksize</strong> (<em>int</em>) – size of sublist to return</li>
<li><strong>bordermode</strong> (<em>str</em>) – None, ‘cycle’, or ‘replicate’</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks">http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks</a></p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>util_progress.get_num_chunks</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_iter –exec-ichunks –show</dd>
<dt>Timeit:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="go">        from utool.util_iter import *  # NOQA</span>
<span class="go">        iterable = list(range(100))</span>
<span class="go">        chunksize = 8</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="s1">&#39;list(ichunks(iterable, chunksize))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;list(ichunks_noborder(iterable, chunksize))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;list(ichunks_list(iterable, chunksize))&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">passed</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">results</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list</span><span class="p">,</span> <span class="n">setup</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">ichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2, 3], [4, 5, 6], [7]]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;cycle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">ichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2, 3], [4, 5, 6], [7, 1, 2]]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;replicate&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">ichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2, 3], [4, 5, 6], [7, 7, 7]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.ichunks_cycle">
<code class="descclassname">utool.util_iter.</code><code class="descname">ichunks_cycle</code><span class="sig-paren">(</span><em>iterable</em>, <em>chunksize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_cycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ichunks_cycle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_iter.ichunks_list">
<code class="descclassname">utool.util_iter.</code><code class="descname">ichunks_list</code><span class="sig-paren">(</span><em>list_</em>, <em>chunksize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ichunks_list" title="Permalink to this definition">¶</a></dt>
<dd><p>input must be a list.</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ichunks</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks">http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.ichunks_noborder">
<code class="descclassname">utool.util_iter.</code><code class="descname">ichunks_noborder</code><span class="sig-paren">(</span><em>iterable</em>, <em>chunksize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_noborder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ichunks_noborder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_iter.ichunks_replicate">
<code class="descclassname">utool.util_iter.</code><code class="descname">ichunks_replicate</code><span class="sig-paren">(</span><em>iterable</em>, <em>chunksize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_replicate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ichunks_replicate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_iter.ifilter_Nones">
<code class="descclassname">utool.util_iter.</code><code class="descname">ifilter_Nones</code><span class="sig-paren">(</span><em>iter_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ifilter_Nones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ifilter_Nones" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any nones from the iterable</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.ifilter_items">
<code class="descclassname">utool.util_iter.</code><code class="descname">ifilter_items</code><span class="sig-paren">(</span><em>item_iter</em>, <em>flag_iter</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_iter.ifilter_items" title="Permalink to this definition">¶</a></dt>
<dd><p>iter_compress - like numpy compress</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_iter</strong> (<em>list</em>) – </li>
<li><strong>flag_iter</strong> (<em>list</em>) – of bools</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">true_items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_iter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_iter</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">true_items</span> <span class="o">=</span> <span class="n">iter_compress</span><span class="p">(</span><span class="n">item_iter</span><span class="p">,</span> <span class="n">flag_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">true_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 3, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.ifilterfalse_items">
<code class="descclassname">utool.util_iter.</code><code class="descname">ifilterfalse_items</code><span class="sig-paren">(</span><em>item_iter</em>, <em>flag_iter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ifilterfalse_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.ifilterfalse_items" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>item_iter</strong> (<em>list</em>) – </li>
<li><strong>flag_iter</strong> (<em>list</em>) – of bools</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_iter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_iter</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">false_items</span> <span class="o">=</span> <span class="n">ifilterfalse_items</span><span class="p">(</span><span class="n">item_iter</span><span class="p">,</span> <span class="n">flag_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">false_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.iflatten">
<code class="descclassname">utool.util_iter.</code><code class="descname">iflatten</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iflatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.iflatten" title="Permalink to this definition">¶</a></dt>
<dd><p>flattens a list iteratively</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.iget_list_column">
<code class="descclassname">utool.util_iter.</code><code class="descname">iget_list_column</code><span class="sig-paren">(</span><em>list_</em>, <em>colx</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_iter.iget_list_column" title="Permalink to this definition">¶</a></dt>
<dd><p>iterator version of get_list_column</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.iget_list_column_slice">
<code class="descclassname">utool.util_iter.</code><code class="descname">iget_list_column_slice</code><span class="sig-paren">(</span><em>list_</em>, <em>start=None</em>, <em>stop=None</em>, <em>stride=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iget_list_column_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.iget_list_column_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>iterator version of get_list_column</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.interleave">
<code class="descclassname">utool.util_iter.</code><code class="descname">interleave</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#interleave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.interleave" title="Permalink to this definition">¶</a></dt>
<dd><p>zip followed by flatten</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>tuple</em>) – tuple of lists to interleave</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd><dl class="first last docutils">
<dt>You may actually be better off doing something like this:</dt>
<dd><p class="first">a, b, = args
ut.flatten(ut.bzip(a, b))</p>
<p class="last">ut.flatten(ut.bzip([1, 2, 3], [‘-‘]))
[1, ‘-‘, 2, ‘-‘, 3, ‘-‘]</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">interleave</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, &#39;A&#39;, 2, &#39;B&#39;, 3, &#39;C&#39;, 4, &#39;D&#39;, 5, &#39;E&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.itake_column">
<code class="descclassname">utool.util_iter.</code><code class="descname">itake_column</code><span class="sig-paren">(</span><em>list_</em>, <em>colx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#itake_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.itake_column" title="Permalink to this definition">¶</a></dt>
<dd><p>iterator version of get_list_column</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.iter_compress">
<code class="descclassname">utool.util_iter.</code><code class="descname">iter_compress</code><span class="sig-paren">(</span><em>item_iter</em>, <em>flag_iter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iter_compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.iter_compress" title="Permalink to this definition">¶</a></dt>
<dd><p>iter_compress - like numpy compress</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_iter</strong> (<em>list</em>) – </li>
<li><strong>flag_iter</strong> (<em>list</em>) – of bools</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">true_items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_iter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_iter</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">true_items</span> <span class="o">=</span> <span class="n">iter_compress</span><span class="p">(</span><span class="n">item_iter</span><span class="p">,</span> <span class="n">flag_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">true_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 3, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.iter_multichunks">
<code class="descclassname">utool.util_iter.</code><code class="descname">iter_multichunks</code><span class="sig-paren">(</span><em>iterable</em>, <em>chunksizes</em>, <em>bordermode=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iter_multichunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.iter_multichunks" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_iter –test-iter_multichunks</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksizes</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;cycle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">iter_multichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multichunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depthprofile</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">multichunks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">depthprofile</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="s1">&#39;did not generate chunks correctly&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">multichunks</span><span class="p">)),</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;[[[0, 1, 2], [3, 4, 5]], [[6, 7, 8], [9, 10, 11]], [[12, 13, 14], [15, 16, 17]]]&#39;,</span>
<span class="go">&#39;[[[18, 19, 0], [1, 2, 3]], [[4, 5, 6], [7, 8, 9]], [[10, 11, 12], [13, 14, 15]]]&#39;,</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># when chunksizes is len == 1, then equlivalent to ichunks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksizes</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;cycle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">iter_multichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multichunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depthprofile</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">multichunks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">depthprofile</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="s1">&#39;did not generate chunks correctly&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">multichunks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[0, 1, 2], [3, 4, 5], [6, 0, 1]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.iter_window">
<code class="descclassname">utool.util_iter.</code><code class="descname">iter_window</code><span class="sig-paren">(</span><em>iterable</em>, <em>size=2</em>, <em>step=1</em>, <em>wrap=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iter_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.iter_window" title="Permalink to this definition">¶</a></dt>
<dd><p>iterates through iterable with a window size
generalizeation of itertwo</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>iterable</strong> (<em>iter</em>) – an iterable sequence</li>
<li><strong>size</strong> (<em>int</em>) – window size (default = 2)</li>
<li><strong>wrap</strong> (<em>bool</em>) – wraparound (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">returns windows in a sequence</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">iter</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_iter –exec-iter_window</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_iter</span> <span class="o">=</span> <span class="n">iter_window</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">window_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;window_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">window_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">window_list = [(1, 2, 3), (2, 3, 4), (3, 4, 5), (4, 5, 6), (5, 6, 1), (6, 1, 2)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_iter</span> <span class="o">=</span> <span class="n">iter_window</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">window_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;window_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">window_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">window_list = [(1, 2, 3), (3, 4, 5), (5, 6, 1)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.itertwo">
<code class="descclassname">utool.util_iter.</code><code class="descname">itertwo</code><span class="sig-paren">(</span><em>iterable</em>, <em>wrap=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#itertwo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.itertwo" title="Permalink to this definition">¶</a></dt>
<dd><p>equivalent to iter_window(iterable, 2, 1, wrap)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>iterable</strong> (<em>iter</em>) – an iterable sequence</li>
<li><strong>wrap</strong> (<em>bool</em>) – if True, returns with wraparound</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">returns edges in a sequence</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">iter</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_iter –test-itertwo</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrap</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">wrap</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">edges = [(1, 2), (2, 3), (3, 4)]</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrap</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">wrap</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">edges = [(1, 2), (2, 3), (3, 4), (4, 1)]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrap</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edge_iter</span> <span class="o">=</span> <span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">wrap</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">edge_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)),</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;iterable should have been used up&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">edges = [(1, 2), (2, 3), (3, 4)]</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># BENCHMARK</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ubelt</span> <span class="k">as</span> <span class="nn">ub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ti</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">bestof</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-zip&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">iterable</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-itertwo&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;iter_window(2)&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">iter_window</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-zip-numpy&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable2</span><span class="p">,</span> <span class="n">iterable2</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-zip-numpy.tolist&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable2</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">iterable2</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-itertwo-numpy&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-itertwo-numpy-tolist&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable2</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ti</span><span class="o">.</span><span class="n">rankings</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ti</span><span class="o">.</span><span class="n">consistency</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.next_counter">
<code class="descclassname">utool.util_iter.</code><code class="descname">next_counter</code><span class="sig-paren">(</span><em>start=0</em>, <em>step=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#next_counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.next_counter" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>step</strong> (<em>int</em>) – (default = 1)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id119"><span class="problematic" id="id120">next_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">func</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_iter –test-next_counter</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">next_</span> <span class="o">=</span> <span class="n">next_counter</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">([</span><span class="n">next_</span><span class="p">(),</span> <span class="n">next_</span><span class="p">(),</span> <span class="n">next_</span><span class="p">()])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.random_combinations">
<code class="descclassname">utool.util_iter.</code><code class="descname">random_combinations</code><span class="sig-paren">(</span><em>items</em>, <em>size</em>, <em>num=None</em>, <em>rng=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#random_combinations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.random_combinations" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields <cite>num</cite> combinations of length <cite>size</cite> from items in random order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>items</strong> – </li>
<li><strong>size</strong> – </li>
<li><strong>num</strong> (<em>None</em>) – (default = None)</li>
<li><strong>rng</strong> (<em>RandomState</em>) – random number generator(default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>tuple</em> – combo</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_iter random_combinations</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">random_combinations</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">rng</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;combos = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">combos</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">random_combinations</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">rng</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;combos = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">combos</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.random_product">
<code class="descclassname">utool.util_iter.</code><code class="descname">random_product</code><span class="sig-paren">(</span><em>items</em>, <em>num=None</em>, <em>rng=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#random_product"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.random_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields <cite>num</cite> items from the cartesian product of items in a random order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>items</strong> (<em>list of sequences</em>) – items to get caresian product of
packed in a list or tuple.
(note this deviates from api of it.product)</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>import utool as ut
items = [(1, 2, 3), (4, 5, 6, 7)]
rng = 0
list(ut.random_product(items, rng=0))
list(ut.random_product(items, num=3, rng=0))</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_iter.wrap_iterable">
<code class="descclassname">utool.util_iter.</code><code class="descname">wrap_iterable</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#wrap_iterable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_iter.wrap_iterable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">wrapped_obj, was_scalar</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-utool.util_latex">
<span id="utool-util-latex-module"></span><h2>utool.util_latex module<a class="headerlink" href="#module-utool.util_latex" title="Permalink to this headline">¶</a></h2>
<p>TODO: box and whisker
<a class="reference external" href="http://tex.stackexchange.com/questions/115210/boxplot-in-latex">http://tex.stackexchange.com/questions/115210/boxplot-in-latex</a></p>
<dl class="function">
<dt id="utool.util_latex.compile_latex_text">
<code class="descclassname">utool.util_latex.</code><code class="descname">compile_latex_text</code><span class="sig-paren">(</span><em>input_text</em>, <em>dpath=None</em>, <em>fname=None</em>, <em>verbose=True</em>, <em>move=True</em>, <em>nest_in_doc=None</em>, <em>title=None</em>, <em>preamb_extra=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#compile_latex_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.compile_latex_text" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_latex –test-compile_latex_text –show</dd>
<dt>Ignore:</dt>
<dd><dl class="first last docutils">
<dt>pdflatex -shell-escape –synctex=-1 -src-specials -interaction=nonstopmode</dt>
<dd>~/code/ibeis/tmptex/latex_formatter_temp.tex</dd>
</dl>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dpath = &#39;/home/joncrall/code/ibeis/aidchallenge&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ut.vd(dpath)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_fpaths</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_images</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">figure_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_latex_figure_str</span><span class="p">(</span><span class="n">orig_fpaths</span><span class="p">,</span> <span class="n">width_str</span><span class="o">=</span><span class="s1">&#39;2.4in&#39;</span><span class="p">,</span> <span class="n">nCols</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_text</span> <span class="o">=</span> <span class="n">figure_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pdf_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compile_latex_text</span><span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="n">dpath</span><span class="o">=</span><span class="n">dpath</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                  <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_pdf_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress_pdf</span><span class="p">(</span><span class="n">pdf_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pdf_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">startfile</span><span class="p">(</span><span class="n">pdf_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.compress_pdf">
<code class="descclassname">utool.util_latex.</code><code class="descname">compress_pdf</code><span class="sig-paren">(</span><em>pdf_fpath</em>, <em>output_fname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#compress_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.compress_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>uses ghostscript to write a pdf</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.convert_pdf_to_image">
<code class="descclassname">utool.util_latex.</code><code class="descname">convert_pdf_to_image</code><span class="sig-paren">(</span><em>pdf_fpath</em>, <em>ext='.jpg'</em>, <em>verbose=1</em>, <em>dpi=300</em>, <em>quality=90</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#convert_pdf_to_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.convert_pdf_to_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.ensure_colvec">
<code class="descclassname">utool.util_latex.</code><code class="descname">ensure_colvec</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#ensure_colvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.ensure_colvec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.ensure_rowvec">
<code class="descclassname">utool.util_latex.</code><code class="descname">ensure_rowvec</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#ensure_rowvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.ensure_rowvec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.escape_latex">
<code class="descclassname">utool.util_latex.</code><code class="descname">escape_latex</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#escape_latex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.escape_latex" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – a plain text message</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the message escaped to appear correctly in LaTeX</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/16259923/how-can-i-escape-characters">http://stackoverflow.com/questions/16259923/how-can-i-escape-characters</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.find_ghostscript_exe">
<code class="descclassname">utool.util_latex.</code><code class="descname">find_ghostscript_exe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#find_ghostscript_exe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.find_ghostscript_exe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.get_latex_figure_str">
<code class="descclassname">utool.util_latex.</code><code class="descname">get_latex_figure_str</code><span class="sig-paren">(</span><em>fpath_list</em>, <em>caption_str=None</em>, <em>label_str=None</em>, <em>width_str='\\textwidth'</em>, <em>height_str=None</em>, <em>nCols=None</em>, <em>dpath=None</em>, <em>colpos_sep=' '</em>, <em>nlsep=''</em>, <em>use_sublbls=None</em>, <em>use_frame=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#get_latex_figure_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.get_latex_figure_str" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fpath_list</strong> (<em>list</em>) – </li>
<li><strong>dpath</strong> (<em>str</em>) – directory relative to main tex file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">figure_str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_latex –test-get_latex_figure_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;figures/foo.png&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">figure_str</span> <span class="o">=</span> <span class="n">get_latex_figure_str</span><span class="p">(</span><span class="n">fpath_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">figure_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.get_latex_figure_str2">
<code class="descclassname">utool.util_latex.</code><code class="descname">get_latex_figure_str2</code><span class="sig-paren">(</span><em>fpath_list</em>, <em>cmdname</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#get_latex_figure_str2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.get_latex_figure_str2" title="Permalink to this definition">¶</a></dt>
<dd><p>hack for candidacy</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.is_substr">
<code class="descclassname">utool.util_latex.</code><code class="descname">is_substr</code><span class="sig-paren">(</span><em>find</em>, <em>strlist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#is_substr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.is_substr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.latex_get_stats">
<code class="descclassname">utool.util_latex.</code><code class="descname">latex_get_stats</code><span class="sig-paren">(</span><em>lbl</em>, <em>data</em>, <em>mode=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_get_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.latex_get_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.latex_multicolumn">
<code class="descclassname">utool.util_latex.</code><code class="descname">latex_multicolumn</code><span class="sig-paren">(</span><em>data</em>, <em>ncol=2</em>, <em>alignstr='|c|'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_multicolumn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.latex_multicolumn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.latex_multirow">
<code class="descclassname">utool.util_latex.</code><code class="descname">latex_multirow</code><span class="sig-paren">(</span><em>data</em>, <em>nrow=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_multirow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.latex_multirow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.latex_newcommand">
<code class="descclassname">utool.util_latex.</code><code class="descname">latex_newcommand</code><span class="sig-paren">(</span><em>command_name</em>, <em>command_text</em>, <em>num_args=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_newcommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.latex_newcommand" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.latex_sanitize_command_name">
<code class="descclassname">utool.util_latex.</code><code class="descname">latex_sanitize_command_name</code><span class="sig-paren">(</span><em>_cmdname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_sanitize_command_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.latex_sanitize_command_name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_cmdname</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">command_name</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_latex –exec-latex_sanitize_command_name</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_cmdname</span> <span class="o">=</span> <span class="s1">&#39;#foo bar.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command_name</span> <span class="o">=</span> <span class="n">latex_sanitize_command_name</span><span class="p">(</span><span class="n">_cmdname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;command_name = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">command_name</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">FooBar</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.latex_scalar">
<code class="descclassname">utool.util_latex.</code><code class="descname">latex_scalar</code><span class="sig-paren">(</span><em>lbl</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_scalar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.latex_scalar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.long_substr">
<code class="descclassname">utool.util_latex.</code><code class="descname">long_substr</code><span class="sig-paren">(</span><em>strlist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#long_substr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.long_substr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.make_full_document">
<code class="descclassname">utool.util_latex.</code><code class="descname">make_full_document</code><span class="sig-paren">(</span><em>text</em>, <em>title=None</em>, <em>preamp_decl={}</em>, <em>preamb_extra=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#make_full_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.make_full_document" title="Permalink to this definition">¶</a></dt>
<dd><p>dummy preamble and document to wrap around latex fragment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<em>str</em>) – </li>
<li><strong>title</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id121"><span class="problematic" id="id122">text_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_latex –test-make_full_document</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preamp_decl</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_</span> <span class="o">=</span> <span class="n">make_full_document</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.make_score_tabular">
<code class="descclassname">utool.util_latex.</code><code class="descname">make_score_tabular</code><span class="sig-paren">(</span><em>row_lbls</em>, <em>col_lbls</em>, <em>values</em>, <em>title=None</em>, <em>out_of=None</em>, <em>bold_best=False</em>, <em>flip=False</em>, <em>bigger_is_better=True</em>, <em>multicol_lbls=None</em>, <em>FORCE_INT=False</em>, <em>precision=None</em>, <em>SHORTEN_ROW_LBLS=False</em>, <em>col_align='l'</em>, <em>col_sep='|'</em>, <em>multicol_sep='|'</em>, <em>centerline=True</em>, <em>astable=False</em>, <em>table_position=''</em>, <em>AUTOFIX_LATEX=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#make_score_tabular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.make_score_tabular" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a LaTeX tabular for displaying scores or errors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_lbls</strong> (<em>list of str</em>) – </li>
<li><strong>col_lbls</strong> (<em>list of str</em>) – </li>
<li><strong>values</strong> (<em>ndarray</em>) – </li>
<li><strong>title</strong> (<em>str</em>) – (default = None)</li>
<li><strong>out_of</strong> (<em>None</em>) – (default = None)</li>
<li><strong>bold_best</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>flip</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>table_position</strong> (<em>str</em>) – eg ‘[h]’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">tabular_str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_latex –test-make_score_tabular:0 –show
python -m utool.util_latex –test-make_score_tabular:1 –show
python -m utool.util_latex –test-make_score_tabular:2 –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;config1&#39;</span><span class="p">,</span> <span class="s1">&#39;config2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;score \leq 1&#39;</span><span class="p">,</span> <span class="s1">&#39;metric2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_of</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bold_best</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flip</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tabular_str</span> <span class="o">=</span> <span class="n">make_score_tabular</span><span class="p">(</span><span class="n">row_lbls</span><span class="p">,</span> <span class="n">col_lbls</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">out_of</span><span class="p">,</span> <span class="n">bold_best</span><span class="p">,</span> <span class="n">flip</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">tabular_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">render_latex_text</span><span class="p">(</span><span class="n">tabular_str</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;config1&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;score \leq 1&#39;</span><span class="p">,</span> <span class="s1">&#39;metric2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_of</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bold_best</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flip</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tabular_str</span> <span class="o">=</span> <span class="n">make_score_tabular</span><span class="p">(</span><span class="n">row_lbls</span><span class="p">,</span> <span class="n">col_lbls</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">out_of</span><span class="p">,</span> <span class="n">bold_best</span><span class="p">,</span> <span class="n">flip</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">tabular_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">render_latex_text</span><span class="p">(</span><span class="n">tabular_str</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;config1&#39;</span><span class="p">,</span> <span class="s1">&#39;config2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;score \leq 1&#39;</span><span class="p">,</span> <span class="s1">&#39;metric2&#39;</span><span class="p">,</span> <span class="s1">&#39;foobar&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multicol_lbls</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_of</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bold_best</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flip</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tabular_str</span> <span class="o">=</span> <span class="n">make_score_tabular</span><span class="p">(</span><span class="n">row_lbls</span><span class="p">,</span> <span class="n">col_lbls</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">out_of</span><span class="p">,</span> <span class="n">bold_best</span><span class="p">,</span> <span class="n">flip</span><span class="p">,</span> <span class="n">multicol_lbls</span><span class="o">=</span><span class="n">multicol_lbls</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">tabular_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">render_latex_text</span><span class="p">(</span><span class="n">tabular_str</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.make_stats_tabular">
<code class="descclassname">utool.util_latex.</code><code class="descname">make_stats_tabular</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#make_stats_tabular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.make_stats_tabular" title="Permalink to this definition">¶</a></dt>
<dd><p>tabular for dipslaying statistics</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.render_latex">
<code class="descclassname">utool.util_latex.</code><code class="descname">render_latex</code><span class="sig-paren">(</span><em>input_text</em>, <em>dpath=None</em>, <em>fname=None</em>, <em>preamb_extra=None</em>, <em>verbose=1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#render_latex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.render_latex" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders latex text into a jpeg.</p>
<p>Whitespace that would have appeared in the PDF is removed, so the jpeg is
cropped only the the relevant part.  This is ideal for figures that only
take a single page.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_text</strong> – </li>
<li><strong>dpath</strong> (<em>str</em>) – directory path(default = None)</li>
<li><strong>fname</strong> (<em>str</em>) – file name(default = None)</li>
<li><strong>preamb_extra</strong> (<em>None</em>) – (default = None)</li>
<li><strong>verbose</strong> (<em>int</em>) – verbosity flag(default = 1)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">jpg_fpath -  file path string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_latex render_latex ‘$O(n^2)$’ –fpath=~/slides/tmp.jpg</dd>
<dt>Script:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">split</span><span class="p">,</span> <span class="n">expanduser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_text</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varargs</span><span class="p">()[</span><span class="mi">1</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span><span class="p">,</span> <span class="n">fname</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--fpath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">expanduser</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--dpath&#39;</span><span class="p">,</span> <span class="n">dpath</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--fname&#39;</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_subset</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">argparse_funckw</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">convert_pdf_to_image</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;dpi&#39;</span><span class="p">,</span> <span class="s1">&#39;quality&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jpg_fpath</span> <span class="o">=</span> <span class="n">render_latex</span><span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="n">dpath</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">argflag</span><span class="p">(</span><span class="s1">&#39;--diskshow&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">startfile</span><span class="p">(</span><span class="n">jpg_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.render_latex_text">
<code class="descclassname">utool.util_latex.</code><code class="descname">render_latex_text</code><span class="sig-paren">(</span><em>input_text</em>, <em>nest_in_doc=False</em>, <em>preamb_extra=None</em>, <em>appname='utool'</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#render_latex_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.render_latex_text" title="Permalink to this definition">¶</a></dt>
<dd><p>compiles latex and shows the result</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_latex.replace_all">
<code class="descclassname">utool.util_latex.</code><code class="descname">replace_all</code><span class="sig-paren">(</span><em>str_</em>, <em>repltups</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#replace_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.replace_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_latex.tabular_join">
<code class="descclassname">utool.util_latex.</code><code class="descname">tabular_join</code><span class="sig-paren">(</span><em>tabular_body_list</em>, <em>nCols=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#tabular_join"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_latex.tabular_join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_list">
<span id="utool-util-list-module"></span><h2>utool.util_list module<a class="headerlink" href="#module-utool.util_list" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_list.accumulate">
<code class="descclassname">utool.util_list.</code><code class="descname">accumulate</code><span class="sig-paren">(</span><em>iterator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#accumulate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.accumulate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Notice:</dt>
<dd>use itertools.accumulate in python &gt; 3.2</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.alloc_lists">
<code class="descclassname">utool.util_list.</code><code class="descname">alloc_lists</code><span class="sig-paren">(</span><em>num_alloc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#alloc_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.alloc_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>allocates space for a <code class="docutils literal notranslate"><span class="pre">list</span></code> of lists</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.alloc_nones">
<code class="descclassname">utool.util_list.</code><code class="descname">alloc_nones</code><span class="sig-paren">(</span><em>num_alloc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#alloc_nones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.alloc_nones" title="Permalink to this definition">¶</a></dt>
<dd><p>allocates space for a <code class="docutils literal notranslate"><span class="pre">list</span></code> of Nones</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.allsame">
<code class="descclassname">utool.util_list.</code><code class="descname">allsame</code><span class="sig-paren">(</span><em>list_</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#allsame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.allsame" title="Permalink to this definition">¶</a></dt>
<dd><p>checks to see if list is equal everywhere</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if all items in the list are equal</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.and_lists">
<code class="descclassname">utool.util_list.</code><code class="descname">and_lists</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#and_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.and_lists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.argmax">
<code class="descclassname">utool.util_list.</code><code class="descname">argmax</code><span class="sig-paren">(</span><em>input_</em>, <em>multi=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns index / key of the item with the largest value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> (<em>dict</em><em> or </em><em>list</em>) – </td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/16945518/python-argmin-argmax">http://stackoverflow.com/questions/16945518/python-argmin-argmax</a></p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first"><a href="#id123"><span class="problematic" id="id124">list_</span></a> = np.random.rand(10000).tolist()
%timeit <a href="#id125"><span class="problematic" id="id126">list_</span></a>.index(max(<a href="#id127"><span class="problematic" id="id128">list_</span></a>))
%timeit max(enumerate(<a href="#id129"><span class="problematic" id="id130">list_</span></a>), key=operator.itemgetter(1))[0]
%timeit max(enumerate(<a href="#id131"><span class="problematic" id="id132">list_</span></a>), key=lambda x: x[1])[0]
%timeit max(range(len(<a href="#id133"><span class="problematic" id="id134">list_</span></a>)), key=list_.__getitem__)</p>
<p class="last"><a href="#id135"><span class="problematic" id="id136">input_</span></a> = <a href="#id137"><span class="problematic" id="id138">dict_</span></a>
<a href="#id139"><span class="problematic" id="id140">list_</span></a> = np.random.rand(100000).tolist()
<a href="#id141"><span class="problematic" id="id142">dict_</span></a> = {str(ut.random_uuid()): x for x in <a href="#id143"><span class="problematic" id="id144">list_</span></a>}
%timeit list(<a href="#id145"><span class="problematic" id="id146">input_</span></a>.keys())[ut.argmax(list(<a href="#id147"><span class="problematic" id="id148">input_</span></a>.values()))]
%timeit max(<a href="#id149"><span class="problematic" id="id150">input_</span></a>.items(), key=operator.itemgetter(1))[0]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">input_</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">input_</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.argmin">
<code class="descclassname">utool.util_list.</code><code class="descname">argmin</code><span class="sig-paren">(</span><em>input_</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argmin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.argmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns index / key of the item with the smallest value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> (<em>dict</em><em> or </em><em>list</em>) – </td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">a[argmin(a, key=key)] == min(a, key=key)</p>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.argsort">
<code class="descclassname">utool.util_list.</code><code class="descname">argsort</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argsort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.argsort" title="Permalink to this definition">¶</a></dt>
<dd><p>like np.argsort but for lists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*args</strong> – multiple lists to sort by</li>
<li><strong>**kwargs</strong> – reverse (bool): sort order is descending if True else acscending</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list argsort</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.argsort2">
<code class="descclassname">utool.util_list.</code><code class="descname">argsort2</code><span class="sig-paren">(</span><em>indexable</em>, <em>key=None</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argsort2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.argsort2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices that would sort a indexable object.</p>
<p>This is similar to np.argsort, but it is written in pure python and works
on both lists and dictionaries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>indexable</strong> (<em>list</em><em> or </em><em>dict</em>) – indexable to sort by</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">indices: list of indices such that sorts the indexable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># argsort works on dicts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">indexable</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort2</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">indices</span><span class="p">))</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">dict_</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># argsort works on lists</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indexable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">432</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort2</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">indexable</span><span class="p">,</span> <span class="n">indices</span><span class="p">))</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># argsort works on iterators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indexable</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort2</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">99</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.aslist">
<code class="descclassname">utool.util_list.</code><code class="descname">aslist</code><span class="sig-paren">(</span><em>sequence</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#aslist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.aslist" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures that the sequence object is a Python list.
Handles, numpy arrays, and python sequences (e.g. tuples, and iterables).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sequence</strong> (<em>sequence</em>) – a list-like object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a href="#id151"><span class="problematic" id="id152">list_</span></a> - <cite>sequence</cite> as a Python list</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">aslist</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">s1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">aslist</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">s2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]))</span>
<span class="go">[[1, 2], [3, 4], [5, 6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslist</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.broadcast_zip">
<code class="descclassname">utool.util_list.</code><code class="descname">broadcast_zip</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#broadcast_zip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.broadcast_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Zips elementwise pairs between list1 and list2. Broadcasts
the first dimension if a single list is of length 1.</p>
<p>Aliased as bzip</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of pairs</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>util_dict.dzip</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – if the list dimensions are not broadcastable</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.bzip">
<code class="descclassname">utool.util_list.</code><code class="descname">bzip</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.bzip" title="Permalink to this definition">¶</a></dt>
<dd><p>Zips elementwise pairs between list1 and list2. Broadcasts
the first dimension if a single list is of length 1.</p>
<p>Aliased as bzip</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of pairs</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>util_dict.dzip</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – if the list dimensions are not broadcastable</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.compress">
<code class="descclassname">utool.util_list.</code><code class="descname">compress</code><span class="sig-paren">(</span><em>item_list</em>, <em>flag_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.compress" title="Permalink to this definition">¶</a></dt>
<dd><p>like np.compress but for lists</p>
<p>Returns items in item list where the corresponding item in flag list is
True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – list of items to mask</li>
<li><strong>flag_list</strong> (<em>list</em>) – list of booleans used as a mask</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">filtered_items - masked items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.debug_consec_list">
<code class="descclassname">utool.util_list.</code><code class="descname">debug_consec_list</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#debug_consec_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.debug_consec_list" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple of (missing_items, missing_indices, duplicate_items)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.debug_duplicate_items">
<code class="descclassname">utool.util_list.</code><code class="descname">debug_duplicate_items</code><span class="sig-paren">(</span><em>items</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#debug_duplicate_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.debug_duplicate_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.delete_items_by_index">
<code class="descclassname">utool.util_list.</code><code class="descname">delete_items_by_index</code><span class="sig-paren">(</span><em>list_</em>, <em>index_list</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#delete_items_by_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.delete_items_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove items from <code class="docutils literal notranslate"><span class="pre">list_</span></code> at positions specified in <code class="docutils literal notranslate"><span class="pre">index_list</span></code>
The original <code class="docutils literal notranslate"><span class="pre">list_</span></code> is preserved if <code class="docutils literal notranslate"><span class="pre">copy</span></code> is True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>index_list</strong> (<em>list</em>) – </li>
<li><strong>copy</strong> (<em>bool</em>) – preserves original list if True</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">delete_items_by_index</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[8, 1, 1, 6, 6, 3, 4, 4, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.delete_list_items">
<code class="descclassname">utool.util_list.</code><code class="descname">delete_list_items</code><span class="sig-paren">(</span><em>list_</em>, <em>item_list</em>, <em>copy=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#delete_list_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.delete_list_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove items in <code class="docutils literal notranslate"><span class="pre">item_list</span></code> from <code class="docutils literal notranslate"><span class="pre">list_</span></code>.
The original <code class="docutils literal notranslate"><span class="pre">list_</span></code> is preserved if <code class="docutils literal notranslate"><span class="pre">copy</span></code> is True</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.depth">
<code class="descclassname">utool.util_list.</code><code class="descname">depth</code><span class="sig-paren">(</span><em>sequence</em>, <em>func=&lt;built-in function max&gt;</em>, <em>_depth=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the nesting depth of a nested sequence</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.depth_profile">
<code class="descclassname">utool.util_list.</code><code class="descname">depth_profile</code><span class="sig-paren">(</span><em>list_</em>, <em>max_depth=None</em>, <em>compress_homogenous=True</em>, <em>compress_consecutive=False</em>, <em>new_depth=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#depth_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.depth_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a nested list corresponding the shape of the nested structures
lists represent depth, tuples represent shape. The values of the items do
not matter. only the lengths.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>max_depth</strong> (<em>None</em>) – </li>
<li><strong>compress_homogenous</strong> (<em>bool</em>) – </li>
<li><strong>compress_consecutive</strong> (<em>bool</em>) – experimental</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-depth_profile</dd>
<dt>Setup:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(2, 3, 4)</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[(1, 1, 1), 3], [1, 2, [1, 2]], 2]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[(1, &#39;1&#39;), 3], [1, 2, [1, &#39;2&#39;]], 2]</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[2, 3], 1]</span>
</pre></div>
</div>
</dd>
<dt>Example4:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2] * 6 + [3, 2]</span>
</pre></div>
</div>
</dd>
<dt>Example5:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">]]</span>  <span class="c1">#, [3, 2], [3, 2]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(4, [2, 1])</span>
</pre></div>
</div>
</dd>
<dt>Example6:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result1</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">result1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[(1, 2), 2], [(1, 2), 2], [(1, 2), 1]]</span>
<span class="go">[[(1, 2), 2]] * 2 + [[(1, 2), 1]]</span>
</pre></div>
</div>
</dd>
<dt>Example7:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]},</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Example8:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]],</span> <span class="p">[[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Example9:</dt>
<dd><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="last"># THIS IS AN ERROR???
SHOULD BE
#[1, 1], [1, 2, 2], (1, ([1, 2]), (</p>
</dd>
<dt>Example10:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm3</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="n">fm1</span><span class="p">,</span> <span class="n">fm2</span><span class="p">,</span> <span class="n">fm3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_depth</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_depth</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">new_depth</span><span class="o">=</span><span class="n">new_depth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.duplicates_exist">
<code class="descclassname">utool.util_list.</code><code class="descname">duplicates_exist</code><span class="sig-paren">(</span><em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#duplicates_exist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.duplicates_exist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns if list has duplicates</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.emap">
<code class="descclassname">utool.util_list.</code><code class="descname">emap</code><span class="sig-paren">(</span><em>func</em>, <em>iter_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#emap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.emap" title="Permalink to this definition">¶</a></dt>
<dd><p>Eager version of the builtin map function.
This provides the same functionality as python2 map.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
<p>Extended functionality supports passing common kwargs to all functions</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.ensure_list_size">
<code class="descclassname">utool.util_list.</code><code class="descname">ensure_list_size</code><span class="sig-paren">(</span><em>list_</em>, <em>size_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#ensure_list_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.ensure_list_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocates more space if needbe.</p>
<p>Ensures len(<code class="docutils literal notranslate"><span class="pre">list_</span></code>) == <code class="docutils literal notranslate"><span class="pre">size_</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list</strong> (<em>list</em>) – <code class="docutils literal notranslate"><span class="pre">list</span></code> to extend</li>
<li><strong>size</strong> (<em>int</em>) – amount to exent by</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.equal">
<code class="descclassname">utool.util_list.</code><code class="descname">equal</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.equal" title="Permalink to this definition">¶</a></dt>
<dd><p>takes flags returns indexes of True values</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.estarmap">
<code class="descclassname">utool.util_list.</code><code class="descname">estarmap</code><span class="sig-paren">(</span><em>func</em>, <em>iter_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#estarmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.estarmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Eager version of it.starmap from itertools</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.ezip">
<code class="descclassname">utool.util_list.</code><code class="descname">ezip</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#ezip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.ezip" title="Permalink to this definition">¶</a></dt>
<dd><p>Eager version of the builtin zip function.
This provides the same functionality as python2 zip.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.filter_Nones">
<code class="descclassname">utool.util_list.</code><code class="descname">filter_Nones</code><span class="sig-paren">(</span><em>item_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filter_Nones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.filter_Nones" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any nones from the list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item_list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">sublist which does not contain Nones</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.filter_items">
<code class="descclassname">utool.util_list.</code><code class="descname">filter_items</code><span class="sig-paren">(</span><em>item_list</em>, <em>flag_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filter_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.filter_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns items in item list where the corresponding item in flag list is True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – </li>
<li><strong>flag_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">filtered_items</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>util_iter.iter_compress</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.filter_startswith">
<code class="descclassname">utool.util_list.</code><code class="descname">filter_startswith</code><span class="sig-paren">(</span><em>list_</em>, <em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filter_startswith"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.filter_startswith" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.filterfalse_items">
<code class="descclassname">utool.util_list.</code><code class="descname">filterfalse_items</code><span class="sig-paren">(</span><em>item_list</em>, <em>flag_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filterfalse_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.filterfalse_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns items in item list where the corresponding item in flag list is true</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – list of items</li>
<li><strong>flag_list</strong> (<em>list</em>) – list of truthy values</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">items where the corresponding flag was truthy</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">filtered_items</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>util_iter.ifilterfalse_items</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.find_duplicate_items">
<code class="descclassname">utool.util_list.</code><code class="descname">find_duplicate_items</code><span class="sig-paren">(</span><em>items</em>, <em>k=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#find_duplicate_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.find_duplicate_items" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>items</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">duplicate_map of indexes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-find_duplicate_items</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duplicate_map</span> <span class="o">=</span> <span class="n">find_duplicate_items</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">duplicate_map</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.find_list_indexes">
<code class="descclassname">utool.util_list.</code><code class="descname">find_list_indexes</code><span class="sig-paren">(</span><em>list_</em>, <em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#find_list_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.find_list_indexes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list</strong> (<em>list</em>) – list of items to be searched</li>
<li><strong>items</strong> (<em>list</em>) – list of items to find</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="n">find_list_indexes</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;index_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">index_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">index_list = [None, 2, 1, None]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.find_nonconsec_values">
<code class="descclassname">utool.util_list.</code><code class="descname">find_nonconsec_values</code><span class="sig-paren">(</span><em>values</em>, <em>min_=None</em>, <em>max_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#find_nonconsec_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.find_nonconsec_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if a list of values is consecutive (ascending)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>values</strong> (<em>list</em>) – list of values, sorted and unique</li>
<li><strong>min</strong> (<em>int</em>) – minimum value in range defaults min(values)</li>
<li><strong>max</strong> (<em>int</em>) – maximum value in range defaults max(values)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">missing values that would make the list consecutive</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">missing_values</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-find_nonconsec_values</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">find_nonconsec_values</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[-1, 0, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.flag_None_items">
<code class="descclassname">utool.util_list.</code><code class="descname">flag_None_items</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_None_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.flag_None_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.flag_not_None_items">
<code class="descclassname">utool.util_list.</code><code class="descname">flag_not_None_items</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_not_None_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.flag_not_None_items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.flag_percentile_parts">
<code class="descclassname">utool.util_list.</code><code class="descname">flag_percentile_parts</code><span class="sig-paren">(</span><em>arr</em>, <em>front=None</em>, <em>mid=None</em>, <em>back=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_percentile_parts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.flag_percentile_parts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.flag_unique_items">
<code class="descclassname">utool.util_list.</code><code class="descname">flag_unique_items</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_unique_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.flag_unique_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of flags corresponding to the first time an item is seen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – list of items</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">flag_list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Timing:</dt>
<dd><p class="first">import random
import utool as ut</p>
<dl class="docutils">
<dt>def random_items(n, m):</dt>
<dd>rng = random.Random(0)
return [rng.randint(0, n) for _ in range(m)]</dd>
</dl>
<p>m = 1000</p>
<dl class="docutils">
<dt>def method1(<a href="#id153"><span class="problematic" id="id154">list_</span></a>):</dt>
<dd><p class="first">seen = set()
def unseen(item):</p>
<blockquote>
<div><dl class="docutils">
<dt>if item in seen:</dt>
<dd>return False</dd>
</dl>
<p>seen.add(item)
return True</p>
</div></blockquote>
<p class="last">flag_list = [unseen(item) for item in <a href="#id155"><span class="problematic" id="id156">list_</span></a>]
return flag_list</p>
</dd>
<dt>def method2(<a href="#id157"><span class="problematic" id="id158">list_</span></a>):</dt>
<dd>return ut.index_to_boolmask([<a href="#id159"><span class="problematic" id="id160">list_</span></a>.index(x) for x in set(<a href="#id161"><span class="problematic" id="id162">list_</span></a>)], len(<a href="#id163"><span class="problematic" id="id164">list_</span></a>))</dd>
<dt>def method3(<a href="#id165"><span class="problematic" id="id166">list_</span></a>):</dt>
<dd>return ut.index_to_boolmask(dict(zip(reversed(<a href="#id167"><span class="problematic" id="id168">list_</span></a>), reversed(range(len(<a href="#id169"><span class="problematic" id="id170">list_</span></a>))))).values(), len(<a href="#id171"><span class="problematic" id="id172">list_</span></a>))</dd>
</dl>
<p>import ubelt as ub
ub.Timerit.DEFAULT_VERBOSE = False</p>
<p>ut.qtensure()
exps = [0, .25, .5, .75, 1, 2]
<a href="#id173"><span class="problematic" id="id174">pnum_</span></a> = pt.make_pnum_nextgen(nSubplots=len(exps))
current = ut.flag_unique_items</p>
<dl class="last docutils">
<dt>for count, exp in ut.ProgIter(list(enumerate(exps, start=1))):</dt>
<dd><p class="first">ydatas = ut.ddict(list)
xdata = []
for m in ut.ProgIter(list(range(0, 10000, 100)), freq=1):</p>
<blockquote>
<div><p>xdata.append(m)
num = 10
n = int(m ** exp)
<a href="#id175"><span class="problematic" id="id176">list_</span></a> = random_items(n=n, m=m)
ydatas[‘method1’].append(ub.Timerit(num).call(method1, <a href="#id177"><span class="problematic" id="id178">list_</span></a>))
ydatas[‘method2’].append(ub.Timerit(num).call(method2, <a href="#id179"><span class="problematic" id="id180">list_</span></a>))
ydatas[‘method3’].append(ub.Timerit(num).call(method3, <a href="#id181"><span class="problematic" id="id182">list_</span></a>))
ydatas[‘current’].append(ub.Timerit(num).call(current, <a href="#id183"><span class="problematic" id="id184">list_</span></a>))</p>
<p># assert method1(<a href="#id185"><span class="problematic" id="id186">list_</span></a>) == method3(<a href="#id187"><span class="problematic" id="id188">list_</span></a>)
# assert method1(<a href="#id189"><span class="problematic" id="id190">list_</span></a>) == current(<a href="#id191"><span class="problematic" id="id192">list_</span></a>)</p>
</div></blockquote>
<dl class="last docutils">
<dt>pt.multi_plot(</dt>
<dd>xdata, list(ydatas.values()), label_list=list(ydatas.keys()),
ylabel=’time’, title=str(exp), fnum=1, pnum=pnum_())</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.flat_unique">
<code class="descclassname">utool.util_list.</code><code class="descname">flat_unique</code><span class="sig-paren">(</span><em>*lists_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flat_unique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.flat_unique" title="Permalink to this definition">¶</a></dt>
<dd><p>returns items unique across all lists</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.flatten">
<code class="descclassname">utool.util_list.</code><code class="descname">flatten</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.flatten" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – list of lists</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">flat list</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-flatten</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">flatten</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">unflat_list2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.get_dirty_items">
<code class="descclassname">utool.util_list.</code><code class="descname">get_dirty_items</code><span class="sig-paren">(</span><em>item_list</em>, <em>flag_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#get_dirty_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.get_dirty_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns each item in item_list where not flag in flag_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – </li>
<li><strong>flag_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dirty_items</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.get_list_column">
<code class="descclassname">utool.util_list.</code><code class="descname">get_list_column</code><span class="sig-paren">(</span><em>list_</em>, <em>colx</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.get_list_column" title="Permalink to this definition">¶</a></dt>
<dd><p>accepts a list of (indexables) and returns a list of indexables
can also return a list of list of indexables if colx is a list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – list of lists</li>
<li><strong>colx</strong> (<em>int</em><em> or </em><em>list</em>) – index or key in each sublist get item</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of selected items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-take_column</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;b&#39;, &#39;a&#39;], [&#39;d&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;EGGS&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;SPAM&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;JAM&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;PRAM&#39;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># colx can be a key or list of keys as well</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;EGGS&#39;], [&#39;JAM&#39;]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.get_list_column_slice">
<code class="descclassname">utool.util_list.</code><code class="descname">get_list_column_slice</code><span class="sig-paren">(</span><em>list_</em>, <em>start=None</em>, <em>stop=None</em>, <em>stride=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#get_list_column_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.get_list_column_slice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.group_consecutives">
<code class="descclassname">utool.util_list.</code><code class="descname">group_consecutives</code><span class="sig-paren">(</span><em>data</em>, <em>stepsize=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#group_consecutives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.group_consecutives" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of consecutive lists of numbers from data (number list).</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy">http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.group_consecutives_numpy">
<code class="descclassname">utool.util_list.</code><code class="descname">group_consecutives_numpy</code><span class="sig-paren">(</span><em>data</em>, <em>stepsize=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#group_consecutives_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.group_consecutives_numpy" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – </li>
<li><strong>stepsize</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of ndarrays</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy">http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-group_consecutives</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">636</span><span class="p">,</span> <span class="mi">637</span><span class="p">,</span> <span class="mi">638</span><span class="p">,</span> <span class="mi">639</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stepsize</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">group_consecutives</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">stepsize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[array([0, 1, 2, 3, 4]), array([320]), array([636, 637, 638, 639])]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit::</dt>
<dd>%timeit group_consecutives_numpy(data, stepsize) #  14.8 µs per loop
%timeit group_consecutives(data, stepsize) # 4.47 µs per loop</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.iflag_unique_items">
<code class="descclassname">utool.util_list.</code><code class="descname">iflag_unique_items</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#iflag_unique_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.iflag_unique_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of flags corresponding to the first time an item is seen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – list of items</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">flag_iter</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.index_complement">
<code class="descclassname">utool.util_list.</code><code class="descname">index_complement</code><span class="sig-paren">(</span><em>index_list</em>, <em>len_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#index_complement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.index_complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the other indicies in a list of length <code class="docutils literal notranslate"><span class="pre">len_</span></code></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.index_to_boolmask">
<code class="descclassname">utool.util_list.</code><code class="descname">index_to_boolmask</code><span class="sig-paren">(</span><em>indices</em>, <em>maxval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#index_to_boolmask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.index_to_boolmask" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a list of booleans where an item is True if its position is in
<cite>indices</cite> otherwise it is False.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>indices</strong> (<em>list</em>) – list of integer indices</li>
<li><strong>maxval</strong> (<em>int</em>) – length of the returned list. If not specified
this is inverred from <cite>indices</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mask: list of booleans. mask[idx] is True if idx in indices</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.index_to_boolmask numpy version</dd>
<dt>CommandLine:</dt>
<dd>python -m vtool.other index_to_boolmask</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxval</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">index_to_boolmask</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">maxval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mask</span> <span class="o">==</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.insert_values">
<code class="descclassname">utool.util_list.</code><code class="descname">insert_values</code><span class="sig-paren">(</span><em>list_</em>, <em>index</em>, <em>values</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#insert_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.insert_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.intersect_ordered">
<code class="descclassname">utool.util_list.</code><code class="descname">intersect_ordered</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.intersect_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list1 elements that are also in list2. preserves order of list1</p>
<p>intersect_ordered</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">intersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;featweight_rowid&#39;]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit:</dt>
<dd><dl class="first docutils">
<dt>def timeit_func(func, <a href="#id19"><span class="problematic" id="id20">*</span></a>args):</dt>
<dd><p class="first">niter = 10
times = []
for count in range(niter):</p>
<blockquote>
<div><dl class="docutils">
<dt>with ut.Timer(verbose=False) as t:</dt>
<dd>_ = func(<a href="#id21"><span class="problematic" id="id22">*</span></a>args)</dd>
</dl>
<p>times.append(t.ellapsed)</p>
</div></blockquote>
<p class="last">return sum(times) / niter</p>
</dd>
<dt>grid = {</dt>
<dd>‘size1’: [1000, 5000, 10000, 50000],
‘size2’: [1000, 5000, 10000, 50000],
#’overlap’: [0, 1],</dd>
</dl>
<p>}
data = []
for kw in ut.all_dict_combinations(grid):</p>
<blockquote>
<div>pool = np.arange(kw[‘size1’] * 2)
size2 = size1 = kw[‘size1’]
size2 = kw[‘size2’]
list1 = (np.random.rand(size1) * size1).astype(np.int32).tolist()
list1 = ut.random_sample(pool, size1).tolist()
list2 = ut.random_sample(pool, size2).tolist()
list1 = set(list1)
list2 = set(list2)
kw[‘ut’] = timeit_func(ut.isect, list1, list2)
#kw[‘np1’] = timeit_func(np.intersect1d, list1, list2)
#kw[‘py1’] = timeit_func(lambda a, b: set.intersection(set(a), set(b)), list1, list2)
kw[‘py2’] = timeit_func(lambda a, b: sorted(set.intersection(set(a), set(b))), list1, list2)
data.append(kw)</div></blockquote>
<p>import pandas as pd
pd.options.display.max_rows = 1000
pd.options.display.width = 1000
df = pd.DataFrame.from_dict(data)
data_keys = list(grid.keys())
other_keys = ut.setdiff(df.columns, data_keys)
df = df.reindex(data_keys + other_keys, axis=1)
df[‘abs_change’] = df[‘ut’] - df[‘py2’]
df[‘pct_change’] = df[‘abs_change’] / df[‘ut’] * 100
#print(df.sort(‘abs_change’, ascending=False))</p>
<p>print(str(df).split(‘n’)[0])
for row in df.values:</p>
<blockquote>
<div><p>argmin = row[len(data_keys):len(data_keys) + len(other_keys)].argmin() + len(data_keys)
print(‘    ‘ + ‘, ‘.join([
‘%6d’ % (r) if x &lt; len(data_keys) else (</p>
<blockquote>
<div><dl class="docutils">
<dt>ut.color_text(‘%8.6f’ % (r,), ‘blue’)</dt>
<dd>if x == argmin else ‘%8.6f’ % (r,))</dd>
</dl>
</div></blockquote>
<p>for x, r in enumerate(row)
]))</p>
</div></blockquote>
<p>%timeit ut.isect(list1, list2)
%timeit np.intersect1d(list1, list2, assume_unique=True)
%timeit set.intersection(set(list1), set(list2))</p>
<p class="last">#def highlight_max(s):
#    ‘’’
#    highlight the maximum in a Series yellow.
#    ‘’’
#    is_max = s == s.max()
#    return [‘background-color: yellow’ if v else ‘’ for v in is_max]
#df.style.apply(highlight_max)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.invertible_flatten1">
<code class="descclassname">utool.util_list.</code><code class="descname">invertible_flatten1</code><span class="sig-paren">(</span><em>unflat_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_flatten1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.invertible_flatten1" title="Permalink to this definition">¶</a></dt>
<dd><p>Flattens <cite>unflat_list</cite> but remember how to reconstruct the <cite>unflat_list</cite>
Returns <cite>flat_list</cite> and the <cite>reverse_list</cite> with indexes into the
<cite>flat_list</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unflat_list</strong> (<em>list</em>) – list of nested lists that we will flatten.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(flat_list, reverse_list)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-invertible_flatten1 –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span><span class="p">,</span> <span class="n">reverse_list</span> <span class="o">=</span> <span class="n">invertible_flatten1</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flat_list = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;reverse_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">reverse_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">flat_list = [1, 2, 3, 4, 5, 6, 6]</span>
<span class="go">reverse_list = [[0, 1, 2], [3, 4], [5, 6]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.invertible_flatten2">
<code class="descclassname">utool.util_list.</code><code class="descname">invertible_flatten2</code><span class="sig-paren">(</span><em>unflat_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_flatten2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.invertible_flatten2" title="Permalink to this definition">¶</a></dt>
<dd><p>An alternative to invertible_flatten1 which uses cumsum</p>
<p>Flattens <code class="docutils literal notranslate"><span class="pre">list</span></code> but remember how to reconstruct the unflat <code class="docutils literal notranslate"><span class="pre">list</span></code>
Returns flat <code class="docutils literal notranslate"><span class="pre">list</span></code> and the unflat <code class="docutils literal notranslate"><span class="pre">list</span></code> with indexes into the flat
<code class="docutils literal notranslate"><span class="pre">list</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unflat_list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">flat_list, cumlen_list</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>invertible_flatten1
unflatten1
unflatten2</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">util_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span> <span class="o">=</span> <span class="n">invertible_flatten2</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">unflatten2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">unflat_list2</span> <span class="o">==</span> <span class="n">unflat_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">((</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">([5, 2, 3, 12, 3, 3, 9, 13, 3, 5], [1, 6, 7, 9, 10])</span>
</pre></div>
</div>
<p>TODO: This flatten is faster fix it to be used everywhere</p>
<dl class="docutils">
<dt>Timeit:</dt>
<dd><p class="first">unflat_list = [[random.random() for _ in range(int(random.random() * 1000))] for __ in range(200)]
unflat_arrs = list(map(np.array, unflat_list))</p>
<p class="last">%timeit invertible_flatten2(unflat_list)
%timeit invertible_flatten2_numpy(unflat_list)
%timeit invertible_flatten2_numpy(unflat_arrs)</p>
</dd>
<dt>Timeits:</dt>
<dd>import utool
unflat_list = aids_list1
flat_aids1, reverse_list = utool.invertible_flatten1(unflat_list)
flat_aids2, cumlen_list = utool.invertible_flatten2(unflat_list)
unflat_list1 = utool.unflatten1(flat_aids1, reverse_list)
unflat_list2 = utool.unflatten2(flat_aids2, cumlen_list)
assert list(map(list, unflat_list1)) == unflat_list2
print(utool.get_object_size_str(unflat_list,  ‘unflat_list  ‘))
print(utool.get_object_size_str(flat_aids1,   ‘flat_aids1   ‘))
print(utool.get_object_size_str(flat_aids2,   ‘flat_aids2   ‘))
print(utool.get_object_size_str(reverse_list, ‘reverse_list ‘))
print(utool.get_object_size_str(cumlen_list,  ‘cumlen_list  ‘))
print(utool.get_object_size_str(unflat_list1, ‘unflat_list1 ‘))
print(utool.get_object_size_str(unflat_list2, ‘unflat_list2 ‘))
print(‘Timings 1:)
%timeit utool.invertible_flatten1(unflat_list)
%timeit utool.unflatten1(flat_aids1, reverse_list)
print(‘Timings 2:)
%timeit utool.invertible_flatten2(unflat_list)
%timeit utool.unflatten2(flat_aids2, cumlen_list)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.invertible_flatten2_numpy">
<code class="descclassname">utool.util_list.</code><code class="descname">invertible_flatten2_numpy</code><span class="sig-paren">(</span><em>unflat_arrs</em>, <em>axis=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_flatten2_numpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.invertible_flatten2_numpy" title="Permalink to this definition">¶</a></dt>
<dd><p>more numpy version</p>
<p>TODO: move to vtool</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unflat_arrs</strong> (<em>list</em>) – list of ndarrays</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(flat_list, cumlen_list)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-invertible_flatten2_numpy</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_arrs</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">invertible_flatten2_numpy</span><span class="p">(</span><span class="n">unflat_arrs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">((</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(array([1, 2, 1, 5, 9, 4]), array([3, 5, 6]))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.invertible_total_flatten">
<code class="descclassname">utool.util_list.</code><code class="descname">invertible_total_flatten</code><span class="sig-paren">(</span><em>unflat_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_total_flatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.invertible_total_flatten" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unflat_list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(flat_list, invert_levels)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-invertible_total_flatten –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">9</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unflat_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">unflat_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">invert_levels</span><span class="p">)</span> <span class="o">=</span> <span class="n">invertible_total_flatten</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flat_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flat_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">total_unflatten</span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">invert_levels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unflat_list2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">unflat_list2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">unflat_list2</span> <span class="o">==</span> <span class="n">unflat_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">flat_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">16</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.is_subset">
<code class="descclassname">utool.util_list.</code><code class="descname">is_subset</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.is_subset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.is_subset_of_any">
<code class="descclassname">utool.util_list.</code><code class="descname">is_subset_of_any</code><span class="sig-paren">(</span><em>set_</em>, <em>other_sets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#is_subset_of_any"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.is_subset_of_any" title="Permalink to this definition">¶</a></dt>
<dd><p>returns True if <a href="#id193"><span class="problematic" id="id194">set_</span></a> is a subset of any set in other_sets</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>set</strong> (<em>set</em>) – </li>
<li><strong>other_sets</strong> (<em>list of sets</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">flag</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-is_subset_of_any</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_sets</span> <span class="o">=</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">is_subset_of_any</span><span class="p">(</span><span class="n">set_</span><span class="p">,</span> <span class="n">other_sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_sets</span> <span class="o">=</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">is_subset_of_any</span><span class="p">(</span><span class="n">set_</span><span class="p">,</span> <span class="n">other_sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.is_superset">
<code class="descclassname">utool.util_list.</code><code class="descname">is_superset</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.is_superset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.isdisjoint">
<code class="descclassname">utool.util_list.</code><code class="descname">isdisjoint</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.isdisjoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.isect">
<code class="descclassname">utool.util_list.</code><code class="descname">isect</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.isect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list1 elements that are also in list2. preserves order of list1</p>
<p>intersect_ordered</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">intersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;featweight_rowid&#39;]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit:</dt>
<dd><dl class="first docutils">
<dt>def timeit_func(func, <a href="#id23"><span class="problematic" id="id24">*</span></a>args):</dt>
<dd><p class="first">niter = 10
times = []
for count in range(niter):</p>
<blockquote>
<div><dl class="docutils">
<dt>with ut.Timer(verbose=False) as t:</dt>
<dd>_ = func(<a href="#id25"><span class="problematic" id="id26">*</span></a>args)</dd>
</dl>
<p>times.append(t.ellapsed)</p>
</div></blockquote>
<p class="last">return sum(times) / niter</p>
</dd>
<dt>grid = {</dt>
<dd>‘size1’: [1000, 5000, 10000, 50000],
‘size2’: [1000, 5000, 10000, 50000],
#’overlap’: [0, 1],</dd>
</dl>
<p>}
data = []
for kw in ut.all_dict_combinations(grid):</p>
<blockquote>
<div>pool = np.arange(kw[‘size1’] * 2)
size2 = size1 = kw[‘size1’]
size2 = kw[‘size2’]
list1 = (np.random.rand(size1) * size1).astype(np.int32).tolist()
list1 = ut.random_sample(pool, size1).tolist()
list2 = ut.random_sample(pool, size2).tolist()
list1 = set(list1)
list2 = set(list2)
kw[‘ut’] = timeit_func(ut.isect, list1, list2)
#kw[‘np1’] = timeit_func(np.intersect1d, list1, list2)
#kw[‘py1’] = timeit_func(lambda a, b: set.intersection(set(a), set(b)), list1, list2)
kw[‘py2’] = timeit_func(lambda a, b: sorted(set.intersection(set(a), set(b))), list1, list2)
data.append(kw)</div></blockquote>
<p>import pandas as pd
pd.options.display.max_rows = 1000
pd.options.display.width = 1000
df = pd.DataFrame.from_dict(data)
data_keys = list(grid.keys())
other_keys = ut.setdiff(df.columns, data_keys)
df = df.reindex(data_keys + other_keys, axis=1)
df[‘abs_change’] = df[‘ut’] - df[‘py2’]
df[‘pct_change’] = df[‘abs_change’] / df[‘ut’] * 100
#print(df.sort(‘abs_change’, ascending=False))</p>
<p>print(str(df).split(‘n’)[0])
for row in df.values:</p>
<blockquote>
<div><p>argmin = row[len(data_keys):len(data_keys) + len(other_keys)].argmin() + len(data_keys)
print(‘    ‘ + ‘, ‘.join([
‘%6d’ % (r) if x &lt; len(data_keys) else (</p>
<blockquote>
<div><dl class="docutils">
<dt>ut.color_text(‘%8.6f’ % (r,), ‘blue’)</dt>
<dd>if x == argmin else ‘%8.6f’ % (r,))</dd>
</dl>
</div></blockquote>
<p>for x, r in enumerate(row)
]))</p>
</div></blockquote>
<p>%timeit ut.isect(list1, list2)
%timeit np.intersect1d(list1, list2, assume_unique=True)
%timeit set.intersection(set(list1), set(list2))</p>
<p class="last">#def highlight_max(s):
#    ‘’’
#    highlight the maximum in a Series yellow.
#    ‘’’
#    is_max = s == s.max()
#    return [‘background-color: yellow’ if v else ‘’ for v in is_max]
#df.style.apply(highlight_max)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.isect_indices">
<code class="descclassname">utool.util_list.</code><code class="descname">isect_indices</code><span class="sig-paren">(</span><em>items1</em>, <em>items2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isect_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.isect_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.isetdiff_flags">
<code class="descclassname">utool.util_list.</code><code class="descname">isetdiff_flags</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isetdiff_flags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.isetdiff_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>move to util_iter</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.issorted">
<code class="descclassname">utool.util_list.</code><code class="descname">issorted</code><span class="sig-paren">(</span><em>list_</em>, <em>op=&lt;built-in function le&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#issorted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.issorted" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if a list is sorted</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>op</strong> (<em>func</em>) – sorted operation (default=operator.le)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the list is sorted</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.issubset">
<code class="descclassname">utool.util_list.</code><code class="descname">issubset</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.issubset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.issuperset">
<code class="descclassname">utool.util_list.</code><code class="descname">issuperset</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.issuperset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.isunique">
<code class="descclassname">utool.util_list.</code><code class="descname">isunique</code><span class="sig-paren">(</span><em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isunique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.isunique" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.length_hint">
<code class="descclassname">utool.util_list.</code><code class="descname">length_hint</code><span class="sig-paren">(</span><em>obj</em>, <em>default=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#length_hint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.length_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an estimate of the number of items in obj.</p>
<p>This is the PEP 424 implementation.
If the object supports len(), the result will be
exact. Otherwise, it may over- or under-estimate by an
arbitrary amount. The result will be an integer &gt;= 0.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.listT">
<code class="descclassname">utool.util_list.</code><code class="descname">listT</code><span class="sig-paren">(</span><em>list_</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.listT" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps rows and columns.
nCols should be specified if the initial list is empty.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-list_transpose</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 3), (2, 4)]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[], [], [], [], []]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">list_transpose</span><span class="p">,</span> <span class="n">list_</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_alignment">
<code class="descclassname">utool.util_list.</code><code class="descname">list_alignment</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em>, <em>missing=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_alignment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes list items are unique</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – a list of unique items to be aligned</li>
<li><strong>list2</strong> (<em>list</em>) – a list of unique items in a desired ordering</li>
<li><strong>missing</strong> (<em>bool</em>) – True if list2 can contain items not in list1</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sorting that will map list1 onto list2</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list list_alignment</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sortx</span> <span class="o">=</span> <span class="n">list_alignment</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1_aligned</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">sortx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">list1_aligned</span> <span class="o">==</span> <span class="n">list2</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a2&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sortx</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_alignment</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">,</span> <span class="n">missing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sortx = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">sortx</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1_aligned</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">none_take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">sortx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;list1_aligned = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">list1_aligned</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">list1_aligned = [&#39;a&#39;, None, &#39;b&#39;, &#39;c&#39;, None]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_all_eq_to">
<code class="descclassname">utool.util_list.</code><code class="descname">list_all_eq_to</code><span class="sig-paren">(</span><em>list_</em>, <em>val</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_all_eq_to"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_all_eq_to" title="Permalink to this definition">¶</a></dt>
<dd><p>checks to see if list is equal everywhere to a value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>val</strong> – value to check against</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if all items in the list are equal to val</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_argmax">
<code class="descclassname">utool.util_list.</code><code class="descname">list_argmax</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_argmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_argmax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_argmaxima">
<code class="descclassname">utool.util_list.</code><code class="descname">list_argmaxima</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_argmaxima"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_argmaxima" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">argmaxima</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-list_argmaxima</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argmaxima</span> <span class="o">=</span> <span class="n">list_argmaxima</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;argmaxima = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">argmaxima</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">argmaxima = [2 3 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_argsort">
<code class="descclassname">utool.util_list.</code><code class="descname">list_argsort</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_argsort" title="Permalink to this definition">¶</a></dt>
<dd><p>like np.argsort but for lists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*args</strong> – multiple lists to sort by</li>
<li><strong>**kwargs</strong> – reverse (bool): sort order is descending if True else acscending</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list argsort</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_compress">
<code class="descclassname">utool.util_list.</code><code class="descname">list_compress</code><span class="sig-paren">(</span><em>item_list</em>, <em>flag_list</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_compress" title="Permalink to this definition">¶</a></dt>
<dd><p>like np.compress but for lists</p>
<p>Returns items in item list where the corresponding item in flag list is
True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – list of items to mask</li>
<li><strong>flag_list</strong> (<em>list</em>) – list of booleans used as a mask</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">filtered_items - masked items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_compresstake">
<code class="descclassname">utool.util_list.</code><code class="descname">list_compresstake</code><span class="sig-paren">(</span><em>items_list</em>, <em>flags_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_compresstake"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_compresstake" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_cover">
<code class="descclassname">utool.util_list.</code><code class="descname">list_cover</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_cover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_cover" title="Permalink to this definition">¶</a></dt>
<dd><p>returns boolean for each position in list1 if it is in list2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">incover_list - true where list1 intersects list2</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-list_cover</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">incover_list</span> <span class="o">=</span> <span class="n">list_cover</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">incover_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[False, True, True, False, False, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_deep_types">
<code class="descclassname">utool.util_list.</code><code class="descname">list_deep_types</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_deep_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_deep_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all types in a deep list</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_depth">
<code class="descclassname">utool.util_list.</code><code class="descname">list_depth</code><span class="sig-paren">(</span><em>list_</em>, <em>func=&lt;built-in function max&gt;</em>, <em>_depth=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the deepest level of nesting within a list of lists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list</strong> – a nested listlike object</li>
<li><strong>func</strong> – depth aggregation strategy (defaults to max)</li>
<li><strong>_depth</strong> – internal var</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">list_depth</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_getattr">
<code class="descclassname">utool.util_list.</code><code class="descname">list_getattr</code><span class="sig-paren">(</span><em>list_</em>, <em>attrname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_getattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_getattr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_intersection">
<code class="descclassname">utool.util_list.</code><code class="descname">list_intersection</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_intersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_inverse_take">
<code class="descclassname">utool.util_list.</code><code class="descname">list_inverse_take</code><span class="sig-paren">(</span><em>list_</em>, <em>index_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_inverse_take"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_inverse_take" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list</strong> (<em>list</em>) – list in sorted domain</li>
<li><strong>index_list</strong> (<em>list</em>) – index list of the unsorted domain</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Seems to be logically equivalent to
ut.take(<a href="#id195"><span class="problematic" id="id196">list_</span></a>, ut.argsort(index_list)), but faster</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a href="#id197"><span class="problematic" id="id198">output_list_</span></a> - the input list in the unsorted domain</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-list_inverse_take</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rank_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">rank_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_prop_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">prop_list</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">sorted_prop_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_list_</span>  <span class="o">=</span> <span class="n">list_inverse_take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_list2_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">index_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">output_list_</span> <span class="o">==</span> <span class="n">prop_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">output_list2_</span> <span class="o">==</span> <span class="n">prop_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit::</dt>
<dd>%timeit list_inverse_take(<a href="#id199"><span class="problematic" id="id200">list_</span></a>, index_list)
%timeit ut.take(<a href="#id201"><span class="problematic" id="id202">list_</span></a>, ut.argsort(index_list))</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_isdisjoint">
<code class="descclassname">utool.util_list.</code><code class="descname">list_isdisjoint</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_isdisjoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_isdisjoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_issubset">
<code class="descclassname">utool.util_list.</code><code class="descname">list_issubset</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_issubset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_issubset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_issuperset">
<code class="descclassname">utool.util_list.</code><code class="descname">list_issuperset</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_issuperset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_issuperset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_replace">
<code class="descclassname">utool.util_list.</code><code class="descname">list_replace</code><span class="sig-paren">(</span><em>list_</em>, <em>target</em>, <em>repl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_replace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>alias</p>
<p>Recursively removes target in all lists and sublists and replaces them with
the repl variable</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_reshape">
<code class="descclassname">utool.util_list.</code><code class="descname">list_reshape</code><span class="sig-paren">(</span><em>list_</em>, <em>new_shape</em>, <em>trail=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_reshape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_reshape" title="Permalink to this definition">¶</a></dt>
<dd><p>reshapes leaving trailing dimnsions in front if prod(new_shape) != len(<a href="#id203"><span class="problematic" id="id204">list_</span></a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>new_shape</strong> (<em>tuple</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id205"><span class="problematic" id="id206">list_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-list_reshape –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlist</span> <span class="o">=</span> <span class="n">list_reshape</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">new_shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">newlist</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;list_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newlist</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;depth = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">depth</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlist2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">depth</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">newlist</span><span class="p">,</span> <span class="n">newlist2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_roll">
<code class="descclassname">utool.util_list.</code><code class="descname">list_roll</code><span class="sig-paren">(</span><em>list_</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_roll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_roll" title="Permalink to this definition">¶</a></dt>
<dd><p>Like numpy.roll for python lists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>n</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/9457832/python-list-rotation">http://stackoverflow.com/questions/9457832/python-list-rotation</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_roll</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[4, 5, 1, 2, 3]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>np.roll(<a href="#id207"><span class="problematic" id="id208">list_</span></a>, n)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_set_equal">
<code class="descclassname">utool.util_list.</code><code class="descname">list_set_equal</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_set_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_set_equal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_strip">
<code class="descclassname">utool.util_list.</code><code class="descname">list_strip</code><span class="sig-paren">(</span><em>list_</em>, <em>to_strip</em>, <em>left=True</em>, <em>right=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_strip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_strip" title="Permalink to this definition">¶</a></dt>
<dd><p><a href="#id209"><span class="problematic" id="id210">list_</span></a> = [1, 2, 1, 3, 1, 1]
to_strip = 1
stripped_list = ut.list_strip(<a href="#id211"><span class="problematic" id="id212">list_</span></a>, to_strip)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_take">
<code class="descclassname">utool.util_list.</code><code class="descname">list_take</code><span class="sig-paren">(</span><em>list_</em>, <em>index_list</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_take" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects a subset of a list based on a list of indices.
This is similar to np.take, but pure python.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – some indexable object</li>
<li><strong>index_list</strong> (<em>list</em><em>, </em><em>slice</em><em>, </em><em>int</em>) – some indexing object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">subset of the list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list or scalar</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-take</dd>
<dt>SeeAlso:</dt>
<dd>ut.dict_take
ut.dict_subset
ut.none_take
ut.compress</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 0]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_transpose">
<code class="descclassname">utool.util_list.</code><code class="descname">list_transpose</code><span class="sig-paren">(</span><em>list_</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps rows and columns.
nCols should be specified if the initial list is empty.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-list_transpose</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 3), (2, 4)]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[], [], [], [], []]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">list_transpose</span><span class="p">,</span> <span class="n">list_</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_type">
<code class="descclassname">utool.util_list.</code><code class="descname">list_type</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_type_profile">
<code class="descclassname">utool.util_list.</code><code class="descname">list_type_profile</code><span class="sig-paren">(</span><em>sequence</em>, <em>compress_homogenous=True</em>, <em>with_dtype=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_type_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_type_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>similar to depth_profile but reports types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> – </li>
<li><strong>compress_homogenous</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">level_type_str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-list_type_profile
python3 -m utool.util_list –test-list_type_profile</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compress_homogenous</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">level_type_str</span> <span class="o">=</span> <span class="n">list_type_profile</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;level_type_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">level_type_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">level_type_str = list(list(int*2), ndarray[int32], tuple(ndarray[int32]*1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_union">
<code class="descclassname">utool.util_list.</code><code class="descname">list_union</code><span class="sig-paren">(</span><em>*lists</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_union" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_where">
<code class="descclassname">utool.util_list.</code><code class="descname">list_where</code><span class="sig-paren">(</span><em>flag_list</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_where" title="Permalink to this definition">¶</a></dt>
<dd><p>takes flags returns indexes of True values</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_zipcompress">
<code class="descclassname">utool.util_list.</code><code class="descname">list_zipcompress</code><span class="sig-paren">(</span><em>items_list</em>, <em>flags_list</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_zipcompress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.zipcompress</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.list_zipflatten">
<code class="descclassname">utool.util_list.</code><code class="descname">list_zipflatten</code><span class="sig-paren">(</span><em>*items_lists</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_zipflatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.list_zipflatten" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.list_ziptake">
<code class="descclassname">utool.util_list.</code><code class="descname">list_ziptake</code><span class="sig-paren">(</span><em>items_list</em>, <em>indexes_list</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_ziptake" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.ziptake</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.listclip">
<code class="descclassname">utool.util_list.</code><code class="descname">listclip</code><span class="sig-paren">(</span><em>list_</em>, <em>num</em>, <em>fromback=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#listclip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.listclip" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE: use slices instead</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>num</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">sublist</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-listclip</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">listclip</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">listclip</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    [1, 2, 3],</span>
<span class="go">    [1, 2, 3, 4, 5],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">listclip</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">fromback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 4, 5]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.listfind">
<code class="descclassname">utool.util_list.</code><code class="descname">listfind</code><span class="sig-paren">(</span><em>list_</em>, <em>tofind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#listfind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.listfind" title="Permalink to this definition">¶</a></dt>
<dd><p>get the position of item <code class="docutils literal notranslate"><span class="pre">tofind</span></code> in <code class="docutils literal notranslate"><span class="pre">list_</span></code> if it exists
otherwise returns None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> – </li>
<li><strong>tofind</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">index of <code class="docutils literal notranslate"><span class="pre">tofind</span></code> in <code class="docutils literal notranslate"><span class="pre">list_</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tofind</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">listfind</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">tofind</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.lmap">
<code class="descclassname">utool.util_list.</code><code class="descname">lmap</code><span class="sig-paren">(</span><em>func</em>, <em>iter_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.lmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Eager version of the builtin map function.
This provides the same functionality as python2 map.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
<p>Extended functionality supports passing common kwargs to all functions</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.lstarmap">
<code class="descclassname">utool.util_list.</code><code class="descname">lstarmap</code><span class="sig-paren">(</span><em>func</em>, <em>iter_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.lstarmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Eager version of it.starmap from itertools</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.lzip">
<code class="descclassname">utool.util_list.</code><code class="descname">lzip</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.lzip" title="Permalink to this definition">¶</a></dt>
<dd><p>Eager version of the builtin zip function.
This provides the same functionality as python2 zip.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.make_index_lookup">
<code class="descclassname">utool.util_list.</code><code class="descname">make_index_lookup</code><span class="sig-paren">(</span><em>list_</em>, <em>dict_factory=&lt;class 'dict'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#make_index_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.make_index_lookup" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – assumed to have unique items</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">mapping from item to index</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-make_index_lookup</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx2_item</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_index_lookup</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">idx2_item</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_take</span><span class="p">(</span><span class="n">idx2_item</span><span class="p">,</span> <span class="n">list_</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{2: 3, 3: 1, 5: 0, 8: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.make_sortby_func">
<code class="descclassname">utool.util_list.</code><code class="descname">make_sortby_func</code><span class="sig-paren">(</span><em>item_list</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#make_sortby_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.make_sortby_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.maplen">
<code class="descclassname">utool.util_list.</code><code class="descname">maplen</code><span class="sig-paren">(</span><em>iter_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#maplen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.maplen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.multi_replace">
<code class="descclassname">utool.util_list.</code><code class="descname">multi_replace</code><span class="sig-paren">(</span><em>instr</em>, <em>search_list=[]</em>, <em>repl_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#multi_replace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.multi_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a string replace with a list of search and replacements</p>
<p>TODO: rename</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.none_take">
<code class="descclassname">utool.util_list.</code><code class="descname">none_take</code><span class="sig-paren">(</span><em>list_</em>, <em>index_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#none_take"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.none_take" title="Permalink to this definition">¶</a></dt>
<dd><p>Like take but indices can be None</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.take</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.not_list">
<code class="descclassname">utool.util_list.</code><code class="descname">not_list</code><span class="sig-paren">(</span><em>flag_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#not_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.not_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.or_lists">
<code class="descclassname">utool.util_list.</code><code class="descname">or_lists</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#or_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.or_lists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.partial_imap_1to1">
<code class="descclassname">utool.util_list.</code><code class="descname">partial_imap_1to1</code><span class="sig-paren">(</span><em>func</em>, <em>si_func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#partial_imap_1to1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.partial_imap_1to1" title="Permalink to this definition">¶</a></dt>
<dd><p>a bit messy</p>
<p>DEPRICATE</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.partial_order">
<code class="descclassname">utool.util_list.</code><code class="descname">partial_order</code><span class="sig-paren">(</span><em>list_</em>, <em>part</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#partial_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.partial_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.print_duplicate_map">
<code class="descclassname">utool.util_list.</code><code class="descname">print_duplicate_map</code><span class="sig-paren">(</span><em>duplicate_map</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#print_duplicate_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.print_duplicate_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.priority_argsort">
<code class="descclassname">utool.util_list.</code><code class="descname">priority_argsort</code><span class="sig-paren">(</span><em>list_</em>, <em>priority</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#priority_argsort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.priority_argsort" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>priority</strong> (<em>list</em>) – desired order of items</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">reordered_index_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">priority</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sortx</span> <span class="o">=</span> <span class="n">priority_argsort</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reordered_list</span> <span class="o">=</span> <span class="n">priority_sort</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">sortx</span><span class="p">)</span> <span class="o">==</span> <span class="n">reordered_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sortx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 0, 2, 1, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.priority_sort">
<code class="descclassname">utool.util_list.</code><code class="descname">priority_sort</code><span class="sig-paren">(</span><em>list_</em>, <em>priority</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#priority_sort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.priority_sort" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>priority</strong> (<em>list</em>) – desired order of items</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">reordered_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-priority_argsort</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">priority</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reordered_list</span> <span class="o">=</span> <span class="n">priority_sort</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">reordered_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[8, 2, 6, 4, 10]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.rebase_labels">
<code class="descclassname">utool.util_list.</code><code class="descname">rebase_labels</code><span class="sig-paren">(</span><em>label_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#rebase_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.rebase_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.recursive_replace">
<code class="descclassname">utool.util_list.</code><code class="descname">recursive_replace</code><span class="sig-paren">(</span><em>list_</em>, <em>target</em>, <em>repl=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#recursive_replace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.recursive_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively removes target in all lists and sublists and replaces them with
the repl variable</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.replace_nones">
<code class="descclassname">utool.util_list.</code><code class="descname">replace_nones</code><span class="sig-paren">(</span><em>list_</em>, <em>repl=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#replace_nones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.replace_nones" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively removes Nones in all lists and sublists and replaces them with
the repl variable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>repl</strong> (<em>obj</em>) – replacement value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-replace_nones</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl_list</span> <span class="o">=</span> <span class="n">replace_nones</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">repl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">repl_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[-1, 0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.safe_listget">
<code class="descclassname">utool.util_list.</code><code class="descname">safe_listget</code><span class="sig-paren">(</span><em>list_</em>, <em>index</em>, <em>default='?'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safe_listget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.safe_listget" title="Permalink to this definition">¶</a></dt>
<dd><p>depricate</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.safe_slice">
<code class="descclassname">utool.util_list.</code><code class="descname">safe_slice</code><span class="sig-paren">(</span><em>list_</em>, <span class="optional">[</span><em>start</em>, <span class="optional">]</span><em>stop</em><span class="optional">[</span>, <em>end</em><span class="optional">]</span><span class="optional">[</span>, <em>step</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safe_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.safe_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Slices list and truncates if out of bounds</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.safeapply">
<code class="descclassname">utool.util_list.</code><code class="descname">safeapply</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safeapply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.safeapply" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.safelen">
<code class="descclassname">utool.util_list.</code><code class="descname">safelen</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safelen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.safelen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.sample_lists">
<code class="descclassname">utool.util_list.</code><code class="descname">sample_lists</code><span class="sig-paren">(</span><em>items_list</em>, <em>num=1</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sample_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.sample_lists" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>items_list</strong> (<em>list</em>) – </li>
<li><strong>num</strong> (<em>int</em>) – (default = 1)</li>
<li><strong>seed</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">samples_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-sample_lists</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items_list</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples_list</span> <span class="o">=</span> <span class="n">sample_lists</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;samples_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">samples_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">samples_list = [[], [3, 2], [4], [5, 6], [10, 9]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.sample_zip">
<code class="descclassname">utool.util_list.</code><code class="descname">sample_zip</code><span class="sig-paren">(</span><em>items_list</em>, <em>num_samples</em>, <em>allow_overflow=False</em>, <em>per_bin=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sample_zip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.sample_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for sampling</p>
<p>Given a list of lists, samples one item for each list and bins them into
num_samples bins. If all sublists are of equal size this is equivilent to a
zip, but otherewise consecutive bins will have monotonically less
elemements</p>
<p># Doctest doesn’t work with assertionerror
#util_list.sample_zip(items_list, 2)
#…
#AssertionError: Overflow occured</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>items_list</strong> (<em>list</em>) – </li>
<li><strong>num_samples</strong> – </li>
<li><strong>allow_overflow</strong> (<em>bool</em>) – </li>
<li><strong>per_bin</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(samples_list, overflow_samples)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool</span> <span class="k">import</span> <span class="n">util_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_list</span><span class="o">.</span><span class="n">sample_zip</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">[[1, 5, 8, 10], [2, 6, 9], [3, 7], [4], [0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_list</span><span class="o">.</span><span class="n">sample_zip</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">allow_overflow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">([[1, 5, 8, 10], [2, 6, 9]], [3, 7, 4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_list</span><span class="o">.</span><span class="n">sample_zip</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">allow_overflow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">per_bin</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">([[1, 5, 8, 10, 2, 6, 9], [3, 7, 4], [], []], [0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.scalar_input_map">
<code class="descclassname">utool.util_list.</code><code class="descname">scalar_input_map</code><span class="sig-paren">(</span><em>func</em>, <em>input_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#scalar_input_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.scalar_input_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Map like function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> – function to apply</li>
<li><strong>input</strong> – either an iterable or scalar value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">If <code class="docutils literal notranslate"><span class="pre">input_</span></code> is iterable this function behaves like map
otherwise applies func to <code class="docutils literal notranslate"><span class="pre">input_</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.search_list">
<code class="descclassname">utool.util_list.</code><code class="descname">search_list</code><span class="sig-paren">(</span><em>text_list</em>, <em>pattern</em>, <em>flags=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#search_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.search_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-search_list</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ham&#39;</span><span class="p">,</span> <span class="s1">&#39;jam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;.am&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">valid_index_list</span><span class="p">,</span> <span class="n">valid_match_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">search_list</span><span class="p">(</span><span class="n">text_list</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">valid_index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[0, 1, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.setdiff">
<code class="descclassname">utool.util_list.</code><code class="descname">setdiff</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#setdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.setdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list1 elements that are not in list2. preserves order of list1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setdiff_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">new_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;feature_rowid&#39;, &#39;config_rowid&#39;, &#39;featweight_forground_weight&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.setdiff_flags">
<code class="descclassname">utool.util_list.</code><code class="descname">setdiff_flags</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#setdiff_flags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.setdiff_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.setdiff_ordered">
<code class="descclassname">utool.util_list.</code><code class="descname">setdiff_ordered</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.setdiff_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list1 elements that are not in list2. preserves order of list1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setdiff_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">new_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;feature_rowid&#39;, &#39;config_rowid&#39;, &#39;featweight_forground_weight&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.setintersect">
<code class="descclassname">utool.util_list.</code><code class="descname">setintersect</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.setintersect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list1 elements that are in list2. preserves order of list1</p>
<p>setintersect_ordered</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setintersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">new_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 8, 21]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.setintersect_ordered">
<code class="descclassname">utool.util_list.</code><code class="descname">setintersect_ordered</code><span class="sig-paren">(</span><em>list1</em>, <em>list2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#setintersect_ordered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.setintersect_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list1 elements that are in list2. preserves order of list1</p>
<p>setintersect_ordered</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list1</strong> (<em>list</em>) – </li>
<li><strong>list2</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setintersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">new_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 8, 21]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.snapped_slice">
<code class="descclassname">utool.util_list.</code><code class="descname">snapped_slice</code><span class="sig-paren">(</span><em>size</em>, <em>frac</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#snapped_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.snapped_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a slice spanning <cite>n</cite> items in a list of length <cite>size</cite> at position
<cite>frac</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>size</strong> (<em>int</em>) – length of the list</li>
<li><strong>frac</strong> (<em>float</em>) – position in the range [0, 1]</li>
<li><strong>n</strong> (<em>int</em>) – number of items in the slice</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">slice object that best fits the criteria</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">slice</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>take_percentile_parts</dd>
</dl>
<p>Example:</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.sortedby">
<code class="descclassname">utool.util_list.</code><code class="descname">sortedby</code><span class="sig-paren">(</span><em>item_list</em>, <em>key_list</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sortedby"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.sortedby" title="Permalink to this definition">¶</a></dt>
<dd><p>sorts <code class="docutils literal notranslate"><span class="pre">item_list</span></code> using key_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – list to sort</li>
<li><strong>key_list</strong> (<em>list</em>) – list to sort by</li>
<li><strong>reverse</strong> (<em>bool</em>) – sort order is descending (largest first)
if reverse is True else acscending (smallest first)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">list_</span></code> sorted by the values of another <code class="docutils literal notranslate"><span class="pre">list</span></code>. defaults to
ascending order</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>sortedby2</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span>    <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">sortedby</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[5, 2, 3, 1, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.sortedby2">
<code class="descclassname">utool.util_list.</code><code class="descname">sortedby2</code><span class="sig-paren">(</span><em>item_list</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sortedby2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.sortedby2" title="Permalink to this definition">¶</a></dt>
<dd><p>sorts <code class="docutils literal notranslate"><span class="pre">item_list</span></code> using key_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item_list</strong> (<em>list</em>) – list to sort</li>
<li><strong>*args</strong> – multiple lists to sort by</li>
<li><strong>**kwargs</strong> – reverse (bool): sort order is descending if True else acscending</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">list_</span></code> sorted by the values of another <code class="docutils literal notranslate"><span class="pre">list</span></code>. defaults to
ascending order</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-sortedby2 –show</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">key_list1</span><span class="p">,</span> <span class="n">key_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sortedby2</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 1, 3, 4, 5]</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Python 3 Compatibility Test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">key_list1</span><span class="p">,</span> <span class="n">key_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sortedby2</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 4, 5, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.strided_sample">
<code class="descclassname">utool.util_list.</code><code class="descname">strided_sample</code><span class="sig-paren">(</span><em>items</em>, <em>num</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#strided_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.strided_sample" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_items</span> <span class="o">=</span> <span class="n">strided_sample</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sample_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.take">
<code class="descclassname">utool.util_list.</code><code class="descname">take</code><span class="sig-paren">(</span><em>list_</em>, <em>index_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.take" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects a subset of a list based on a list of indices.
This is similar to np.take, but pure python.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – some indexable object</li>
<li><strong>index_list</strong> (<em>list</em><em>, </em><em>slice</em><em>, </em><em>int</em>) – some indexing object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">subset of the list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list or scalar</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-take</dd>
<dt>SeeAlso:</dt>
<dd>ut.dict_take
ut.dict_subset
ut.none_take
ut.compress</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 0]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.take_around_percentile">
<code class="descclassname">utool.util_list.</code><code class="descname">take_around_percentile</code><span class="sig-paren">(</span><em>arr</em>, <em>frac</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_around_percentile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.take_around_percentile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.take_column">
<code class="descclassname">utool.util_list.</code><code class="descname">take_column</code><span class="sig-paren">(</span><em>list_</em>, <em>colx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.take_column" title="Permalink to this definition">¶</a></dt>
<dd><p>accepts a list of (indexables) and returns a list of indexables
can also return a list of list of indexables if colx is a list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – list of lists</li>
<li><strong>colx</strong> (<em>int</em><em> or </em><em>list</em>) – index or key in each sublist get item</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of selected items</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-take_column</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;b&#39;, &#39;a&#39;], [&#39;d&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;EGGS&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;SPAM&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;JAM&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;PRAM&#39;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># colx can be a key or list of keys as well</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;EGGS&#39;], [&#39;JAM&#39;]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.take_complement">
<code class="descclassname">utool.util_list.</code><code class="descname">take_complement</code><span class="sig-paren">(</span><em>list_</em>, <em>index_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_complement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.take_complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns items in <code class="docutils literal notranslate"><span class="pre">list_</span></code> not indexed by index_list</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.take_percentile">
<code class="descclassname">utool.util_list.</code><code class="descname">take_percentile</code><span class="sig-paren">(</span><em>arr</em>, <em>percent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_percentile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.take_percentile" title="Permalink to this definition">¶</a></dt>
<dd><p>take the top <cite>percent</cite> items in a list rounding up</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.take_percentile_parts">
<code class="descclassname">utool.util_list.</code><code class="descname">take_percentile_parts</code><span class="sig-paren">(</span><em>arr</em>, <em>front=None</em>, <em>mid=None</em>, <em>back=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_percentile_parts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.take_percentile_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Take parts from front, back, or middle of a list</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">front</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mid</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">back</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_percentile_parts</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">front</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">back</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[0, 1, 2, 9, 10, 11, 17, 18, 19]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.total_flatten">
<code class="descclassname">utool.util_list.</code><code class="descname">total_flatten</code><span class="sig-paren">(</span><em>unflat_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#total_flatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.total_flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>unflat_list = [1, 2, [3, 4], [5, [9]]]
:param unflat_list:
:type unflat_list: list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">flat_list</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-total_flatten –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">9</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span> <span class="o">=</span> <span class="n">total_flatten</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flat_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.total_unflatten">
<code class="descclassname">utool.util_list.</code><code class="descname">total_unflatten</code><span class="sig-paren">(</span><em>flat_list</em>, <em>invert_levels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#total_unflatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.total_unflatten" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.type_profile">
<code class="descclassname">utool.util_list.</code><code class="descname">type_profile</code><span class="sig-paren">(</span><em>sequence</em>, <em>compress_homogenous=True</em>, <em>with_dtype=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.type_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>similar to depth_profile but reports types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> – </li>
<li><strong>compress_homogenous</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">level_type_str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-list_type_profile
python3 -m utool.util_list –test-list_type_profile</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compress_homogenous</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">level_type_str</span> <span class="o">=</span> <span class="n">list_type_profile</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;level_type_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">level_type_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">level_type_str = list(list(int*2), ndarray[int32], tuple(ndarray[int32]*1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.type_profile2">
<code class="descclassname">utool.util_list.</code><code class="descname">type_profile2</code><span class="sig-paren">(</span><em>sequence</em>, <em>TypedSequence=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#type_profile2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.type_profile2" title="Permalink to this definition">¶</a></dt>
<dd><p>similar to depth_profile but reports types</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> – </li>
<li><strong>compress_homogenous</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">level_type_str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-type_profile2</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">typeprof</span> <span class="o">=</span> <span class="n">type_profile2</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">type_sequence_factory</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;level_type_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">level_type_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.type_sequence_factory">
<code class="descclassname">utool.util_list.</code><code class="descname">type_sequence_factory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#type_sequence_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.type_sequence_factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.unflat_map">
<code class="descclassname">utool.util_list.</code><code class="descname">unflat_map</code><span class="sig-paren">(</span><em>func</em>, <em>unflat_items</em>, <em>vectorized=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unflat_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses an wbia lookup function with a non-flat rowid list.
In essence this is equivilent to [list(map(func, _items)) for _items in unflat_items].
The utility of this function is that it only calls method once.
This is more efficient for calls that can take a list of inputs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>func</em>) – function</li>
<li><strong>unflat_items</strong> (<em>list</em>) – list of rowid lists</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">unflat_vals</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of values</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-unflat_map</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorized</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_items</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_vals</span> <span class="o">=</span> <span class="n">unflat_map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">unflat_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">unflat_vals</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[], [2, 3, 4], [5, 6], [7, 8, 9, 10], [], []]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unflat_take">
<code class="descclassname">utool.util_list.</code><code class="descname">unflat_take</code><span class="sig-paren">(</span><em>items_list</em>, <em>unflat_index_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_take"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unflat_take" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns nested subset of items_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>items_list</strong> (<em>list</em>) – </li>
<li><strong>unflat_index_list</strong> (<em>list</em>) – nested list of indices</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-unflat_take</dd>
<dt>SeeAlso:</dt>
<dd>ut.take</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_index_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">unflat_take</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="n">unflat_index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2], [3, 4], [1, 5]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unflat_unique_rowid_map">
<code class="descclassname">utool.util_list.</code><code class="descname">unflat_unique_rowid_map</code><span class="sig-paren">(</span><em>func</em>, <em>unflat_rowids</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_unique_rowid_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unflat_unique_rowid_map" title="Permalink to this definition">¶</a></dt>
<dd><p>performs only one call to the underlying func with unique rowids the func
must be some lookup function</p>
<p>TODO: move this to a better place.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-unflat_unique_rowid_map:0
python -m utool.util_list –test-unflat_unique_rowid_map:1</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_rowids</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_calls0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_input0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func0</span><span class="p">(</span><span class="n">rowids</span><span class="p">,</span> <span class="n">num_calls0</span><span class="o">=</span><span class="n">num_calls0</span><span class="p">,</span> <span class="n">num_input0</span><span class="o">=</span><span class="n">num_input0</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num_calls0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">num_input0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">rowid</span> <span class="o">+</span> <span class="mi">10</span> <span class="k">for</span> <span class="n">rowid</span> <span class="ow">in</span> <span class="n">rowids</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_vals</span> <span class="o">=</span> <span class="n">unflat_unique_rowid_map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">unflat_rowids</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">arr</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">unflat_vals</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_calls0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_input0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[[11, 12, 13], [12, 15], [11], []]</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_rowids</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_calls1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_input1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func1</span><span class="p">(</span><span class="n">rowids</span><span class="p">,</span> <span class="n">num_calls1</span><span class="o">=</span><span class="n">num_calls1</span><span class="p">,</span> <span class="n">num_input1</span><span class="o">=</span><span class="n">num_input1</span><span class="p">,</span> <span class="n">np</span><span class="o">=</span><span class="n">np</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num_calls1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">num_input1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">rowid</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="n">rowid</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">for</span> <span class="n">rowid</span> <span class="ow">in</span> <span class="n">rowids</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_vals</span> <span class="o">=</span> <span class="n">unflat_unique_rowid_map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">unflat_rowids</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">arr</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">unflat_vals</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_calls1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_input1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[[[11, 1, 3], [12, 2, 3], [13, 3, 3]], [[12, 2, 3], [15, 5, 3]], [[11, 1, 3]], []]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unflat_vecmap">
<code class="descclassname">utool.util_list.</code><code class="descname">unflat_vecmap</code><span class="sig-paren">(</span><em>func</em>, <em>unflat_items</em>, <em>vectorized=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_vecmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unflat_vecmap" title="Permalink to this definition">¶</a></dt>
<dd><p>unflat map for vectorized functions</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unflatten1">
<code class="descclassname">utool.util_list.</code><code class="descname">unflatten1</code><span class="sig-paren">(</span><em>flat_list</em>, <em>reverse_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflatten1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unflatten1" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebuilds unflat list from invertible_flatten1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>flat_list</strong> (<em>list</em>) – the flattened list</li>
<li><strong>reverse_list</strong> (<em>list</em>) – the list which undoes flattenting</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">original nested list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">unflat_list2</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>invertible_flatten1
invertible_flatten2
unflatten2</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unflatten2">
<code class="descclassname">utool.util_list.</code><code class="descname">unflatten2</code><span class="sig-paren">(</span><em>flat_list</em>, <em>cumlen_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflatten2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unflatten2" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebuilds unflat list from invertible_flatten1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>flat_list</strong> (<em>list</em>) – the flattened list</li>
<li><strong>cumlen_list</strong> (<em>list</em>) – the list which undoes flattenting</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">original nested list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">unflat_list2</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>invertible_flatten1
invertible_flatten2
unflatten2</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">util_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cumlen_list</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">unflatten2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">unflat_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[5], [2, 3, 12, 3, 3], [9], [13, 3], [5]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.union">
<code class="descclassname">utool.util_list.</code><code class="descname">union</code><span class="sig-paren">(</span><em>*lists</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.union" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Ignore:</dt>
<dd>%timeit len(reduce(set.union, map(set, x)))
%timeit len(ut.union(<a href="#id27"><span class="problematic" id="id28">*</span></a>x))
%timeit len(ut.unique(ut.flatten(ut.lmap(np.unique, x))))
%timeit len(ut.unique(ut.flatten(x)))
%timeit len(ut.union(<a href="#id29"><span class="problematic" id="id30">*</span></a>x))
%timeit len(ut.list_union(<a href="#id31"><span class="problematic" id="id32">*</span></a>x))
%timeit len(set.union(<a href="#id33"><span class="problematic" id="id34">*</span></a>[set(<a href="#id213"><span class="problematic" id="id214">list_</span></a>) for <a href="#id215"><span class="problematic" id="id216">list_</span></a> in lists]))
%timeit len(set.union(<a href="#id35"><span class="problematic" id="id36">*</span></a>(set(<a href="#id217"><span class="problematic" id="id218">list_</span></a>) for <a href="#id219"><span class="problematic" id="id220">list_</span></a> in lists)))</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.union_ordered">
<code class="descclassname">utool.util_list.</code><code class="descname">union_ordered</code><span class="sig-paren">(</span><em>*lists</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#union_ordered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.union_ordered" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.unique">
<code class="descclassname">utool.util_list.</code><code class="descname">unique</code><span class="sig-paren">(</span><em>list_</em>, <em>ordered=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns unique items in <code class="docutils literal notranslate"><span class="pre">list_</span></code>.
Generally, unordered (<a href="#id37"><span class="problematic" id="id38">*</span></a>should be) faster.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unique_flags">
<code class="descclassname">utool.util_list.</code><code class="descname">unique_flags</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.unique_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of flags corresponding to the first time an item is seen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – list of items</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">flag_list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Timing:</dt>
<dd><p class="first">import random
import utool as ut</p>
<dl class="docutils">
<dt>def random_items(n, m):</dt>
<dd>rng = random.Random(0)
return [rng.randint(0, n) for _ in range(m)]</dd>
</dl>
<p>m = 1000</p>
<dl class="docutils">
<dt>def method1(<a href="#id221"><span class="problematic" id="id222">list_</span></a>):</dt>
<dd><p class="first">seen = set()
def unseen(item):</p>
<blockquote>
<div><dl class="docutils">
<dt>if item in seen:</dt>
<dd>return False</dd>
</dl>
<p>seen.add(item)
return True</p>
</div></blockquote>
<p class="last">flag_list = [unseen(item) for item in <a href="#id223"><span class="problematic" id="id224">list_</span></a>]
return flag_list</p>
</dd>
<dt>def method2(<a href="#id225"><span class="problematic" id="id226">list_</span></a>):</dt>
<dd>return ut.index_to_boolmask([<a href="#id227"><span class="problematic" id="id228">list_</span></a>.index(x) for x in set(<a href="#id229"><span class="problematic" id="id230">list_</span></a>)], len(<a href="#id231"><span class="problematic" id="id232">list_</span></a>))</dd>
<dt>def method3(<a href="#id233"><span class="problematic" id="id234">list_</span></a>):</dt>
<dd>return ut.index_to_boolmask(dict(zip(reversed(<a href="#id235"><span class="problematic" id="id236">list_</span></a>), reversed(range(len(<a href="#id237"><span class="problematic" id="id238">list_</span></a>))))).values(), len(<a href="#id239"><span class="problematic" id="id240">list_</span></a>))</dd>
</dl>
<p>import ubelt as ub
ub.Timerit.DEFAULT_VERBOSE = False</p>
<p>ut.qtensure()
exps = [0, .25, .5, .75, 1, 2]
<a href="#id241"><span class="problematic" id="id242">pnum_</span></a> = pt.make_pnum_nextgen(nSubplots=len(exps))
current = ut.flag_unique_items</p>
<dl class="last docutils">
<dt>for count, exp in ut.ProgIter(list(enumerate(exps, start=1))):</dt>
<dd><p class="first">ydatas = ut.ddict(list)
xdata = []
for m in ut.ProgIter(list(range(0, 10000, 100)), freq=1):</p>
<blockquote>
<div><p>xdata.append(m)
num = 10
n = int(m ** exp)
<a href="#id243"><span class="problematic" id="id244">list_</span></a> = random_items(n=n, m=m)
ydatas[‘method1’].append(ub.Timerit(num).call(method1, <a href="#id245"><span class="problematic" id="id246">list_</span></a>))
ydatas[‘method2’].append(ub.Timerit(num).call(method2, <a href="#id247"><span class="problematic" id="id248">list_</span></a>))
ydatas[‘method3’].append(ub.Timerit(num).call(method3, <a href="#id249"><span class="problematic" id="id250">list_</span></a>))
ydatas[‘current’].append(ub.Timerit(num).call(current, <a href="#id251"><span class="problematic" id="id252">list_</span></a>))</p>
<p># assert method1(<a href="#id253"><span class="problematic" id="id254">list_</span></a>) == method3(<a href="#id255"><span class="problematic" id="id256">list_</span></a>)
# assert method1(<a href="#id257"><span class="problematic" id="id258">list_</span></a>) == current(<a href="#id259"><span class="problematic" id="id260">list_</span></a>)</p>
</div></blockquote>
<dl class="last docutils">
<dt>pt.multi_plot(</dt>
<dd>xdata, list(ydatas.values()), label_list=list(ydatas.keys()),
ylabel=’time’, title=str(exp), fnum=1, pnum=pnum_())</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unique_indices">
<code class="descclassname">utool.util_list.</code><code class="descname">unique_indices</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unique_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.unique_inverse">
<code class="descclassname">utool.util_list.</code><code class="descname">unique_inverse</code><span class="sig-paren">(</span><em>item_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unique_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Like np.unique(item_list, return_inverse=True)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unique_ordered">
<code class="descclassname">utool.util_list.</code><code class="descname">unique_ordered</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_ordered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unique_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns unique items in <code class="docutils literal notranslate"><span class="pre">list_</span></code> in the order they were seen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list</strong> (<em>list</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">unique_list - unique list which maintains order</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –exec-unique_ordered</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique_list</span> <span class="o">=</span> <span class="n">unique_ordered</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;unique_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">unique_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">unique_list = [4, 6, 0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unique_unordered">
<code class="descclassname">utool.util_list.</code><code class="descname">unique_unordered</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_unordered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unique_unordered" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper around list(set(<a href="#id261"><span class="problematic" id="id262">list_</span></a>))</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.unpack_iterables">
<code class="descclassname">utool.util_list.</code><code class="descname">unpack_iterables</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unpack_iterables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.unpack_iterables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.where">
<code class="descclassname">utool.util_list.</code><code class="descname">where</code><span class="sig-paren">(</span><em>flag_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#where"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.where" title="Permalink to this definition">¶</a></dt>
<dd><p>takes flags returns indexes of True values</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.where_not_None">
<code class="descclassname">utool.util_list.</code><code class="descname">where_not_None</code><span class="sig-paren">(</span><em>item_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#where_not_None"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.where_not_None" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list of indexes of non None values</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>flag_None_items</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.xor_lists">
<code class="descclassname">utool.util_list.</code><code class="descname">xor_lists</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#xor_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.xor_lists" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_list –test-xor_lists</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">xor_lists</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[False, True, False, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.zipcompress">
<code class="descclassname">utool.util_list.</code><code class="descname">zipcompress</code><span class="sig-paren">(</span><em>items_list</em>, <em>flags_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#zipcompress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.zipcompress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.zipcompress</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_list.zipflat">
<code class="descclassname">utool.util_list.</code><code class="descname">zipflat</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#zipflat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.zipflat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_list.ziptake">
<code class="descclassname">utool.util_list.</code><code class="descname">ziptake</code><span class="sig-paren">(</span><em>items_list</em>, <em>indexes_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#ziptake"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_list.ziptake" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>vt.ziptake</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-utool.util_logging">
<span id="utool-util-logging-module"></span><h2>utool.util_logging module<a class="headerlink" href="#module-utool.util_logging" title="Permalink to this headline">¶</a></h2>
<p>If logging is on, utool will overwrite the print function with a logging function</p>
<p>This is a special module which will not get injected into (should it be internal?)</p>
<p class="rubric">References</p>
<p># maybe we can do something like this Queue to try fixing error when
# when using injected print statments with Qt signals and slots
<a class="reference external" href="http://stackoverflow.com/questions/21071448/redirecting-stdout-and-stderr-to-a-pyqt4-qtextedit-from-a-secondary-thread">http://stackoverflow.com/questions/21071448/redirecting-stdout-and-stderr-to-a-pyqt4-qtextedit-from-a-secondary-thread</a></p>
<dl class="class">
<dt id="utool.util_logging.CustomStreamHandler">
<em class="property">class </em><code class="descclassname">utool.util_logging.</code><code class="descname">CustomStreamHandler</code><span class="sig-paren">(</span><em>stream=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#CustomStreamHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.CustomStreamHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Handler</span></code></p>
<p>Modified from logging.py</p>
<dl class="method">
<dt id="utool.util_logging.CustomStreamHandler.emit">
<code class="descname">emit</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#CustomStreamHandler.emit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.CustomStreamHandler.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit a record.</p>
<p>If a formatter is specified, it is used to format the record.
The record is then written to the stream with a trailing newline.  If
exception information is present, it is formatted using
traceback.print_exception and appended to the stream.  If the stream
has an ‘encoding’ attribute, it is used to determine how to do the
output to the stream.</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_logging.CustomStreamHandler.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#CustomStreamHandler.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.CustomStreamHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the stream.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_logging.add_logging_handler">
<code class="descclassname">utool.util_logging.</code><code class="descname">add_logging_handler</code><span class="sig-paren">(</span><em>handler</em>, <em>format_='file'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#add_logging_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.add_logging_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>mostly for util_logging internals</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_logging.debug_logging_iostreams">
<code class="descclassname">utool.util_logging.</code><code class="descname">debug_logging_iostreams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#debug_logging_iostreams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.debug_logging_iostreams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_logging.ensure_logging">
<code class="descclassname">utool.util_logging.</code><code class="descname">ensure_logging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#ensure_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.ensure_logging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_logging.get_current_log_fpath">
<code class="descclassname">utool.util_logging.</code><code class="descname">get_current_log_fpath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_current_log_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.get_current_log_fpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_logging.get_current_log_text">
<code class="descclassname">utool.util_logging.</code><code class="descname">get_current_log_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_current_log_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.get_current_log_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_logging.get_log_fpath">
<code class="descclassname">utool.util_logging.</code><code class="descname">get_log_fpath</code><span class="sig-paren">(</span><em>num='next'</em>, <em>appname=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_log_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.get_log_fpath" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">path to log file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">log_fpath (str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_logging.get_logging_dir">
<code class="descclassname">utool.util_logging.</code><code class="descname">get_logging_dir</code><span class="sig-paren">(</span><em>appname='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_logging_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.get_logging_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>The default log dir is in the system resource directory
But the utool global cache allows for the user to override
where the logs for a specific app should be stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">real path to logging directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">log_dir_realpath (str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_logging.get_shelves_dir">
<code class="descclassname">utool.util_logging.</code><code class="descname">get_shelves_dir</code><span class="sig-paren">(</span><em>appname='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_shelves_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.get_shelves_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>The default shelf dir is in the system resource directory
But the utool global cache allows for the user to override
where the shelf for a specific app should be stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">real path to shelves directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">log_dir_realpath (str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_logging.get_utool_logger">
<code class="descclassname">utool.util_logging.</code><code class="descname">get_utool_logger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_utool_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.get_utool_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_logging.is_logging">
<code class="descclassname">utool.util_logging.</code><code class="descname">is_logging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#is_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.is_logging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_logging.start_logging">
<code class="descclassname">utool.util_logging.</code><code class="descname">start_logging</code><span class="sig-paren">(</span><em>log_fpath=None</em>, <em>mode='a'</em>, <em>appname='default'</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#start_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.start_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrites utool print functions to use a logger</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_logging –test-start_logging
python -m utool.util_logging –test-start_logging:0
python -m utool.util_logging –test-start_logging:1
python -m utool.util_logging –test-start_logging:2</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;--verb-logging&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">start_logging</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_print</span><span class="p">()(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_write</span><span class="p">()(</span><span class="s1">&#39;writing1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_write</span><span class="p">()(</span><span class="s1">&#39;writing2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_write</span><span class="p">()(</span><span class="s1">&#39;writing3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_flush</span><span class="p">()()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">handler</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">__UTOOL_ROOT_LOGGER__</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_fpath</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">current_log_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;current_log_text =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">current_log_text</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">current_log_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;cant hello world&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assert current_log_text.find(&#39;writing1writing2&#39;) &gt; 0, &#39;cant find writing1writing2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">current_log_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;writing3&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;cant find writing3&#39;</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure that progress is logged</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;--verb-logging&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">start_logging</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>  <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">freq</span><span class="o">=</span><span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">handler</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">__UTOOL_ROOT_LOGGER__</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_fpath</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">current_log_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">current_log_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;rate&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;progress was not logged&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">current_log_text</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;--verb-logging&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">start_logging</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_print</span><span class="p">()(</span><span class="sa">u</span><span class="s1">&#39;</span><span class="se">\u0303</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_flush</span><span class="p">()()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_logging.stop_logging">
<code class="descclassname">utool.util_logging.</code><code class="descname">stop_logging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#stop_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.stop_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores utool print functions to python defaults</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_logging.testlogprog">
<code class="descclassname">utool.util_logging.</code><code class="descname">testlogprog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#testlogprog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_logging.testlogprog" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to ensure that all progress lines are outputed to the file logger
while only a few progress lines are outputed to stdout.
(if backspace is specified)</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_logging testlogprog –show –verb-logging
python -m utool.util_logging testlogprog –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_logging</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">testlogprog</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.util_num">
<span id="utool-util-num-module"></span><h2>utool.util_num module<a class="headerlink" href="#module-utool.util_num" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_num.float_to_decimal">
<code class="descclassname">utool.util_num.</code><code class="descname">float_to_decimal</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#float_to_decimal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.float_to_decimal" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a floating point number to a Decimal with no loss of information</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://docs.python.org/library/decimal.html#decimal-faq">http://docs.python.org/library/decimal.html#decimal-faq</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_num.get_sys_maxfloat">
<code class="descclassname">utool.util_num.</code><code class="descname">get_sys_maxfloat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#get_sys_maxfloat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.get_sys_maxfloat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_num.get_sys_maxint">
<code class="descclassname">utool.util_num.</code><code class="descname">get_sys_maxint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#get_sys_maxint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.get_sys_maxint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_num.get_sys_minint">
<code class="descclassname">utool.util_num.</code><code class="descname">get_sys_minint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#get_sys_minint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.get_sys_minint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_num.int_comma_str">
<code class="descclassname">utool.util_num.</code><code class="descname">int_comma_str</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#int_comma_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.int_comma_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_num.num2_sigfig">
<code class="descclassname">utool.util_num.</code><code class="descname">num2_sigfig</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#num2_sigfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.num2_sigfig" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_num.num_fmt">
<code class="descclassname">utool.util_num.</code><code class="descname">num_fmt</code><span class="sig-paren">(</span><em>num</em>, <em>max_digits=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#num_fmt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.num_fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>Weird function. Not very well written. Very special case-y</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num</strong> (<em>int</em><em> or </em><em>float</em>) – </li>
<li><strong>max_digits</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_num –test-num_fmt</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_num</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">1003232</span><span class="p">,</span> <span class="mf">41431232.</span><span class="p">,</span> <span class="o">.</span><span class="mi">0000000343</span><span class="p">,</span> <span class="o">-.</span><span class="mi">443243</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_digits</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">num_fmt</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">max_digits</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">num_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;0&#39;, &#39;0.0&#39;, &#39;1.2&#39;, &#39;1,003,232&#39;, &#39;41431232.0&#39;, &#39;0.0&#39;, &#39;-0.443&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_num.order_of_magnitude_ceil">
<code class="descclassname">utool.util_num.</code><code class="descname">order_of_magnitude_ceil</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#order_of_magnitude_ceil"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.order_of_magnitude_ceil" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_num.sigfig_str">
<code class="descclassname">utool.util_num.</code><code class="descname">sigfig_str</code><span class="sig-paren">(</span><em>number</em>, <em>sigfig</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#sigfig_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_num.sigfig_str" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/2663612/nicely-repr-float-in-python">http://stackoverflow.com/questions/2663612/nicely-repr-float-in-python</a></p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_numpy">
<span id="utool-util-numpy-module"></span><h2>utool.util_numpy module<a class="headerlink" href="#module-utool.util_numpy" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_numpy.deterministic_sample">
<code class="descclassname">utool.util_numpy.</code><code class="descname">deterministic_sample</code><span class="sig-paren">(</span><em>list_</em>, <em>nSample</em>, <em>seed=0</em>, <em>rng=None</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#deterministic_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.deterministic_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs data randomly, but in a repeatable way</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.deterministic_shuffle">
<code class="descclassname">utool.util_numpy.</code><code class="descname">deterministic_shuffle</code><span class="sig-paren">(</span><em>list_</em>, <em>seed=0</em>, <em>rng=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#deterministic_shuffle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.deterministic_shuffle" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>seed</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id263"><span class="problematic" id="id264">list_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_numpy –test-deterministic_shuffle</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">deterministic_shuffle</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 2, 5, 1, 4, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.ensure_rng">
<code class="descclassname">utool.util_numpy.</code><code class="descname">ensure_rng</code><span class="sig-paren">(</span><em>rng</em>, <em>impl='numpy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#ensure_rng"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.ensure_rng" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random number generator</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Python as PYTHON ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">py_rng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">py_rng</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pp_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Numpy as PYTHON ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_rng</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_rng</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">impl</span><span class="o">=</span><span class="s1">&#39;numpy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">np_rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">np_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Numpy as NUMPY---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nn_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">np_rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">nn_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Python as NUMPY---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">py_rng</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_rng</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">impl</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pn_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">py_rng</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pn_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np_nums</span> <span class="o">==</span> <span class="n">pp_nums</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pn_nums</span> <span class="o">==</span> <span class="n">nn_nums</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.inbounds">
<code class="descclassname">utool.util_numpy.</code><code class="descname">inbounds</code><span class="sig-paren">(</span><em>arr</em>, <em>low</em>, <em>high</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#inbounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.inbounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_numpy.index_of">
<code class="descclassname">utool.util_numpy.</code><code class="descname">index_of</code><span class="sig-paren">(</span><em>item</em>, <em>array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#index_of"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.index_of" title="Permalink to this definition">¶</a></dt>
<dd><p>index of [item] in [array]</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.intersect2d">
<code class="descclassname">utool.util_numpy.</code><code class="descname">intersect2d</code><span class="sig-paren">(</span><em>A</em>, <em>B</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#intersect2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.intersect2d" title="Permalink to this definition">¶</a></dt>
<dd><p>intersect rows of 2d numpy arrays</p>
<p>DEPRICATE: use intersect2d in vtool instead</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<em>ndarray</em><em>[</em><em>ndim=2</em><em>]</em>) – </li>
<li><strong>B</strong> (<em>ndarray</em><em>[</em><em>ndim=2</em><em>]</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(C, Ax, Bx)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">14</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">Ax</span><span class="p">,</span> <span class="n">Bx</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">intersect2d</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">((</span><span class="n">C</span><span class="p">,</span> <span class="n">Ax</span><span class="p">,</span> <span class="n">Bx</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(array([[1, 2, 3]]), array([0]), array([0]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.make_incrementer">
<code class="descclassname">utool.util_numpy.</code><code class="descname">make_incrementer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#make_incrementer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.make_incrementer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_numpy.npfind">
<code class="descclassname">utool.util_numpy.</code><code class="descname">npfind</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#npfind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.npfind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_numpy.quantum_random">
<code class="descclassname">utool.util_numpy.</code><code class="descname">quantum_random</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#quantum_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.quantum_random" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 32 bit unsigned integer quantum random number</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.random_indexes">
<code class="descclassname">utool.util_numpy.</code><code class="descname">random_indexes</code><span class="sig-paren">(</span><em>max_index</em>, <em>subset_size=None</em>, <em>seed=None</em>, <em>rng=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#random_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.random_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>random unrepeated indicies</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>max_index</strong> – </li>
<li><strong>subset_size</strong> (<em>None</em>) – (default = None)</li>
<li><strong>seed</strong> (<em>None</em>) – (default = None)</li>
<li><strong>rng</strong> (<em>RandomState</em>) – random number generator(default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">subst</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><p>?</p>
</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_numpy –exec-random_indexes</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_index</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset_size</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subst</span> <span class="o">=</span> <span class="n">random_indexes</span><span class="p">(</span><span class="n">max_index</span><span class="p">,</span> <span class="n">subset_size</span><span class="p">,</span> <span class="n">seed</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;subst = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">subst</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.random_sample">
<code class="descclassname">utool.util_numpy.</code><code class="descname">random_sample</code><span class="sig-paren">(</span><em>list_</em>, <em>nSample</em>, <em>strict=False</em>, <em>rng=None</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#random_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.random_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs data randomly</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>nSample</strong> – </li>
<li><strong>strict</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>rng</strong> (<em>module</em>) – random number generator(default = numpy.random)</li>
<li><strong>seed</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sample_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_numpy –exec-random_sample</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nSample</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strict</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_list</span> <span class="o">=</span> <span class="n">random_sample</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">nSample</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">rng</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;sample_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sample_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.sample_domain">
<code class="descclassname">utool.util_numpy.</code><code class="descname">sample_domain</code><span class="sig-paren">(</span><em>min_</em>, <em>max_</em>, <em>nSamp</em>, <em>mode='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#sample_domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.sample_domain" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nSamp</span>  <span class="o">=</span> <span class="mi">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">sample_domain</span><span class="p">(</span><span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">,</span> <span class="n">nSamp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[10, 151, 293, 434, 576, 717, 859]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.shuffle">
<code class="descclassname">utool.util_numpy.</code><code class="descname">shuffle</code><span class="sig-paren">(</span><em>list_</em>, <em>seed=0</em>, <em>rng=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#shuffle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.shuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuffles a list inplace and then returns it for convinience</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em><em> or </em><em>ndarray</em>) – list to shuffl</li>
<li><strong>rng</strong> (<em>RandomState</em><em> or </em><em>int</em>) – seed or random number gen</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">this is the input, but returned for convinience</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="n">shuffle</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">list1</span><span class="p">),</span> <span class="n">rng</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">list1</span> <span class="o">!=</span> <span class="n">list2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 2, 5, 1, 4, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.spaced_indexes">
<code class="descclassname">utool.util_numpy.</code><code class="descname">spaced_indexes</code><span class="sig-paren">(</span><em>len_</em>, <em>n</em>, <em>trunc=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#spaced_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.spaced_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n evenly spaced indexes.
Returns as many as possible if trunc is true</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.spaced_items">
<code class="descclassname">utool.util_numpy.</code><code class="descname">spaced_items</code><span class="sig-paren">(</span><em>list_</em>, <em>n</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#spaced_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.spaced_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n evenly spaced items</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_numpy.tiled_range">
<code class="descclassname">utool.util_numpy.</code><code class="descname">tiled_range</code><span class="sig-paren">(</span><em>range_</em>, <em>cols</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#tiled_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_numpy.tiled_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_parallel">
<span id="utool-util-parallel-module"></span><h2>utool.util_parallel module<a class="headerlink" href="#module-utool.util_parallel" title="Permalink to this headline">¶</a></h2>
<p>Module to executes the same function with different arguments in parallel.</p>
<dl class="class">
<dt id="utool.util_parallel.KillableProcess">
<em class="property">class </em><code class="descclassname">utool.util_parallel.</code><code class="descname">KillableProcess</code><span class="sig-paren">(</span><em>group=None</em>, <em>target=None</em>, <em>name=None</em>, <em>args=()</em>, <em>kwargs={}</em>, <em>*</em>, <em>daemon=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.KillableProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.context.Process</span></code></p>
<p>Simple subclass of multiprocessing.Process
Gives an additional method to kill all children
as well as itself. calls this function on delete.</p>
<p>DEPRICATE, do not kill processes. It is not a good idea.
It can cause deadlocks.</p>
<dl class="method">
<dt id="utool.util_parallel.KillableProcess.terminate2">
<code class="descname">terminate2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableProcess.terminate2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.KillableProcess.terminate2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_parallel.KillableThread">
<em class="property">class </em><code class="descclassname">utool.util_parallel.</code><code class="descname">KillableThread</code><span class="sig-paren">(</span><em>group=None</em>, <em>target=None</em>, <em>name=None</em>, <em>args=()</em>, <em>kwargs=None</em>, <em>*</em>, <em>daemon=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableThread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.KillableThread" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<p>DEPRICATE, do not kill threads. It is not a good idea.
It can cause deadlocks.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/496960-thread2-killable-threads/">http://code.activestate.com/recipes/496960-thread2-killable-threads/</a>
<a class="reference external" href="http://tomerfiliba.com/recipes/Thread2/">http://tomerfiliba.com/recipes/Thread2/</a></p>
<dl class="method">
<dt id="utool.util_parallel.KillableThread.raise_exc">
<code class="descname">raise_exc</code><span class="sig-paren">(</span><em>excobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableThread.raise_exc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.KillableThread.raise_exc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_parallel.KillableThread.terminate">
<code class="descname">terminate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableThread.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.KillableThread.terminate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_parallel.bgfunc">
<code class="descclassname">utool.util_parallel.</code><code class="descname">bgfunc</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#bgfunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.bgfunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_parallel.buffered_generator">
<code class="descclassname">utool.util_parallel.</code><code class="descname">buffered_generator</code><span class="sig-paren">(</span><em>source_gen</em>, <em>buffer_size=2</em>, <em>use_multiprocessing=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#buffered_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.buffered_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator that runs a slow source generator in a separate process.</p>
<p>My generate function still seems faster on test cases.
However, this function is more flexible in its compatability.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_gen</strong> (<em>iterable</em>) – slow generator</li>
<li><strong>buffer_size</strong> (<em>int</em>) – the maximal number of items to pre-generate
(length of the buffer) (default = 2)</li>
<li><strong>use_multiprocessing</strong> (<em>bool</em>) – if False uses GIL-hindered threading
instead of multiprocessing (defualt = False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">use_multiprocessing = True seems to freeze if passed in a generator
built by six.moves.map.</p>
</div>
<p class="rubric">References</p>
<p>Taken from Sander Dieleman’s data augmentation pipeline
<a class="reference external" href="https://github.com/benanne/kaggle-ndsb/blob/11a66cdbddee16c69514b9530a727df0ac6e136f/buffering.py">https://github.com/benanne/kaggle-ndsb/blob/11a66cdbddee16c69514b9530a727df0ac6e136f/buffering.py</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_parallel –test-buffered_generator:0
python -m utool.util_parallel –test-buffered_generator:1</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#functime = timeit.timeit(</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &#39;ut.is_prime(&#39; + str(prime) + &#39;)&#39;, setup=&#39;import utool as ut&#39;,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># number=500) / 1000.0</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">14</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">38873</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;serial&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t1</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;ut.generate2&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t3</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result3</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;ut.buffered_generator&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t2</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">buffered_generator</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">result1</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">result3</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result3</span> <span class="o">==</span> <span class="n">result2</span><span class="p">,</span> <span class="s1">&#39;inconsistent results&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="p">,</span> <span class="s1">&#39;inconsistent results&#39;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># VERYSLLOOWWW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="k">import</span> <span class="n">_test_buffered_generator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_test_buffered_generator2</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_parallel.generate2">
<code class="descclassname">utool.util_parallel.</code><code class="descname">generate2</code><span class="sig-paren">(</span><em>func</em>, <em>args_gen</em>, <em>kw_gen=None</em>, <em>ntasks=None</em>, <em>ordered=True</em>, <em>force_serial=False</em>, <em>use_pool=False</em>, <em>chunksize=None</em>, <em>nprocs=None</em>, <em>progkw={}</em>, <em>futures_threaded=False</em>, <em>timeout=3600</em>, <em>nTasks=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#generate2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.generate2" title="Permalink to this definition">¶</a></dt>
<dd><p>Interfaces to either multiprocessing or futures.
Esentially maps <code class="docutils literal notranslate"><span class="pre">args_gen</span></code> onto <code class="docutils literal notranslate"><span class="pre">func</span></code> using pool.imap.
However, args_gen must be a tuple of args that will be unpacked and send to
the function. Thus, the function can take multiple args. Also specifing
keyword args is supported.</p>
<p>Useful for embarrassingly parallel loops. Currently does not work with
opencv3</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_parallel generate2</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> (<em>function</em>) – live python function</li>
<li><strong>args_gen</strong> – </li>
<li><strong>kw_gen</strong> (<em>None</em>) – (default = None)</li>
<li><strong>ntasks</strong> (<em>None</em>) – (default = None)</li>
<li><strong>ordered</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>force_serial</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag(default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_parallel generate2</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="k">import</span> <span class="n">_kw_wrap_worker</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_gen</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_gen</span> <span class="o">=</span> <span class="p">[{}]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">args_gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">use_pool</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#num = 8700  # parallel is slower for smaller numbers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># parallel has an initial (~.1 second startup overhead)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING SERIAL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="p">)),</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list0</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING PARALLEL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ASSERTING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">flag_list1</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">flag_list0</span> <span class="o">==</span> <span class="n">flag_list1</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trying to recreate the freeze seen in IBEIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING SERIAL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list0</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_recursive</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING PARALLEL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator3</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_recursive</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list3</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list0 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list0</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list1 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list3 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list1</span><span class="p">,))</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trying to recreate the freeze seen in IBEIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.preproc.preproc_chip</span> <span class="k">import</span> <span class="n">gen_chip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#from wbia.algo.preproc.preproc_feat import gen_feat_worker</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grace.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy1.png&#39;</span><span class="p">,</span> <span class="s1">&#39;ada2.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy3.png&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;hard3.png&#39;</span><span class="p">,</span> <span class="s1">&#39;zebra.png&#39;</span><span class="p">,</span> <span class="s1">&#39;patsy.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;ada.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;carl.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;lena.png&#39;</span><span class="p">,</span> <span class="s1">&#39;easy2.png&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">key_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ut</span><span class="o">.</span><span class="n">augpath</span><span class="p">(</span><span class="n">img_fpath</span><span class="p">,</span> <span class="s1">&#39;_testgen&#39;</span><span class="p">),</span> <span class="n">img_fpath</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">545</span><span class="p">,</span> <span class="mi">372</span><span class="p">),</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">img_fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list2</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ut</span><span class="o">.</span><span class="n">augpath</span><span class="p">(</span><span class="n">img_fpath</span><span class="p">,</span> <span class="s1">&#39;_testgen&#39;</span><span class="p">),</span> <span class="n">img_fpath</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">545</span><span class="p">,</span> <span class="mi">372</span><span class="p">),</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">img_fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#arg_list3 = [(count, fpath, {}) for count, fpath in enumerate(ut.get_list_column(arg_list1, 0))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#arg_list4 = [(count, fpath, {}) for count, fpath in enumerate(ut.get_list_column(arg_list2, 0))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">arg_list2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips1</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">gen_chip</span><span class="p">,</span> <span class="n">arg_list1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips2</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">gen_chip</span><span class="p">,</span> <span class="n">arg_list2</span><span class="p">,</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#feats3 = [z for z in ut.generate2(gen_feat_worker, arg_list3)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#feats4 = [w for w in ut.generate2(gen_feat_worker, arg_list4)]</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FAILING_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trying to recreate the freeze seen in IBEIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Extremely weird case: freezes only if dsize &gt; (313, 313) AND __testwarp was called beforehand.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># otherwise the parallel loop works fine. Could be an opencv 3.0.0-dev issue.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.preproc.preproc_chip</span> <span class="k">import</span> <span class="n">gen_chip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="k">import</span> <span class="n">__testwarp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grace.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy1.png&#39;</span><span class="p">,</span> <span class="s1">&#39;ada2.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy3.png&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;hard3.png&#39;</span><span class="p">,</span> <span class="s1">&#39;zebra.png&#39;</span><span class="p">,</span> <span class="s1">&#39;patsy.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;ada.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;carl.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;lena.png&#39;</span><span class="p">,</span> <span class="s1">&#39;easy2.png&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">key_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">vt</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">fpath</span><span class="p">),)</span> <span class="k">for</span> <span class="n">fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list2</span> <span class="o">=</span> <span class="p">[(</span><span class="n">vt</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">fpath</span><span class="p">),)</span> <span class="k">for</span> <span class="n">fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#new1 = [x for x in ut.generate2(__testwarp, arg_list1)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new1</span> <span class="o">=</span>  <span class="n">__testwarp</span><span class="p">(</span><span class="n">arg_list1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new2</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">__testwarp</span><span class="p">,</span> <span class="n">arg_list2</span><span class="p">,</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;new2 = %r&#39; % (new2,))</span>
</pre></div>
</div>
</dd>
</dl>
<p>#Example4:
#    &gt;&gt;&gt; # Freakin weird. When IBEIS Runs generate it doesn’t close the processes
#    &gt;&gt;&gt; # UNSTABLE_DOCTEST
#    &gt;&gt;&gt; # python -m utool.util_parallel –test-generate:4
#    &gt;&gt;&gt; # Trying to see if we can recreate the problem where there are
#    &gt;&gt;&gt; # defunct python processes
#    &gt;&gt;&gt; import utool as ut
#    &gt;&gt;&gt; #num = 8700  # parallel is slower for smaller numbers
#    &gt;&gt;&gt; num = 70000  # parallel has an initial (~.1 second startup overhead)
#    &gt;&gt;&gt; print(‘TESTING PARALLEL’)
#    &gt;&gt;&gt; flag_generator1 = list(ut.generate2(ut.is_prime, range(0, num)))
#    &gt;&gt;&gt; flag_generator1 = list(ut.generate2(ut.is_prime, range(0, num)))
#    &gt;&gt;&gt; import time
#    &gt;&gt;&gt; time.sleep(10)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_parallel.get_default_numprocs">
<code class="descclassname">utool.util_parallel.</code><code class="descname">get_default_numprocs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#get_default_numprocs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.get_default_numprocs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_parallel.get_sys_thread_limit">
<code class="descclassname">utool.util_parallel.</code><code class="descname">get_sys_thread_limit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#get_sys_thread_limit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.get_sys_thread_limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_parallel.in_main_process">
<code class="descclassname">utool.util_parallel.</code><code class="descname">in_main_process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#in_main_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.in_main_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns if you are executing in a multiprocessing subprocess
Usefull to disable init print messages on windows</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_parallel.init_worker">
<code class="descclassname">utool.util_parallel.</code><code class="descname">init_worker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#init_worker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.init_worker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_parallel.set_num_procs">
<code class="descclassname">utool.util_parallel.</code><code class="descname">set_num_procs</code><span class="sig-paren">(</span><em>num_procs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#set_num_procs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.set_num_procs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_parallel.spawn_background_daemon_thread">
<code class="descclassname">utool.util_parallel.</code><code class="descname">spawn_background_daemon_thread</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#spawn_background_daemon_thread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.spawn_background_daemon_thread" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_parallel.spawn_background_process">
<code class="descclassname">utool.util_parallel.</code><code class="descname">spawn_background_process</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#spawn_background_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.spawn_background_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a function in the background
(like rebuilding some costly data structure)</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/2046603/is-it-possible-to-run-function-in-a-subprocess-without-threading-or-writing-a-se">http://stackoverflow.com/questions/2046603/is-it-possible-to-run-function-in-a-subprocess-without-threading-or-writing-a-se</a>
<a class="reference external" href="http://stackoverflow.com/questions/1196074/starting-a-background-process-in-python">http://stackoverflow.com/questions/1196074/starting-a-background-process-in-python</a>
<a class="reference external" href="http://stackoverflow.com/questions/15063963/python-is-thread-still-running">http://stackoverflow.com/questions/15063963/python-is-thread-still-running</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_parallel –test-spawn_background_process</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">join</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;test_bgfunc_output.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ensure file is not around</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sleep_time</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">backgrond_func</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">sleep_time</span><span class="p">):</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">time</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[BG] Background Process has started&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep_time</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[BG] Background Process is writing&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="s1">&#39;background process&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[BG] Background Process has finished&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c1">#raise AssertionError(&#39;test exception&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">backgrond_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">sleep_time</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Spawning process&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">threadid</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">spawn_background_process</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">threadid</span><span class="o">.</span><span class="n">is_alive</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;thread should be active&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Spawned process. threadid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">threadid</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># background process should not have finished yet</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Waiting to check&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep_time</span> <span class="o">+</span> <span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Finished waiting&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Now the file should be there</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">threadid</span><span class="o">.</span><span class="n">is_alive</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;process should have died&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_parallel.spawn_background_thread">
<code class="descclassname">utool.util_parallel.</code><code class="descname">spawn_background_thread</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#spawn_background_thread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_parallel.spawn_background_thread" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_path">
<span id="utool-util-path-module"></span><h2>utool.util_path module<a class="headerlink" href="#module-utool.util_path" title="Permalink to this headline">¶</a></h2>
<p>python -c “import utool, doctest; print(doctest.testmod(utool.util_path))”</p>
<p>This module becomes nav</p>
<dl class="class">
<dt id="utool.util_path.ChdirContext">
<em class="property">class </em><code class="descclassname">utool.util_path.</code><code class="descname">ChdirContext</code><span class="sig-paren">(</span><em>dpath=None</em>, <em>stay=False</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ChdirContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ChdirContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>References <a class="reference external" href="http://www.astropython.org/snippet/2009/10/chdir-context-manager">http://www.astropython.org/snippet/2009/10/chdir-context-manager</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ancestor_paths">
<code class="descclassname">utool.util_path.</code><code class="descname">ancestor_paths</code><span class="sig-paren">(</span><em>start=None</em>, <em>limit={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ancestor_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ancestor_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>All paths above you</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.assert_exists">
<code class="descclassname">utool.util_path.</code><code class="descname">assert_exists</code><span class="sig-paren">(</span><em>path_</em>, <em>msg=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.assert_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Asserts that a patha exists</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.assertpath">
<code class="descclassname">utool.util_path.</code><code class="descname">assertpath</code><span class="sig-paren">(</span><em>path_</em>, <em>msg=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#assertpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.assertpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Asserts that a patha exists</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.augpath">
<code class="descclassname">utool.util_path.</code><code class="descname">augpath</code><span class="sig-paren">(</span><em>path</em>, <em>augsuf=''</em>, <em>augext=''</em>, <em>augpref=''</em>, <em>augdir=None</em>, <em>newext=None</em>, <em>newfname=None</em>, <em>ensure=False</em>, <em>prefix=None</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#augpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.augpath" title="Permalink to this definition">¶</a></dt>
<dd><p>augments end of path before the extension.</p>
<p>augpath</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) – </li>
<li><strong>augsuf</strong> (<em>str</em>) – augment filename before extension</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">newpath</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;somefile.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augsuf</span> <span class="o">=</span> <span class="s1">&#39;_aug&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">augpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">augsuf</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">somefile_aug.txt</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;somefile.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augsuf</span> <span class="o">=</span> <span class="s1">&#39;_aug2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newext</span> <span class="o">=</span> <span class="s1">&#39;.bak&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augdir</span> <span class="o">=</span> <span class="s1">&#39;backup&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">augpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">augsuf</span><span class="p">,</span> <span class="n">newext</span><span class="o">=</span><span class="n">newext</span><span class="p">,</span> <span class="n">augdir</span><span class="o">=</span><span class="n">augdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">backup/somefile_aug2.bak</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.basename_noext">
<code class="descclassname">utool.util_path.</code><code class="descname">basename_noext</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#basename_noext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.basename_noext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.checkpath">
<code class="descclassname">utool.util_path.</code><code class="descname">checkpath</code><span class="sig-paren">(</span><em>path_</em>, <em>verbose=False</em>, <em>n=None</em>, <em>info=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#checkpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.checkpath" title="Permalink to this definition">¶</a></dt>
<dd><p>verbose wrapper around <code class="docutils literal notranslate"><span class="pre">os.path.exists</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">true if <code class="docutils literal notranslate"><span class="pre">path_</span></code> exists on the filesystem show only the
top <cite>n</cite> directories</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>str</em>) – path string</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag(default = False)</li>
<li><strong>n</strong> (<em>int</em>) – (default = None)</li>
<li><strong>info</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-checkpath</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">checkpath</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span> <span class="o">+</span> <span class="s1">&#39;foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">checkpath</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.copy">
<code class="descclassname">utool.util_path.</code><code class="descname">copy</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>overwrite=True</em>, <em>deeplink=True</em>, <em>verbose=True</em>, <em>dryrun=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.copy_all">
<code class="descclassname">utool.util_path.</code><code class="descname">copy_all</code><span class="sig-paren">(</span><em>src_dir</em>, <em>dest_dir</em>, <em>glob_str_list</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.copy_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.copy_files_to">
<code class="descclassname">utool.util_path.</code><code class="descname">copy_files_to</code><span class="sig-paren">(</span><em>src_fpath_list</em>, <em>dst_dpath=None</em>, <em>dst_fpath_list=None</em>, <em>overwrite=False</em>, <em>verbose=True</em>, <em>veryverbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_files_to"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.copy_files_to" title="Permalink to this definition">¶</a></dt>
<dd><p>parallel copier</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">overwrite</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">veryverbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src_fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>                  <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_valid_test_imgkeys</span><span class="p">()]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dst_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;filecopy_tests&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy_files_to</span><span class="p">(</span><span class="n">src_fpath_list</span><span class="p">,</span> <span class="n">dst_dpath</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.copy_list">
<code class="descclassname">utool.util_path.</code><code class="descname">copy_list</code><span class="sig-paren">(</span><em>src_list</em>, <em>dst_list</em>, <em>lbl='Copying'</em>, <em>ioerr_ok=False</em>, <em>sherro_ok=False</em>, <em>oserror_ok=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.copy_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies all data and stat info</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.copy_single">
<code class="descclassname">utool.util_path.</code><code class="descname">copy_single</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>overwrite=True</em>, <em>verbose=True</em>, <em>deeplink=True</em>, <em>dryrun=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_single"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.copy_single" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<em>str</em>) – file or directory to copy</li>
<li><strong>dst</strong> (<em>str</em>) – directory or new file to copy to</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Copies src file or folder to dst.</p>
<p>If src is a folder this copy is recursive.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.delete">
<code class="descclassname">utool.util_path.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>path</em>, <em>dryrun=False</em>, <em>recursive=True</em>, <em>verbose=None</em>, <em>print_exists=True</em>, <em>ignore_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a file, directory, or symlink</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.dirsplit">
<code class="descclassname">utool.util_path.</code><code class="descname">dirsplit</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#dirsplit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.dirsplit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">components of the path</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-dirsplit</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;E:/window file/foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;/normal/foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;~/relative/path&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">dirsplit</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">/&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">results2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ensure_crossplat_path">
<code class="descclassname">utool.util_path.</code><code class="descname">ensure_crossplat_path</code><span class="sig-paren">(</span><em>path</em>, <em>winroot='C:'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_crossplat_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ensure_crossplat_path" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">crossplat_path</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Example(DOCTEST):</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\somedir&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cplat_path</span> <span class="o">=</span> <span class="n">ensure_crossplat_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">cplat_path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">C:/somedir</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ensure_ext">
<code class="descclassname">utool.util_path.</code><code class="descname">ensure_ext</code><span class="sig-paren">(</span><em>fpath</em>, <em>ext</em>, <em>replace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ensure_ext" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fpath</strong> (<em>str</em>) – file name or path</li>
<li><strong>ext</strong> (<em>str</em><em> or </em><em>list</em>) – valid extensions</li>
<li><strong>replace</strong> (<em>bool</em>) – if true all other extensions are removed.  this removes
all nonstarting characters including and after the first period.
Otherwise only the trailing extension is kept</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">fpath -  file name or path</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-ensure_ext –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;.bar&#39;</span><span class="p">))</span>
<span class="go">foo.bar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;.bar&#39;</span><span class="p">))</span>
<span class="go">foo.bar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;.baz&#39;</span><span class="p">))</span>
<span class="go">foo.bar.baz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;.baz&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">foo.baz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar.baz&#39;</span><span class="p">,</span> <span class="s1">&#39;.biz&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">foo.biz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;..foo.bar.baz&#39;</span><span class="p">,</span> <span class="s1">&#39;.biz&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">..foo.biz</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ensure_mingw_drive">
<code class="descclassname">utool.util_path.</code><code class="descname">ensure_mingw_drive</code><span class="sig-paren">(</span><em>win32_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_mingw_drive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ensure_mingw_drive" title="Permalink to this definition">¶</a></dt>
<dd><p>replaces windows drives with mingw style drives</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>win32_path</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-ensure_mingw_drive</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">win32_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:/Program Files/Foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ensure_mingw_drive</span><span class="p">(</span><span class="n">win32_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">/c/Program Files/Foobar</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ensure_native_path">
<code class="descclassname">utool.util_path.</code><code class="descname">ensure_native_path</code><span class="sig-paren">(</span><em>path</em>, <em>winroot='C:'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_native_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ensure_native_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.ensure_unixslash">
<code class="descclassname">utool.util_path.</code><code class="descname">ensure_unixslash</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_unixslash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ensure_unixslash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.ensuredir">
<code class="descclassname">utool.util_path.</code><code class="descname">ensuredir</code><span class="sig-paren">(</span><em>path_</em>, <em>verbose=None</em>, <em>info=False</em>, <em>mode=1023</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensuredir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ensuredir" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures that directory will exist. creates new dir with sticky bits by
default</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) – dpath to ensure. Can also be a tuple to send to join</li>
<li><strong>info</strong> (<em>bool</em>) – if True prints extra information</li>
<li><strong>mode</strong> (<em>int</em>) – octal mode of directory (default 0o1777)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">path - the ensured directory</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ensurefile">
<code class="descclassname">utool.util_path.</code><code class="descname">ensurefile</code><span class="sig-paren">(</span><em>fpath</em>, <em>times=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.ensurefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates file if it doesnt exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>times</strong> (<em>None</em>) – </li>
<li><strong>verbose</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1158076/implement-touch-using-python">http://stackoverflow.com/questions/1158076/implement-touch-using-python</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ensurepath">
<code class="descclassname">utool.util_path.</code><code class="descname">ensurepath</code><span class="sig-paren">(</span><em>path_</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensurepath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ensurepath" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE - alias - use ensuredir instead</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.existing_commonprefix">
<code class="descclassname">utool.util_path.</code><code class="descname">existing_commonprefix</code><span class="sig-paren">(</span><em>paths</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#existing_commonprefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.existing_commonprefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.existing_subpath">
<code class="descclassname">utool.util_path.</code><code class="descname">existing_subpath</code><span class="sig-paren">(</span><em>root_path</em>, <em>valid_subpaths</em>, <em>tiebreaker='first'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#existing_subpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.existing_subpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns join(root_path, subpath) where subpath in valid_subpath ane
exists(subpath)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.expand_win32_shortname">
<code class="descclassname">utool.util_path.</code><code class="descname">expand_win32_shortname</code><span class="sig-paren">(</span><em>path1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#expand_win32_shortname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.expand_win32_shortname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.file_bytes">
<code class="descclassname">utool.util_path.</code><code class="descname">file_bytes</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#file_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.file_bytes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fpath</strong> (<em>str</em>) – file path string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">size of file in bytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.file_megabytes">
<code class="descclassname">utool.util_path.</code><code class="descname">file_megabytes</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#file_megabytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.file_megabytes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fpath</strong> (<em>str</em>) – file path string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">size of file in megabytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.find_lib_fpath">
<code class="descclassname">utool.util_path.</code><code class="descname">find_lib_fpath</code><span class="sig-paren">(</span><em>libname</em>, <em>root_dir</em>, <em>recurse_down=True</em>, <em>verbose=False</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#find_lib_fpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.find_lib_fpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for the library</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.fnames_to_fpaths">
<code class="descclassname">utool.util_path.</code><code class="descname">fnames_to_fpaths</code><span class="sig-paren">(</span><em>fname_list</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fnames_to_fpaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.fnames_to_fpaths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.fpath_has_ext">
<code class="descclassname">utool.util_path.</code><code class="descname">fpath_has_ext</code><span class="sig-paren">(</span><em>fname</em>, <em>exts</em>, <em>case_sensitive=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fpath_has_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.fpath_has_ext" title="Permalink to this definition">¶</a></dt>
<dd><p>returns true if the filename has any of the given extensions</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.fpath_has_imgext">
<code class="descclassname">utool.util_path.</code><code class="descname">fpath_has_imgext</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fpath_has_imgext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.fpath_has_imgext" title="Permalink to this definition">¶</a></dt>
<dd><p>returns true if a filename matches an image pattern</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.fpaths_to_fnames">
<code class="descclassname">utool.util_path.</code><code class="descname">fpaths_to_fnames</code><span class="sig-paren">(</span><em>fpath_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fpaths_to_fnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.fpaths_to_fnames" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fpath_list</strong> (<em>list of strs</em>) – list of file-paths</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of file-names</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">fname_list (list of strs)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.get_modname_from_modpath">
<code class="descclassname">utool.util_path.</code><code class="descname">get_modname_from_modpath</code><span class="sig-paren">(</span><em>module_fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_modname_from_modpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_modname_from_modpath" title="Permalink to this definition">¶</a></dt>
<dd><p>returns importable name from file path</p>
<p>get_modname_from_modpath</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module_fpath</strong> (<em>str</em>) – module filepath</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">modname</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_modname_from_modpath</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">modname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool.util_path</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.get_modpath">
<code class="descclassname">utool.util_path.</code><code class="descname">get_modpath</code><span class="sig-paren">(</span><em>modname</em>, <em>prefer_pkg=False</em>, <em>prefer_main=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_modpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_modpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns path to module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modname</strong> (<em>str</em><em> or </em><em>module</em>) – module name or actual module</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">module_dir</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-get_modpath</dd>
<dt>Setup:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_path&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dir</span> <span class="o">=</span> <span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">(</span><span class="n">module_dir</span><span class="p">,</span> <span class="n">utool_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool/util_path.py</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool._internal&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dir</span> <span class="o">=</span> <span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">prefer_pkg</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">module_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;utool/_internal&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dir</span> <span class="o">=</span> <span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">(</span><span class="n">module_dir</span><span class="p">,</span> <span class="n">utool_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool/__init__.py</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.get_module_dir">
<code class="descclassname">utool.util_path.</code><code class="descname">get_module_dir</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_module_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_module_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.get_module_subdir_list">
<code class="descclassname">utool.util_path.</code><code class="descname">get_module_subdir_list</code><span class="sig-paren">(</span><em>module_fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_module_subdir_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_module_subdir_list" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module_fpath</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modsubdir_list</span> <span class="o">=</span> <span class="n">get_module_subdir_list</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">modsubdir_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;utool&#39;, &#39;util_path&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.get_nonconflicting_path">
<code class="descclassname">utool.util_path.</code><code class="descname">get_nonconflicting_path</code><span class="sig-paren">(</span><em>path_</em>, <em>dpath=None</em>, <em>offset=0</em>, <em>suffix=None</em>, <em>force_fmt=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.get_nonconflicting_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for and finds a path garuenteed to not exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) – path string. If may include a “%” formatstr.</li>
<li><strong>dpath</strong> (<em>str</em>) – directory path(default = None)</li>
<li><strong>offset</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>suffix</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id265"><span class="problematic" id="id266">path_</span></a> - path string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path non_existing_path</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp0.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp1.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;tmp1.txt&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;_old&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="n">suffix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">),</span> <span class="s1">&#39;dir_old2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.get_path_type">
<code class="descclassname">utool.util_path.</code><code class="descname">get_path_type</code><span class="sig-paren">(</span><em>path_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_path_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_path_type" title="Permalink to this definition">¶</a></dt>
<dd><p>returns if a path is a file, directory, link, or mount</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.get_relative_modpath">
<code class="descclassname">utool.util_path.</code><code class="descname">get_relative_modpath</code><span class="sig-paren">(</span><em>module_fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_relative_modpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_relative_modpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns path to module relative to the package root</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module_fpath</strong> (<em>str</em>) – module filepath</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">modname</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel_modpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_relative_modpath</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel_modpath</span> <span class="o">=</span> <span class="n">rel_modpath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">)</span>  <span class="c1"># allow pyc or py</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ensure_crossplat_path</span><span class="p">(</span><span class="n">rel_modpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool/util_path.py</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.get_standard_exclude_dnames">
<code class="descclassname">utool.util_path.</code><code class="descname">get_standard_exclude_dnames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_standard_exclude_dnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_standard_exclude_dnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.get_standard_include_patterns">
<code class="descclassname">utool.util_path.</code><code class="descname">get_standard_include_patterns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_standard_include_patterns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_standard_include_patterns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.get_win32_short_path_name">
<code class="descclassname">utool.util_path.</code><code class="descname">get_win32_short_path_name</code><span class="sig-paren">(</span><em>long_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_win32_short_path_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.get_win32_short_path_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the short path name of a given long path.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/a/23598461/200291">http://stackoverflow.com/a/23598461/200291</a>
<a class="reference external" href="http://stackoverflow.com/questions/23598289/get-win-short-fname-python">http://stackoverflow.com/questions/23598289/get-win-short-fname-python</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#long_name = unicode(normpath(ut.get_resource_dir()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">long_name</span> <span class="o">=</span> <span class="n">unicode</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;C:/Program Files (x86)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#long_name = unicode(r&#39;C:/Python27&#39;)</span>
<span class="go">#unicode(normpath(ut.get_resource_dir()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_win32_short_path_name</span><span class="p">(</span><span class="n">long_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">C:/PROGRA~2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.glob">
<code class="descclassname">utool.util_path.</code><code class="descname">glob</code><span class="sig-paren">(</span><em>dpath</em>, <em>pattern=None</em>, <em>recursive=False</em>, <em>with_files=True</em>, <em>with_dirs=True</em>, <em>maxdepth=None</em>, <em>exclude_dirs=[]</em>, <em>fullpath=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#glob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.glob" title="Permalink to this definition">¶</a></dt>
<dd><p>Globs directory for pattern</p>
<dl class="docutils">
<dt>DEPRICATED:</dt>
<dd>use pathlib.glob instead</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dpath</strong> (<em>str</em>) – directory path or pattern</li>
<li><strong>pattern</strong> (<em>str</em><em> or </em><em>list</em>) – pattern or list of patterns
(use only if pattern is not in dpath)</li>
<li><strong>recursive</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>with_files</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>with_dirs</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>maxdepth</strong> (<em>None</em>) – (default = None)</li>
<li><strong>exclude_dirs</strong> (<em>list</em>) – (default = [])</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">path_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>iglob</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-glob
python -m utool.util_path –exec-glob:1</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;__*.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_files</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_dirs</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxdepth</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_internal&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;experimental&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;exclude_dirs = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">exclude_dirs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">with_files</span><span class="p">,</span> <span class="n">with_dirs</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">maxdepth</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span> <span class="n">fullpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">path_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">path_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">path_list = [</span>
<span class="go">    &#39;__init__.py&#39;,</span>
<span class="go">    &#39;__main__.py&#39;,</span>
<span class="go">    &#39;tests/__init__.py&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/__*.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">path_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.glob_python_modules">
<code class="descclassname">utool.util_path.</code><code class="descname">glob_python_modules</code><span class="sig-paren">(</span><em>dirname</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#glob_python_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.glob_python_modules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.grep">
<code class="descclassname">utool.util_path.</code><code class="descname">grep</code><span class="sig-paren">(</span><em>regex_list</em>, <em>recursive=True</em>, <em>dpath_list=None</em>, <em>include_patterns=None</em>, <em>exclude_dirs=[]</em>, <em>greater_exclude_dirs=None</em>, <em>inverse=False</em>, <em>exclude_patterns=[]</em>, <em>verbose=False</em>, <em>fpath_list=None</em>, <em>reflags=0</em>, <em>cache=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#grep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.grep" title="Permalink to this definition">¶</a></dt>
<dd><p>greps for patterns
Python implementation of grep. NOT FINISHED</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>regex_list</strong> (<em>str</em><em> or </em><em>list</em>) – one or more patterns to find</li>
<li><strong>recursive</strong> (<em>bool</em>) – </li>
<li><strong>dpath_list</strong> (<em>list</em>) – directories to search (defaults to cwd)</li>
<li><strong>include_patterns</strong> (<em>list</em>) – defaults to standard file extensions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(found_fpaths, found_lines_list, found_lxs_list)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(list, list, list)</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-grep
utprof.py -m utool.util_path –exec-grep
utprof.py utool/util_path.py –exec-grep</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dpath_list = [ut.truepath(&#39;~/code/utool/utool&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;*.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grepfile&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grep</span><span class="p">(</span><span class="n">regex_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">dpath_list</span><span class="p">,</span> <span class="n">include_patterns</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">exclude_dirs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">found_fpath_list</span><span class="p">,</span> <span class="n">found_lines_list</span><span class="p">,</span> <span class="n">found_lxs_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;util_path.py&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">basename</span><span class="p">,</span> <span class="n">found_fpath_list</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.grepfile">
<code class="descclassname">utool.util_path.</code><code class="descname">grepfile</code><span class="sig-paren">(</span><em>fpath</em>, <em>regexpr_list</em>, <em>reflags=0</em>, <em>cache=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#grepfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.grepfile" title="Permalink to this definition">¶</a></dt>
<dd><p>grepfile - greps a specific file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fpath</strong> (<em>str</em>) – </li>
<li><strong>regexpr_list</strong> (<em>list</em><em> or </em><em>str</em>) – pattern or list of patterns</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of lines and list of line numbers</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple (list, list)</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-grepfile</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regexpr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foundthisline&#39;</span><span class="p">,</span> <span class="s1">&#39;__future__&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reflags</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_lines</span><span class="p">,</span> <span class="n">found_lxs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grepfile</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">regexpr_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">({</span><span class="s1">&#39;found_lines&#39;</span><span class="p">:</span> <span class="n">found_lines</span><span class="p">,</span> <span class="s1">&#39;found_lxs&#39;</span><span class="p">:</span> <span class="n">found_lxs</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">7</span> <span class="ow">in</span> <span class="n">found_lxs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">others</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_complement</span><span class="p">(</span><span class="n">found_lxs</span><span class="p">,</span> <span class="p">[</span><span class="n">found_lxs</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">7</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">others</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">others</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.greplines">
<code class="descclassname">utool.util_path.</code><code class="descname">greplines</code><span class="sig-paren">(</span><em>lines</em>, <em>regexpr_list</em>, <em>reflags=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#greplines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.greplines" title="Permalink to this definition">¶</a></dt>
<dd><p>grepfile - greps a specific file</p>
<p>TODO: move to util_str, rework to be core of grepfile</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.iglob">
<code class="descclassname">utool.util_path.</code><code class="descname">iglob</code><span class="sig-paren">(</span><em>dpath</em>, <em>pattern=None</em>, <em>recursive=False</em>, <em>with_files=True</em>, <em>with_dirs=True</em>, <em>maxdepth=None</em>, <em>exclude_dirs=[]</em>, <em>fullpath=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#iglob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.iglob" title="Permalink to this definition">¶</a></dt>
<dd><p>Iteratively globs directory for pattern</p>
<dl class="docutils">
<dt>FIXME:</dt>
<dd>This function has a speed issue</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dpath</strong> (<em>str</em>) – directory path</li>
<li><strong>pattern</strong> (<em>str</em>) – </li>
<li><strong>recursive</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>with_files</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>with_dirs</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>maxdepth</strong> (<em>None</em>) – (default = None)</li>
<li><strong>exclude_dirs</strong> (<em>list</em>) – (default = [])</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last">path</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/19859840/excluding-dirs-in-os-walk">http://stackoverflow.com/questions/19859840/excluding-dirs-in-os-walk</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.is_module_dir">
<code class="descclassname">utool.util_path.</code><code class="descname">is_module_dir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#is_module_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.is_module_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if path contains an __init__ file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">flag</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/utool/utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">is_module_dir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.is_private_module">
<code class="descclassname">utool.util_path.</code><code class="descname">is_private_module</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#is_private_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.is_private_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.is_python_module">
<code class="descclassname">utool.util_path.</code><code class="descname">is_python_module</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#is_python_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.is_python_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.list_images">
<code class="descclassname">utool.util_path.</code><code class="descname">list_images</code><span class="sig-paren">(</span><em>img_dpath_</em>, <em>ignore_list=[]</em>, <em>recursive=False</em>, <em>fullpath=False</em>, <em>full=None</em>, <em>sort=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#list_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.list_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of images in a directory. By default returns relative paths.</p>
<p>TODO: rename to ls_images
TODO: Change all instances of fullpath to full</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>img_dpath</strong> (<em>str</em>) – </li>
<li><strong>ignore_list</strong> (<em>list</em>) – (default = [])</li>
<li><strong>recursive</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>fullpath</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>full</strong> (<em>None</em>) – (default = None)</li>
<li><strong>sort</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">gname_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-list_images</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_dpath_</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">full</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sort</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gname_list</span> <span class="o">=</span> <span class="n">list_images</span><span class="p">(</span><span class="n">img_dpath_</span><span class="p">,</span> <span class="n">ignore_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">fullpath</span><span class="p">,</span> <span class="n">full</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;gname_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gname_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.longest_existing_path">
<code class="descclassname">utool.util_path.</code><code class="descname">longest_existing_path</code><span class="sig-paren">(</span><em>_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#longest_existing_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.longest_existing_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the longest root of _path that exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_path</strong> (<em>str</em>) – path string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">_path -  path string</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-longest_existing_path</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="s1">&#39;nonexist/foobar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">existing_path</span> <span class="o">=</span> <span class="n">longest_existing_path</span><span class="p">(</span><span class="n">_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;existing_path = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">existing_path</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">existing_path</span> <span class="o">==</span> <span class="n">target</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ls">
<code class="descclassname">utool.util_path.</code><code class="descname">ls</code><span class="sig-paren">(</span><em>path</em>, <em>pattern='*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ls" title="Permalink to this definition">¶</a></dt>
<dd><p>like unix ls - lists all files and dirs in path</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ls_dirs">
<code class="descclassname">utool.util_path.</code><code class="descname">ls_dirs</code><span class="sig-paren">(</span><em>path</em>, <em>pattern='*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ls_dirs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.ls_images">
<code class="descclassname">utool.util_path.</code><code class="descname">ls_images</code><span class="sig-paren">(</span><em>img_dpath_</em>, <em>ignore_list=[]</em>, <em>recursive=False</em>, <em>fullpath=False</em>, <em>full=None</em>, <em>sort=True</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.ls_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of images in a directory. By default returns relative paths.</p>
<p>TODO: rename to ls_images
TODO: Change all instances of fullpath to full</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>img_dpath</strong> (<em>str</em>) – </li>
<li><strong>ignore_list</strong> (<em>list</em>) – (default = [])</li>
<li><strong>recursive</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>fullpath</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>full</strong> (<em>None</em>) – (default = None)</li>
<li><strong>sort</strong> (<em>bool</em>) – (default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">gname_list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-list_images</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_dpath_</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">full</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sort</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gname_list</span> <span class="o">=</span> <span class="n">list_images</span><span class="p">(</span><span class="n">img_dpath_</span><span class="p">,</span> <span class="n">ignore_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">fullpath</span><span class="p">,</span> <span class="n">full</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;gname_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gname_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ls_moduledirs">
<code class="descclassname">utool.util_path.</code><code class="descname">ls_moduledirs</code><span class="sig-paren">(</span><em>path</em>, <em>private=True</em>, <em>full=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls_moduledirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ls_moduledirs" title="Permalink to this definition">¶</a></dt>
<dd><p>lists all dirs which are python modules in path</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.ls_modulefiles">
<code class="descclassname">utool.util_path.</code><code class="descname">ls_modulefiles</code><span class="sig-paren">(</span><em>path</em>, <em>private=True</em>, <em>full=True</em>, <em>noext=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls_modulefiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.ls_modulefiles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.make_grep_resultstr">
<code class="descclassname">utool.util_path.</code><code class="descname">make_grep_resultstr</code><span class="sig-paren">(</span><em>grep_result</em>, <em>extended_regex_list</em>, <em>reflags</em>, <em>colored=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#make_grep_resultstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.make_grep_resultstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.matching_fpaths">
<code class="descclassname">utool.util_path.</code><code class="descname">matching_fpaths</code><span class="sig-paren">(</span><em>dpath_list</em>, <em>include_patterns</em>, <em>exclude_dirs=[]</em>, <em>greater_exclude_dirs=[]</em>, <em>exclude_patterns=[]</em>, <em>recursive=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#matching_fpaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.matching_fpaths" title="Permalink to this definition">¶</a></dt>
<dd><p>walks dpath lists returning all directories that match the requested
pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dpath_list</strong> (<em>list</em>) – </li>
<li><strong>include_patterns</strong> (<em>str</em>) – </li>
<li><strong>exclude_dirs</strong> (<em>None</em>) – </li>
<li><strong>recursive</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p># TODO: fix names and behavior of exclude_dirs and greater_exclude_dirs
<a class="reference external" href="http://stackoverflow.com/questions/19859840/excluding-directories-in-os-walk">http://stackoverflow.com/questions/19859840/excluding-directories-in-os-walk</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_patterns</span> <span class="o">=</span> <span class="n">get_standard_include_patterns</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_page&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">greater_exclude_dirs</span> <span class="o">=</span> <span class="n">get_standard_exclude_dnames</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath_gen</span> <span class="o">=</span> <span class="n">matching_fpaths</span><span class="p">(</span><span class="n">dpath_list</span><span class="p">,</span> <span class="n">include_patterns</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                            <span class="n">greater_exclude_dirs</span><span class="p">,</span> <span class="n">recursive</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">fpath_gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.move">
<code class="descclassname">utool.util_path.</code><code class="descname">move</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.move" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.move_list">
<code class="descclassname">utool.util_path.</code><code class="descname">move_list</code><span class="sig-paren">(</span><em>src_list</em>, <em>dst_list</em>, <em>lbl='Moving'</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#move_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.move_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.newcd">
<code class="descclassname">utool.util_path.</code><code class="descname">newcd</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#newcd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.newcd" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.non_existing_path">
<code class="descclassname">utool.util_path.</code><code class="descname">non_existing_path</code><span class="sig-paren">(</span><em>path_</em>, <em>dpath=None</em>, <em>offset=0</em>, <em>suffix=None</em>, <em>force_fmt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#non_existing_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.non_existing_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for and finds a path garuenteed to not exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) – path string. If may include a “%” formatstr.</li>
<li><strong>dpath</strong> (<em>str</em>) – directory path(default = None)</li>
<li><strong>offset</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>suffix</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id267"><span class="problematic" id="id268">path_</span></a> - path string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path non_existing_path</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp0.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp1.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;tmp1.txt&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;_old&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="n">suffix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">),</span> <span class="s1">&#39;dir_old2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.num_images_in_dir">
<code class="descclassname">utool.util_path.</code><code class="descname">num_images_in_dir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#num_images_in_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.num_images_in_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the number of images in a directory</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.path_ndir_split">
<code class="descclassname">utool.util_path.</code><code class="descname">path_ndir_split</code><span class="sig-paren">(</span><em>path_</em>, <em>n</em>, <em>force_unix=True</em>, <em>winroot='C:'</em>, <em>trailing=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#path_ndir_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.path_ndir_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows only a little bit of the path. Up to the n bottom-level directories</p>
<p>TODO: rename to path_tail? ndir_split?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(str) the trailing n paths of path.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python3 -m utool.util_path –test-path_ndir_split
python3 -m utool –tf path_ndir_split
python -m utool –tf path_ndir_split</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s1">&#39;/usr/bin/local/foo/bar&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;C:/&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="c1">#r&#39;lonerel&#39;,</span>
<span class="gp">... </span>         <span class="c1">#r&#39;reldir/other&#39;,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;/ham&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;./eggs&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;/spam/eggs&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;C:\Program Files (x86)/foobar/bin&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iter_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">iprod</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force_unix</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tuplist</span> <span class="o">=</span> <span class="p">[(</span><span class="n">n</span><span class="p">,</span> <span class="n">path_ndir_split</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span> <span class="k">for</span> <span class="n">path_</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">iter_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunklist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ichunks</span><span class="p">(</span><span class="n">tuplist</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;n=</span><span class="si">%r</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">reprfunc</span><span class="p">(</span><span class="n">y</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">chunk</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunklist</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span> <span class="k">for</span> <span class="n">strs</span> <span class="ow">in</span> <span class="n">list_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">n=1: &#39;.../bar&#39;, n=2: &#39;.../foo/bar&#39;</span>
<span class="go">n=1: &#39;C:/&#39;, n=2: &#39;C:/&#39;</span>
<span class="go">n=1: &#39;.../ham&#39;, n=2: &#39;/ham&#39;</span>
<span class="go">n=1: &#39;.../eggs&#39;, n=2: &#39;./eggs&#39;</span>
<span class="go">n=1: &#39;.../eggs&#39;, n=2: &#39;.../spam/eggs&#39;</span>
<span class="go">n=1: &#39;.../bin&#39;, n=2: &#39;.../foobar/bin&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.pathsplit_full">
<code class="descclassname">utool.util_path.</code><code class="descname">pathsplit_full</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#pathsplit_full"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.pathsplit_full" title="Permalink to this definition">¶</a></dt>
<dd><p>splits all directories in path into a list</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.platform_path">
<code class="descclassname">utool.util_path.</code><code class="descname">platform_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#platform_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.platform_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns platform specific path for pyinstaller usage</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">path2</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-platform_path</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FIXME: find examples of the wird paths this fixes (mostly on win32 i think)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;some/odd/../weird/path&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path2</span> <span class="o">=</span> <span class="n">platform_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">path2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">WIN32</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">path2</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;some\weird\path&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">path2</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;some/weird/path&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>    <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">WIN32</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;C:/PROGRA~2&#39;</span>
<span class="gp">... </span>    <span class="n">path2</span> <span class="o">=</span> <span class="n">platform_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">path2</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">Program Files (x86)&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.relpath_unix">
<code class="descclassname">utool.util_path.</code><code class="descname">relpath_unix</code><span class="sig-paren">(</span><em>path</em>, <em>otherpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#relpath_unix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.relpath_unix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.remove_broken_links">
<code class="descclassname">utool.util_path.</code><code class="descname">remove_broken_links</code><span class="sig-paren">(</span><em>dpath</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_broken_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.remove_broken_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all broken links in a directory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dpath</strong> (<em>str</em>) – directory path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">num removed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/20794/find-broken-symlinks-with-python">http://stackoverflow.com/questions/20794/find-broken-symlinks-with-python</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool remove_broken_links:0</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_broken_links</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;path_tests&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;testdpath&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensurefile</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;testfpath.txt&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flink1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">test_fpath</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;flink1&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlink1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">test_fpath</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;dlink1&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">dpath</span><span class="p">))</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">test_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">dpath</span><span class="p">))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_broken_links</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">test_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_broken_links</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">dpath</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.remove_dirs">
<code class="descclassname">utool.util_path.</code><code class="descname">remove_dirs</code><span class="sig-paren">(</span><em>dpath</em>, <em>verbose=None</em>, <em>ignore_errors=True</em>, <em>dryrun=False</em>, <em>quiet=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.remove_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively removes a single directory (need to change function name)</p>
<p>DEPRICATE</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dpath</strong> (<em>str</em>) – directory path</li>
<li><strong>dryrun</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>ignore_errors</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>quiet</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">False</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-remove_dirs</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;testremovedir&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exists</span><span class="p">(</span><span class="n">dpath</span><span class="p">),</span> <span class="s1">&#39;nothing to remove&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">remove_dirs</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">dpath</span><span class="p">),</span> <span class="s1">&#39;did not remove dpath&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">flag</span> <span class="ow">is</span> <span class="kc">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.remove_existing_fpaths">
<code class="descclassname">utool.util_path.</code><code class="descname">remove_existing_fpaths</code><span class="sig-paren">(</span><em>fpath_list</em>, <em>verbose=False</em>, <em>quiet=False</em>, <em>strict=False</em>, <em>print_caller=False</em>, <em>lbl='files'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_existing_fpaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.remove_existing_fpaths" title="Permalink to this definition">¶</a></dt>
<dd><p>checks existance before removing. then tries to remove exisint paths</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.remove_file">
<code class="descclassname">utool.util_path.</code><code class="descname">remove_file</code><span class="sig-paren">(</span><em>fpath</em>, <em>verbose=None</em>, <em>ignore_errors=True</em>, <em>dryrun=False</em>, <em>quiet=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a file</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.remove_file_list">
<code class="descclassname">utool.util_path.</code><code class="descname">remove_file_list</code><span class="sig-paren">(</span><em>fpaths</em>, <em>verbose=False</em>, <em>quiet=False</em>, <em>strict=False</em>, <em>print_caller=False</em>, <em>lbl='files'</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.remove_file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes multiple file paths</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.remove_files_in_dir">
<code class="descclassname">utool.util_path.</code><code class="descname">remove_files_in_dir</code><span class="sig-paren">(</span><em>dpath</em>, <em>fname_pattern_list='*'</em>, <em>recursive=False</em>, <em>verbose=False</em>, <em>dryrun=False</em>, <em>ignore_errors=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_files_in_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.remove_files_in_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes files matching a pattern from a directory</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.remove_fpaths">
<code class="descclassname">utool.util_path.</code><code class="descname">remove_fpaths</code><span class="sig-paren">(</span><em>fpaths</em>, <em>verbose=False</em>, <em>quiet=False</em>, <em>strict=False</em>, <em>print_caller=False</em>, <em>lbl='files'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_fpaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.remove_fpaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes multiple file paths</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.sanitize_filename">
<code class="descclassname">utool.util_path.</code><code class="descname">sanitize_filename</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#sanitize_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.sanitize_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_path.search_candidate_paths">
<code class="descclassname">utool.util_path.</code><code class="descname">search_candidate_paths</code><span class="sig-paren">(</span><em>candidate_path_list</em>, <em>candidate_name_list=None</em>, <em>priority_paths=None</em>, <em>required_subpaths=[]</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#search_candidate_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.search_candidate_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>searches for existing paths that meed a requirement</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>candidate_path_list</strong> (<em>list</em>) – list of paths to check. If
candidate_name_list is specified this is the dpath list instead</li>
<li><strong>candidate_name_list</strong> (<em>list</em>) – specifies several names to check
(default = None)</li>
<li><strong>priority_paths</strong> (<em>None</em>) – specifies paths to check first.
Ignore candidate_name_list (default = None)</li>
<li><strong>required_subpaths</strong> (<em>list</em>) – specified required directory structure
(default = [])</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag(default = True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">return_path</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –test-search_candidate_paths</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_path_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/RPI/code/utool&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/utool&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_name_list</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">required_subpaths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">priority_paths</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_path</span> <span class="o">=</span> <span class="n">search_candidate_paths</span><span class="p">(</span><span class="n">candidate_path_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                     <span class="n">candidate_name_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                     <span class="n">priority_paths</span><span class="p">,</span> <span class="n">required_subpaths</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                     <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;return_path = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">return_path</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.search_in_dirs">
<code class="descclassname">utool.util_path.</code><code class="descname">search_in_dirs</code><span class="sig-paren">(</span><em>fname</em>, <em>search_dpaths=[]</em>, <em>shortcircuit=True</em>, <em>return_tried=False</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#search_in_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.search_in_dirs" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<em>str</em>) – file name</li>
<li><strong>search_dpaths</strong> (<em>list</em>) – </li>
<li><strong>shortcircuit</strong> (<em>bool</em>) – </li>
<li><strong>return_tried</strong> (<em>bool</em>) – return tried paths</li>
<li><strong>strict</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">fpath</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;Inno Setup 5\ISCC.exe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_dpaths</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_install_dirs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortcircuit</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">search_in_dirs</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">search_dpaths</span><span class="p">,</span> <span class="n">shortcircuit</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.sed">
<code class="descclassname">utool.util_path.</code><code class="descname">sed</code><span class="sig-paren">(</span><em>regexpr</em>, <em>repl</em>, <em>force=False</em>, <em>recursive=False</em>, <em>dpath_list=None</em>, <em>fpath_list=None</em>, <em>verbose=None</em>, <em>include_patterns=None</em>, <em>exclude_patterns=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#sed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.sed" title="Permalink to this definition">¶</a></dt>
<dd><p>Python implementation of sed. NOT FINISHED</p>
<p>searches and replaces text in files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>regexpr</strong> (<em>str</em>) – regx patterns to find</li>
<li><strong>repl</strong> (<em>str</em>) – text to replace</li>
<li><strong>force</strong> (<em>bool</em>) – </li>
<li><strong>recursive</strong> (<em>bool</em>) – </li>
<li><strong>dpath_list</strong> (<em>list</em>) – directories to search (defaults to cwd)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.sedfile">
<code class="descclassname">utool.util_path.</code><code class="descname">sedfile</code><span class="sig-paren">(</span><em>fpath</em>, <em>regexpr</em>, <em>repl</em>, <em>force=False</em>, <em>verbose=True</em>, <em>veryverbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#sedfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.sedfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes sed on a specific file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fpath</strong> (<em>str</em>) – file path string</li>
<li><strong>regexpr</strong> (<em>str</em>) – </li>
<li><strong>repl</strong> (<em>str</em>) – </li>
<li><strong>force</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag(default = True)</li>
<li><strong>veryverbose</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">changed_lines</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-sedfile –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regexpr</span> <span class="o">=</span> <span class="s1">&#39;sedfile&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="s1">&#39;saidfile&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">veryverbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed_lines</span> <span class="o">=</span> <span class="n">sedfile</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">regexpr</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">veryverbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;changed_lines = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">changed_lines</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.symlink">
<code class="descclassname">utool.util_path.</code><code class="descname">symlink</code><span class="sig-paren">(</span><em>real_path</em>, <em>link_path</em>, <em>overwrite=False</em>, <em>on_error='raise'</em>, <em>verbose=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#symlink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.symlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to create a symbolic link.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) – path to real file or directory</li>
<li><strong>link_path</strong> (<em>str</em>) – path to desired location for symlink</li>
<li><strong>overwrite</strong> (<em>bool</em>) – overwrite existing symlinks (default = False)</li>
<li><strong>on_error</strong> (<em>str</em>) – strategy for dealing with errors.
raise or ignore</li>
<li><strong>verbose</strong> (<em>int</em>) – verbosity level (default=2)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">link path</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path symlink</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">real_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;real_file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;link_file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">emap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">,</span> <span class="p">[</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">real_path</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">symlink</span><span class="p">(</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">emap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">,</span> <span class="p">[</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">real_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;real_dpath&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">augpath</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="n">newfname</span><span class="o">=</span><span class="s1">&#39;link_dpath&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">real_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">link_dpath</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">emap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">,</span> <span class="p">[</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">real_path</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">symlink</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="n">link_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">link_path</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">link_dpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">real_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">real_path</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.tail">
<code class="descclassname">utool.util_path.</code><code class="descname">tail</code><span class="sig-paren">(</span><em>fpath</em>, <em>n=2</em>, <em>trailing=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#tail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.tail" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for path_ndir_split</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.testgrep">
<code class="descclassname">utool.util_path.</code><code class="descname">testgrep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#testgrep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.testgrep" title="Permalink to this definition">¶</a></dt>
<dd><p>utprof.py -m utool.util_path –exec-testgrep</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dpath_list = [ut.truepath(&#39;~/code/utool/utool&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;*.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grepfile&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grep</span><span class="p">(</span><span class="n">regex_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">dpath_list</span><span class="p">,</span> <span class="n">include_patterns</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">exclude_dirs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">found_fpath_list</span><span class="p">,</span> <span class="n">found_lines_list</span><span class="p">,</span> <span class="n">found_lxs_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;util_path.py&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">basename</span><span class="p">,</span> <span class="n">found_fpath_list</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.touch">
<code class="descclassname">utool.util_path.</code><code class="descname">touch</code><span class="sig-paren">(</span><em>fpath</em>, <em>times=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#touch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.touch" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates file if it doesnt exist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fpath</strong> (<em>str</em>) – file path</li>
<li><strong>times</strong> (<em>None</em>) – </li>
<li><strong>verbose</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1158076/implement-touch-using-python">http://stackoverflow.com/questions/1158076/implement-touch-using-python</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.truepath_relative">
<code class="descclassname">utool.util_path.</code><code class="descname">truepath_relative</code><span class="sig-paren">(</span><em>path</em>, <em>otherpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#truepath_relative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.truepath_relative" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes and returns absolute path with so specs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) – path to file or directory</li>
<li><strong>otherpath</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id269"><span class="problematic" id="id270">path_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_path –exec-truepath_relative –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;C:/foobar/foobiz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">otherpath</span> <span class="o">=</span> <span class="s1">&#39;C:/foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">truepath_relative</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">otherpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">path_</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">path_ = &#39;foobiz&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.unexpanduser">
<code class="descclassname">utool.util_path.</code><code class="descname">unexpanduser</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#unexpanduser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.unexpanduser" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces home directory with ‘~’</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_path.win_shortcut">
<code class="descclassname">utool.util_path.</code><code class="descname">win_shortcut</code><span class="sig-paren">(</span><em>source</em>, <em>link_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#win_shortcut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_path.win_shortcut" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to create windows shortcut
TODO: TEST / FIXME</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1447575/symlinks-on-windows">http://stackoverflow.com/questions/1447575/symlinks-on-windows</a></p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_print">
<span id="utool-util-print-module"></span><h2>utool.util_print module<a class="headerlink" href="#module-utool.util_print" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_print.Indenter">
<em class="property">class </em><code class="descclassname">utool.util_print.</code><code class="descname">Indenter</code><span class="sig-paren">(</span><em>lbl='    '</em>, <em>enabled=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#Indenter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.Indenter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Monkey patches modules injected with print to change the way print behaves.</p>
<p>Works with utool.inject to allow for prefixing of all within-context
print statements in a semi-dynamic manner. There seem to be some bugs
but it works pretty well.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_print –exec-Indenter</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_print</span><span class="o">.</span><span class="n">_test_indent_print</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_print.Indenter.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#Indenter.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.Indenter.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_print.Indenter.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#Indenter.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.Indenter.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_print.colorprint">
<code class="descclassname">utool.util_print.</code><code class="descname">colorprint</code><span class="sig-paren">(</span><em>text</em>, <em>color=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#colorprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.colorprint" title="Permalink to this definition">¶</a></dt>
<dd><p>provides some color to terminal output</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>str</em>) – </li>
<li><strong>color</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>assert color in [‘’, ‘yellow’, ‘blink’, ‘lightgray’, ‘underline’,
‘darkyellow’, ‘blue’, ‘darkblue’, ‘faint’, ‘fuchsia’, ‘black’, ‘white’,
‘red’, ‘brown’, ‘turquoise’, ‘bold’, ‘darkred’, ‘darkgreen’, ‘reset’,
‘standout’, ‘darkteal’, ‘darkgray’, ‘overline’, ‘purple’, ‘green’, ‘teal’,
‘fuscia’]</dd>
<dt>CommandLine:</dt>
<dd><p class="first">python -c “import pygments.console; print(list(pygments.console.codes.keys()))”
python -m utool.util_print –exec-colorprint
python -m utool.util_print –exec-colorprint:1</p>
<p class="last">import pygments
print(ut.repr4(list(pygments.formatters.get_all_formatters())))
print(list(pygments.styles.get_all_styles()))</p>
</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">color_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">colorprint</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">msg_list</span><span class="p">,</span> <span class="n">color_list</span><span class="p">)]</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST (Windows test)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line2&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line3&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line4&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;reset&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line6&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_print.cprint">
<code class="descclassname">utool.util_print.</code><code class="descname">cprint</code><span class="sig-paren">(</span><em>text</em>, <em>color=None</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_print.cprint" title="Permalink to this definition">¶</a></dt>
<dd><p>provides some color to terminal output</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>str</em>) – </li>
<li><strong>color</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>assert color in [‘’, ‘yellow’, ‘blink’, ‘lightgray’, ‘underline’,
‘darkyellow’, ‘blue’, ‘darkblue’, ‘faint’, ‘fuchsia’, ‘black’, ‘white’,
‘red’, ‘brown’, ‘turquoise’, ‘bold’, ‘darkred’, ‘darkgreen’, ‘reset’,
‘standout’, ‘darkteal’, ‘darkgray’, ‘overline’, ‘purple’, ‘green’, ‘teal’,
‘fuscia’]</dd>
<dt>CommandLine:</dt>
<dd><p class="first">python -c “import pygments.console; print(list(pygments.console.codes.keys()))”
python -m utool.util_print –exec-colorprint
python -m utool.util_print –exec-colorprint:1</p>
<p class="last">import pygments
print(ut.repr4(list(pygments.formatters.get_all_formatters())))
print(list(pygments.styles.get_all_styles()))</p>
</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">color_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">colorprint</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">msg_list</span><span class="p">,</span> <span class="n">color_list</span><span class="p">)]</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST (Windows test)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line2&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line3&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line4&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;reset&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line6&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_print.dictprint">
<code class="descclassname">utool.util_print.</code><code class="descname">dictprint</code><span class="sig-paren">(</span><em>dict_</em>, <em>dict_name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_print.dictprint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.horiz_print">
<code class="descclassname">utool.util_print.</code><code class="descname">horiz_print</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#horiz_print"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.horiz_print" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.printNOTQUIET">
<code class="descclassname">utool.util_print.</code><code class="descname">printNOTQUIET</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printNOTQUIET"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.printNOTQUIET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.printVERBOSE">
<code class="descclassname">utool.util_print.</code><code class="descname">printVERBOSE</code><span class="sig-paren">(</span><em>msg</em>, <em>verbarg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printVERBOSE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.printVERBOSE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.printWARN">
<code class="descclassname">utool.util_print.</code><code class="descname">printWARN</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printWARN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.printWARN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.print_code">
<code class="descclassname">utool.util_print.</code><code class="descname">print_code</code><span class="sig-paren">(</span><em>text</em>, <em>lexer_name='python'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.print_code" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_print –test-print_python_code</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_python_code</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_print.print_dict">
<code class="descclassname">utool.util_print.</code><code class="descname">print_dict</code><span class="sig-paren">(</span><em>dict_</em>, <em>dict_name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.print_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.print_difftext">
<code class="descclassname">utool.util_print.</code><code class="descname">print_difftext</code><span class="sig-paren">(</span><em>text</em>, <em>other=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_difftext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.print_difftext" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>#python -m utool.util_print –test-print_difftext
#autopep8 ingest_data.py –diff | python -m utool.util_print –test-print_difftext</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_print.print_filesize">
<code class="descclassname">utool.util_print.</code><code class="descname">print_filesize</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_filesize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.print_filesize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.print_list">
<code class="descclassname">utool.util_print.</code><code class="descname">print_list</code><span class="sig-paren">(</span><em>list_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.print_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.print_locals">
<code class="descclassname">utool.util_print.</code><code class="descname">print_locals</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_locals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.print_locals" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints local variables in function.</p>
<p>If no arguments all locals are printed.</p>
<p>Variables can be specified directly (variable values passed in) as varargs
or indirectly (variable names passed in) in kwargs by using keys and a list
of strings.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_print.print_python_code">
<code class="descclassname">utool.util_print.</code><code class="descname">print_python_code</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_python_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.print_python_code" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>print_code</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_print.printdict">
<code class="descclassname">utool.util_print.</code><code class="descname">printdict</code><span class="sig-paren">(</span><em>dict_</em>, <em>dict_name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_print.printdict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_print.printif">
<code class="descclassname">utool.util_print.</code><code class="descname">printif</code><span class="sig-paren">(</span><em>func</em>, <em>condition=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printif"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.printif" title="Permalink to this definition">¶</a></dt>
<dd><p>execute printfunc only if condition=QUIET</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_print.printshape">
<code class="descclassname">utool.util_print.</code><code class="descname">printshape</code><span class="sig-paren">(</span><em>arr_name</em>, <em>locals_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printshape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_print.printshape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_profile">
<span id="utool-util-profile-module"></span><h2>utool.util_profile module<a class="headerlink" href="#module-utool.util_profile" title="Permalink to this headline">¶</a></h2>
<p>Cleaning script for the output of utool profiling</p>
<p>Removes profiled output of code that never ran</p>
<dl class="class">
<dt id="utool.util_profile.Profiler">
<em class="property">class </em><code class="descclassname">utool.util_profile.</code><code class="descname">Profiler</code><a class="reference internal" href="_modules/utool/util_profile.html#Profiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.Profiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="utool.util_profile.Profiler.get_output">
<code class="descname">get_output</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#Profiler.get_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.Profiler.get_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_profile.clean_line_profile_text">
<code class="descclassname">utool.util_profile.</code><code class="descname">clean_line_profile_text</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#clean_line_profile_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.clean_line_profile_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the output from line profile by execution time
Removes entries which were not run</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_profile.clean_lprof_file">
<code class="descclassname">utool.util_profile.</code><code class="descname">clean_lprof_file</code><span class="sig-paren">(</span><em>input_fname</em>, <em>output_fname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#clean_lprof_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.clean_lprof_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a .lprof file and cleans it</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_profile.dump_profile_text">
<code class="descclassname">utool.util_profile.</code><code class="descname">dump_profile_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#dump_profile_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.dump_profile_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_profile.fix_rawprofile_blocks">
<code class="descclassname">utool.util_profile.</code><code class="descname">fix_rawprofile_blocks</code><span class="sig-paren">(</span><em>profile_block_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#fix_rawprofile_blocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.fix_rawprofile_blocks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_profile.get_block_id">
<code class="descclassname">utool.util_profile.</code><code class="descname">get_block_id</code><span class="sig-paren">(</span><em>block</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_block_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.get_block_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_profile.get_block_totaltime">
<code class="descclassname">utool.util_profile.</code><code class="descname">get_block_totaltime</code><span class="sig-paren">(</span><em>block</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_block_totaltime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.get_block_totaltime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_profile.get_profile_text">
<code class="descclassname">utool.util_profile.</code><code class="descname">get_profile_text</code><span class="sig-paren">(</span><em>profile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_profile_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.get_profile_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_profile.get_summary">
<code class="descclassname">utool.util_profile.</code><code class="descname">get_summary</code><span class="sig-paren">(</span><em>profile_block_list</em>, <em>maxlines=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.get_summary" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://github.com/rkern/line_profiler">https://github.com/rkern/line_profiler</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_profile.make_profiler">
<code class="descclassname">utool.util_profile.</code><code class="descname">make_profiler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#make_profiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.make_profiler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_profile.parse_rawprofile_blocks">
<code class="descclassname">utool.util_profile.</code><code class="descname">parse_rawprofile_blocks</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#parse_rawprofile_blocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.parse_rawprofile_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the file into blocks along delimters and and put delimeters back in
the list</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_profile.parse_timemap_from_blocks">
<code class="descclassname">utool.util_profile.</code><code class="descname">parse_timemap_from_blocks</code><span class="sig-paren">(</span><em>profile_block_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#parse_timemap_from_blocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_profile.parse_timemap_from_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a map from times to line_profile blocks</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_progress">
<span id="utool-util-progress-module"></span><h2>utool.util_progress module<a class="headerlink" href="#module-utool.util_progress" title="Permalink to this headline">¶</a></h2>
<p>progress handler.</p>
<p>Old progress funcs needto be depricated ProgressIter and ProgChunks are pretty
much the only useful things here.</p>
<dl class="function">
<dt id="utool.util_progress.ProgChunks">
<code class="descclassname">utool.util_progress.</code><code class="descname">ProgChunks</code><span class="sig-paren">(</span><em>list_</em>, <em>chunksize</em>, <em>nInput=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgChunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgChunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Yeilds an iterator in chunks and computes progress
Progress version of ut.ichunks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list</strong> (<em>list</em>) – </li>
<li><strong>chunksize</strong> – </li>
<li><strong>nInput</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>length, freq</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a href="#id271"><span class="problematic" id="id272">progiter_</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#utool.util_progress.ProgressIter" title="utool.util_progress.ProgressIter">ProgressIter</a></td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_progress ProgChunks –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nInput</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter_</span> <span class="o">=</span> <span class="n">ProgChunks</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iter_</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">progiter_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunk</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="n">iter_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rest</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">progiter_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span> <span class="o">==</span> <span class="mi">90</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="utool.util_progress.ProgIter">
<em class="property">class </em><code class="descclassname">utool.util_progress.</code><code class="descname">ProgIter</code><span class="sig-paren">(</span><em>iterable</em>, <em>lbl='Prog'</em>, <em>adjust=True</em>, <em>freq=1</em>, <em>bs=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgIter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_progress.ProgressIter" title="utool.util_progress.ProgressIter"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_progress.ProgressIter</span></code></a></p>
<p>Thin wrapper with better arg positions</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_progress.ProgPartial">
<code class="descclassname">utool.util_progress.</code><code class="descname">ProgPartial</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgPartial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgPartial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="utool.util_progress.ProgressIter">
<em class="property">class </em><code class="descclassname">utool.util_progress.</code><code class="descname">ProgressIter</code><span class="sig-paren">(</span><em>iterable=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgressIter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wraps a for loop with progress reporting</p>
<p>lbl=’Progress: ‘, length=0, flushfreq=4, startafter=-1, start=True,
repl=False, approx=False, disable=False, writefreq=1, with_time=False,
backspace=True, pad_stdout=False, wfreq=None, ffreq=None, freq=None,
total=None, num=None, with_totaltime=None</p>
<dl class="docutils">
<dt>Referencs:</dt>
<dd><a class="reference external" href="https://github.com/verigak/progress/blob/master/progress/__init__.py">https://github.com/verigak/progress/blob/master/progress/__init__.py</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>(</strong><strong>)</strong> (<em>iterable</em>) – iterable normally passed to for loop</li>
<li><strong>lbl</strong> (<em>str</em>) – progress label</li>
<li><strong>length</strong> (<em>int</em>) – </li>
<li><strong>flushfreq</strong> (<em>int</em>) – </li>
<li><strong>startafter</strong> (<em>int</em>) – </li>
<li><strong>start</strong> (<em>bool</em>) – </li>
<li><strong>repl</strong> (<em>bool</em>) – </li>
<li><strong>approx</strong> (<em>bool</em>) – </li>
<li><strong>enabled</strong> (<em>bool</em>) – </li>
<li><strong>writefreq</strong> (<em>int</em>) – </li>
<li><strong>with_totaltime</strong> (<em>bool</em>) – </li>
<li><strong>backspace</strong> (<em>bool</em>) – </li>
<li><strong>pad_stdout</strong> (<em>bool</em>) – </li>
<li><strong>autoadjust</strong> (<em>bool</em>) – no adjusting frequency if True (default False)</li>
<li><strong>wfreq</strong> (<em>None</em>) – alias for write_freq</li>
<li><strong>ffreq</strong> (<em>None</em>) – alias for flush_freq</li>
<li><strong>total</strong> (<em>None</em>) – alias for length</li>
<li><strong>num</strong> (<em>None</em>) – alias for length</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Timeit::</dt>
<dd><p class="first">import utool as ut
setup = ut.codeblock(
‘’’
import utool as ut
from six.moves import range, zip
import time
def time_append(size):</p>
<blockquote>
<div><p>start_time    = time.time()
last_time     = start_time
list2 = []
for x in range(size):</p>
<blockquote>
<div>now_time    = time.time()
between = now_time - last_time
last_time   = now_time
list2.append(between)</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>def time_assign(size):</dt>
<dd><p class="first">start_time    = time.time()
last_time     = start_time
list1 = ut.alloc_nones(size)
for x in range(size):</p>
<blockquote class="last">
<div>now_time    = time.time()
between = now_time - last_time
last_time   = now_time
list1[x] = between</div></blockquote>
</dd>
<dt>def time_baseline(size):</dt>
<dd><p class="first">start_time    = time.time()
last_time     = start_time
for x in range(size):</p>
<blockquote class="last">
<div>now_time    = time.time()
between = now_time - last_time
last_time   = now_time</div></blockquote>
</dd>
<dt>def time_null(size):</dt>
<dd><dl class="first last docutils">
<dt>for x in range(size):</dt>
<dd>pass</dd>
</dl>
</dd>
</dl>
<p>‘’‘)</p>
<p class="last">input_sizes = [2 ** count for count in range(7, 12)]
stmt_list = [‘time_assign’, ‘time_append’, ‘time_baseline’, ‘time_null’]
input_sizes=[100, 1000, 10000]
ut.timeit_grid(stmt_list, setup, input_sizes=input_sizes, show=True)</p>
</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_progress –test-ProgressIter
python -m utool.util_progress –test-ProgressIter:0
python -m utool.util_progress –test-ProgressIter:1
python -m utool.util_progress –test-ProgressIter:2
python -m utool.util_progress –test-ProgressIter:3</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="k">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num2</span> <span class="o">=</span> <span class="mi">10001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results1</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">wfreq</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results4</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">wfreq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results3</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">progiter</span><span class="p">((</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">ntotal</span><span class="o">=</span><span class="n">num2</span><span class="p">,</span> <span class="n">wfreq</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">backspace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">results1</span> <span class="o">==</span> <span class="n">results2</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="k">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num2</span> <span class="o">=</span> <span class="mi">10001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">),</span> <span class="n">lbl</span><span class="o">=</span><span class="s1">&#39;testing primes&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">report_unit</span><span class="o">=</span><span class="s1">&#39;seconds&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">time_thresh</span><span class="o">=.</span><span class="mi">1</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="mi">29</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">progiter</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="k">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num2</span> <span class="o">=</span> <span class="mi">100001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">),</span> <span class="n">lbl</span><span class="o">=</span><span class="s1">&#39;testing primes&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">report_unit</span><span class="o">=</span><span class="s1">&#39;seconds&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">time_thresh</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="mi">29</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">progiter</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="k">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crazy_time_list</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="mi">001</span><span class="p">,</span> <span class="o">.</span><span class="mi">01</span><span class="p">,</span> <span class="o">.</span><span class="mi">0001</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crazy_time_iter</span> <span class="o">=</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">crazy_time_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="n">crazy_time_iter</span><span class="p">,</span> <span class="n">lbl</span><span class="o">=</span><span class="s1">&#39;crazy times&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">crazy_time_list</span><span class="p">),</span> <span class="n">freq</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">progiter</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="staticmethod">
<dt id="utool.util_progress.ProgressIter.build_msg_fmtstr2">
<em class="property">static </em><code class="descname">build_msg_fmtstr2</code><span class="sig-paren">(</span><em>lbl</em>, <em>length</em>, <em>invert_rate</em>, <em>backspace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.build_msg_fmtstr2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.build_msg_fmtstr2" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lbl</strong> (<em>str</em>) – </li>
<li><strong>invert_rate</strong> (<em>bool</em>) – </li>
<li><strong>backspace</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">msg_fmtstr_time</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_progress –exec-ProgressIter.build_msg_fmtstr2</dd>
<dt>Setup:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">invert_rate</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backspace</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg_fmtstr_time</span> <span class="o">=</span> <span class="n">ProgressIter</span><span class="o">.</span><span class="n">build_msg_fmtstr2</span><span class="p">(</span><span class="n">lbl</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">invert_rate</span><span class="p">,</span> <span class="n">backspace</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">msg_fmtstr_time</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_progress.ProgressIter.build_msg_fmtstr_head_cols">
<em class="property">static </em><code class="descname">build_msg_fmtstr_head_cols</code><span class="sig-paren">(</span><em>length</em>, <em>lbl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.build_msg_fmtstr_head_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.build_msg_fmtstr_head_cols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_progress.ProgressIter.display_message">
<code class="descname">display_message</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.display_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.display_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_progress.ProgressIter.ensure_newline">
<code class="descname">ensure_newline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.ensure_newline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.ensure_newline" title="Permalink to this definition">¶</a></dt>
<dd><p>use before any custom printing when using the progress iter to ensure
your print statement starts on a new line instead of at the end of a
progress line</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_progress.ProgressIter.iter_rate">
<code class="descname">iter_rate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.iter_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.iter_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>pun not intended</p>
<p># TODO: record iteration times for analysis
# TODO Incorporate this better
# FIXME; pad_stdout into subfunctions</p>
<p>import dis
dis.dis(ut.ProgressIter.iter_rate)</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_progress.ProgressIter.set_extra">
<code class="descname">set_extra</code><span class="sig-paren">(</span><em>extra</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.set_extra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.set_extra" title="Permalink to this definition">¶</a></dt>
<dd><p>specify a custom info appended to the end of the next message
TODO: come up with a better name and rename</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_progress.get_num_chunks">
<code class="descclassname">utool.util_progress.</code><code class="descname">get_num_chunks</code><span class="sig-paren">(</span><em>length</em>, <em>chunksize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#get_num_chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.get_num_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of chunks that a list will be split into given a
chunksize.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>length</strong> (<em>int</em>) – </li>
<li><strong>chunksize</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">n_chunks</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_progress –exec-get_num_chunks:0</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">256</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_chunks</span> <span class="o">=</span> <span class="n">get_num_chunks</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;n_chunks = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">n_chunks</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">n_chunks = 8</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_progress.log_progress">
<code class="descclassname">utool.util_progress.</code><code class="descname">log_progress</code><span class="sig-paren">(</span><em>lbl='Progress: '</em>, <em>length=0</em>, <em>flushfreq=4</em>, <em>startafter=-1</em>, <em>start=True</em>, <em>repl=False</em>, <em>approx=False</em>, <em>disable=False</em>, <em>writefreq=1</em>, <em>with_time=False</em>, <em>backspace=True</em>, <em>pad_stdout=False</em>, <em>wfreq=None</em>, <em>ffreq=None</em>, <em>freq=None</em>, <em>total=None</em>, <em>num=None</em>, <em>with_totaltime=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#log_progress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.log_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE
FIXME: depricate for ProgressIter.
still used in util_dev</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_progress.progiter">
<code class="descclassname">utool.util_progress.</code><code class="descname">progiter</code><a class="headerlink" href="#utool.util_progress.progiter" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_progress.ProgressIter" title="utool.util_progress.ProgressIter"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_progress.ProgressIter</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_progress.progress_str">
<code class="descclassname">utool.util_progress.</code><code class="descname">progress_str</code><span class="sig-paren">(</span><em>max_val</em>, <em>lbl='Progress: '</em>, <em>repl=False</em>, <em>approx=False</em>, <em>backspace=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#progress_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.progress_str" title="Permalink to this definition">¶</a></dt>
<dd><p>makes format string that prints progress: %Xd/MAX_VAL with backspaces</p>
<p>NOTE: r can be used instead of backspaces. This function is not very
relevant because of that.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_progress.test_progress">
<code class="descclassname">utool.util_progress.</code><code class="descname">test_progress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#test_progress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_progress.test_progress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_progress –test-test_progress</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_progress</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.util_project">
<span id="utool-util-project-module"></span><h2>utool.util_project module<a class="headerlink" href="#module-utool.util_project" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>~/local/init/REPOS1.py</dd>
</dl>
<dl class="class">
<dt id="utool.util_project.GrepResult">
<em class="property">class </em><code class="descclassname">utool.util_project.</code><code class="descname">GrepResult</code><span class="sig-paren">(</span><em>found_fpath_list</em>, <em>found_lines_list</em>, <em>found_lxs_list</em>, <em>extended_regex_list</em>, <em>reflags</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.GrepResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<dl class="method">
<dt id="utool.util_project.GrepResult.hack_remove_pystuff">
<code class="descname">hack_remove_pystuff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.hack_remove_pystuff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.GrepResult.hack_remove_pystuff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_project.GrepResult.inplace_filter_results">
<code class="descname">inplace_filter_results</code><span class="sig-paren">(</span><em>filter_pat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.inplace_filter_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.GrepResult.inplace_filter_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_project.GrepResult.make_resultstr">
<code class="descname">make_resultstr</code><span class="sig-paren">(</span><em>colored=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.make_resultstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.GrepResult.make_resultstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_project.GrepResult.pattern_filterflags">
<code class="descname">pattern_filterflags</code><span class="sig-paren">(</span><em>filter_pat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.pattern_filterflags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.GrepResult.pattern_filterflags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_project.GrepResult.remove_results">
<code class="descname">remove_results</code><span class="sig-paren">(</span><em>indicies</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.remove_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.GrepResult.remove_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_project.SetupRepo">
<em class="property">class </em><code class="descclassname">utool.util_project.</code><code class="descname">SetupRepo</code><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.SetupRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Maybe make a new interface to SetupRepo?</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">SetupRepo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_project.SetupRepo.all">
<code class="descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo.all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.SetupRepo.all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_project.SetupRepo.ensure_text">
<code class="descname">ensure_text</code><span class="sig-paren">(</span><em>fname</em>, <em>text</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo.ensure_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.SetupRepo.ensure_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_project.SetupRepo.main">
<code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo.main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.SetupRepo.main" title="Permalink to this definition">¶</a></dt>
<dd><p>python -m utool SetupRepo.main –modname=sklearn –repo=scikit-learn –codedir=~/code -w
python -m utool SetupRepo.main –repo=ubelt –codedir=~/code –modname=ubelt -w</p>
<p>Example:
&gt;&gt;&gt; # DISABLE_DOCTEST</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SetupRepo</span><span class="p">()</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_project.UserProfile">
<em class="property">class </em><code class="descclassname">utool.util_project.</code><code class="descname">UserProfile</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#UserProfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.UserProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<dl class="method">
<dt id="utool.util_project.UserProfile.glob">
<code class="descname">glob</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#UserProfile.glob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.UserProfile.glob" title="Permalink to this definition">¶</a></dt>
<dd><p># Ensure that .gitignore has certain lines
git_ignore_lines = [</p>
<blockquote>
<div>‘timeings.txt’</div></blockquote>
<p>]
fpath_list = profile.glob(‘.gitignore’, recursive=False)
for fpath in fpath_list:</p>
<blockquote>
<div><p>lines = ut.readfrom(fpath, verbose=False).split(‘n’)
lines = [line.strip() for line in lines]
missing = ut.setdiff(git_ignore_lines, lines)
if missing:</p>
<blockquote>
<div>print(‘fpath = %r’ % (fpath,))
ut.writeto(fpath, ‘n’.join(lines + missing))</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="utool.util_project.UserProfile.grep">
<code class="descname">grep</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#UserProfile.grep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.UserProfile.grep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_project.ensure_text">
<code class="descclassname">utool.util_project.</code><code class="descname">ensure_text</code><span class="sig-paren">(</span><em>fname</em>, <em>text</em>, <em>repo_dpath='.'</em>, <em>force=None</em>, <em>locals_={}</em>, <em>chmod=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#ensure_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.ensure_text" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fname</strong> (<em>str</em>) – file name</li>
<li><strong>text</strong> (<em>str</em>) – </li>
<li><strong>repo_dpath</strong> (<em>str</em>) – directory path string(default = ‘.’)</li>
<li><strong>force</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>locals</strong> (<em>dict</em>) – (default = {})</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">setup_repo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_project.ensure_user_profile">
<code class="descclassname">utool.util_project.</code><code class="descname">ensure_user_profile</code><span class="sig-paren">(</span><em>user_profile=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#ensure_user_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.ensure_user_profile" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_profile</strong> (<a class="reference internal" href="#utool.util_project.UserProfile" title="utool.util_project.UserProfile"><em>UserProfile</em></a>) – (default = None)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">user_profile</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#utool.util_project.UserProfile" title="utool.util_project.UserProfile">UserProfile</a></td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_project –exec-ensure_user_profile –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user_profile</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user_profile</span> <span class="o">=</span> <span class="n">ensure_user_profile</span><span class="p">(</span><span class="n">user_profile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;user_profile = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">user_profile</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">user_profile</span><span class="o">.</span><span class="n">project_dpaths</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_project.glob_projects">
<code class="descclassname">utool.util_project.</code><code class="descname">glob_projects</code><span class="sig-paren">(</span><em>pat</em>, <em>user_profile=None</em>, <em>recursive=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#glob_projects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.glob_projects" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>def testenv(modname, funcname):</dt>
<dd>ut.import_modname(modname)
exec(ut.execstr_funckw(table.get_rowid), globals())</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">testenv</span><span class="p">(</span><span class="s1">&#39;utool.util_project&#39;</span><span class="p">,</span> <span class="s1">&#39;glob_projects&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_project.grep_projects">
<code class="descclassname">utool.util_project.</code><code class="descname">grep_projects</code><span class="sig-paren">(</span><em>tofind_list</em>, <em>user_profile=None</em>, <em>verbose=True</em>, <em>new=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#grep_projects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.grep_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>Greps the projects defined in the current UserProfile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tofind_list</strong> (<em>list</em>) – </li>
<li><strong>user_profile</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>user_profile</dd>
<dt>CommandLine:</dt>
<dd>python -m utool –tf grep_projects grep_projects</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tofind_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--find&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                            <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grep_projects</span><span class="p">(</span><span class="n">tofind_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_project.sed_projects">
<code class="descclassname">utool.util_project.</code><code class="descname">sed_projects</code><span class="sig-paren">(</span><em>regexpr</em>, <em>repl</em>, <em>force=False</em>, <em>recursive=True</em>, <em>user_profile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#sed_projects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.sed_projects" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>regexpr</strong> – </li>
<li><strong>repl</strong> – </li>
<li><strong>force</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>recursive</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>user_profile</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_project –exec-sed_projects</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regexpr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--find&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--repl&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user_profile</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">sed_projects</span><span class="p">(</span><span class="n">regexpr</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">user_profile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>regexpr = ‘annotation match_scores’
repl = ‘draw_annot_scoresep’</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_project.setup_repo">
<code class="descclassname">utool.util_project.</code><code class="descname">setup_repo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#setup_repo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.setup_repo" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates default structure for a new repo</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool setup_repo –repo=dtool –codedir=~/code</p>
<p>python -m utool setup_repo –repo=dtool –codedir=~/code
python -m utool setup_repo –repo=wbia-flukematch-module –codedir=~/code –modname=wbia_flukematch
python -m utool setup_repo –repo=mtgmonte –codedir=~/code –modname=mtgmonte
python -m utool setup_repo –repo=pydarknet –codedir=~/code –modname=pydarknet
python -m utool setup_repo –repo=sandbox_utools –codedir=~/code –modname=sandbox_utools</p>
<p>python -m utool setup_repo –repo=ubelt –codedir=~/code –modname=ubelt -w</p>
<p class="last">python -m utool setup_repo</p>
</dd>
<dt>Python:</dt>
<dd>ipython
import utool as ut
ut.rrrr(0); ut.setup_repo()</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">setup_repo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_project.wbia_user_profile">
<code class="descclassname">utool.util_project.</code><code class="descname">wbia_user_profile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#wbia_user_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_project.wbia_user_profile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_regex">
<span id="utool-util-regex-module"></span><h2>utool.util_regex module<a class="headerlink" href="#module-utool.util_regex" title="Permalink to this headline">¶</a></h2>
<p>in vim nongreedy .* is .{-}
in python nongreedy .* is .*?</p>
<dl class="function">
<dt id="utool.util_regex.backref_field">
<code class="descclassname">utool.util_regex.</code><code class="descname">backref_field</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#backref_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.backref_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.bref_field">
<code class="descclassname">utool.util_regex.</code><code class="descname">bref_field</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_regex.bref_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.convert_text_to_varname">
<code class="descclassname">utool.util_regex.</code><code class="descname">convert_text_to_varname</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#convert_text_to_varname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.convert_text_to_varname" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – text that might not be a valid variablename</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">varname</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_regex –test-convert_text_to_varname</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;0) View Application-Files Directory. &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varname</span> <span class="o">=</span> <span class="n">convert_text_to_varname</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;varname = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">varname</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">_0_View_ApplicationFiles_Directory_</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.extend_regex">
<code class="descclassname">utool.util_regex.</code><code class="descname">extend_regex</code><span class="sig-paren">(</span><em>regexpr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#extend_regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.extend_regex" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Extends the syntax of regular expressions by replacing convineince syntax</dt>
<dd>with re friendly syntax. Nameely things that I use in vim like &lt;&gt;</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.extend_regex2">
<code class="descclassname">utool.util_regex.</code><code class="descname">extend_regex2</code><span class="sig-paren">(</span><em>regexpr</em>, <em>reflags=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#extend_regex2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.extend_regex2" title="Permalink to this definition">¶</a></dt>
<dd><p>also preprocesses flags</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.extend_regex3">
<code class="descclassname">utool.util_regex.</code><code class="descname">extend_regex3</code><span class="sig-paren">(</span><em>regex_list</em>, <em>reflags=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#extend_regex3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.extend_regex3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.get_match_text">
<code class="descclassname">utool.util_regex.</code><code class="descname">get_match_text</code><span class="sig-paren">(</span><em>match</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#get_match_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.get_match_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.modify_quoted_strs">
<code class="descclassname">utool.util_regex.</code><code class="descname">modify_quoted_strs</code><span class="sig-paren">(</span><em>text</em>, <em>modify_func=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#modify_quoted_strs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.modify_quoted_strs" title="Permalink to this definition">¶</a></dt>
<dd><p>doesnt work with escaped quotes or multilines
single quotes only. no nesting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> – </li>
<li><strong>modify_func</strong> (<em>None</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&#39;just&#39; &#39;a&#39; sentance with &#39;strings&#39; in it &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s2">&quot;&#39;this&#39; &#39;text&#39; wont work &#39;because </span><span class="se">\&#39;</span><span class="s2">of </span><span class="se">\&quot;</span><span class="s2">the</span><span class="se">\&quot;\&#39;</span><span class="s2"> </span><span class="se">\&quot;</span><span class="s2">nesting</span><span class="se">\&quot;</span><span class="s2">&#39;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text3</span> <span class="o">=</span> <span class="s2">&quot; &#39;&#39;&#39; god </span><span class="se">\&quot;</span><span class="s2">help</span><span class="se">\&quot;</span><span class="s2"> you &#39;&#39;&#39; if you use &#39;triple quotes&#39;  &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">modify_func</span><span class="p">(</span><span class="n">quoted_str</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">quoted_str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">modify_quoted_strs</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">modify_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;JUST&#39; &#39;A&#39; sentance with &#39;STRINGS&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.named_field">
<code class="descclassname">utool.util_regex.</code><code class="descname">named_field</code><span class="sig-paren">(</span><em>key</em>, <em>regex</em>, <em>vim=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#named_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.named_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named regex group that can be referend via a backref.
If key is None the backref is referenced by number.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/2/library/re.html#regular-expression-syntax">https://docs.python.org/2/library/re.html#regular-expression-syntax</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.named_field_regex">
<code class="descclassname">utool.util_regex.</code><code class="descname">named_field_regex</code><span class="sig-paren">(</span><em>keypat_tups</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#named_field_regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.named_field_regex" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keypat_tups</strong> (<em>list</em>) – tuples of (name, pattern) or a string for an unnamed</li>
<li><strong>pattern</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">regex</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keypat_tups</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span>  <span class="sa">r</span><span class="s1">&#39;G\d+&#39;</span><span class="p">),</span>  <span class="c1"># species and 2 numbers</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;under&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;_&#39;</span><span class="p">),</span>     <span class="c1"># 2 more numbers</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span>    <span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">),</span>   <span class="c1"># 2 more numbers</span>
<span class="gp">... </span>    <span class="p">(</span> <span class="kc">None</span><span class="p">,</span>   <span class="sa">r</span><span class="s1">&#39;\.&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;ext&#39;</span><span class="p">,</span>   <span class="sa">r</span><span class="s1">&#39;\w+&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="n">named_field_regex</span><span class="p">(</span><span class="n">keypat_tups</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">regex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(?P&lt;name&gt;G\d+)(?P&lt;under&gt;_)(?P&lt;id&gt;\d+)(\.)(?P&lt;ext&gt;\w+)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.named_field_repl">
<code class="descclassname">utool.util_regex.</code><code class="descname">named_field_repl</code><span class="sig-paren">(</span><em>field_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#named_field_repl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.named_field_repl" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>field_list</strong> (<em>list</em>) – list of either a tuples to denote a keyword, or a
strings for relacement t3ext</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">repl for regex</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field_list</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;key&#39;</span><span class="p">,),</span> <span class="s1">&#39;unspecial string&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="n">named_field_repl</span><span class="p">(</span><span class="n">field_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">\g&lt;key&gt;unspecial string</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.negative_lookahead">
<code class="descclassname">utool.util_regex.</code><code class="descname">negative_lookahead</code><span class="sig-paren">(</span><em>regex</em>, <em>vim=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#negative_lookahead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.negative_lookahead" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.negative_lookbehind">
<code class="descclassname">utool.util_regex.</code><code class="descname">negative_lookbehind</code><span class="sig-paren">(</span><em>regex</em>, <em>vim=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#negative_lookbehind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.negative_lookbehind" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>regex</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">?</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_regex –exec-negative_lookbehind</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">negative_lookbehind</span><span class="p">(</span><span class="n">regex</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">foo</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1"> foo</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match4</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;&quot; foo&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.nongreedy_kleene_star">
<code class="descclassname">utool.util_regex.</code><code class="descname">nongreedy_kleene_star</code><span class="sig-paren">(</span><em>vim=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#nongreedy_kleene_star"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.nongreedy_kleene_star" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.padded_parse">
<code class="descclassname">utool.util_regex.</code><code class="descname">padded_parse</code><span class="sig-paren">(</span><em>pattern</em>, <em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#padded_parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.padded_parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.parse_docblock">
<code class="descclassname">utool.util_regex.</code><code class="descname">parse_docblock</code><span class="sig-paren">(</span><em>func_code</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#parse_docblock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.parse_docblock" title="Permalink to this definition">¶</a></dt>
<dd><p>#TODO: Finish me</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pyparsing.wikispaces.com/share/view/1264103">http://pyparsing.wikispaces.com/share/view/1264103</a>
<a class="reference external" href="http://code.activestate.com/recipes/576704-python-code-minifier/">http://code.activestate.com/recipes/576704-python-code-minifier/</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_code</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">modify_quoted_strs</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.parse_python_syntax">
<code class="descclassname">utool.util_regex.</code><code class="descname">parse_python_syntax</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#parse_python_syntax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.parse_python_syntax" title="Permalink to this definition">¶</a></dt>
<dd><p>step1: split lines</p>
<p>step2: parse enclosure pairity for each line to find unended lines</p>
<p>for each unending line, is there a valid merge line?
(a line that could snytatically finish this runnon statement?
If no then error. Else try to join the two lines.</p>
<p>step3: perform context_sensitive_edit</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>   <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">normpath</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">util_regex</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.positive_lookahead">
<code class="descclassname">utool.util_regex.</code><code class="descname">positive_lookahead</code><span class="sig-paren">(</span><em>regex</em>, <em>vim=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#positive_lookahead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.positive_lookahead" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.positive_lookbehind">
<code class="descclassname">utool.util_regex.</code><code class="descname">positive_lookbehind</code><span class="sig-paren">(</span><em>regex</em>, <em>vim=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#positive_lookbehind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.positive_lookbehind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_get_match">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_get_match</code><span class="sig-paren">(</span><em>regex</em>, <em>text</em>, <em>fromstart=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_get_match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_get_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_matches">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_matches</code><span class="sig-paren">(</span><em>regex</em>, <em>text</em>, <em>fromstart=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_matches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_matches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_or">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_or</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_or"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_or" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_parse">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_parse</code><span class="sig-paren">(</span><em>regex</em>, <em>text</em>, <em>fromstart=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_parse" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>regex</strong> (<em>str</em>) – </li>
<li><strong>text</strong> (<em>str</em>) – </li>
<li><strong>fromstart</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict or None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;(?P&lt;string&gt;</span><span class="se">\&#39;</span><span class="s1">[^</span><span class="se">\&#39;</span><span class="s1">]*</span><span class="se">\&#39;</span><span class="s1">)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot; &#39;just&#39; &#39;a&#39; sentance with &#39;strings&#39; in it &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fromstart</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">regex_parse</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">fromstart</span><span class="p">)[</span><span class="s1">&#39;string&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_replace">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_replace</code><span class="sig-paren">(</span><em>regex</em>, <em>repl</em>, <em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_replace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>thin wrapper around re.sub
regex_replace</p>
<p>MULTILINE and DOTALL are on by default in all util_regex functions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>regex</strong> (<em>str</em>) – pattern to find</li>
<li><strong>repl</strong> (<em>str</em>) – replace pattern with this</li>
<li><strong>text</strong> (<em>str</em>) – text to modify</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">modified text</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\(.*\):&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="s1">&#39;(*args)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;def foo(param1,</span>
<span class="gp">... </span><span class="s1">                  param2,</span>
<span class="gp">... </span><span class="s1">                  param3):&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">regex_replace</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">def foo(*args)</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field_regex</span><span class="p">([(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;def&#39;</span><span class="p">),</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;funcname&#39;</span><span class="p">,</span> <span class="s1">&#39;.*&#39;</span><span class="p">),</span> <span class="s1">&#39;\(.*\):&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field_repl</span><span class="p">([(</span><span class="s1">&#39;funcname&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;def foo(param1,</span>
<span class="gp">... </span><span class="s1">                  param2,</span>
<span class="gp">... </span><span class="s1">                  param3):&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">regex_replace</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foodef</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_replace_lines">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_replace_lines</code><span class="sig-paren">(</span><em>lines</em>, <em>regexpat</em>, <em>replpat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_replace_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_replace_lines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_search">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_search</code><span class="sig-paren">(</span><em>regex</em>, <em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_split">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_split</code><span class="sig-paren">(</span><em>regex</em>, <em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_split" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.regex_word">
<code class="descclassname">utool.util_regex.</code><code class="descname">regex_word</code><span class="sig-paren">(</span><em>w</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_word"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.regex_word" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_regex.whole_word">
<code class="descclassname">utool.util_regex.</code><code class="descname">whole_word</code><span class="sig-paren">(</span><em>regex</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#whole_word"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_regex.whole_word" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_resources">
<span id="utool-util-resources-module"></span><h2>utool.util_resources module<a class="headerlink" href="#module-utool.util_resources" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_resources.available_memory">
<code class="descclassname">utool.util_resources.</code><code class="descname">available_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#available_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.available_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns total system wide available memory in bytes</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_resources.current_memory_usage">
<code class="descclassname">utool.util_resources.</code><code class="descname">current_memory_usage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#current_memory_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.current_memory_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns this programs current memory usage in bytes</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_resources.get_matching_process_ids">
<code class="descclassname">utool.util_resources.</code><code class="descname">get_matching_process_ids</code><span class="sig-paren">(</span><em>cmd_pattern</em>, <em>user_pattern</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_matching_process_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.get_matching_process_ids" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>export PID=30196
export PID=$(python -c “import utool as ut; print(ut.get_matching_process_ids(‘jonc’, ‘python2.7’))”)
export PID=$(python -c “import utool as ut; print(ut.get_matching_process_ids(‘jonc’, ‘matlab’))”)
sudo -H echo $PID
ps -o pid,comm,nice -p $PID
renice 10 -p $PID
sudo renice -4 -p $PID</dd>
</dl>
<p>user_pattern = ‘jonc’
cmd_pattern = ‘main.py’
user_pattern = None
cmd_pattern = ‘matlab’
get_matching_process_ids(cmd_pattern, user_pattern)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_resources.get_memstats_str">
<code class="descclassname">utool.util_resources.</code><code class="descname">get_memstats_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_memstats_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.get_memstats_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.get_python_datastructure_sizes">
<code class="descclassname">utool.util_resources.</code><code class="descname">get_python_datastructure_sizes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_python_datastructure_sizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.get_python_datastructure_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1331471/in-memory-size-of-python-stucture">http://stackoverflow.com/questions/1331471/in-memory-size-of-python-stucture</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_resources –test-get_python_datastructure_sizes</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_resources</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_sizes</span> <span class="o">=</span> <span class="n">get_python_datastructure_sizes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">type_sizes</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_resources.get_resource_limits">
<code class="descclassname">utool.util_resources.</code><code class="descname">get_resource_limits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_resource_limits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.get_resource_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.get_resource_usage_str">
<code class="descclassname">utool.util_resources.</code><code class="descname">get_resource_usage_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_resource_usage_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.get_resource_usage_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.memstats">
<code class="descclassname">utool.util_resources.</code><code class="descname">memstats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#memstats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.memstats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.num_cpus">
<code class="descclassname">utool.util_resources.</code><code class="descname">num_cpus</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#num_cpus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.num_cpus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.num_unused_cpus">
<code class="descclassname">utool.util_resources.</code><code class="descname">num_unused_cpus</code><span class="sig-paren">(</span><em>thresh=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#num_unused_cpus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.num_unused_cpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of cpus with utilization less than <cite>thresh</cite> percent</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_resources.peak_memory">
<code class="descclassname">utool.util_resources.</code><code class="descname">peak_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#peak_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.peak_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the resident set size (the portion of
a process’s memory that is held in RAM.)</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_resources.print_resource_usage">
<code class="descclassname">utool.util_resources.</code><code class="descname">print_resource_usage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#print_resource_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.print_resource_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.time_in_systemmode">
<code class="descclassname">utool.util_resources.</code><code class="descname">time_in_systemmode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#time_in_systemmode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.time_in_systemmode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.time_in_usermode">
<code class="descclassname">utool.util_resources.</code><code class="descname">time_in_usermode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#time_in_usermode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.time_in_usermode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.time_str2">
<code class="descclassname">utool.util_resources.</code><code class="descname">time_str2</code><span class="sig-paren">(</span><em>seconds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#time_str2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.time_str2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_resources.total_memory">
<code class="descclassname">utool.util_resources.</code><code class="descname">total_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#total_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.total_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns total system wide memory in bytes</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_resources.used_memory">
<code class="descclassname">utool.util_resources.</code><code class="descname">used_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#used_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_resources.used_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns total system wide used memory in bytes</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_set">
<span id="utool-util-set-module"></span><h2>utool.util_set module<a class="headerlink" href="#module-utool.util_set" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_set.OrderedSet">
<em class="property">class </em><code class="descclassname">utool.util_set.</code><code class="descname">OrderedSet</code><span class="sig-paren">(</span><em>iterable=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableSet</span></code></p>
<dl class="docutils">
<dt>Set the remembers the order elements were added</dt>
<dd>Big-O running times for all methods are the same as for regular sets.
The internal self._map dictionary maps keys to links in a doubly linked list.
The circular doubly linked list starts and ends with a sentinel element.
The sentinel element never gets deleted (this simplifies the algorithm).
The prev/next links are weakref proxies (to prevent circular references).
Individual links are kept alive by the hard reference in self._map.
Those hard references disappear when a key is deleted from an OrderedSet.</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/576696/">http://code.activestate.com/recipes/576696/</a>
<a class="reference external" href="http://code.activestate.com/recipes/576694/">http://code.activestate.com/recipes/576694/</a>
<a class="reference external" href="http://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set">http://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set</a></p>
<dl class="method">
<dt id="utool.util_set.OrderedSet.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Store new key in a new link at the end of the linked list</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_set.OrderedSet.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for add</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_set.OrderedSet.discard">
<code class="descname">discard</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.discard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an element.  Do not raise an exception if absent.</p>
</dd></dl>

<dl class="method">
<dt id="utool.util_set.OrderedSet.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index of <cite>item</cite> in the OrderedSet</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">oset</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="utool.util_set.OrderedSet.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>last=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the popped value.  Raise KeyError if empty.</p>
</dd></dl>

<dl class="classmethod">
<dt id="utool.util_set.OrderedSet.union">
<em class="property">classmethod </em><code class="descname">union</code><span class="sig-paren">(</span><em>*sets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet.union" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_set</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="utool.util_set.OrderedSet.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_set.OrderedSet.update" title="Permalink to this definition">¶</a></dt>
<dd><p>union update</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="utool.util_set.oset">
<code class="descclassname">utool.util_set.</code><code class="descname">oset</code><a class="headerlink" href="#utool.util_set.oset" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_set.OrderedSet" title="utool.util_set.OrderedSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_set.OrderedSet</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_setup">
<span id="utool-util-setup-module"></span><h2>utool.util_setup module<a class="headerlink" href="#module-utool.util_setup" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_setup.NOOP">
<code class="descclassname">utool.util_setup.</code><code class="descname">NOOP</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#NOOP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.NOOP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="utool.util_setup.SETUP_PATTERNS">
<em class="property">class </em><code class="descclassname">utool.util_setup.</code><code class="descname">SETUP_PATTERNS</code><a class="reference internal" href="_modules/utool/util_setup.html#SETUP_PATTERNS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="utool.util_setup.SETUP_PATTERNS.chmod_test">
<code class="descname">chmod_test</code><em class="property"> = ['test_*.py']</em><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS.chmod_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_setup.SETUP_PATTERNS.clutter_cyth">
<code class="descname">clutter_cyth</code><em class="property"> = ['_*_cyth.o', '_*_cyth_bench.py', 'run_cyth_benchmarks.sh', '_*_cyth.c', '_*_cyth.pyd', '_*_cyth.pxd', '_*_cyth.html', '_*_cyth.pyx', '_*_cyth.so', '_*_cyth.dylib']</em><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS.clutter_cyth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_setup.SETUP_PATTERNS.clutter_pybuild">
<code class="descname">clutter_pybuild</code><em class="property"> = ['*.pyc', '*.pyo']</em><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS.clutter_pybuild" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_setup.SetupManager">
<em class="property">class </em><code class="descclassname">utool.util_setup.</code><code class="descname">SetupManager</code><a class="reference internal" href="_modules/utool/util_setup.html#SetupManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.SetupManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helps with writing setup.py</p>
<dl class="method">
<dt id="utool.util_setup.SetupManager.get_cmdclass">
<code class="descname">get_cmdclass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#SetupManager.get_cmdclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.SetupManager.get_cmdclass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_setup.SetupManager.register_command">
<code class="descname">register_command</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#SetupManager.register_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.SetupManager.register_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_setup.assert_in_setup_repo">
<code class="descclassname">utool.util_setup.</code><code class="descname">assert_in_setup_repo</code><span class="sig-paren">(</span><em>setup_fpath</em>, <em>name=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#assert_in_setup_repo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.assert_in_setup_repo" title="Permalink to this definition">¶</a></dt>
<dd><p>pass in __file__ from setup.py</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_setup.autogen_sphinx_apidoc">
<code class="descclassname">utool.util_setup.</code><code class="descname">autogen_sphinx_apidoc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#autogen_sphinx_apidoc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.autogen_sphinx_apidoc" title="Permalink to this definition">¶</a></dt>
<dd><p>autogen_sphinx_docs.py</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first">C:Python27Scriptsautogen_sphinx_docs.py
autogen_sphinx_docs.py</p>
<p>pip uninstall sphinx
pip install sphinx
pip install sphinxcontrib-napoleon
pip install sphinx –upgrade
pip install sphinxcontrib-napoleon –upgrade</p>
<p>cd C:Python27Scripts
ls C:Python27Scripts</p>
<p class="last">python -c “import sphinx; print(sphinx.__version__)”</p>
</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_setup –exec-autogen_sphinx_apidoc</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_setup</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autogen_sphinx_apidoc</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_setup.build_pyo">
<code class="descclassname">utool.util_setup.</code><code class="descname">build_pyo</code><span class="sig-paren">(</span><em>project_dirs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#build_pyo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.build_pyo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.clean">
<code class="descclassname">utool.util_setup.</code><code class="descname">clean</code><span class="sig-paren">(</span><em>setup_dir</em>, <em>clutter_patterns</em>, <em>clutter_dirs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.clean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.find_ext_modules">
<code class="descclassname">utool.util_setup.</code><code class="descname">find_ext_modules</code><span class="sig-paren">(</span><em>disable_warnings=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#find_ext_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.find_ext_modules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.find_packages">
<code class="descclassname">utool.util_setup.</code><code class="descname">find_packages</code><span class="sig-paren">(</span><em>recursive=True</em>, <em>maxdepth=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#find_packages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.find_packages" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all directories with an __init__.py file in them</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_setup.get_cmdclass">
<code class="descclassname">utool.util_setup.</code><code class="descname">get_cmdclass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#get_cmdclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.get_cmdclass" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_setup.get_numpy_include_dir">
<code class="descclassname">utool.util_setup.</code><code class="descname">get_numpy_include_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#get_numpy_include_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.get_numpy_include_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.parse_author">
<code class="descclassname">utool.util_setup.</code><code class="descname">parse_author</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#parse_author"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.parse_author" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: this function should parse setup.py or a module for
the author variable</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_setup.parse_package_for_version">
<code class="descclassname">utool.util_setup.</code><code class="descname">parse_package_for_version</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#parse_package_for_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.parse_package_for_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for a variable named __version__ in name’s __init__.py file and
returns the value.  This function parses the source text. It does not load
the module.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_setup.parse_readme">
<code class="descclassname">utool.util_setup.</code><code class="descname">parse_readme</code><span class="sig-paren">(</span><em>readmefile='README.md'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#parse_readme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.parse_readme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.presetup">
<code class="descclassname">utool.util_setup.</code><code class="descname">presetup</code><span class="sig-paren">(</span><em>setup_fpath</em>, <em>kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_setup.presetup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.presetup_commands">
<code class="descclassname">utool.util_setup.</code><code class="descname">presetup_commands</code><span class="sig-paren">(</span><em>setup_fpath</em>, <em>kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#presetup_commands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.presetup_commands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.read_license">
<code class="descclassname">utool.util_setup.</code><code class="descname">read_license</code><span class="sig-paren">(</span><em>license_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#read_license"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.read_license" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_setup.setup_chmod">
<code class="descclassname">utool.util_setup.</code><code class="descname">setup_chmod</code><span class="sig-paren">(</span><em>setup_fpath</em>, <em>setup_dir</em>, <em>chmod_patterns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#setup_chmod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.setup_chmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives files matching pattern the same chmod flags as setup.py</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_setup.setuptools_setup">
<code class="descclassname">utool.util_setup.</code><code class="descname">setuptools_setup</code><span class="sig-paren">(</span><em>setup_fpath=None</em>, <em>module=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#setuptools_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_setup.setuptools_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Arguments which can be passed to setuptools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>============       =====            ===========
Install-Data       Value            Description
------------       -----            -----------
*packages          strlist          a list of packages modules to be distributed
py_modules         strlist          a list of singlefile modules to be distributed
scripts            strlist          a list of standalone scripts to build and install
*install_requires  list             e.g: [&#39;distribute == 0.7.3&#39;, &#39;numpy&#39;, &#39;matplotlib&#39;]
data_files         strlist          a list of data files to install
zip_safe           bool             install efficiently installed as a zipped module?
namespace_packages list             packages without meaningful __init__.py&#39;s
package_dir        dict             keys are packagenames (&#39;&#39; is the root)
package_data       dict             keys are foldernames, values are a list of globstrs
*entry_pionts      dict             installs a script {&#39;console_scripts&#39;: [&#39;script_name_to_install = entry_module:entry_function&#39;]}

============       =====            ===========
Meta-Data          Value            Description
------------       -----            -----------
name               short string     (&#39;name of the package&#39;)
version            short string     (&#39;version of this release&#39;)
author             short string     (&#39;package authors name&#39;)
author_email       email address    (&#39;email address of the package author&#39;)
maintainer         short string     (&#39;package maintainers name&#39;)
maintainer_email   email address    (&#39;email address of the package maintainer&#39;)
url                URL              (&#39;home page for the package&#39;)
description        short string     (&#39;short, summary description of the package&#39;)
long_description   long string      (&#39;longer description of the package&#39;)
download_url       URL              (&#39;location where the package may be downloaded&#39;)
classifiers        list of strings  (&#39;a list of classifiers&#39;)
platforms          list of strings  (&#39;a list of platforms&#39;)
license            short string     (&#39;license for the package&#39;)
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.util_six">
<span id="utool-util-six-module"></span><h2>utool.util_six module<a class="headerlink" href="#module-utool.util_six" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-utool.util_sqlite">
<span id="utool-util-sqlite-module"></span><h2>utool.util_sqlite module<a class="headerlink" href="#module-utool.util_sqlite" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_sqlite.SQLColumnRichInfo">
<em class="property">class </em><code class="descclassname">utool.util_sqlite.</code><code class="descname">SQLColumnRichInfo</code><span class="sig-paren">(</span><em>column_id</em>, <em>name</em>, <em>type_</em>, <em>notnull</em>, <em>dflt_value</em>, <em>pk</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="utool.util_sqlite.SQLColumnRichInfo.column_id">
<code class="descname">column_id</code><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.column_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_sqlite.SQLColumnRichInfo.dflt_value">
<code class="descname">dflt_value</code><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.dflt_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_sqlite.SQLColumnRichInfo.name">
<code class="descname">name</code><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_sqlite.SQLColumnRichInfo.notnull">
<code class="descname">notnull</code><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.notnull" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_sqlite.SQLColumnRichInfo.pk">
<code class="descname">pk</code><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.pk" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_sqlite.SQLColumnRichInfo.type_">
<code class="descname">type_</code><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.type_" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_nonprimary_columninfo">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_nonprimary_columninfo</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_nonprimary_columninfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_nonprimary_columninfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_primary_columninfo">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_primary_columninfo</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_primary_columninfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_primary_columninfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_table_column">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_table_column</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em>, <em>colname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_table_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveinience:</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_table_columninfo_list">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_table_columninfo_list</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_columninfo_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_table_columninfo_list" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tablename</strong> (<em>str</em>) – table name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>list of tuples with format:</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[0] column_id  : id of the column
[1] name       : the name of the column
[2] <a href="#id273"><span class="problematic" id="id274">type_</span></a>      : the type of the column (TEXT, INT, etc…)
[3] notnull    : 0 or 1 if the column can contains null values
[4] dflt_value : the default value
[5] pk         : 0 or 1 if the column partecipate to the primary key</dd>
</dl>
<p class="last">)</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">column_list</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c">http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_sqlite –test-get_table_columninfo_list</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_sqlite</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_table_columnname_list">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_table_columnname_list</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_columnname_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_table_columnname_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_table_columns">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_table_columns</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em>, <em>exclude_columns=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_table_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_table_csv">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_table_csv</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em>, <em>exclude_columns=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_table_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveinience: Converts a tablename to csv format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tablename</strong> (<em>str</em>) – </li>
<li><strong>exclude_columns</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">csv_table</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m wbia.control.SQLDatabaseControl –test-get_table_csv</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.control.SQLDatabaseControl</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">NAME_TABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_columns</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_table</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_csv</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">csv_table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_table_num_rows">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_table_num_rows</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_num_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_table_num_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_table_rows">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_table_rows</code><span class="sig-paren">(</span><em>cur</em>, <em>tablename</em>, <em>colnames</em>, <em>where=None</em>, <em>params=None</em>, <em>unpack=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_table_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.get_tablenames">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">get_tablenames</code><span class="sig-paren">(</span><em>cur</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_tablenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.get_tablenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveinience:</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_sqlite.print_database_structure">
<code class="descclassname">utool.util_sqlite.</code><code class="descname">print_database_structure</code><span class="sig-paren">(</span><em>cur</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#print_database_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sqlite.print_database_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_str">
<span id="utool-util-str-module"></span><h2>utool.util_str module<a class="headerlink" href="#module-utool.util_str" title="Permalink to this headline">¶</a></h2>
<p>Module that handles string formating and manipulation of various data</p>
<dl class="function">
<dt id="utool.util_str.align">
<code class="descclassname">utool.util_str.</code><code class="descname">align</code><span class="sig-paren">(</span><em>text</em>, <em>character='='</em>, <em>replchar=None</em>, <em>pos=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Left justifies text on the left side of character</p>
<p>align</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<em>str</em>) – text to align</li>
<li><strong>character</strong> (<em>str</em>) – character to align at</li>
<li><strong>replchar</strong> (<em>str</em>) – replacement character (default=None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_text</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-align:0</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;a = b=</span><span class="se">\n</span><span class="s1">one = two</span><span class="se">\n</span><span class="s1">three = fish</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">align</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a     = b=</span>
<span class="go">one   = two</span>
<span class="go">three = fish</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.align_lines">
<code class="descclassname">utool.util_str.</code><code class="descname">align_lines</code><span class="sig-paren">(</span><em>line_list</em>, <em>character='='</em>, <em>replchar=None</em>, <em>pos=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#align_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.align_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Left justifies text on the left side of character</p>
<p>align_lines</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line_list</strong> (<em>list of strs</em>) – </li>
<li><strong>character</strong> (<em>str</em>) – </li>
<li><strong>pos</strong> (<em>int</em><em> or </em><em>list</em><em> or </em><em>None</em>) – does one alignment for all chars beyond this
column position. If pos is None, then all chars are aligned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_lines</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-align_lines:0
python -m utool.util_str –test-align_lines:1
python -m utool.util_str –test-align_lines:2
python -m utool.util_str –test-align_lines:3</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="s1">&#39;a = b</span><span class="se">\n</span><span class="s1">one = two</span><span class="se">\n</span><span class="s1">three = fish&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">line_list</span><span class="p">,</span> <span class="n">character</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a     = b</span>
<span class="go">one   = two</span>
<span class="go">three = fish</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="s1">&#39;foofish:</span><span class="se">\n</span><span class="s1">    a = b</span><span class="se">\n</span><span class="s1">    one    = two</span><span class="se">\n</span><span class="s1">    three    = fish&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">line_list</span><span class="p">,</span> <span class="n">character</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foofish:</span>
<span class="go">    a        = b</span>
<span class="go">    one      = two</span>
<span class="go">    three    = fish</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;:&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="go">    {&#39;max&#39;: &#39;1970/01/01 02:30:13&#39;,</span>
<span class="go">     &#39;mean&#39;: &#39;1970/01/01 01:10:15&#39;,</span>
<span class="go">     &#39;min&#39;: &#39;1970/01/01 00:01:41&#39;,</span>
<span class="go">     &#39;range&#39;: &#39;2:28:32&#39;,</span>
<span class="go">     &#39;std&#39;: &#39;1:13:57&#39;,}&#39;&#39;&#39;).split(&#39;\n&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39; :&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;max&#39;   : &#39;1970/01/01 02:30:13&#39;,</span>
<span class="go"> &#39;mean&#39;  : &#39;1970/01/01 01:10:15&#39;,</span>
<span class="go"> &#39;min&#39;   : &#39;1970/01/01 00:01:41&#39;,</span>
<span class="go"> &#39;range&#39; : &#39;2:28:32&#39;,</span>
<span class="go"> &#39;std&#39;   : &#39;1:13:57&#39;,}</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="s1">&#39;foofish:</span><span class="se">\n</span><span class="s1"> a = b = c</span><span class="se">\n</span><span class="s1"> one = two = three</span><span class="se">\n</span><span class="s1">three=4= fish&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># align the second occurence of a character</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">line_list</span><span class="p">,</span> <span class="n">character</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line_list</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foofish:</span>
<span class="go"> a   = b   = c</span>
<span class="go"> one = two = three</span>
<span class="go">three=4    = fish</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd># use this as test case
begin{tabular}{lrrll}
toprule
{} &amp;  Names &amp;  Annots &amp; Annots size &amp; Training Edges \
midrule
training &amp;    390 &amp;    1164 &amp;   2.98pm2.83 &amp;           9360 \
testing  &amp;    363 &amp;    1119 &amp;   3.08pm2.82 &amp;              - \
bottomrule
end{tabular}</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.autoformat_pep8">
<code class="descclassname">utool.util_str.</code><code class="descname">autoformat_pep8</code><span class="sig-paren">(</span><em>sourcecode</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#autoformat_pep8"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.autoformat_pep8" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-autoformat_pep8</dd>
<dt>Kwargs:</dt>
<dd>‘aggressive’: 0,
‘diff’: False,
‘exclude’: [],
‘experimental’: False,
‘files’: [u’‘],
‘global_config’: ~/.config/pep8,
‘ignore’: set([u’E24’]),
‘ignore_local_config’: False,
‘in_place’: False,
‘indent_size’: 4,
‘jobs’: 1,
‘line_range’: None,
‘list_fixes’: False,
‘max_line_length’: 79,
‘pep8_passes’: -1,
‘recursive’: False,
‘select’: ,
‘verbose’: 0,</dd>
<dt>Ignore:</dt>
<dd>autopep8 –recursive –in-place –ignore E126,E127,E201,E202,E203,E221,E222,E241,E265,E271,E272,E301,E501,W602,E266,N801,N802,N803,N805,N806,N811,N813 .</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.autopep8_format">
<code class="descclassname">utool.util_str.</code><code class="descname">autopep8_format</code><span class="sig-paren">(</span><em>sourcecode</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.autopep8_format" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-autoformat_pep8</dd>
<dt>Kwargs:</dt>
<dd>‘aggressive’: 0,
‘diff’: False,
‘exclude’: [],
‘experimental’: False,
‘files’: [u’‘],
‘global_config’: ~/.config/pep8,
‘ignore’: set([u’E24’]),
‘ignore_local_config’: False,
‘in_place’: False,
‘indent_size’: 4,
‘jobs’: 1,
‘line_range’: None,
‘list_fixes’: False,
‘max_line_length’: 79,
‘pep8_passes’: -1,
‘recursive’: False,
‘select’: ,
‘verbose’: 0,</dd>
<dt>Ignore:</dt>
<dd>autopep8 –recursive –in-place –ignore E126,E127,E201,E202,E203,E221,E222,E241,E265,E271,E272,E301,E501,W602,E266,N801,N802,N803,N805,N806,N811,N813 .</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.bbox_str">
<code class="descclassname">utool.util_str.</code><code class="descname">bbox_str</code><span class="sig-paren">(</span><em>bbox</em>, <em>pad=4</em>, <em>sep='</em>, <em>'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#bbox_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.bbox_str" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a string from an integer bounding box</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.bubbletext">
<code class="descclassname">utool.util_str.</code><code class="descname">bubbletext</code><span class="sig-paren">(</span><em>text</em>, <em>font='cybermedium'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#bubbletext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.bubbletext" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses pyfiglet to create bubble text.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>font</strong> (<em>str</em>) – default=cybermedium, other fonts include: cybersmall and
cyberlarge.</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.figlet.org/">http://www.figlet.org/</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bubble_text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">bubbletext</span><span class="p">(</span><span class="s1">&#39;TESTING BUBBLE TEXT&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;cybermedium&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bubble_text</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.byte_str">
<code class="descclassname">utool.util_str.</code><code class="descname">byte_str</code><span class="sig-paren">(</span><em>nBytes</em>, <em>unit='bytes'</em>, <em>precision=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#byte_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.byte_str" title="Permalink to this definition">¶</a></dt>
<dd><p>representing the number of bytes with the chosen unit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.byte_str2">
<code class="descclassname">utool.util_str.</code><code class="descname">byte_str2</code><span class="sig-paren">(</span><em>nBytes</em>, <em>precision=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#byte_str2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.byte_str2" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically chooses relevant unit (KB, MB, or GB) for displaying some
number of bytes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nBytes</strong> (<em>int</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-byte_str2</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span>  <span class="mi">1048576</span><span class="p">,</span> <span class="mi">1073741824</span><span class="p">,</span> <span class="mi">1099511627776</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_str</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">byte_str2</span><span class="p">,</span> <span class="n">nBytes_list</span><span class="p">)),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;0.00 KB&#39;, &#39;0.10 KB&#39;, &#39;1.00 KB&#39;, &#39;1.00 MB&#39;, &#39;1.00 GB&#39;, &#39;1.00 TB&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.chr_range">
<code class="descclassname">utool.util_str.</code><code class="descname">chr_range</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#chr_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.chr_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Like range but returns characters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> (<em>None</em>) – (default = None)</li>
<li><strong>stop</strong> (<em>None</em>) – (default = None)</li>
<li><strong>step</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>base (str): charater to start with (default=’a’)</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of characters</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-chr_range</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.closet_words">
<code class="descclassname">utool.util_str.</code><code class="descname">closet_words</code><span class="sig-paren">(</span><em>query</em>, <em>options</em>, <em>num=1</em>, <em>subset=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#closet_words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.closet_words" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.codeblock">
<code class="descclassname">utool.util_str.</code><code class="descname">codeblock</code><span class="sig-paren">(</span><em>block_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#codeblock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.codeblock" title="Permalink to this definition">¶</a></dt>
<dd><p>Convinience function for defining code strings. Esspecially useful for
templated code.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.color_diff_text">
<code class="descclassname">utool.util_str.</code><code class="descname">color_diff_text</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#color_diff_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.color_diff_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.color_text">
<code class="descclassname">utool.util_str.</code><code class="descname">color_text</code><span class="sig-paren">(</span><em>text</em>, <em>color</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#color_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.color_text" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>highlight_text
lexer_shortnames = sorted(ut.flatten(ut.take_column(pygments.lexers.LEXERS.values(), 2)))</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.conj_phrase">
<code class="descclassname">utool.util_str.</code><code class="descname">conj_phrase</code><span class="sig-paren">(</span><em>list_</em>, <em>cond='or'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#conj_phrase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.conj_phrase" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins a list of words using English conjunction rules</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – of strings</li>
<li><strong>cond</strong> (<em>str</em>) – a conjunction (or, and, but)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the joined cconjunction phrase</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Conjunction_(grammar">http://en.wikipedia.org/wiki/Conjunction_(grammar</a>)</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">conj_phrase</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="s1">&#39;or&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a, b, or c</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">conj_phrase</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a and b</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.countdown_flag">
<code class="descclassname">utool.util_str.</code><code class="descname">countdown_flag</code><span class="sig-paren">(</span><em>count_or_bool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#countdown_flag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.countdown_flag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.dict_itemstr_list">
<code class="descclassname">utool.util_str.</code><code class="descname">dict_itemstr_list</code><span class="sig-paren">(</span><em>dict_</em>, <em>**dictkw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#dict_itemstr_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.dict_itemstr_list" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of human-readable dictionary items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>explicit</strong> – if True uses dict(key=val,…) format instead of {key:val,…}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.dict_str">
<code class="descclassname">utool.util_str.</code><code class="descname">dict_str</code><span class="sig-paren">(</span><em>dict_</em>, <em>**dictkw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#dict_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.dict_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a pretty printable / human-readable string representation of a
dictionary. In most cases this string could be evaled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict</strong> (<a href="#id275"><span class="problematic" id="id276">dict_</span></a>) – a dictionary</li>
<li><strong>dict</strong> – a dictionary</li>
<li><strong>**dictkw</strong> – stritems, strkeys, strvals, nl, newlines, truncate, nobr,
nobraces, align, trailing_sep, explicit, itemsep,
truncatekw, <a href="#id277"><span class="problematic" id="id278">sorted_</span></a>, <a href="#id279"><span class="problematic" id="id280">indent_</span></a>, key_order, precision,
with_comma, key_order_metric, maxlen, recursive, use_numpy,
with_dtype, force_dtype, packed</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><p class="first"><a href="#id281"><span class="problematic" id="id282">sorted_</span></a> (None): returns str sorted by a metric (default = None)
nl (int): prefered alias for newline. can be a coundown variable</p>
<blockquote>
<div>(default = None)</div></blockquote>
<p>key_order (None): overrides default ordering (default = None)
key_order_metric (str): special sorting of items. Accepted values:</p>
<blockquote>
<div>None, ‘strlen’, ‘val’</div></blockquote>
<p>precision (int): (default = 8)
explicit (int): can be a countdown variable. if True, uses</p>
<blockquote>
<div>dict(a=b) syntax instead of {‘a’: b}</div></blockquote>
<p class="last">nobr (bool): removes outer braces (default = False)</p>
</dd>
<dt>Ignore:</dt>
<dd>python -m utool.util_inspect recursive_parse_kwargs:2 –mod utool.util_str –func dict_str –verbinspect</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-dict_str:1
python -m utool.util_str –test-dict_str –truncate=False –no-checkwant
python -m utool.util_str –test-dict_str –truncate=1 –no-checkwant
python -m utool.util_str –test-dict_str –truncate=2 –no-checkwant</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="n">dict_str</span><span class="p">,</span> <span class="n">dict_itemstr_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;barbarbarbarbar&#39;</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">:</span> <span class="s1">&#39;jam&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="s1">&#39;barbarbarbarbar&#39;</span> <span class="o">*</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">truncate</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--truncate&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">dict_str</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">strvals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="n">truncate</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="n">truncatekw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;maxlen&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;baz&#39;: barbarbarbarbarbarbarbarbarbarbarbarbarbarbar,</span>
<span class="go">    &#39;foo&#39;: {</span>
<span class="go">        &#39;eggs&#39;: jam,</span>
<span class="go">        &#39;s ~~~TRUNCATED~~~ r,</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;float&#39;</span><span class="p">:</span> <span class="mf">2.3333</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;slice&#39;</span><span class="p">:</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;arr&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;list1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">2.3333</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dict1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mf">2.3333</span><span class="p">:</span> <span class="mf">2.3333</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span> <span class="p">:</span> <span class="n">c</span><span class="p">}}}},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;set1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;set2&#39;</span><span class="p">:</span> <span class="n">ut</span><span class="o">.</span><span class="n">oset</span><span class="p">([</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;list2&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">},</span> <span class="mi">1</span><span class="p">:</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="mf">2.333</span><span class="p">},</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[</span><span class="n">b</span><span class="p">],</span> <span class="n">b</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">},</span> <span class="n">c</span><span class="p">:</span> <span class="mf">2.333</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictkw</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">stritems</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">itemsep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">explicit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_str</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="o">**</span><span class="n">dictkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictkw</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">stritems</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">explicit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_str</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="o">**</span><span class="n">dictkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.difftext">
<code class="descclassname">utool.util_str.</code><code class="descname">difftext</code><span class="sig-paren">(</span><em>text1</em>, <em>text2</em>, <em>num_context_lines=0</em>, <em>ignore_whitespace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.difftext" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses difflib to return a difference string between two similar texts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text1</strong> (<em>str</em>) – </li>
<li><strong>text2</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">formatted difference text message</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.color_diff_text</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm">http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-get_textdiff:1
python -m utool.util_str –test-get_textdiff:0</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">- three</span>
<span class="go">+ five</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">3.5</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_context_lines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">num_context_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.doctest_code_line">
<code class="descclassname">utool.util_str.</code><code class="descname">doctest_code_line</code><span class="sig-paren">(</span><em>line_str</em>, <em>varname=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#doctest_code_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.doctest_code_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.doctest_repr">
<code class="descclassname">utool.util_str.</code><code class="descname">doctest_repr</code><span class="sig-paren">(</span><em>var</em>, <em>varname=None</em>, <em>precision=2</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#doctest_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.doctest_repr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.ensure_ascii">
<code class="descclassname">utool.util_str.</code><code class="descname">ensure_ascii</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#ensure_ascii"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.ensure_ascii" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.ensure_unicode_strlist">
<code class="descclassname">utool.util_str.</code><code class="descname">ensure_unicode_strlist</code><span class="sig-paren">(</span><em>str_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#ensure_unicode_strlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.ensure_unicode_strlist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.file_megabytes_str">
<code class="descclassname">utool.util_str.</code><code class="descname">file_megabytes_str</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#file_megabytes_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.file_megabytes_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.filesize_str">
<code class="descclassname">utool.util_str.</code><code class="descname">filesize_str</code><span class="sig-paren">(</span><em>fpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#filesize_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.filesize_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.filtered_infostr">
<code class="descclassname">utool.util_str.</code><code class="descname">filtered_infostr</code><span class="sig-paren">(</span><em>flags</em>, <em>lbl</em>, <em>reason=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#filtered_infostr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.filtered_infostr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.find_block_end">
<code class="descclassname">utool.util_str.</code><code class="descname">find_block_end</code><span class="sig-paren">(</span><em>row</em>, <em>line_list</em>, <em>sentinal</em>, <em>direction=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#find_block_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.find_block_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches up and down until it finds the endpoints of a block Rectify
with find_paragraph_end in pyvim_funcs</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.flatten_textlines">
<code class="descclassname">utool.util_str.</code><code class="descname">flatten_textlines</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#flatten_textlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.flatten_textlines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.format_multi_paragraphs">
<code class="descclassname">utool.util_str.</code><code class="descname">format_multi_paragraphs</code><span class="sig-paren">(</span><em>text</em>, <em>debug=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.format_multi_paragraphs" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME: funky things happen when multiple newlines in the middle of
paragraphs</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python ~/local/vim/rc/pyvim_funcs.py –test-format_multiple_paragraph_sentences</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-format_multiple_paragraph_sentences –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#sys.path.append(os.path.expanduser(&#39;~/local/vim/rc&#39;))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_multiple_paragraph_sentences</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Formated Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">formated_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L_____&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.format_multiple_paragraph_sentences">
<code class="descclassname">utool.util_str.</code><code class="descname">format_multiple_paragraph_sentences</code><span class="sig-paren">(</span><em>text</em>, <em>debug=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#format_multiple_paragraph_sentences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.format_multiple_paragraph_sentences" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME: funky things happen when multiple newlines in the middle of
paragraphs</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python ~/local/vim/rc/pyvim_funcs.py –test-format_multiple_paragraph_sentences</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-format_multiple_paragraph_sentences –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#sys.path.append(os.path.expanduser(&#39;~/local/vim/rc&#39;))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_multiple_paragraph_sentences</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Formated Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">formated_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L_____&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.format_single_paragraph_sentences">
<code class="descclassname">utool.util_str.</code><code class="descname">format_single_paragraph_sentences</code><span class="sig-paren">(</span><em>text</em>, <em>debug=False</em>, <em>myprefix=True</em>, <em>sentence_break=True</em>, <em>max_width=73</em>, <em>sepcolon=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#format_single_paragraph_sentences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.format_single_paragraph_sentences" title="Permalink to this definition">¶</a></dt>
<dd><p>helps me separatate sentences grouped in paragraphs that I have a
difficult time reading due to dyslexia</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">wrapped_text</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-format_single_paragraph_sentences –show
python -m utool.util_str –exec-format_single_paragraph_sentences –show –nobreak</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;     lorium ipsum doloar dolar dolar dolar erata man foobar is this there yet almost man not quit ate 80 chars yet hold out almost there? dolar erat. sau.ltum. fds.fd... . . fd oob fd. list: (1) abcd, (2) foobar (4) 123456789 123456789 123456789 123456789 123 123 123 123 123456789 123 123 123 123 123456789 123456789 123456789 123456789 123456789 123 123 123 123 123 123456789 123456789 123456789 123456789 123456789 123456789 (3) spam.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;list: (1) abcd, (2) foobar (3) spam.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;foo. when: (1) there is a new individual,&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;when: (1) there is a new individual,&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;? ? . lorium. ipsum? dolar erat. saultum. fds.fd...  fd oob fd. ? &#39;  # causes breakdown</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">text</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentence_break</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--nobreak&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapped_text</span> <span class="o">=</span> <span class="n">format_single_paragraph_sentences</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sentence_break</span><span class="o">=</span><span class="n">sentence_break</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;wrapped_text =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">wrapped_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.format_text_as_docstr">
<code class="descclassname">utool.util_str.</code><code class="descname">format_text_as_docstr</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#format_text_as_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.format_text_as_docstr" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python  ~/local/vim/rc/pyvim_funcs.py  –test-format_text_as_docstr</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyvim_funcs</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_text_as_docstr</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;formated_text = </span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">formated_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.func_callsig">
<code class="descclassname">utool.util_str.</code><code class="descname">func_callsig</code><span class="sig-paren">(</span><em>func</em>, <em>with_name=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#func_callsig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.func_callsig" title="Permalink to this definition">¶</a></dt>
<dd><p>String of function call signature</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – live python function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">callsig</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-func_callsig</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">callsig</span> <span class="o">=</span> <span class="n">func_callsig</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">callsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">func_str(func, args, kwargs, type_aliases, packed, packkw, truncate)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.func_defsig">
<code class="descclassname">utool.util_str.</code><code class="descname">func_defsig</code><span class="sig-paren">(</span><em>func</em>, <em>with_name=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#func_defsig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.func_defsig" title="Permalink to this definition">¶</a></dt>
<dd><p>String of function definition signature</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – live python function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">defsig</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-func_defsig</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defsig</span> <span class="o">=</span> <span class="n">func_defsig</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">defsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">func_str(func, args=[], kwargs={}, type_aliases=[], packed=False, packkw=None, truncate=False)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.func_str">
<code class="descclassname">utool.util_str.</code><code class="descname">func_str</code><span class="sig-paren">(</span><em>func</em>, <em>args=[]</em>, <em>kwargs={}</em>, <em>type_aliases=[]</em>, <em>packed=False</em>, <em>packkw=None</em>, <em>truncate=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#func_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.func_str" title="Permalink to this definition">¶</a></dt>
<dd><p>string representation of function definition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a representation of func with args, kwargs, and type_aliases</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) – </li>
<li><strong>args</strong> (<em>list</em>) – argument values (default = [])</li>
<li><strong>kwargs</strong> (<em>dict</em>) – kwargs values (default = {})</li>
<li><strong>type_aliases</strong> (<em>list</em>) – (default = [])</li>
<li><strong>packed</strong> (<em>bool</em>) – (default = False)</li>
<li><strong>packkw</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">func_str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-func_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">byte_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1024</span><span class="p">,</span> <span class="s1">&#39;MB&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_aliases</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packed</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packkw</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_str</span> <span class="o">=</span> <span class="n">func_str</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">type_aliases</span><span class="p">,</span> <span class="n">packed</span><span class="p">,</span> <span class="n">packkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">byte_str(1024, &#39;MB&#39;, precision=2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.get_bytes">
<code class="descclassname">utool.util_str.</code><code class="descname">get_bytes</code><span class="sig-paren">(</span><em>nUnits</em>, <em>unit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.get_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.get_callable_name">
<code class="descclassname">utool.util_str.</code><code class="descname">get_callable_name</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_callable_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.get_callable_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Works on must functionlike objects including str, which has no func_name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-get_callable_name</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_callable_name</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">len</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.get_indentation">
<code class="descclassname">utool.util_str.</code><code class="descname">get_indentation</code><span class="sig-paren">(</span><em>line_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_indentation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.get_indentation" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the number of preceding spaces</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.get_itemstr_list">
<code class="descclassname">utool.util_str.</code><code class="descname">get_itemstr_list</code><span class="sig-paren">(</span><em>list_</em>, <em>**listkw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_itemstr_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.get_itemstr_list" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: have this replace dict_itemstr list or at least most functionality in
it. have it make two itemstr lists over keys and values and then combine
them.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.get_minimum_indentation">
<code class="descclassname">utool.util_str.</code><code class="descname">get_minimum_indentation</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_minimum_indentation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.get_minimum_indentation" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the number of preceding spaces</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – unicode text</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">indentation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-get_minimum_indentation –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;    foo</span><span class="se">\n</span><span class="s1">   bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_minimum_indentation</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.get_textdiff">
<code class="descclassname">utool.util_str.</code><code class="descname">get_textdiff</code><span class="sig-paren">(</span><em>text1</em>, <em>text2</em>, <em>num_context_lines=0</em>, <em>ignore_whitespace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_textdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.get_textdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses difflib to return a difference string between two similar texts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text1</strong> (<em>str</em>) – </li>
<li><strong>text2</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">formatted difference text message</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.color_diff_text</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm">http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-get_textdiff:1
python -m utool.util_str –test-get_textdiff:0</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">- three</span>
<span class="go">+ five</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">3.5</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_context_lines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">num_context_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.highlight_code">
<code class="descclassname">utool.util_str.</code><code class="descname">highlight_code</code><span class="sig-paren">(</span><em>text</em>, <em>lexer_name='python'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.highlight_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.highlight_multi_regex">
<code class="descclassname">utool.util_str.</code><code class="descname">highlight_multi_regex</code><span class="sig-paren">(</span><em>str_</em>, <em>pat_to_color</em>, <em>reflags=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_multi_regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.highlight_multi_regex" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME Use pygments instead. must be mututally exclusive</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.highlight_regex">
<code class="descclassname">utool.util_str.</code><code class="descname">highlight_regex</code><span class="sig-paren">(</span><em>str_</em>, <em>pat</em>, <em>reflags=0</em>, <em>color='red'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.highlight_regex" title="Permalink to this definition">¶</a></dt>
<dd><p>FIXME Use pygments instead</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.highlight_text">
<code class="descclassname">utool.util_str.</code><code class="descname">highlight_text</code><span class="sig-paren">(</span><em>text</em>, <em>lexer_name='python'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.highlight_text" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>SeeAlso:</dt>
<dd>color_text</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.horiz_string">
<code class="descclassname">utool.util_str.</code><code class="descname">horiz_string</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#horiz_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.horiz_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Horizontally concatenates strings reprs preserving indentation</p>
<p>Concats a list of objects ensuring that the next item in the list
is all the way to the right of any previous items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*args</strong> – list of strings to concat</li>
<li><strong>**kwargs</strong> – precision, sep</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-horiz_string</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Pretty printing of matrices demo / test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Wouldn&#39;t it be nice if we could print this operation easily?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 1:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">hz_str</span><span class="p">(</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="s1">&#39; = &#39;</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[19 22]  = [[1 2]  * [[5 6]</span>
<span class="go">     [43 50]]    [3 4]]    [7 8]]</span>
</pre></div>
</div>
</dd>
<dt>Exam2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 2:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">C</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">horizstr</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">horiz_string</span><span class="p">(</span><span class="o">*</span><span class="n">str_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[1 2]  * [[5 6]</span>
<span class="go">     [3 4]]    [7 8]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.hz_str">
<code class="descclassname">utool.util_str.</code><code class="descname">hz_str</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.hz_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Horizontally concatenates strings reprs preserving indentation</p>
<p>Concats a list of objects ensuring that the next item in the list
is all the way to the right of any previous items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*args</strong> – list of strings to concat</li>
<li><strong>**kwargs</strong> – precision, sep</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-horiz_string</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Pretty printing of matrices demo / test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Wouldn&#39;t it be nice if we could print this operation easily?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 1:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">hz_str</span><span class="p">(</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="s1">&#39; = &#39;</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[19 22]  = [[1 2]  * [[5 6]</span>
<span class="go">     [43 50]]    [3 4]]    [7 8]]</span>
</pre></div>
</div>
</dd>
<dt>Exam2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 2:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">C</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">horizstr</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">horiz_string</span><span class="p">(</span><span class="o">*</span><span class="n">str_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[1 2]  * [[5 6]</span>
<span class="go">     [3 4]]    [7 8]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.indent">
<code class="descclassname">utool.util_str.</code><code class="descname">indent</code><span class="sig-paren">(</span><em>str_</em>, <em>indent='    '</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Indents a block of text</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str</strong> (<em>str</em>) – </li>
<li><strong>indent</strong> (<em>str</em>) – (default = ‘    ‘) TODO rename to <a href="#id283"><span class="problematic" id="id284">indent_</span></a> or rename func</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-indent</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;foobar</span><span class="se">\n</span><span class="s1">bazbiz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indent</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">indent</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">indent</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.indent_list">
<code class="descclassname">utool.util_str.</code><code class="descname">indent_list</code><span class="sig-paren">(</span><em>indent</em>, <em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indent_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.indent_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.indent_rest">
<code class="descclassname">utool.util_str.</code><code class="descname">indent_rest</code><span class="sig-paren">(</span><em>str_</em>, <em>indent='    '</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indent_rest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.indent_rest" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO fix name Indents every part of the string except the beginning
SeeAlso: wbia/templates/generate_notebook.py</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.indentjoin">
<code class="descclassname">utool.util_str.</code><code class="descname">indentjoin</code><span class="sig-paren">(</span><em>strlist</em>, <em>indent='\n    '</em>, <em>suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indentjoin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.indentjoin" title="Permalink to this definition">¶</a></dt>
<dd><p>Convineince indentjoin</p>
<p>similar to ‘n    ‘.join(strlist) but indent is also prefixed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>strlist</strong> – </li>
<li><strong>indent</strong> (<em>str</em>) – </li>
<li><strong>suffix</strong> (<em>str</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">joined list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.insert_block_between_lines">
<code class="descclassname">utool.util_str.</code><code class="descname">insert_block_between_lines</code><span class="sig-paren">(</span><em>text</em>, <em>row1</em>, <em>row2</em>, <em>line_list</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#insert_block_between_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.insert_block_between_lines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.is_byte_encoded_unicode">
<code class="descclassname">utool.util_str.</code><code class="descname">is_byte_encoded_unicode</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#is_byte_encoded_unicode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.is_byte_encoded_unicode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.is_url">
<code class="descclassname">utool.util_str.</code><code class="descname">is_url</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#is_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.is_url" title="Permalink to this definition">¶</a></dt>
<dd><p>heuristic check if str is url formatted</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.joins">
<code class="descclassname">utool.util_str.</code><code class="descname">joins</code><span class="sig-paren">(</span><em>string</em>, <em>list_</em>, <em>with_head=True</em>, <em>with_tail=False</em>, <em>tostrip='\n'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#joins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.joins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.list_str">
<code class="descclassname">utool.util_str.</code><code class="descname">list_str</code><span class="sig-paren">(</span><em>list_</em>, <em>**listkw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#list_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.list_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a pretty list string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list</strong> (<em>list</em>) – input list</li>
<li><strong>**listkw</strong> – nl, newlines, packed, truncate, nobr, nobraces, itemsep,
trailing_sep, truncatekw, strvals, recursive,
<a href="#id285"><span class="problematic" id="id286">indent_</span></a>, precision, use_numpy, with_dtype, force_dtype,
stritems, strkeys, align, explicit, <a href="#id287"><span class="problematic" id="id288">sorted_</span></a>, key_order,
key_order_metric, maxlen</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">retstr</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-list_str
python -m utool.util_str –exec-list_str –truncate=True
python -m utool.util_str –exec-list_str –truncate=0</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)],</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">[([</span><span class="s1">&#39;--nodyn&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="p">([</span><span class="s1">&#39;--nodyn&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listkw</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;nl&#39;</span><span class="p">:</span>  <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_str</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="o">**</span><span class="n">listkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    [</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        ([&#39;--nodyn&#39;], 1, False, &#39;&#39;),</span>
<span class="go">        ([&#39;--nodyn&#39;], 1, False, &#39;&#39;),</span>
<span class="go">    ],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.list_str_summarized">
<code class="descclassname">utool.util_str.</code><code class="descname">list_str_summarized</code><span class="sig-paren">(</span><em>list_</em>, <em>list_name</em>, <em>maxlen=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#list_str_summarized"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.list_str_summarized" title="Permalink to this definition">¶</a></dt>
<dd><p>prints the list members when the list is small and the length when it is
large</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.long_fname_format">
<code class="descclassname">utool.util_str.</code><code class="descname">long_fname_format</code><span class="sig-paren">(</span><em>fmt_str</em>, <em>fmt_dict</em>, <em>hashable_keys=[]</em>, <em>max_len=64</em>, <em>hashlen=16</em>, <em>ABS_MAX_LEN=255</em>, <em>hack27=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#long_fname_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.long_fname_format" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE</p>
<p>Formats a string and hashes certain parts if the resulting string becomes
too long. Used for making filenames fit onto disk.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fmt_str</strong> (<em>str</em>) – format of fname</li>
<li><strong>fmt_dict</strong> (<em>str</em>) – dict to format fname with</li>
<li><strong>hashable_keys</strong> (<em>list</em>) – list of dict keys you are willing to have hashed</li>
<li><strong>max_len</strong> (<em>int</em>) – tries to fit fname into this length</li>
<li><strong>ABS_MAX_LEN</strong> (<em>int</em>) – throws AssertionError if fname over this length</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-long_fname_format</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt_str</span> <span class="o">=</span> <span class="s1">&#39;qaid=</span><span class="si">{qaid}</span><span class="s1">_res_</span><span class="si">{cfgstr}</span><span class="s1">_quuid=</span><span class="si">{quuid}</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quuid_str</span> <span class="o">=</span> <span class="s1">&#39;blahblahblahblahblahblah&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;big_long_string__________________________________&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaid</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">cfgstr</span><span class="o">=</span><span class="n">cfgstr</span><span class="p">,</span> <span class="n">qaid</span><span class="o">=</span><span class="n">qaid</span><span class="p">,</span> <span class="n">quuid</span><span class="o">=</span><span class="n">quuid_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashable_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cfgstr&#39;</span><span class="p">,</span> <span class="s1">&#39;quuid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_len</span> <span class="o">=</span> <span class="mi">64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">long_fname_format</span><span class="p">(</span><span class="n">fmt_str</span><span class="p">,</span> <span class="n">fmt_dict</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">long_fname_format</span><span class="p">(</span><span class="n">fmt_str</span><span class="p">,</span> <span class="n">fmt_dict</span><span class="p">,</span> <span class="n">hashable_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">max_len</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">hashlen</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">long_fname_format</span><span class="p">(</span><span class="n">fmt_str</span><span class="p">,</span> <span class="n">fmt_dict</span><span class="p">,</span> <span class="n">hashable_keys</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">hashlen</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">fname0</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">fname1</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">fname2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">qaid=5_res_big_long_string___________________________________quuid=blahblahblahblahblahblah</span>
<span class="go">qaid=5_res_racfntgq_quuid=blahblahblahblahblahblah</span>
<span class="go">qaid=5_res_racfntgq_quuid=yvuaffrp</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.lorium_ipsum">
<code class="descclassname">utool.util_str.</code><code class="descname">lorium_ipsum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#lorium_ipsum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.lorium_ipsum" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard testing string</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.msgblock">
<code class="descclassname">utool.util_str.</code><code class="descname">msgblock</code><span class="sig-paren">(</span><em>key</em>, <em>text</em>, <em>side='|'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#msgblock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.msgblock" title="Permalink to this definition">¶</a></dt>
<dd><p>puts text inside a visual ascii block</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.multi_replace">
<code class="descclassname">utool.util_str.</code><code class="descname">multi_replace</code><span class="sig-paren">(</span><em>str_</em>, <em>search_list</em>, <em>repl_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#multi_replace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.multi_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs multiple replace functions foreach item in search_list and
repl_list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str</strong> (<em>str</em>) – string to search</li>
<li><strong>search_list</strong> (<em>list</em>) – list of search strings</li>
<li><strong>repl_list</strong> (<em>list</em><em> or </em><em>str</em>) – one or multiple replace strings</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a href="#id289"><span class="problematic" id="id290">str_</span></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-multi_replace</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;foo. bar: baz; spam-eggs --- eggs+spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;---&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl_list</span> <span class="o">=</span> <span class="s1">&#39;@&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="n">multi_replace</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">search_list</span><span class="p">,</span> <span class="n">repl_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;str_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">str_</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">str_ = foo@ bar@ baz; spam-eggs @ eggs+spam</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.number_text_lines">
<code class="descclassname">utool.util_str.</code><code class="descname">number_text_lines</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#number_text_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.number_text_lines" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">text_with_lineno - string with numbered lines</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.numpy_str">
<code class="descclassname">utool.util_str.</code><code class="descname">numpy_str</code><span class="sig-paren">(</span><em>arr</em>, <em>strvals=False</em>, <em>precision=None</em>, <em>pr=None</em>, <em>force_dtype=False</em>, <em>with_dtype=None</em>, <em>suppress_small=None</em>, <em>max_line_width=None</em>, <em>threshold=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#numpy_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.numpy_str" title="Permalink to this definition">¶</a></dt>
<dd><p>suppress_small = False turns off scientific representation</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.order_of_magnitude_str">
<code class="descclassname">utool.util_str.</code><code class="descname">order_of_magnitude_str</code><span class="sig-paren">(</span><em>num</em>, <em>base=10.0</em>, <em>prefix_list=None</em>, <em>exponent_list=None</em>, <em>suffix=''</em>, <em>prefix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#order_of_magnitude_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.order_of_magnitude_str" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Rewrite byte_str to use this func
:returns: str</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.pack_into">
<code class="descclassname">utool.util_str.</code><code class="descname">pack_into</code><span class="sig-paren">(</span><em>text</em>, <em>textwidth=160</em>, <em>breakchars=' '</em>, <em>break_words=True</em>, <em>newline_prefix=''</em>, <em>wordsep=' '</em>, <em>remove_newlines=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#pack_into"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.pack_into" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATE IN FAVOR OF textwrap.wrap</p>
<p>TODO: Look into textwrap.wrap</p>
<p>Inserts newlines into a string enforcing a maximum textwidth.
Similar to vim’s gq command in visual select mode.</p>
<p>breakchars is a string containing valid characters to insert a newline
before or after.</p>
<p>break_words is True if words are allowed to be split over multiple lines.</p>
<p>all inserted newlines are prefixed with newline_prefix</p>
<p>#FIXME:</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;set_image_uris(ibs&lt;139684018194000&gt;, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], [u&#39;66ec193a-1619-b3b6-216d-1784b4833b61.jpg&#39;, u&#39;d8903434-942f-e0f5-d6c2-0dcbe3137bf7.jpg&#39;, u&#39;b73b72f4-4acb-c445-e72c-05ce02719d3d.jpg&#39;, u&#39;0cd05978-3d83-b2ee-2ac9-798dd571c3b3.jpg&#39;, u&#39;0a9bc03d-a75e-8d14-0153-e2949502aba7.jpg&#39;, u&#39;2deeff06-5546-c752-15dc-2bd0fdb1198a.jpg&#39;, u&#39;a9b70278-a936-c1dd-8a3b-bc1e9a998bf0.png&#39;, u&#39;42fdad98-369a-2cbc-67b1-983d6d6a3a60.jpg&#39;, u&#39;c459d381-fd74-1d99-6215-e42e3f432ea9.jpg&#39;, u&#39;33fd9813-3a2b-774b-3fcc-4360d1ae151b.jpg&#39;, u&#39;97e8ea74-873f-2092-b372-f928a7be30fa.jpg&#39;, u&#39;588bc218-83a5-d400-21aa-d499832632b0.jpg&#39;, u&#39;163a890c-36f2-981e-3529-c552b6d668a3.jpg&#39;], ) &quot;</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textwidth</span> <span class="o">=</span> <span class="mi">160</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">breakchars</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">break_words</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newline_prefix</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wordsep</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packstr1</span> <span class="o">=</span> <span class="n">pack_into</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">textwidth</span><span class="p">,</span> <span class="n">breakchars</span><span class="p">,</span> <span class="n">break_words</span><span class="p">,</span> <span class="n">newline_prefix</span><span class="p">,</span> <span class="n">wordsep</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">break_words</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packstr2</span> <span class="o">=</span> <span class="n">pack_into</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">textwidth</span><span class="p">,</span> <span class="n">breakchars</span><span class="p">,</span> <span class="n">break_words</span><span class="p">,</span> <span class="n">newline_prefix</span><span class="p">,</span> <span class="n">wordsep</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">packstr1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">packstr2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -c “import utool” –dump-utool-init</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.packstr">
<code class="descclassname">utool.util_str.</code><code class="descname">packstr</code><span class="sig-paren">(</span><em>instr</em>, <em>textwidth=160</em>, <em>breakchars=' '</em>, <em>break_words=True</em>, <em>newline_prefix=''</em>, <em>indentation=''</em>, <em>nlprefix=None</em>, <em>wordsep=' '</em>, <em>remove_newlines=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#packstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.packstr" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for pack_into. has more up to date kwargs</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.packtext">
<code class="descclassname">utool.util_str.</code><code class="descname">packtext</code><span class="sig-paren">(</span><em>text</em>, <em>width=80</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#packtext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.packtext" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-pack_paragraph –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="mi">80</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">lorium_ipsum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">packtext</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.parse_bytes">
<code class="descclassname">utool.util_str.</code><code class="descname">parse_bytes</code><span class="sig-paren">(</span><em>bytes_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#parse_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.parse_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>uint8_size = ut.parse_bytes(‘1B’)
image_size = ut.parse_bytes(‘3.5MB’)
float32_size = ut.parse_bytes(‘32bit’)
desc_size = 128 * uint8_size
kpts_size = 6 * float32_size
chip_size = ut.parse_bytes(‘400 KB’)
probchip_size = ut.parse_bytes(‘50 KB’)
nImgs = 80000 # 80,000
nAnnots = nImgs * 2
desc_per_img = 3000
size_stats = {</p>
<blockquote>
<div>‘image’: nImgs * image_size,
‘chips’: nAnnots * chip_size,
‘probchips’: nAnnots * probchip_size,
‘desc’: nAnnots * desc_size * desc_per_img,
‘kpts’: nAnnots * kpts_size * desc_per_img,</div></blockquote>
<p>}
print(ut.repr3(ut.map_dict_vals(ut.byte_str2, size_stats), align=True))
print(‘total = ‘ + ut.byte_str2(sum(size_stats.values())))</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.pluralize">
<code class="descclassname">utool.util_str.</code><code class="descname">pluralize</code><span class="sig-paren">(</span><em>wordtext</em>, <em>num=2</em>, <em>plural_suffix='s'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#pluralize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.pluralize" title="Permalink to this definition">¶</a></dt>
<dd><p>Heuristically changes a word to its plural form if <cite>num</cite> is not 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wordtext</strong> (<em>str</em>) – word in singular form</li>
<li><strong>num</strong> (<em>int</em>) – a length of an associated list if applicable (default = 2)</li>
<li><strong>plural_suffix</strong> (<em>str</em>) – heurstic plural form (default = ‘s’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">pluralized form. Can handle some genitive cases</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str pluralize</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wordtext</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pluralize</span><span class="p">(</span><span class="n">wordtext</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foos</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.quantstr">
<code class="descclassname">utool.util_str.</code><code class="descname">quantstr</code><span class="sig-paren">(</span><em>typestr</em>, <em>num</em>, <em>plural_suffix='s'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#quantstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.quantstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Heuristically generates an english phrase relating to the quantity of
something.  This is useful for writing user messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>typestr</strong> (<em>str</em>) – singular form of the word</li>
<li><strong>num</strong> (<em>int</em>) – quanity of the type</li>
<li><strong>plural_suffix</strong> (<em>str</em>) – heurstic plural form (default = ‘s’)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">quantity phrase</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str quantity_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;The list contains &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="n">quantstr</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">The list contains &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="n">quantstr</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">The list contains &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="n">quantstr</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">The list contains 3 items</span>
<span class="go">The list contains 1 item</span>
<span class="go">The list contains 0 items</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.regex_reconstruct_split">
<code class="descclassname">utool.util_str.</code><code class="descname">regex_reconstruct_split</code><span class="sig-paren">(</span><em>pattern</em>, <em>text</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#regex_reconstruct_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.regex_reconstruct_split" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.remove_chars">
<code class="descclassname">utool.util_str.</code><code class="descname">remove_chars</code><span class="sig-paren">(</span><em>str_</em>, <em>char_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#remove_chars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.remove_chars" title="Permalink to this definition">¶</a></dt>
<dd><p>removes all chars in char_list from <a href="#id291"><span class="problematic" id="id292">str_</span></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str</strong> (<em>str</em>) – </li>
<li><strong>char_list</strong> (<em>list</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">outstr</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;1, 2, 3, 4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">char_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">remove_chars</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">char_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1 2 3 4</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.remove_doublenewlines">
<code class="descclassname">utool.util_str.</code><code class="descname">remove_doublenewlines</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#remove_doublenewlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.remove_doublenewlines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.remove_doublspaces">
<code class="descclassname">utool.util_str.</code><code class="descname">remove_doublspaces</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#remove_doublspaces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.remove_doublspaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.replace_between_tags">
<code class="descclassname">utool.util_str.</code><code class="descname">replace_between_tags</code><span class="sig-paren">(</span><em>text</em>, <em>repl_</em>, <em>start_tag</em>, <em>end_tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#replace_between_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.replace_between_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces text between sentinal lines in a block of text.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<em>str</em>) – </li>
<li><strong>repl</strong> (<em>str</em>) – </li>
<li><strong>start_tag</strong> (<em>str</em>) – </li>
<li><strong>end_tag</strong> (<em>str</em>) – (default=None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_text</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-replace_between_tags</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="go">    &#39;&#39;&#39;</span>
<span class="go">    class:</span>
<span class="go">        # &lt;FOO&gt;</span>
<span class="go">        bar</span>
<span class="go">        # &lt;/FOO&gt;</span>
<span class="go">        baz</span>
<span class="go">    &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl_</span> <span class="o">=</span> <span class="s1">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_tag</span> <span class="o">=</span> <span class="s1">&#39;# &lt;FOO&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_tag</span> <span class="o">=</span> <span class="s1">&#39;# &lt;/FOO&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_text</span> <span class="o">=</span> <span class="n">replace_between_tags</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">repl_</span><span class="p">,</span> <span class="n">start_tag</span><span class="p">,</span> <span class="n">end_tag</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;new_text =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">new_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">new_text =</span>
<span class="go">class:</span>
<span class="go">    # &lt;FOO&gt;</span>
<span class="go">spam</span>
<span class="go">    # &lt;/FOO&gt;</span>
<span class="go">    baz</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.repr2">
<code class="descclassname">utool.util_str.</code><code class="descname">repr2</code><span class="sig-paren">(</span><em>obj_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.repr2" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to replace repr more configurable
pretty version that works the same in both 2 and 3</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.repr2_json">
<code class="descclassname">utool.util_str.</code><code class="descname">repr2_json</code><span class="sig-paren">(</span><em>obj_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr2_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.repr2_json" title="Permalink to this definition">¶</a></dt>
<dd><p>hack for json reprs</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.repr3">
<code class="descclassname">utool.util_str.</code><code class="descname">repr3</code><span class="sig-paren">(</span><em>obj_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.repr3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.repr4">
<code class="descclassname">utool.util_str.</code><code class="descname">repr4</code><span class="sig-paren">(</span><em>obj_</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.repr4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.reprfunc">
<code class="descclassname">utool.util_str.</code><code class="descname">reprfunc</code><span class="sig-paren">(</span><em>val</em>, <em>precision=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#reprfunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.reprfunc" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>val</strong> – </li>
<li><strong>precision</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str reprfunc –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#vals = [{&#39;foo&#39;: [1/3, 2]}, np.float64, 1/3, &#39;foo&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vals</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">([</span><span class="n">reprfunc</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">],</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&quot;{u&#39;foo&#39;: [1, 2]}&quot;,</span>
<span class="go">&#39;numpy.float64&#39;,</span>
<span class="go">&#39;0.33&#39;,</span>
<span class="go">&quot;&#39;foo&#39;&quot;,</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.scalar_str">
<code class="descclassname">utool.util_str.</code><code class="descname">scalar_str</code><span class="sig-paren">(</span><em>val</em>, <em>precision=None</em>, <em>max_precision=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#scalar_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.scalar_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.second_str">
<code class="descclassname">utool.util_str.</code><code class="descname">second_str</code><span class="sig-paren">(</span><em>nsecs</em>, <em>unit=None</em>, <em>precision=None</em>, <em>abbrev=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#second_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.second_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.seconds_str">
<code class="descclassname">utool.util_str.</code><code class="descname">seconds_str</code><span class="sig-paren">(</span><em>num</em>, <em>prefix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#seconds_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.seconds_str" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="mf">4.2</span> <span class="o">/</span> <span class="p">(</span><span class="mf">10.0</span> <span class="o">**</span> <span class="n">exp_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="k">for</span> <span class="n">exp_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">seconds_str</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">num_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">secstr_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">0.04 ns, 0.42 us, 4.20 ms, 0.04 ks, 0.42 Ms, 4.20 Gs, 42.00 Ts</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.split_sentences2">
<code class="descclassname">utool.util_str.</code><code class="descname">split_sentences2</code><span class="sig-paren">(</span><em>text</em>, <em>debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#split_sentences2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.split_sentences2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.str_between">
<code class="descclassname">utool.util_str.</code><code class="descname">str_between</code><span class="sig-paren">(</span><em>str_</em>, <em>startstr</em>, <em>endstr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#str_between"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.str_between" title="Permalink to this definition">¶</a></dt>
<dd><p>gets substring between two sentianl strings</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">        INSERT INTO vsone(</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">startstr</span> <span class="o">=</span> <span class="s1">&#39;INSERT&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">endstr</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">str_between</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">startstr</span><span class="p">,</span> <span class="n">endstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.strip_ansi">
<code class="descclassname">utool.util_str.</code><code class="descname">strip_ansi</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#strip_ansi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.strip_ansi" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all ansi directives from the string
Helper to remove ansi from length calculation
References: <a class="reference external" href="http://stackoverflow.com/questions/14693701remove-ansi">http://stackoverflow.com/questions/14693701remove-ansi</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.testdata_text">
<code class="descclassname">utool.util_str.</code><code class="descname">testdata_text</code><span class="sig-paren">(</span><em>num=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#testdata_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.testdata_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.textblock">
<code class="descclassname">utool.util_str.</code><code class="descname">textblock</code><span class="sig-paren">(</span><em>multiline_text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#textblock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.textblock" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>block_str</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –test-textblock</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multiline_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39; a big string</span>
<span class="go">    that should be layed out flat</span>
<span class="go">    yet still provide nice python</span>
<span class="go">    code that doesnt go too far over</span>
<span class="go">    80 characters.</span>
</pre></div>
</div>
<blockquote>
<div>Two newlines should be respected though
‘’‘</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_text</span> <span class="o">=</span> <span class="n">textblock</span><span class="p">(</span><span class="n">multiline_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">new_text</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.theta_str">
<code class="descclassname">utool.util_str.</code><code class="descname">theta_str</code><span class="sig-paren">(</span><em>theta</em>, <em>taustr='*2pi'</em>, <em>fmtstr='{coeff:</em>, <em>.1f}{taustr}'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#theta_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.theta_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Format theta so it is interpretable in base 10</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>theta</strong> (<em>float</em>) – </li>
<li><strong>taustr</strong> (<em>str</em>) – default 2pi</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">theta_str - the angle in tau units</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">3.1415</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">theta_str</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">0.5*2pi</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">6.9932</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">taustr</span> <span class="o">=</span> <span class="s1">&#39;tau&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">theta_str</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">taustr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1.1tau</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.to_camel_case">
<code class="descclassname">utool.util_str.</code><code class="descname">to_camel_case</code><span class="sig-paren">(</span><em>underscore_case</em>, <em>mixed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#to_camel_case"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.to_camel_case" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>underscore_case</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">camel_case_str</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-to_camel_case</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/CamelCase">https://en.wikipedia.org/wiki/CamelCase</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">underscore_case</span> <span class="o">=</span> <span class="s1">&#39;underscore_funcname&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">camel_case_str</span> <span class="o">=</span> <span class="n">to_camel_case</span><span class="p">(</span><span class="n">underscore_case</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;camel_case_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">camel_case_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">camel_case_str = UnderscoreFuncname</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.to_title_caps">
<code class="descclassname">utool.util_str.</code><code class="descname">to_title_caps</code><span class="sig-paren">(</span><em>underscore_case</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#to_title_caps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.to_title_caps" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>underscore_case</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">title_str</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_str –exec-to_title_caps</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">underscore_case</span> <span class="o">=</span> <span class="s1">&#39;the_foo_bar_func&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title_str</span> <span class="o">=</span> <span class="n">to_title_caps</span><span class="p">(</span><span class="n">underscore_case</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;title_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">title_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">title_str = The Foo Bar Func</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.to_underscore_case">
<code class="descclassname">utool.util_str.</code><code class="descname">to_underscore_case</code><span class="sig-paren">(</span><em>camelcase_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#to_underscore_case"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.to_underscore_case" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1175208/convert-camelcase">http://stackoverflow.com/questions/1175208/convert-camelcase</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">camelcase_str</span> <span class="o">=</span> <span class="s1">&#39;UnderscoreFuncname&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">camel_case_str</span> <span class="o">=</span> <span class="n">to_underscore_case</span><span class="p">(</span><span class="n">camelcase_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;underscore_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">camel_case_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">underscore_str = underscore_funcname</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.toggle_comment_lines">
<code class="descclassname">utool.util_str.</code><code class="descname">toggle_comment_lines</code><span class="sig-paren">(</span><em>text</em>, <em>pattern</em>, <em>flag</em>, <em>char='#'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#toggle_comment_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.toggle_comment_lines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.trunc_repr">
<code class="descclassname">utool.util_str.</code><code class="descname">trunc_repr</code><span class="sig-paren">(</span><em>obj</em>, <em>maxlen=50</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#trunc_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.trunc_repr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.truncate_str">
<code class="descclassname">utool.util_str.</code><code class="descname">truncate_str</code><span class="sig-paren">(</span><em>str_</em>, <em>maxlen=110</em>, <em>truncmsg=' ~~~TRUNCATED~~~ '</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#truncate_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.truncate_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the middle part of any string over maxlen characters.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.unformat_text_as_docstr">
<code class="descclassname">utool.util_str.</code><code class="descname">unformat_text_as_docstr</code><span class="sig-paren">(</span><em>formated_text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#unformat_text_as_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.unformat_text_as_docstr" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python  ~/local/vim/rc/pyvim_funcs.py  –test-unformat_text_as_docstr</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyvim_funcs</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_text_as_docstr</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unformated_text</span> <span class="o">=</span> <span class="n">unformat_text_as_docstr</span><span class="p">(</span><span class="n">formated_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;unformated_text = </span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">unformated_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.unindent">
<code class="descclassname">utool.util_str.</code><code class="descname">unindent</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#unindent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.unindent" title="Permalink to this definition">¶</a></dt>
<dd><p>Unindent a block of text</p>
<p>Alias for textwrap.dedent</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.utf8_len">
<code class="descclassname">utool.util_str.</code><code class="descname">utf8_len</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#utf8_len"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.utf8_len" title="Permalink to this definition">¶</a></dt>
<dd><p>returns num printed characters in utf8</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">//stackoverflow.com/questions/2247205/python-returning-the-wrong-length-of-string-when-using-special-characters</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">http</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_str.varinfo_str">
<code class="descclassname">utool.util_str.</code><code class="descname">varinfo_str</code><span class="sig-paren">(</span><em>varval</em>, <em>varname</em>, <em>onlyrepr=False</em>, <em>canshowrepr=True</em>, <em>varcolor='yellow'</em>, <em>colored=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#varinfo_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.varinfo_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_str.verts_str">
<code class="descclassname">utool.util_str.</code><code class="descname">verts_str</code><span class="sig-paren">(</span><em>verts</em>, <em>pad=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#verts_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_str.verts_str" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a string from a list of integer verticies</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_sysreq">
<span id="utool-util-sysreq-module"></span><h2>utool.util_sysreq module<a class="headerlink" href="#module-utool.util_sysreq" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_sysreq.ensure_in_pythonpath">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">ensure_in_pythonpath</code><span class="sig-paren">(</span><em>dname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#ensure_in_pythonpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.ensure_in_pythonpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_sysreq.get_global_dist_packages_dir">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">get_global_dist_packages_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#get_global_dist_packages_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.get_global_dist_packages_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to work around virtualenvs and find the system dist_pacakges.
Essentially this is implmenented as a lookuptable</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_sysreq.get_local_dist_packages_dir">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">get_local_dist_packages_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#get_local_dist_packages_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.get_local_dist_packages_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to work around virtualenvs and find the system dist_pacakges.
Essentially this is implmenented as a lookuptable</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_sysreq.get_site_packages_dir">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">get_site_packages_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#get_site_packages_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.get_site_packages_dir" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_sysreq get_site_packages_dir</dd>
</dl>
<p class="rubric">Notes</p>
<p>It seems IPython does not respect virtual environments properly.
TODO: find a solution
<a class="reference external" href="http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages">http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_sysreq.in_virtual_env">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">in_virtual_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#in_virtual_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.in_virtual_env" title="Permalink to this definition">¶</a></dt>
<dd><p>returns True if you are running inside a python virtual environment.
(DOES NOT WORK IF IN IPYTHON AND USING A VIRTUALENV)</p>
<p>sys.prefix gives the location of the virtualenv</p>
<p class="rubric">Notes</p>
<p>It seems IPython does not respect virtual environments properly.
TODO: find a solution
<a class="reference external" href="http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages">http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages</a></p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1871549/python-determine-if-running-inside-virtualenv">http://stackoverflow.com/questions/1871549/python-determine-if-running-inside-virtualenv</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_sysreq in_virtual_env</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_sysreq</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">in_virtual_env</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_sysreq.is_running_as_root">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">is_running_as_root</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#is_running_as_root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.is_running_as_root" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5721529/running-python-script-as-root-with-sudo-what-is-the-username-of-the-effectiv">http://stackoverflow.com/questions/5721529/running-python-script-as-root-with-sudo-what-is-the-username-of-the-effectiv</a>
<a class="reference external" href="http://stackoverflow.com/questions/2806897/what-is-the-best-practices-for-checking-if-the-user-of-a-python-script-has-root">http://stackoverflow.com/questions/2806897/what-is-the-best-practices-for-checking-if-the-user-of-a-python-script-has-root</a></p>
</dd></dl>

<dl class="function">
<dt id="utool.util_sysreq.locate_path">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">locate_path</code><span class="sig-paren">(</span><em>dname</em>, <em>recurse_down=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#locate_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.locate_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for a path</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_sysreq.total_purge_developed_repo">
<code class="descclassname">utool.util_sysreq.</code><code class="descname">total_purge_developed_repo</code><span class="sig-paren">(</span><em>repodir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#total_purge_developed_repo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_sysreq.total_purge_developed_repo" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs commands to help purge a repo</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>repodir</strong> (<em>str</em>) – path to developed repository</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_sysreq total_purge_installed_repo –show</dd>
<dt>Ignore:</dt>
<dd>repodir = ut.truepath(‘~/code/Lasagne’)</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_sysreq</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repodir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--repodir&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">total_purge_installed_repo</span><span class="p">(</span><span class="n">repodir</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.util_tags">
<span id="utool-util-tags-module"></span><h2>utool.util_tags module<a class="headerlink" href="#module-utool.util_tags" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_tags.alias_tags">
<code class="descclassname">utool.util_tags.</code><code class="descname">alias_tags</code><span class="sig-paren">(</span><em>tags_list</em>, <em>alias_map</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#alias_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tags.alias_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>update tags to new values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tags_list</strong> (<em>list</em>) – </li>
<li><strong>alias_map</strong> (<em>list</em>) – list of 2-tuples with regex, value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">updated tags</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_tags alias_tags –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;t3&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;t4&#39;</span><span class="p">,</span> <span class="s1">&#39;t5&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">build_alias_map</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">alias_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_tags.build_alias_map">
<code class="descclassname">utool.util_tags.</code><code class="descname">build_alias_map</code><span class="sig-paren">(</span><em>regex_map</em>, <em>tag_vocab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#build_alias_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tags.build_alias_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs explicit mapping. Order of items in regex map matters.
Items at top are given preference.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;t3&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;t4&#39;</span><span class="p">,</span> <span class="s1">&#39;t5&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tag_vocab</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flat_unique</span><span class="p">(</span><span class="o">*</span><span class="n">tags_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex_map</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;t[3-4]&#39;</span><span class="p">,</span> <span class="s1">&#39;A9&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;t0&#39;</span><span class="p">,</span> <span class="s1">&#39;a0&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unmapped</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">tag_vocab</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">alias_map</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_tags.filterflags_general_tags">
<code class="descclassname">utool.util_tags.</code><code class="descname">filterflags_general_tags</code><span class="sig-paren">(</span><em>tags_list</em>, <em>has_any=None</em>, <em>has_all=None</em>, <em>has_none=None</em>, <em>min_num=None</em>, <em>max_num=None</em>, <em>any_startswith=None</em>, <em>any_endswith=None</em>, <em>in_any=None</em>, <em>any_match=None</em>, <em>none_match=None</em>, <em>logic='and'</em>, <em>ignore_case=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#filterflags_general_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tags.filterflags_general_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>maybe integrate into utool? Seems pretty general</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tags_list</strong> (<em>list</em>) – </li>
<li><strong>has_any</strong> (<em>None</em>) – (default = None)</li>
<li><strong>has_all</strong> (<em>None</em>) – (default = None)</li>
<li><strong>min_num</strong> (<em>None</em>) – (default = None)</li>
<li><strong>max_num</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>in_any should probably be ni_any</p>
<p>TODO: make this function more natural</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_tags –exec-filterflags_general_tags
python -m utool.util_tags –exec-filterflags_general_tags:0  –helpx
python -m utool.util_tags –exec-filterflags_general_tags:0
python -m utool.util_tags –exec-filterflags_general_tags:0  –none_match n
python -m utool.util_tags –exec-filterflags_general_tags:0  –has_none=n,o
python -m utool.util_tags –exec-filterflags_general_tags:1
python -m utool.util_tags –exec-filterflags_general_tags:2</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argparse_dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_kwdefaults2</span><span class="p">(</span><span class="n">filterflags_general_tags</span><span class="p">),</span> <span class="n">type_hint</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;kwargs = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">kwargs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">filterflags_general_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">,))</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_all</span> <span class="o">=</span> <span class="s1">&#39;n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_num</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">filterflags_general_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">has_all</span><span class="o">=</span><span class="n">has_all</span><span class="p">,</span> <span class="n">min_num</span><span class="o">=</span><span class="n">min_num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">,))</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;vn&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;vn&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;nP&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;NP&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;any_endswith&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;any_match&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;any_startswith&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has_all&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has_any&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has_none&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;max_num&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;min_num&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;none_match&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">filterflags_general_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filtered</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">filtered</span><span class="p">),))</span>
<span class="go">result = [[&#39;vn&#39;, &#39;no&#39;], [&#39;n&#39;, &#39;o&#39;], [&#39;n&#39;, &#39;N&#39;], [&#39;n&#39;], [&#39;n&#39;, &#39;nP&#39;]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_tags.modify_tags">
<code class="descclassname">utool.util_tags.</code><code class="descname">modify_tags</code><span class="sig-paren">(</span><em>tags_list</em>, <em>direct_map=None</em>, <em>regex_map=None</em>, <em>regex_aug=None</em>, <em>delete_unmapped=False</em>, <em>return_unmapped=False</em>, <em>return_map=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#modify_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tags.modify_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tags.tag_coocurrence">
<code class="descclassname">utool.util_tags.</code><code class="descname">tag_coocurrence</code><span class="sig-paren">(</span><em>tags_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#tag_coocurrence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tags.tag_coocurrence" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tags.tag_hist">
<code class="descclassname">utool.util_tags.</code><code class="descname">tag_hist</code><span class="sig-paren">(</span><em>tags_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#tag_hist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tags.tag_hist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_tests">
<span id="utool-util-tests-module"></span><h2>utool.util_tests module<a class="headerlink" href="#module-utool.util_tests" title="Permalink to this headline">¶</a></h2>
<p>Helpers for tests</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">DEPRICATE THIS IN FAVOR OF pytest and xdoctest</p>
</div>
<p>This module contains a more sane reimplementation of doctest functionality.
(I.E.  asserts work and you don’t have to worry about stdout mucking things up)
The code isn’t super clean though due to time constriaints.  Many functions
probably belong elsewhere and the parsers need a big cleanup.</p>
<dl class="class">
<dt id="utool.util_tests.ModuleDoctestTup">
<em class="property">class </em><code class="descclassname">utool.util_tests.</code><code class="descname">ModuleDoctestTup</code><span class="sig-paren">(</span><em>enabled_testtup_list</em>, <em>frame_fpath</em>, <em>all_testflags</em>, <em>module</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="utool.util_tests.ModuleDoctestTup.all_testflags">
<code class="descname">all_testflags</code><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.all_testflags" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.ModuleDoctestTup.enabled_testtup_list">
<code class="descname">enabled_testtup_list</code><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.enabled_testtup_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.ModuleDoctestTup.frame_fpath">
<code class="descname">frame_fpath</code><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.frame_fpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.ModuleDoctestTup.module">
<code class="descname">module</code><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.module" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_tests.TestTuple">
<em class="property">class </em><code class="descclassname">utool.util_tests.</code><code class="descname">TestTuple</code><span class="sig-paren">(</span><em>name</em>, <em>num</em>, <em>src</em>, <em>want</em>, <em>flag</em>, <em>tags=None</em>, <em>frame_fpath=None</em>, <em>mode=None</em>, <em>nametup=None</em>, <em>test_namespace=None</em>, <em>shortname=None</em>, <em>total=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#TestTuple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.TestTuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Simple container for test objects to replace old tuple format
exec mode specifies if the test is being run as a script</p>
<dl class="attribute">
<dt id="utool.util_tests.TestTuple.exec_mode">
<code class="descname">exec_mode</code><a class="headerlink" href="#utool.util_tests.TestTuple.exec_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.TestTuple.full_name">
<code class="descname">full_name</code><a class="headerlink" href="#utool.util_tests.TestTuple.full_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.TestTuple.modname">
<code class="descname">modname</code><a class="headerlink" href="#utool.util_tests.TestTuple.modname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.TestTuple.name">
<code class="descname">name</code><a class="headerlink" href="#utool.util_tests.TestTuple.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.TestTuple.namespace">
<code class="descname">namespace</code><a class="headerlink" href="#utool.util_tests.TestTuple.namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="utool.util_tests.TestTuple.namespace_levels">
<code class="descname">namespace_levels</code><a class="headerlink" href="#utool.util_tests.TestTuple.namespace_levels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_tests.doctest_funcs">
<code class="descclassname">utool.util_tests.</code><code class="descname">doctest_funcs</code><span class="sig-paren">(</span><em>testable_list=None</em>, <em>check_flags=True</em>, <em>module=None</em>, <em>allexamples=None</em>, <em>needs_enable=None</em>, <em>strict=False</em>, <em>verbose=True</em>, <em>return_error_report=True</em>, <em>seen_=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#doctest_funcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.doctest_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Main entry point into utools main module doctest harness
Imports a module and checks flags for the function to run
Depth 1)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>testable_list</strong> (<em>list</em>) – </li>
<li><strong>check_flags</strong> (<em>bool</em>) – Force checking of the –test- and –exec- flags</li>
<li><strong>module</strong> (<em>None</em>) – </li>
<li><strong>allexamples</strong> (<em>None</em>) – </li>
<li><strong>needs_enable</strong> (<em>None</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(nPass, nTotal, failed_cmd_list)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m wbia.algo.preproc.preproc_chip –all-examples</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://legacy.python.org/dev/peps/pep-0338/">http://legacy.python.org/dev/peps/pep-0338/</a>
<a class="reference external" href="https://docs.python.org/2/library/runpy.html">https://docs.python.org/2/library/runpy.html</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testable_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_flags</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allexamples</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">needs_enable</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># careful might infinitely recurse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">nPass</span><span class="p">,</span> <span class="n">nTotal</span><span class="p">)</span> <span class="o">=</span> <span class="n">doctest_funcs</span><span class="p">(</span><span class="n">testable_list</span><span class="p">,</span> <span class="n">check_flags</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">allexamples</span><span class="p">,</span> <span class="n">needs_enable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="n">nPass</span><span class="p">,</span> <span class="n">nTotal</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.doctest_module_list">
<code class="descclassname">utool.util_tests.</code><code class="descname">doctest_module_list</code><span class="sig-paren">(</span><em>module_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#doctest_module_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.doctest_module_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs many module tests</p>
<p>Entry point for batch run
Depth 0)</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>:’&lt;,’&gt;!sort -n -k 2</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.doctest_was_requested">
<code class="descclassname">utool.util_tests.</code><code class="descname">doctest_was_requested</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#doctest_was_requested"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.doctest_was_requested" title="Permalink to this definition">¶</a></dt>
<dd><p>lets a  __main__ codeblock know that util_test should do its thing</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.execute_doctest">
<code class="descclassname">utool.util_tests.</code><code class="descname">execute_doctest</code><span class="sig-paren">(</span><em>func</em>, <em>testnum=0</em>, <em>module=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#execute_doctest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.execute_doctest" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a function doctest. Can optionaly specify func name and module to
run from ipython notebooks.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
<dl class="docutils">
<dt>IPython:</dt>
<dd>import utool as ut
ut.execute_doctest(func=’dummy_example_depcacahe’, module=’dtool.example_depcache’)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.find_doctestable_modnames">
<code class="descclassname">utool.util_tests.</code><code class="descname">find_doctestable_modnames</code><span class="sig-paren">(</span><em>dpath_list=None</em>, <em>exclude_doctests_fnames=[]</em>, <em>exclude_dirs=[]</em>, <em>allow_nonpackages=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#find_doctestable_modnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.find_doctestable_modnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to find files with a call to ut.doctest_funcs in the __main__ part
Implementation is very hacky. Should find a better heuristic</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dpath_list</strong> (<em>list</em>) – list of python package directories</li>
<li><strong>exclude_doctests_fnames</strong> (<em>list</em>) – (default = [])</li>
<li><strong>exclude_dirs</strong> (<em>list</em>) – (default = [])</li>
<li><strong>allow_nonpackages</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of filepaths</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_tests find_doctestable_modnames –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">get_module_dir</span><span class="p">(</span><span class="n">ut</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_doctests_fnames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_nonpackages</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">find_doctestable_modnames</span><span class="p">(</span><span class="n">dpath_list</span><span class="p">,</span> <span class="n">exclude_doctests_fnames</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span> <span class="n">allow_nonpackages</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.find_testfunc">
<code class="descclassname">utool.util_tests.</code><code class="descname">find_testfunc</code><span class="sig-paren">(</span><em>module</em>, <em>test_funcname</em>, <em>ignore_prefix=[]</em>, <em>ignore_suffix=[]</em>, <em>func_to_module_dict={}</em>, <em>return_mod=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#find_testfunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.find_testfunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.find_untested_modpaths">
<code class="descclassname">utool.util_tests.</code><code class="descname">find_untested_modpaths</code><span class="sig-paren">(</span><em>dpath_list=None</em>, <em>exclude_doctests_fnames=[]</em>, <em>exclude_dirs=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#find_untested_modpaths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.find_untested_modpaths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.get_doctest_examples">
<code class="descclassname">utool.util_tests.</code><code class="descname">get_doctest_examples</code><span class="sig-paren">(</span><em>func_or_class</em>, <em>modpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_doctest_examples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.get_doctest_examples" title="Permalink to this definition">¶</a></dt>
<dd><p>Depth 3)
called by get_module_doctest_tup</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func_or_class</strong> (<em>function</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">example_list, want_list</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple (list, list)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_tests –test-get_doctest_examples</dd>
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">get_doctest_examples</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span>  <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testlinenum_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">func_lineno</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
</dd>
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">tryimport</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testlinenum_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">func_lineno</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">add_annots</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testlinenum_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">func_lineno</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.get_module_completions">
<code class="descclassname">utool.util_tests.</code><code class="descname">get_module_completions</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_module_completions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.get_module_completions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.get_module_doctest_tup">
<code class="descclassname">utool.util_tests.</code><code class="descname">get_module_doctest_tup</code><span class="sig-paren">(</span><em>testable_list=None</em>, <em>check_flags=True</em>, <em>module=None</em>, <em>allexamples=None</em>, <em>needs_enable=None</em>, <em>N=0</em>, <em>verbose=True</em>, <em>testslow=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_module_doctest_tup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.get_module_doctest_tup" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses module for testable doctesttups
Depth 2)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>testable_list</strong> (<em>list</em>) – a list of functions (default = None)</li>
<li><strong>check_flags</strong> (<em>bool</em>) – (default = True)</li>
<li><strong>module</strong> (<em>None</em>) – (default = None)</li>
<li><strong>allexamples</strong> (<em>None</em>) – (default = None)</li>
<li><strong>needs_enable</strong> (<em>None</em>) – (default = None)</li>
<li><strong>N</strong> (<em>int</em>) – (default = 0)</li>
<li><strong>verbose</strong> (<em>bool</em>) – verbosity flag(default = True)</li>
<li><strong>testslow</strong> (<em>bool</em>) – (default = False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>(enabled_testtup_list, frame_fpath, all_testflags, module)</dt>
<dd><dl class="first docutils">
<dt>enabled_testtup_list (list): a list of testtup</dt>
<dd><dl class="first last docutils">
<dt>testtup (tuple): (name, num, src, want, flag) describes a valid doctest in the module</dt>
<dd><p class="first last">name  (str): test name
num   (str): test number of the module / function / class / method
src   (str): test source code
want  (str): expected test result
flag  (str): a valid commandline flag to enable this test</p>
</dd>
</dl>
</dd>
<dt>frame_fpath (str):</dt>
<dd><p class="first last">module fpath that will be tested</p>
</dd>
<dt>module (module):</dt>
<dd><p class="first last">the actual module that will be tested</p>
</dd>
<dt>all_testflags (list):</dt>
<dd><p class="first last">the command line arguments that will enable different tests</p>
</dd>
</dl>
<p class="last">exclude_inherited (bool): does not included tests defined in other modules</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#utool.util_tests.ModuleDoctestTup" title="utool.util_tests.ModuleDoctestTup">ModuleDoctestTup</a></p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_tests –exec-get_module_doctest_tup</dd>
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#testable_list = [ut.util_import.package_contents]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testable_list</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_flags</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_cplat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allexamples</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">needs_enable</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testslow</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_doctest_tup</span> <span class="o">=</span> <span class="n">get_module_doctest_tup</span><span class="p">(</span><span class="n">testable_list</span><span class="p">,</span> <span class="n">check_flags</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                         <span class="n">module</span><span class="p">,</span> <span class="n">allexamples</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                         <span class="n">needs_enable</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                         <span class="n">testslow</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mod_doctest_tup = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mod_doctest_tup</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">4</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.get_module_testlines">
<code class="descclassname">utool.util_tests.</code><code class="descname">get_module_testlines</code><span class="sig-paren">(</span><em>module_list</em>, <em>remove_pyc=True</em>, <em>verbose=True</em>, <em>pythoncmd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_module_testlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.get_module_testlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds test commands for autogen tests
called by autogen test scripts</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.get_package_testables">
<code class="descclassname">utool.util_tests.</code><code class="descname">get_package_testables</code><span class="sig-paren">(</span><em>module=None</em>, <em>**tagkw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_package_testables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.get_package_testables" title="Permalink to this definition">¶</a></dt>
<dd><p>New command that should eventually be used intead of old stuff?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>module_list</strong> (<em>list</em>) – (default = None)</li>
<li><strong>test_flags</strong> (<em>None</em>) – (default = None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool get_package_testables –show –mod wbia
python -m utool get_package_testables –show –mod utool –tags SCRIPT
python -m utool get_package_testables –show –mod utool –tags ENABLE</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_any</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--tags&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mod&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_tuples</span> <span class="o">=</span> <span class="n">get_package_testables</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">has_any</span><span class="o">=</span><span class="n">has_any</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">test_tuples</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(ut.repr3(ut.list_getattr(test_tuples, &#39;tags&#39;)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.main_function_tester">
<code class="descclassname">utool.util_tests.</code><code class="descname">main_function_tester</code><span class="sig-paren">(</span><em>module</em>, <em>ignore_prefix=[]</em>, <em>ignore_suffix=[]</em>, <em>test_funcname=None</em>, <em>func_to_module_dict={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#main_function_tester"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.main_function_tester" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows a shorthand for __main__ packages of modules to run tests with
unique function names</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.parse_docblocks_from_docstr">
<code class="descclassname">utool.util_tests.</code><code class="descname">parse_docblocks_from_docstr</code><span class="sig-paren">(</span><em>docstr</em>, <em>offsets=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#parse_docblocks_from_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.parse_docblocks_from_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p># Depth 5)
called by parse_doctest_from_docstr</p>
<p>TODO: move to util_inspect</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>docstr</strong> (<em>str</em>) – a documentation string formatted in google style.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>docstr_blocks tuples</dt>
<dd>[(blockname, blockstr)]</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_tests parse_docblocks_from_docstr</dd>
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func_or_class = ut.flatten2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func_or_class = ut.list_depth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">iter_module_doctestable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_multi_paths</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_docstr</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr_blocks</span> <span class="o">=</span> <span class="n">parse_docblocks_from_docstr</span><span class="p">(</span><span class="n">docstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">docstr_blocks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.parse_doctest_from_docstr">
<code class="descclassname">utool.util_tests.</code><code class="descname">parse_doctest_from_docstr</code><span class="sig-paren">(</span><em>docstr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#parse_doctest_from_docstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.parse_doctest_from_docstr" title="Permalink to this definition">¶</a></dt>
<dd><p>because doctest itself doesnt do what I want it to do</p>
<p>CAREFUL, IF YOU GET BACK WRONG RESULTS MAKE SURE YOUR DOCSTR IS PREFFIXED
WITH R</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_tests –exec-parse_doctest_from_docstr</dd>
<dt>Doctest:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">parse_doctest_from_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_depth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func_or_class = ut.util_depricated.cartesian</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">iter_module_doctestable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_docstr</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.qt4ensure">
<code class="descclassname">utool.util_tests.</code><code class="descname">qt4ensure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#qt4ensure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.qt4ensure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.qtensure">
<code class="descclassname">utool.util_tests.</code><code class="descname">qtensure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#qtensure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.qtensure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.quit_if_noshow">
<code class="descclassname">utool.util_tests.</code><code class="descname">quit_if_noshow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#quit_if_noshow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.quit_if_noshow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.read_exampleblock">
<code class="descclassname">utool.util_tests.</code><code class="descname">read_exampleblock</code><span class="sig-paren">(</span><em>docblock</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#read_exampleblock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.read_exampleblock" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.run_test">
<code class="descclassname">utool.util_tests.</code><code class="descname">run_test</code><span class="sig-paren">(</span><em>func_or_testtup</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#run_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.run_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the test function. Prints a success / failure report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func_or_testtup</strong> (<em>func</em><em> or </em><em>tuple</em>) – function or doctest tuple</li>
<li><strong>args*</strong> – args to be forwarded to <cite>func_or_testtup</cite></li>
<li><strong>kwargs*</strong> – keyword args to be forwarded to <cite>func_or_testtup</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_tests.show_if_requested">
<code class="descclassname">utool.util_tests.</code><code class="descname">show_if_requested</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#show_if_requested"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.show_if_requested" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_tests.show_was_requested">
<code class="descclassname">utool.util_tests.</code><code class="descname">show_was_requested</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#show_was_requested"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_tests.show_was_requested" title="Permalink to this definition">¶</a></dt>
<dd><p>returns True if –show is specified on the commandline or you are in
IPython (and presumably want some sort of interaction</p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_time">
<span id="utool-util-time-module"></span><h2>utool.util_time module<a class="headerlink" href="#module-utool.util_time" title="Permalink to this headline">¶</a></h2>
<p>TODO: This file seems to care about timezone</p>
<p>TODO: Use UTC/GMT time here for EVERYTHING</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.timeanddate.com/time/aboututc.html">http://www.timeanddate.com/time/aboututc.html</a></p>
<dl class="class">
<dt id="utool.util_time.Timer">
<em class="property">class </em><code class="descclassname">utool.util_time.</code><code class="descname">Timer</code><span class="sig-paren">(</span><em>msg=''</em>, <em>verbose=True</em>, <em>newline=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.Timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Timer with-statment context object.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timer</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;Timer test!&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">prime</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">timer</span><span class="o">.</span><span class="n">ellapsed</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
<dl class="method">
<dt id="utool.util_time.Timer.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_time.Timer.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_time.Timer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_time.Timer.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_time.Timer.tic">
<code class="descname">tic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timer.tic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.Timer.tic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="utool.util_time.Timer.toc">
<code class="descname">toc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timer.toc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.Timer.toc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="utool.util_time.Timerit">
<em class="property">class </em><code class="descclassname">utool.util_time.</code><code class="descname">Timerit</code><span class="sig-paren">(</span><em>num</em>, <em>label=None</em>, <em>unit=None</em>, <em>verbose=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timerit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.Timerit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Reports the average time to run a block of code.</p>
<p>Unlike <cite>timeit</cite>, <cite>Timerit</cite> can handle multiline blocks of code</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num</strong> (<em>int</em>) – number of times to run the loop</li>
<li><strong>label</strong> (<em>str</em>) – identifier for printing</li>
<li><strong>unit</strong> (<em>str</em>) – reporting unit of time (e.g. ‘ms’, ‘s’, None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time Timerit
python -m utool.util_time Timerit:0
python -m utool.util_time Timerit:1</dd>
</dl>
<p class="rubric">Notes</p>
<p>Minimal syntax with less-precise timing
<a href="#id39"><span class="problematic" id="id40">``</span></a><a href="#id41"><span class="problematic" id="id42">`</span></a>python
import utool as ut
for timer in ut.Timerit(100):</p>
<blockquote>
<div># &lt;write code to time here&gt;</div></blockquote>
<p><a href="#id43"><span class="problematic" id="id44">``</span></a><a href="#id45"><span class="problematic" id="id46">`</span></a></p>
<p>Full syntax with most-precise timing
<a href="#id47"><span class="problematic" id="id48">``</span></a><a href="#id49"><span class="problematic" id="id50">`</span></a>python
import utool as ut
for timer in ut.Timerit(100):</p>
<blockquote>
<div><p># &lt;write untimed setup code here&gt;
with timer:</p>
<blockquote>
<div># &lt;write code to time here&gt;</div></blockquote>
</div></blockquote>
<p><a href="#id51"><span class="problematic" id="id52">``</span></a><a href="#id53"><span class="problematic" id="id54">`</span></a></p>
<p>Can also keep track of the Timerit object for extra statistics
<a href="#id55"><span class="problematic" id="id56">``</span></a><a href="#id57"><span class="problematic" id="id58">`</span></a>python
import utool as ut
t1 = ut.Timerit(100)
for timer in t1:</p>
<blockquote>
<div><p># &lt;write untimed setup code here&gt;
with timer:</p>
<blockquote>
<div># &lt;write code to time here&gt;</div></blockquote>
</div></blockquote>
<p># &lt;you can now access Timerit attributes like t1.total_time&gt;
<a href="#id59"><span class="problematic" id="id60">``</span></a><a href="#id61"><span class="problematic" id="id62">`</span></a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">t1</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># &lt;write untimed setup code here&gt; this example has no setup</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># &lt;write code to time here&gt; for example...</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &lt;you can now access Timerit attributes&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;t1.total_time = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span><span class="o">.</span><span class="n">total_time</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">t1</span><span class="o">.</span><span class="n">total_time</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">t1</span><span class="o">.</span><span class="n">n_loops</span> <span class="o">==</span> <span class="n">t1</span><span class="o">.</span><span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">t1</span><span class="o">.</span><span class="n">n_loops</span> <span class="o">==</span> <span class="n">num</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If the timer object is unused, time will still be recoreded,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># but with less precision.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="s1">&#39;inprecise&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using the timer object results in the most precise timeings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="s1">&#39;precise&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="utool.util_time.Timerit.ave_secs">
<code class="descname">ave_secs</code><a class="headerlink" href="#utool.util_time.Timerit.ave_secs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_time.date_to_datetime">
<code class="descclassname">utool.util_time.</code><code class="descname">date_to_datetime</code><span class="sig-paren">(</span><em>date</em>, <em>fraction=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#date_to_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.date_to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>fraction is how much through the day you are. 0=start of the day, 1=end of the day.</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.datetime_to_posixtime">
<code class="descclassname">utool.util_time.</code><code class="descname">datetime_to_posixtime</code><span class="sig-paren">(</span><em>dt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#datetime_to_posixtime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.datetime_to_posixtime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.determine_timestamp_format">
<code class="descclassname">utool.util_time.</code><code class="descname">determine_timestamp_format</code><span class="sig-paren">(</span><em>datetime_str</em>, <em>warn=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#determine_timestamp_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.determine_timestamp_format" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datetime_str</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior">https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time –exec-determine_timestamp_format</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;0000:00:00 00:00:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;    :  :     :  :  &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2015:04:01 00:00:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2080/04/01 00:00:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2005-10-27T14:35:20+02:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;6:35:01</span><span class="se">\x00</span><span class="s1">2006:03:19 1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2016/05/03 16:34:57 EST&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">([</span><span class="n">determine_timestamp_format</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="k">for</span> <span class="n">datetime_str</span> <span class="ow">in</span> <span class="n">datetime_str_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.ensure_timedelta">
<code class="descclassname">utool.util_time.</code><code class="descname">ensure_timedelta</code><span class="sig-paren">(</span><em>str_or_num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#ensure_timedelta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.ensure_timedelta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.exiftime_to_unixtime">
<code class="descclassname">utool.util_time.</code><code class="descname">exiftime_to_unixtime</code><span class="sig-paren">(</span><em>datetime_str</em>, <em>timestamp_format=None</em>, <em>strict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#exiftime_to_unixtime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.exiftime_to_unixtime" title="Permalink to this definition">¶</a></dt>
<dd><p>converts a datetime string to posixtime (unixtime)
Use parse timestamp instead</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>datetime_str</strong> (<em>str</em>) – </li>
<li><strong>timestamp_format</strong> (<em>int</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">unixtime seconds from 1970 (currently not UTC; this will change)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time –test-exiftime_to_unixtime:2</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;0000:00:00 00:00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd>
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;2015:04:01 00:00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1427846400</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;2005-10-27T14:35:20+02:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1130423720</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;6:35:01</span><span class="se">\x00</span><span class="s1">2006:03:19 1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1142750101</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.get_datestamp">
<code class="descclassname">utool.util_time.</code><code class="descname">get_datestamp</code><span class="sig-paren">(</span><em>explicit=True</em>, <em>isutc=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_datestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_datestamp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.get_posix_timedelta_str">
<code class="descclassname">utool.util_time.</code><code class="descname">get_posix_timedelta_str</code><span class="sig-paren">(</span><em>posixtime</em>, <em>year=False</em>, <em>approx=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_posix_timedelta_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_posix_timedelta_str" title="Permalink to this definition">¶</a></dt>
<dd><p>get_timedelta_str</p>
<p>TODO: rectify this function with get_unix_timedelta_str (unix_timedelta_str probably has better implementation)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">timedelta_str, formated time string</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time –test-get_posix_timedelta_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">posixtime_list</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mf">10.2</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">posixtime</span> <span class="o">=</span> <span class="n">posixtime_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta_str</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_posix_timedelta_str</span><span class="p">(</span><span class="n">posixtime</span><span class="p">)</span> <span class="k">for</span> <span class="n">posixtime</span> <span class="ow">in</span> <span class="n">posixtime_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">timedelta_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;-00:00:13&#39;, &#39;00:00:10&#39;, &#39;00:01:44&#39;, &#39;00:17:41&#39;, &#39;03:00:24&#39;, &#39;1 day&#39;, &#39;193 weeks&#39;, &#39;60 weeks&#39;]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Timeit::</dt>
<dd>import datetime
# Seems like like timedelta is just faster. must be because it is builtin
%timeit get_posix_timedelta_str(posixtime)
%timeit str(datetime.timedelta(seconds=posixtime))</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.get_posix_timedelta_str2">
<code class="descclassname">utool.util_time.</code><code class="descname">get_posix_timedelta_str2</code><span class="sig-paren">(</span><em>posixtime</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_posix_timedelta_str2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_posix_timedelta_str2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.get_timedelta_str">
<code class="descclassname">utool.util_time.</code><code class="descname">get_timedelta_str</code><span class="sig-paren">(</span><em>timedelta</em>, <em>exclude_zeros=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timedelta_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_timedelta_str" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">timedelta_str, formated time string</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/8906926/formatting-python-timedelta-objects">http://stackoverflow.com/questions/8906926/formatting-python-timedelta-objects</a></p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta</span> <span class="o">=</span> <span class="n">get_unix_timedelta</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta_str</span> <span class="o">=</span> <span class="n">get_timedelta_str</span><span class="p">(</span><span class="n">timedelta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">timedelta_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">10 seconds</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.get_timestamp">
<code class="descclassname">utool.util_time.</code><code class="descname">get_timestamp</code><span class="sig-paren">(</span><em>format_='iso'</em>, <em>use_second=False</em>, <em>delta_seconds=None</em>, <em>isutc=False</em>, <em>timezone=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>format</strong> (<em>str</em>) – (tag, printable, filename, other)</li>
<li><strong>use_second</strong> (<em>bool</em>) – </li>
<li><strong>delta_seconds</strong> (<em>None</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">stamp</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_</span> <span class="o">=</span> <span class="s1">&#39;printable&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_second</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta_seconds</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stamp</span> <span class="o">=</span> <span class="n">get_timestamp</span><span class="p">(</span><span class="n">format_</span><span class="p">,</span> <span class="n">use_second</span><span class="p">,</span> <span class="n">delta_seconds</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="s1">&#39;15:43:04 2015/02/24&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.get_timestats_dict">
<code class="descclassname">utool.util_time.</code><code class="descname">get_timestats_dict</code><span class="sig-paren">(</span><em>unixtime_list</em>, <em>full=True</em>, <em>isutc=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timestats_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_timestats_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.get_timestats_str">
<code class="descclassname">utool.util_time.</code><code class="descname">get_timestats_str</code><span class="sig-paren">(</span><em>unixtime_list</em>, <em>newlines=1</em>, <em>full=True</em>, <em>isutc=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timestats_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_timestats_str" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unixtime_list</strong> (<em>list</em>) – </li>
<li><strong>newlines</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestat_str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time –test-get_timestats_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unixtime_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span> <span class="p">,</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">full</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestat_str</span> <span class="o">=</span> <span class="n">get_timestats_str</span><span class="p">(</span><span class="n">unixtime_list</span><span class="p">,</span> <span class="n">newlines</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="n">full</span><span class="p">,</span> <span class="n">isutc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timestat_str</span><span class="p">),</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;max&#39;  : &#39;1970/01/01 05:16:40&#39;,</span>
<span class="go">    &#39;mean&#39; : &#39;1970/01/01 04:03:42&#39;,</span>
<span class="go">    &#39;min&#39;  : &#39;1970/01/01 00:00:00&#39;,</span>
<span class="go">    &#39;range&#39;: &#39;5:16:40&#39;,</span>
<span class="go">    &#39;std&#39;  : &#39;2:02:01&#39;,</span>
<span class="go">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unixtime_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span> <span class="p">,</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestat_str</span> <span class="o">=</span> <span class="n">get_timestats_str</span><span class="p">(</span><span class="n">unixtime_list</span><span class="p">,</span> <span class="n">newlines</span><span class="p">,</span> <span class="n">isutc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timestat_str</span><span class="p">),</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;max&#39;    : &#39;1970/01/01 05:16:40&#39;,</span>
<span class="go">    &#39;mean&#39;   : &#39;1970/01/01 03:23:05&#39;,</span>
<span class="go">    &#39;min&#39;    : &#39;1970/01/01 00:00:00&#39;,</span>
<span class="go">    &#39;nMax&#39;   : 1,</span>
<span class="go">    &#39;nMin&#39;   : 2,</span>
<span class="go">    &#39;num_nan&#39;: 1,</span>
<span class="go">    &#39;range&#39;  : &#39;5:16:40&#39;,</span>
<span class="go">    &#39;shape&#39;  : (7,),</span>
<span class="go">    &#39;std&#39;    : &#39;2:23:43&#39;,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.get_unix_timedelta">
<code class="descclassname">utool.util_time.</code><code class="descname">get_unix_timedelta</code><span class="sig-paren">(</span><em>unixtime_diff</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_unix_timedelta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_unix_timedelta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.get_unix_timedelta_str">
<code class="descclassname">utool.util_time.</code><code class="descname">get_unix_timedelta_str</code><span class="sig-paren">(</span><em>unixtime_diff</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_unix_timedelta_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.get_unix_timedelta_str" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: rectify this function with get_posix_timedelta_str</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unixtime_diff</strong> (<em>int</em>) – number of seconds</li>
<li><strong>unixtime_diff</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">formated time string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">timestr (str)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestr</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time –test-get_unix_timedelta_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unixtime_diff</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestr</span> <span class="o">=</span> <span class="n">get_unix_timedelta_str</span><span class="p">(</span><span class="n">unixtime_diff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestr_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_unix_timedelta_str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">9001</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9001</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">timestr_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;2 hours 30 minutes 1 second&#39;, &#39;1 second&#39;, &#39;0 seconds&#39;, &#39;1 second&#39;, &#39;2 hours 30 minutes 1 second&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.local_timezone">
<code class="descclassname">utool.util_time.</code><code class="descname">local_timezone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#local_timezone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.local_timezone" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.parse_timedelta_str">
<code class="descclassname">utool.util_time.</code><code class="descname">parse_timedelta_str</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#parse_timedelta_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.parse_timedelta_str" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>str</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">timedelta</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time –exec-parse_timedelta_str</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;24h&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta</span> <span class="o">=</span> <span class="n">parse_timedelta_str</span><span class="p">(</span><span class="n">str_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;timedelta = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timedelta</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">timedelta = 86400.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.parse_timestamp">
<code class="descclassname">utool.util_time.</code><code class="descname">parse_timestamp</code><span class="sig-paren">(</span><em>timestamp</em>, <em>zone='UTC'</em>, <em>timestamp_format=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#parse_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.parse_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>pip install delorean</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>timestamp</strong> (<em>str</em>) – timestampe string</li>
<li><strong>zone</strong> (<em>bool</em>) – assumes input is zone (only if not specified) and gives
output in zone.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_time –test-parse_timestamp
python -m utool.util_time parse_timestamp</dd>
<dt>Example0:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utc</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestampe_format</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamps</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2015:04:01 00:00:00&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2005-10-27T14:35:20+02:00&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00-05:00&#39;</span><span class="p">,</span> <span class="s1">&#39;UTC&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00-05:00&#39;</span><span class="p">,</span> <span class="s1">&#39;EST&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;EST&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;UTC&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;6:35:01</span><span class="se">\x00</span><span class="s1">2006:03:19 1&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2016/08/18 10:51:02 EST&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2016-08-18T10:51:02-05:00&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp</span> <span class="o">=</span> <span class="n">timestamps</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dn_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">parse_timestamp</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="k">for</span> <span class="n">args</span> <span class="ow">in</span> <span class="n">timestamps</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">NEWLINE</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">dn</span><span class="p">)</span> <span class="k">for</span> <span class="n">dn</span> <span class="ow">in</span> <span class="n">dn_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2015-04-01 00:00:00+00:00</span>
<span class="go">2005-10-27 12:35:20+00:00</span>
<span class="go">2000-01-01 14:00:00+00:00</span>
<span class="go">2000-01-01 09:00:00-05:00</span>
<span class="go">2000-01-01 09:00:00-05:00</span>
<span class="go">2000-01-01 09:00:00+00:00</span>
<span class="go">2006-03-19 06:35:01+00:00</span>
<span class="go">2016-08-18 15:51:02+00:00</span>
<span class="go">2016-08-18 15:51:02+00:00</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.tic">
<code class="descclassname">utool.util_time.</code><code class="descname">tic</code><span class="sig-paren">(</span><em>msg=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#tic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.tic" title="Permalink to this definition">¶</a></dt>
<dd><p>similar to matlab tic</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.toc</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.timestamp">
<code class="descclassname">utool.util_time.</code><code class="descname">timestamp</code><span class="sig-paren">(</span><em>format_='iso'</em>, <em>use_second=False</em>, <em>delta_seconds=None</em>, <em>isutc=False</em>, <em>timezone=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_time.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>get_timestamp</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>format</strong> (<em>str</em>) – (tag, printable, filename, other)</li>
<li><strong>use_second</strong> (<em>bool</em>) – </li>
<li><strong>delta_seconds</strong> (<em>None</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">stamp</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_</span> <span class="o">=</span> <span class="s1">&#39;printable&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_second</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta_seconds</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stamp</span> <span class="o">=</span> <span class="n">get_timestamp</span><span class="p">(</span><span class="n">format_</span><span class="p">,</span> <span class="n">use_second</span><span class="p">,</span> <span class="n">delta_seconds</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="s1">&#39;15:43:04 2015/02/24&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.toc">
<code class="descclassname">utool.util_time.</code><code class="descname">toc</code><span class="sig-paren">(</span><em>tt</em>, <em>return_msg=False</em>, <em>write_msg=True</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#toc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.toc" title="Permalink to this definition">¶</a></dt>
<dd><p>similar to matlab toc</p>
<dl class="docutils">
<dt>SeeAlso:</dt>
<dd>ut.tic</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.unixtime_to_datetimeobj">
<code class="descclassname">utool.util_time.</code><code class="descname">unixtime_to_datetimeobj</code><span class="sig-paren">(</span><em>unixtime</em>, <em>isutc=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#unixtime_to_datetimeobj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.unixtime_to_datetimeobj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_time.unixtime_to_datetimestr">
<code class="descclassname">utool.util_time.</code><code class="descname">unixtime_to_datetimestr</code><span class="sig-paren">(</span><em>unixtime</em>, <em>timefmt='%Y/%m/%d %H:%M:%S'</em>, <em>isutc=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#unixtime_to_datetimestr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.unixtime_to_datetimestr" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: ranme to datetimestr</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.unixtime_to_timedelta">
<code class="descclassname">utool.util_time.</code><code class="descname">unixtime_to_timedelta</code><span class="sig-paren">(</span><em>unixtime_diff</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#unixtime_to_timedelta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.unixtime_to_timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_unix_timedelta</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_time.utcnow_tz">
<code class="descclassname">utool.util_time.</code><code class="descname">utcnow_tz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#utcnow_tz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_time.utcnow_tz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_type">
<span id="utool-util-type-module"></span><h2>utool.util_type module<a class="headerlink" href="#module-utool.util_type" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_type.assert_int">
<code class="descclassname">utool.util_type.</code><code class="descname">assert_int</code><span class="sig-paren">(</span><em>var</em>, <em>lbl='var'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#assert_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.assert_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.bool_from_str">
<code class="descclassname">utool.util_type.</code><code class="descname">bool_from_str</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#bool_from_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.bool_from_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.fuzzy_int">
<code class="descclassname">utool.util_type.</code><code class="descname">fuzzy_int</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#fuzzy_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.fuzzy_int" title="Permalink to this definition">¶</a></dt>
<dd><p>lets some special strings be interpreted as ints</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.fuzzy_subset">
<code class="descclassname">utool.util_type.</code><code class="descname">fuzzy_subset</code><span class="sig-paren">(</span><em>str_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#fuzzy_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.fuzzy_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>converts a string into an argument to list_take</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.get_homogenous_list_type">
<code class="descclassname">utool.util_type.</code><code class="descname">get_homogenous_list_type</code><span class="sig-paren">(</span><em>list_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#get_homogenous_list_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.get_homogenous_list_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the best matching python type even if it is an ndarray assumes all
items in the list are of the same type. does not check this</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.get_type">
<code class="descclassname">utool.util_type.</code><code class="descname">get_type</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.get_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets types accounting for numpy</p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd>import utool as ut
import pandas as pd
var = np.array([‘a’, ‘b’, ‘c’])
ut.get_type(var)
var = pd.Index([‘a’, ‘b’, ‘c’])
ut.get_type(var)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.is_bool">
<code class="descclassname">utool.util_type.</code><code class="descname">is_bool</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_bool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_bool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_comparable_type">
<code class="descclassname">utool.util_type.</code><code class="descname">is_comparable_type</code><span class="sig-paren">(</span><em>var</em>, <em>type_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_comparable_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_comparable_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if <cite>var</cite> is an instance of known compatible types for <cite>type_</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>var</strong> – </li>
<li><strong>type</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_type is_comparable_type –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">float</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="nb">int</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[True, True, True, True, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.is_dict">
<code class="descclassname">utool.util_type.</code><code class="descname">is_dict</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_float">
<code class="descclassname">utool.util_type.</code><code class="descname">is_float</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_float" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>var</strong> (<em>ndarray</em><em> or </em><em>scalar</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">var</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_type –test-is_float</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">is_float</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;var is a float&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.is_func_or_method">
<code class="descclassname">utool.util_type.</code><code class="descname">is_func_or_method</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_func_or_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_func_or_method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_func_or_method_or_partial">
<code class="descclassname">utool.util_type.</code><code class="descname">is_func_or_method_or_partial</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_func_or_method_or_partial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_func_or_method_or_partial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_funclike">
<code class="descclassname">utool.util_type.</code><code class="descname">is_funclike</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_funclike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_funclike" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_int">
<code class="descclassname">utool.util_type.</code><code class="descname">is_int</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_int" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if var is an integer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Yuck, isinstance(True, int) returns True. This function does not have
that flaw.</p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.peterbe.com/plog/bool-is-int">http://www.peterbe.com/plog/bool-is-int</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_type –test-is_int</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var3</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">is_int</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="p">[</span><span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">,</span> <span class="n">var3</span><span class="p">,</span> <span class="n">var4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[True, True, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.is_list">
<code class="descclassname">utool.util_type.</code><code class="descname">is_list</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_listlike">
<code class="descclassname">utool.util_type.</code><code class="descname">is_listlike</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_listlike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_listlike" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_method">
<code class="descclassname">utool.util_type.</code><code class="descname">is_method</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_str">
<code class="descclassname">utool.util_type.</code><code class="descname">is_str</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_tuple">
<code class="descclassname">utool.util_type.</code><code class="descname">is_tuple</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_tuple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_tuple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.is_type">
<code class="descclassname">utool.util_type.</code><code class="descname">is_type</code><span class="sig-paren">(</span><em>var</em>, <em>valid_types</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for types accounting for numpy</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.is_valid_floattype">
<code class="descclassname">utool.util_type.</code><code class="descname">is_valid_floattype</code><span class="sig-paren">(</span><em>type_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_valid_floattype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.is_valid_floattype" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>type</strong> (<code class="docutils literal notranslate"><span class="pre">type</span></code>) – type to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">if a <code class="docutils literal notranslate"><span class="pre">type_</span></code> is a valid float <code class="docutils literal notranslate"><span class="pre">type_</span></code> (not variable)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.smart_cast">
<code class="descclassname">utool.util_type.</code><code class="descname">smart_cast</code><span class="sig-paren">(</span><em>var</em>, <em>type_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#smart_cast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.smart_cast" title="Permalink to this definition">¶</a></dt>
<dd><p>casts var to type, and tries to be clever when var is a string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>var</strong> (<em>object</em>) – variable to cast</li>
<li><strong>type</strong> (<em>type</em><em> or </em><em>str</em>) – type to attempt to cast to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">object</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_type –exec-smart_cast</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_</span> <span class="o">=</span> <span class="s1">&#39;fuzzy_subset&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">type_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Example1:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;1&#39;</span>
</pre></div>
</div>
</dd>
<dt>Example2:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;(1,3)&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(1, 3)</span>
</pre></div>
</div>
</dd>
<dt>Example3:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;(1,3)&#39;</span><span class="p">,</span> <span class="nb">eval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(1, 3)</span>
</pre></div>
</div>
</dd>
<dt>Example4:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;1::3&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">slice(1, None, 3)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.smart_cast2">
<code class="descclassname">utool.util_type.</code><code class="descname">smart_cast2</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#smart_cast2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.smart_cast2" title="Permalink to this definition">¶</a></dt>
<dd><p>if the variable is a string tries to cast it to a reasonable value.
maybe can just use eval. FIXME: funcname</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>var</strong> (<em>unknown</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">some var</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">unknown</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_type –test-smart_cast2</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="s1">&#39;1.2&#39;</span><span class="p">,</span> <span class="s1">&#39;True&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;None&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">castvar_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">smart_cast2</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">var_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">castvar_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;?&#39;, 1, 1, 1.0, 1.2, True, None, None]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_type.try_cast">
<code class="descclassname">utool.util_type.</code><code class="descname">try_cast</code><span class="sig-paren">(</span><em>var</em>, <em>type_</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#try_cast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.try_cast" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_type.type_str">
<code class="descclassname">utool.util_type.</code><code class="descname">type_str</code><span class="sig-paren">(</span><em>type_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#type_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_type.type_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool.util_ubuntu">
<span id="utool-util-ubuntu-module"></span><h2>utool.util_ubuntu module<a class="headerlink" href="#module-utool.util_ubuntu" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utool.util_ubuntu.XCtrl">
<em class="property">class </em><code class="descclassname">utool.util_ubuntu.</code><code class="descname">XCtrl</code><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>xdotool key ctrl+shift+i</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://superuser.com/questions/382616/detecting-currently-active-window">http://superuser.com/questions/382616/detecting-currently-active-window</a>
<a class="reference external" href="http://askubuntu.com/questions/455762/xbindkeys-wont-work-properly">http://askubuntu.com/questions/455762/xbindkeys-wont-work-properly</a></p>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><p class="first">xdotool keyup –window 0 7 type –clearmodifiers —window 0 ‘%paste’</p>
<p># List current windows:
wmctrl  -l</p>
<p># Get current window
xdotool getwindowfocus getwindowname</p>
<p>#====
# Get last opened window
#====</p>
<p>win_title=x-terminal-emulator.X-terminal-emulator
<a href="#id293"><span class="problematic" id="id294">key_</span></a> = ‘x-terminal-emulator.X-terminal-emulator’</p>
<p># Get all windows in current workspace
workspace_number=`wmctrl -d | grep ‘*’ | cut -d’ ‘ -f 1`
win_list=`wmctrl -lx | grep $win_title | grep ” $workspace_number ” | awk ‘{print $1}’`</p>
<p class="last"># Get stacking order of windows in current workspace
win_order=$(xprop -root|grep “^_NET_CLIENT_LIST_STACKING” | tr “,” ” “)
echo $win_order</p>
</dd>
<dt>CommandLine:</dt>
<dd>python -m utool.util_ubuntu XCtrl</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Script</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool</span> <span class="k">import</span> <span class="n">util_ubuntu</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_window</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">copy_text_to_clipboard</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">lorium_ipsum</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doscript</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;x-terminal-emulator.X-terminal-emulator&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;%paste&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;KP_Enter&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="c1"># (&#39;focus&#39;, &#39;GVIM&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_ubuntu</span><span class="o">.</span><span class="n">XCtrl</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="o">*</span><span class="n">doscript</span><span class="p">,</span> <span class="n">sleeptime</span><span class="o">=.</span><span class="mi">01</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Ignore:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">copy_text_to_clipboard</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">text</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">%paste</span><span class="se">\&#39;</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">else</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">pipes</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">text</span> <span class="o">=</span> <span class="n">pipes</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;GVIM&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doscript</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;x-terminal-emulator.X-terminal-emulator&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;KP_Enter&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_ubuntu</span><span class="o">.</span><span class="n">XCtrl</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="o">*</span><span class="n">doscript</span><span class="p">,</span> <span class="n">sleeptime</span><span class="o">=.</span><span class="mi">01</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.copy_gvim_to_terminal_script">
<em class="property">static </em><code class="descname">copy_gvim_to_terminal_script</code><span class="sig-paren">(</span><em>text</em>, <em>return_to_win='1'</em>, <em>verbose=0</em>, <em>sleeptime=0.02</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.copy_gvim_to_terminal_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.copy_gvim_to_terminal_script" title="Permalink to this definition">¶</a></dt>
<dd><p>import utool.util_ubuntu
utool.util_ubuntu.XCtrl.copy_gvim_to_terminal_script(‘print(“hi”)’, verbose=1)
python -m utool.util_ubuntu XCtrl.copy_gvim_to_terminal_script “echo hi” 1 1</p>
<p>If this doesn’t work make sure pyperclip is installed and set to xsel</p>
<p>print(‘foobar’)
echo hi</p>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.current_gvim_edit">
<em class="property">static </em><code class="descname">current_gvim_edit</code><span class="sig-paren">(</span><em>op='e'</em>, <em>fpath=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.current_gvim_edit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.current_gvim_edit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_ubuntu XCtrl.current_gvim_edit sp ~/.bashrc</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.do">
<em class="property">static </em><code class="descname">do</code><span class="sig-paren">(</span><em>*cmd_list</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.do"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.do" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.find_window_id">
<em class="property">static </em><code class="descname">find_window_id</code><span class="sig-paren">(</span><em>pattern</em>, <em>method='mru'</em>, <em>error='raise'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.find_window_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.find_window_id" title="Permalink to this definition">¶</a></dt>
<dd><p>xprop -id 0x00a00007 | grep “WM_CLASS(STRING)”</p>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.findall_window_ids">
<em class="property">static </em><code class="descname">findall_window_ids</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.findall_window_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.findall_window_ids" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>wmctrl  -l
python -m utool.util_ubuntu XCtrl.findall_window_ids gvim –src
python -m utool.util_ubuntu XCtrl.findall_window_ids gvim –src
python -m utool.util_ubuntu XCtrl.findall_window_ids joncrall –src</dd>
</dl>
<p>xprop -id</p>
<p>wmctrl -l | awk ‘{print $1}’ | xprop -id</p>
<p>0x00a00007 | grep “WM_CLASS(STRING)”</p>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.focus_window">
<em class="property">static </em><code class="descname">focus_window</code><span class="sig-paren">(</span><em>winhandle</em>, <em>path=None</em>, <em>name=None</em>, <em>sleeptime=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.focus_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.focus_window" title="Permalink to this definition">¶</a></dt>
<dd><p>sudo apt-get install xautomation
apt-get install autokey-gtk</p>
<p>wmctrl -xa gnome-terminal.Gnome-terminal
wmctrl -xl</p>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.killold">
<em class="property">static </em><code class="descname">killold</code><span class="sig-paren">(</span><em>pattern</em>, <em>num=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.killold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.killold" title="Permalink to this definition">¶</a></dt>
<dd><p>Leaves no more than <cite>num</cite> instances of a program alive.  Ordering is
determined by most recent usage.</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_ubuntu XCtrl.killold gvim 2</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool</span> <span class="k">import</span> <span class="n">util_ubuntu</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">XCtrl</span> <span class="o">=</span> <span class="n">util_ubuntu</span><span class="o">.</span><span class="n">XCtrl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;gvim&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.move_window">
<em class="property">static </em><code class="descname">move_window</code><span class="sig-paren">(</span><em>win_key</em>, <em>bbox</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.move_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.move_window" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first"># List windows
wmctrl -l
# List desktops
wmctrl -d</p>
<p># Window info
xwininfo -id 60817412</p>
<p class="last">python -m utool.util_ubuntu XCtrl.move_window joncrall 0+1920,680,400,600,400
python -m utool.util_ubuntu XCtrl.move_window joncrall [0,0,1000,1000]
python -m utool.util_ubuntu XCtrl.move_window GVIM special2
python -m utool.util_ubuntu XCtrl.move_window joncrall special2
python -m utool.util_ubuntu XCtrl.move_window x-terminal-emulator.X-terminal-emulator [0,0,1000,1000]</p>
</dd>
</dl>
<p># &gt;&gt;&gt; import utool as ut
# &gt;&gt;&gt; from utool import util_ubuntu
# &gt;&gt;&gt; orig_window = []
# &gt;&gt;&gt; X = util_ubuntu.XCtrl
win_key =  ‘x-terminal-emulator.X-terminal-emulator’
win_id = X.findall_window_ids(key)[0]</p>
<p>python -m utool.util_ubuntu XCtrl.findall_window_ids gvim –src</p>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.sort_window_ids">
<em class="property">static </em><code class="descname">sort_window_ids</code><span class="sig-paren">(</span><em>winid_list</em>, <em>order='mru'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.sort_window_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.sort_window_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Orders window ids by most recently used</p>
</dd></dl>

<dl class="staticmethod">
<dt id="utool.util_ubuntu.XCtrl.sorted_window_ids">
<em class="property">static </em><code class="descname">sorted_window_ids</code><span class="sig-paren">(</span><em>order='mru'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.sorted_window_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.sorted_window_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns window ids orderd by criteria
default is mru (most recently used)</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>xprop -root | grep “^_NET_CLIENT_LIST_STACKING” | tr “,” ” ”
python -m utool.util_ubuntu XCtrl.sorted_window_ids</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utool.util_ubuntu.add_new_mimetype_association">
<code class="descclassname">utool.util_ubuntu.</code><code class="descname">add_new_mimetype_association</code><span class="sig-paren">(</span><em>ext</em>, <em>mime_name</em>, <em>exe_fpath=None</em>, <em>dry=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#add_new_mimetype_association"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.add_new_mimetype_association" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: move to external manager and generalize</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ext</strong> (<em>str</em>) – extension to associate</li>
<li><strong>mime_name</strong> (<em>str</em>) – the name of the mime_name to create (defaults to ext)</li>
<li><strong>exe_fpath</strong> (<em>str</em>) – executable location if this is for one specific file</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="https://wiki.archlinux.org/index.php/Default_applications#Custom_file_associations">https://wiki.archlinux.org/index.php/Default_applications#Custom_file_associations</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ext</strong> (<em>str</em>) – extension to associate</li>
<li><strong>exe_fpath</strong> (<em>str</em>) – executable location</li>
<li><strong>mime_name</strong> (<em>str</em>) – the name of the mime_name to create (defaults to ext)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool.util_ubuntu –exec-add_new_mimetype_association
# Add ability to open ipython notebooks via double click
python -m utool.util_ubuntu –exec-add_new_mimetype_association –mime-name=ipynb+json –ext=.ipynb –exe-fpath=/usr/local/bin/ipynb
python -m utool.util_ubuntu –exec-add_new_mimetype_association –mime-name=ipynb+json –ext=.ipynb –exe-fpath=jupyter-notebook –force</p>
<p class="last">python -m utool.util_ubuntu –exec-add_new_mimetype_association –mime-name=sqlite –ext=.sqlite –exe-fpath=sqlitebrowser</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ubuntu</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ext</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--ext&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mime_name</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mime_name&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exe_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--exe_fpath&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dry</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--force&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">add_new_mimetype_association</span><span class="p">(</span><span class="n">ext</span><span class="p">,</span> <span class="n">mime_name</span><span class="p">,</span> <span class="n">exe_fpath</span><span class="p">,</span> <span class="n">dry</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_ubuntu.make_application_icon">
<code class="descclassname">utool.util_ubuntu.</code><code class="descname">make_application_icon</code><span class="sig-paren">(</span><em>exe_fpath</em>, <em>dry=True</em>, <em>props={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#make_application_icon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.make_application_icon" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd><p class="first">python -m utool.util_ubuntu –exec-make_application_icon –exe=cockatrice –icon=/home/joncrall/code/Cockatrice/cockatrice/resources/cockatrice.png
python -m utool.util_ubuntu –exec-make_application_icon –exe=cockatrice –icon=/home/joncrall/code/Cockatrice/cockatrice/resources/cockatrice.png
python -m utool.util_ubuntu –exec-make_application_icon –exe=/opt/zotero/zotero –icon=/opt/zotero/chrome/icons/default/main-window.ico</p>
<p>python -m utool.util_ubuntu –exec-make_application_icon –exe “env WINEPREFIX=”/home/joncrall/.wine” wine C:\windows\command\start.exe /Unix /home/joncrall/.wine32-dotnet45/dosdevices/c:/users/Public/Desktop/Hearthstone.lnk” –path “/home/joncrall/.wine/dosdevices/c:/Program Files (x86)/Hearthstone”
# Exec=env WINEPREFIX=”/home/joncrall/.wine” wine /home/joncrall/.wine/drive_c/ProgramFiles(x86)/Battle.net/Battle.net.exe</p>
<p>–icon=/opt/zotero/chrome/icons/default/main-window.ico</p>
<p>python -m utool.util_ubuntu –exec-make_application_icon –exe=/home/joncrall/code/build-ArenaTracker-Desktop_Qt_5_6_1_GCC_64bit-Debug</p>
<p class="last">update-desktop-database ~/.local/share/applications</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ubuntu</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exe_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--exe&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;cockatrice&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">icon</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--icon&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dry</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">((</span><span class="s1">&#39;--write&#39;</span><span class="p">,</span> <span class="s1">&#39;-w&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">props</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;terminal&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icon</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">make_application_icon</span><span class="p">(</span><span class="n">exe_fpath</span><span class="p">,</span> <span class="n">dry</span><span class="p">,</span> <span class="n">props</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_ubuntu.monitor_mouse">
<code class="descclassname">utool.util_ubuntu.</code><code class="descname">monitor_mouse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#monitor_mouse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_ubuntu.monitor_mouse" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_ubuntu monitor_mouse</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ubuntu</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monitor_mouse</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="utool.util_ubuntu.xctrl">
<code class="descclassname">utool.util_ubuntu.</code><code class="descname">xctrl</code><a class="headerlink" href="#utool.util_ubuntu.xctrl" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_ubuntu.XCtrl" title="utool.util_ubuntu.XCtrl"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_ubuntu.XCtrl</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-utool.util_web">
<span id="utool-util-web-module"></span><h2>utool.util_web module<a class="headerlink" href="#module-utool.util_web" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_web.find_open_port">
<code class="descclassname">utool.util_web.</code><code class="descname">find_open_port</code><span class="sig-paren">(</span><em>base=5000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#find_open_port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_web.find_open_port" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_web.get_localhost">
<code class="descclassname">utool.util_web.</code><code class="descname">get_localhost</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#get_localhost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_web.get_localhost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_web.is_local_port_open">
<code class="descclassname">utool.util_web.</code><code class="descname">is_local_port_open</code><span class="sig-paren">(</span><em>port</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#is_local_port_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_web.is_local_port_open" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>port</strong> (<em>int</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7436801/identifying-listening-ports-using-python">http://stackoverflow.com/questions/7436801/identifying-listening-ports-using-python</a></p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_web is_local_port_open –show</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_web</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">port</span> <span class="o">=</span> <span class="mi">32183</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">is_local_port_open</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;port 80 should always be closed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">is_local_port_open</span><span class="p">(</span><span class="n">port</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;maybe this port is actually used?&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_web.render_html">
<code class="descclassname">utool.util_web.</code><code class="descname">render_html</code><span class="sig-paren">(</span><em>html_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#render_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_web.render_html" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a temporary html rendering</p>
</dd></dl>

<dl class="function">
<dt id="utool.util_web.start_simple_webserver">
<code class="descclassname">utool.util_web.</code><code class="descname">start_simple_webserver</code><span class="sig-paren">(</span><em>domain=None</em>, <em>port=5832</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#start_simple_webserver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_web.start_simple_webserver" title="Permalink to this definition">¶</a></dt>
<dd><p>simple webserver that echos its arguments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>domain</strong> (<em>None</em>) – (default = None)</li>
<li><strong>port</strong> (<em>int</em>) – (default = 5832)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_web –exec-start_simple_webserver:0
python -m utool.util_web –exec-start_simple_webserver:1</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_web</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">domain</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">port</span> <span class="o">=</span> <span class="mi">5832</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">start_simple_webserver</span><span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-utool.util_win32">
<span id="utool-util-win32-module"></span><h2>utool.util_win32 module<a class="headerlink" href="#module-utool.util_win32" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="utool.util_win32.add_to_win32_PATH">
<code class="descclassname">utool.util_win32.</code><code class="descname">add_to_win32_PATH</code><span class="sig-paren">(</span><em>script_fpath</em>, <em>*add_path_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_win32.html#add_to_win32_PATH"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_win32.add_to_win32_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a registery script to update the PATH variable into the sync registry</p>
<dl class="docutils">
<dt>CommandLine:</dt>
<dd>python -m utool.util_win32 –test-add_to_win32_PATH –newpath “C:Program Files (x86)Graphviz2.38bin”</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_win32</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">script_fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">),</span> <span class="s1">&#39;Sync/win7/registry&#39;</span><span class="p">,</span> <span class="s1">&#39;UPDATE_PATH.reg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_path</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--newpath&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">add_to_win32_PATH</span><span class="p">(</span><span class="n">script_fpath</span><span class="p">,</span> <span class="n">new_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utool.util_win32.get_regstr">
<code class="descclassname">utool.util_win32.</code><code class="descname">get_regstr</code><span class="sig-paren">(</span><em>regtype</em>, <em>var</em>, <em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_win32.html#get_regstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_win32.get_regstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="utool.util_win32.make_regfile_str">
<code class="descclassname">utool.util_win32.</code><code class="descname">make_regfile_str</code><span class="sig-paren">(</span><em>key</em>, <em>varval_list</em>, <em>rtype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_win32.html#make_regfile_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.util_win32.make_regfile_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utool">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-utool" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>UTool - Useful Utility Tools</dt>
<dd>Your friendly neighborhood utility tools</dd>
</dl>
<p>TODO: INSERT APACHE VERSION 2.0 LICENCE IN ALL FILES
(Although it should be implied that the entire module and repo is released under
that licence.)</p>
<p>pip install git+https://github.com/Erotemic/utool.git&#64;next</p>
<dl class="function">
<dt id="utool.reassign_submodule_attributes">
<code class="descclassname">utool.</code><code class="descname">reassign_submodule_attributes</code><span class="sig-paren">(</span><em>verbose=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool.html#reassign_submodule_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.reassign_submodule_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates attributes in the __init__ modules with updated attributes
in the submodules.</p>
</dd></dl>

<dl class="function">
<dt id="utool.reload_subs">
<code class="descclassname">utool.</code><code class="descname">reload_subs</code><span class="sig-paren">(</span><em>verbose=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool.html#reload_subs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utool.reload_subs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reloads utool and submodules</p>
</dd></dl>

<dl class="function">
<dt id="utool.rrrr">
<code class="descclassname">utool.</code><code class="descname">rrrr</code><span class="sig-paren">(</span><em>verbose=1</em><span class="sig-paren">)</span><a class="headerlink" href="#utool.rrrr" title="Permalink to this definition">¶</a></dt>
<dd><p>Reloads utool and submodules</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">wbia-vtool</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">utool package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utool._internal.html">utool._internal package</a></li>
<li class="toctree-l3"><a class="reference internal" href="utool.experimental.html">utool.experimental package</a></li>
<li class="toctree-l3"><a class="reference internal" href="utool.tests.html">utool.tests package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.DynamicStruct">utool.DynamicStruct module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.Preferences">utool.Preferences module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.Printable">utool.Printable module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.__main__">utool.__main__ module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool._version">utool._version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.oldalg">utool.oldalg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.sandbox">utool.sandbox module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_alg">utool.util_alg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_aliases">utool.util_aliases module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_arg">utool.util_arg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_assert">utool.util_assert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_autogen">utool.util_autogen module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_cache">utool.util_cache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_class">utool.util_class module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_config">utool.util_config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_const">utool.util_const module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_cplat">utool.util_cplat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_csv">utool.util_csv module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_dbg">utool.util_dbg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_decor">utool.util_decor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_depricated">utool.util_depricated module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_dev">utool.util_dev module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_dict">utool.util_dict module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_func">utool.util_func module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_git">utool.util_git module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_grabdata">utool.util_grabdata module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_graph">utool.util_graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_gridsearch">utool.util_gridsearch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_hash">utool.util_hash module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_import">utool.util_import module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_inject">utool.util_inject module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_inspect">utool.util_inspect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_io">utool.util_io module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_ipynb">utool.util_ipynb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_iter">utool.util_iter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_latex">utool.util_latex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_list">utool.util_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_logging">utool.util_logging module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_num">utool.util_num module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_numpy">utool.util_numpy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_parallel">utool.util_parallel module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_path">utool.util_path module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_print">utool.util_print module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_profile">utool.util_profile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_progress">utool.util_progress module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_project">utool.util_project module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_regex">utool.util_regex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_resources">utool.util_resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_set">utool.util_set module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_setup">utool.util_setup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_six">utool.util_six module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_sqlite">utool.util_sqlite module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_str">utool.util_str module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_sysreq">utool.util_sysreq module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_tags">utool.util_tags module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_tests">utool.util_tests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_time">utool.util_time module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_type">utool.util_type module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_ubuntu">utool.util_ubuntu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_web">utool.util_web module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_win32">utool.util_win32 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool">Module contents</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to utool’s documentation!</a></li>
      <li>Next: <a href="utool._internal.html" title="next chapter">utool._internal package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Wild Me.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/utool.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>