<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>utool package &mdash; wbia-utool 4.0.4 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="utool._internal package" href="utool._internal.html" />
    <link rel="prev" title="Welcome to utool’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> wbia-utool
          </a>
              <div class="version">
                4.0.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">utool package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utool._internal.html">utool._internal package</a></li>
<li class="toctree-l3"><a class="reference internal" href="utool.experimental.html">utool.experimental package</a></li>
<li class="toctree-l3"><a class="reference internal" href="utool.tests.html">utool.tests package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.DynamicStruct">utool.DynamicStruct module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.Preferences">utool.Preferences module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.Printable">utool.Printable module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.__main__">utool.__main__ module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool._version">utool._version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.oldalg">utool.oldalg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.sandbox">utool.sandbox module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_alg">utool.util_alg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_aliases">utool.util_aliases module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_arg">utool.util_arg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_assert">utool.util_assert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_autogen">utool.util_autogen module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_cache">utool.util_cache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_class">utool.util_class module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_config">utool.util_config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_const">utool.util_const module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_cplat">utool.util_cplat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_csv">utool.util_csv module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_dbg">utool.util_dbg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_decor">utool.util_decor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_depricated">utool.util_depricated module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_dev">utool.util_dev module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_dict">utool.util_dict module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_func">utool.util_func module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_git">utool.util_git module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_grabdata">utool.util_grabdata module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_graph">utool.util_graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_gridsearch">utool.util_gridsearch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_hash">utool.util_hash module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_import">utool.util_import module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_inject">utool.util_inject module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_inspect">utool.util_inspect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_io">utool.util_io module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_ipynb">utool.util_ipynb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_iter">utool.util_iter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_latex">utool.util_latex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_list">utool.util_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_logging">utool.util_logging module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_num">utool.util_num module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_numpy">utool.util_numpy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_parallel">utool.util_parallel module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_path">utool.util_path module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_print">utool.util_print module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_profile">utool.util_profile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_progress">utool.util_progress module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_project">utool.util_project module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_regex">utool.util_regex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_resources">utool.util_resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_set">utool.util_set module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_setup">utool.util_setup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_six">utool.util_six module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_sqlite">utool.util_sqlite module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_str">utool.util_str module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_sysreq">utool.util_sysreq module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_tags">utool.util_tags module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_tests">utool.util_tests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_time">utool.util_time module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_type">utool.util_type module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_ubuntu">utool.util_ubuntu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_web">utool.util_web module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool.util_win32">utool.util_win32 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utool">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">wbia-utool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>utool package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/utool.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utool-package">
<h1>utool package<a class="headerlink" href="#utool-package" title="Permalink to this headline"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="utool._internal.html">utool._internal package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_arg">utool._internal.meta_util_arg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_cache">utool._internal.meta_util_cache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_constants">utool._internal.meta_util_constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_cplat">utool._internal.meta_util_cplat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_dbg">utool._internal.meta_util_dbg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_git">utool._internal.meta_util_git module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_iter">utool._internal.meta_util_iter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_path">utool._internal.meta_util_path module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.meta_util_six">utool._internal.meta_util_six module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.py2_syntax_funcs">utool._internal.py2_syntax_funcs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.randomwrap">utool._internal.randomwrap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.util_importer">utool._internal.util_importer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal.win32_send_keys">utool._internal.win32_send_keys module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool._internal.html#module-utool._internal">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utool.experimental.html">utool.experimental package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.bytecode_optimizations">utool.experimental.bytecode_optimizations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.dynamic_connectivity">utool.experimental.dynamic_connectivity module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.euler_tour_tree_avl">utool.experimental.euler_tour_tree_avl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental.pandas_highlight">utool.experimental.pandas_highlight module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.experimental.html#module-utool.experimental">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utool.tests.html">utool.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_decor">utool.tests._oldtest_decor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_hash">utool.tests._oldtest_hash module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_logging">utool.tests._oldtest_logging module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests._oldtest_reloading">utool.tests._oldtest_reloading module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests.run_tests">utool.tests.run_tests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utool.tests.html#module-utool.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-utool.DynamicStruct">
<span id="utool-dynamicstruct-module"></span><h2>utool.DynamicStruct module<a class="headerlink" href="#module-utool.DynamicStruct" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.DynamicStruct.</span></span><span class="sig-name descname"><span class="pre">DynStruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child_exclude_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.Printable.AbstractPrintable" title="utool.Printable.AbstractPrintable"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.Printable.AbstractPrintable</span></code></a></p>
<p>dynamically add and remove members</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct.add_dict">
<span class="sig-name descname"><span class="pre">add_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dyn_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.add_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.add_dict" title="Permalink to this definition"></a></dt>
<dd><p>Adds a dictionary to the prefs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct.deepcopy">
<span class="sig-name descname"><span class="pre">deepcopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.deepcopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.deepcopy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct.execstr">
<span class="sig-name descname"><span class="pre">execstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.execstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.execstr" title="Permalink to this definition"></a></dt>
<dd><p>returns a string which when evaluated will
add the stored variables to the current namespace</p>
<p>localname is the name of the variable in the current scope
* use locals().update(dyn.to_dict()) instead</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct.flat_dict">
<span class="sig-name descname"><span class="pre">flat_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dyn_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_public</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.flat_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.flat_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Converts dynstruct to a dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.DynamicStruct.DynStruct.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/DynamicStruct.html#DynStruct.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.DynamicStruct.DynStruct.update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-utool.Preferences">
<span id="utool-preferences-module"></span><h2>utool.Preferences module<a class="headerlink" href="#module-utool.Preferences" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>FIXME:</dt><dd><p>This class is very old, convoluted, and coupled.
It really needs to be rewritten efficiently.
the __setattr__ __getattr__ stuff needs to be redone, and
DynStruct probably needs to go away.</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="utool.Preferences.Pref">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.Preferences.</span></span><span class="sig-name descname"><span class="pre">Pref</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default=&lt;class</span> <span class="pre">'utool.DynamicStruct.DynStruct'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc='empty</span> <span class="pre">docs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hidden=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depeq=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name='root'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
<p>Structure for Creating Preferences.
Caveats: When using a value call with [‘valname’] to be safe
Features:
* Can be saved and loaded.
* Can be nested
* Dynamically add/remove</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.asdict">
<span class="sig-name descname"><span class="pre">asdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">split_structs_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.Preferences.Pref.asdict" title="Permalink to this definition"></a></dt>
<dd><p>Converts prefeters to a dictionary.
Children Pref can be optionally separated</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.change_combo_val">
<span class="sig-name descname"><span class="pre">change_combo_val</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.change_combo_val"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.change_combo_val" title="Permalink to this definition"></a></dt>
<dd><p>Checks to see if a selection is a valid index or choice of a combo
preference</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.createQWidget">
<span class="sig-name descname"><span class="pre">createQWidget</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.createQWidget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.createQWidget" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.customPrintableType">
<span class="sig-name descname"><span class="pre">customPrintableType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.customPrintableType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.customPrintableType" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.ensure_attr">
<span class="sig-name descname"><span class="pre">ensure_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.ensure_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.ensure_attr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.full_name">
<span class="sig-name descname"><span class="pre">full_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.full_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.full_name" title="Permalink to this definition"></a></dt>
<dd><p>returns name all the way up the tree</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.get_fpath">
<span class="sig-name descname"><span class="pre">get_fpath</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.get_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.get_fpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.get_printable">
<span class="sig-name descname"><span class="pre">get_printable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_exclude_aug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.get_printable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.get_printable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.get_type">
<span class="sig-name descname"><span class="pre">get_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.get_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.get_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.items" title="Permalink to this definition"></a></dt>
<dd><p>Wow this class is messed up. I had to overwrite items when
moving to python3, just because I haden’t called it yet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.iteritems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.iteritems" title="Permalink to this definition"></a></dt>
<dd><p>Wow this class is messed up. I had to overwrite items when
moving to python3, just because I haden’t called it yet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.load" title="Permalink to this definition"></a></dt>
<dd><p>Read pref dict stored on disk. Overwriting current values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.pref_update">
<span class="sig-name descname"><span class="pre">pref_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.pref_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.pref_update" title="Permalink to this definition"></a></dt>
<dd><p>Changes a preference value and saves it to disk</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_col_count">
<span class="sig-name descname"><span class="pre">qt_col_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_col_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_col_count" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_get_child">
<span class="sig-name descname"><span class="pre">qt_get_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_get_child"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_get_child" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_get_data">
<span class="sig-name descname"><span class="pre">qt_get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_get_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_get_parent">
<span class="sig-name descname"><span class="pre">qt_get_parent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_get_parent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_get_parent" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_is_editable">
<span class="sig-name descname"><span class="pre">qt_is_editable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_is_editable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_is_editable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_parents_index_of_me">
<span class="sig-name descname"><span class="pre">qt_parents_index_of_me</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_parents_index_of_me"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_parents_index_of_me" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_row_count">
<span class="sig-name descname"><span class="pre">qt_row_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_row_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_row_count" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.qt_set_leaf_data">
<span class="sig-name descname"><span class="pre">qt_set_leaf_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qvar</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.qt_set_leaf_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.qt_set_leaf_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.save" title="Permalink to this definition"></a></dt>
<dd><p>Saves prefs to disk in dict format</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">split_structs_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Converts prefeters to a dictionary.
Children Pref can be optionally separated</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.toggle">
<span class="sig-name descname"><span class="pre">toggle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.toggle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.toggle" title="Permalink to this definition"></a></dt>
<dd><p>Toggles a boolean key</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.Pref.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#Pref.value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.Pref.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.Preferences.PrefChoice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.Preferences.</span></span><span class="sig-name descname"><span class="pre">PrefChoice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">choices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefChoice" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.PrefChoice.change_val">
<span class="sig-name descname"><span class="pre">change_val</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice.change_val"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefChoice.change_val" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.PrefChoice.combo_val">
<span class="sig-name descname"><span class="pre">combo_val</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice.combo_val"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefChoice.combo_val" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.PrefChoice.get_tuple">
<span class="sig-name descname"><span class="pre">get_tuple</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefChoice.get_tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefChoice.get_tuple" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.Preferences.PrefInternal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.Preferences.</span></span><span class="sig-name descname"><span class="pre">PrefInternal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hidden</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depeq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefInternal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefInternal" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.PrefInternal.freeze_type">
<span class="sig-name descname"><span class="pre">freeze_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefInternal.freeze_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefInternal.freeze_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Preferences.PrefInternal.get_type">
<span class="sig-name descname"><span class="pre">get_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefInternal.get_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefInternal.get_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.Preferences.PrefTree">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.Preferences.</span></span><span class="sig-name descname"><span class="pre">PrefTree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#PrefTree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.PrefTree" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.DynamicStruct.DynStruct" title="utool.DynamicStruct.DynStruct"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.DynamicStruct.DynStruct</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.Preferences.test_Preferences">
<span class="sig-prename descclassname"><span class="pre">utool.Preferences.</span></span><span class="sig-name descname"><span class="pre">test_Preferences</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Preferences.html#test_Preferences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Preferences.test_Preferences" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.Preferences –test-test_Preferences –show –verbpref</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia.guitool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FIXME depends on guitool_ibei</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.Preferences</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.guitool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wbia</span><span class="o">.</span><span class="n">guitool</span><span class="o">.</span><span class="n">ensure_qtapp</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">test_Preferences</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">widget</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">createQWidget</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#widget.show()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wbia</span><span class="o">.</span><span class="n">guitool</span><span class="o">.</span><span class="n">qtapp_loop</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.Printable">
<span id="utool-printable-module"></span><h2>utool.Printable module<a class="headerlink" href="#module-utool.Printable" title="Permalink to this headline"></a></h2>
<p>DEPRICATE</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.Printable.AbstractPrintable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.Printable.</span></span><span class="sig-name descname"><span class="pre">AbstractPrintable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child_print_exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A base class that prints its attributes instead of the memory address</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.Printable.AbstractPrintable.format_printable">
<span class="sig-name descname"><span class="pre">format_printable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span>&#160; <span class="pre">*</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.format_printable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.format_printable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Printable.AbstractPrintable.get_printable">
<span class="sig-name descname"><span class="pre">get_printable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_exclude_aug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_valstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">justlength</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.get_printable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.get_printable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Printable.AbstractPrintable.printme">
<span class="sig-name descname"><span class="pre">printme</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.printme"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.printme" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Printable.AbstractPrintable.printme2">
<span class="sig-name descname"><span class="pre">printme2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_exclude_aug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_valstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">justlength</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.printme2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.printme2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.Printable.AbstractPrintable.printme3">
<span class="sig-name descname"><span class="pre">printme3</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#AbstractPrintable.printme3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.AbstractPrintable.printme3" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.Printable.npArrInfo">
<span class="sig-prename descclassname"><span class="pre">utool.Printable.</span></span><span class="sig-name descname"><span class="pre">npArrInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#npArrInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.npArrInfo" title="Permalink to this definition"></a></dt>
<dd><p>OLD update and refactor</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.Printable.printableType">
<span class="sig-prename descclassname"><span class="pre">utool.Printable.</span></span><span class="sig-name descname"><span class="pre">printableType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#printableType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.printableType" title="Permalink to this definition"></a></dt>
<dd><p>Tries to make a nice type string for a value.
Can also pass in a Printable parent object</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.Printable.printableVal">
<span class="sig-prename descclassname"><span class="pre">utool.Printable.</span></span><span class="sig-name descname"><span class="pre">printableVal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_bit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">justlength</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/Printable.html#printableVal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.Printable.printableVal" title="Permalink to this definition"></a></dt>
<dd><p>Very old way of doing pretty printing. Need to update and refactor.
DEPRICATE</p>
</dd></dl>

</section>
<section id="module-utool.__main__">
<span id="utool-main-module"></span><h2>utool.__main__ module<a class="headerlink" href="#module-utool.__main__" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.__main__.main">
<span class="sig-prename descclassname"><span class="pre">utool.__main__.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/__main__.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.__main__.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool._version">
<span id="utool-version-module"></span><h2>utool._version module<a class="headerlink" href="#module-utool._version" title="Permalink to this headline"></a></h2>
</section>
<section id="module-utool.oldalg">
<span id="utool-oldalg-module"></span><h2>utool.oldalg module<a class="headerlink" href="#module-utool.oldalg" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.oldalg.bayesnet">
<span class="sig-prename descclassname"><span class="pre">utool.oldalg.</span></span><span class="sig-name descname"><span class="pre">bayesnet</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/oldalg.html#bayesnet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.oldalg.bayesnet" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://class.coursera.org/pgm-003/lecture/17">https://class.coursera.org/pgm-003/lecture/17</a>
<a class="reference external" href="http://www.cs.ubc.ca/~murphyk/Bayes/bnintro.html">http://www.cs.ubc.ca/~murphyk/Bayes/bnintro.html</a>
<a class="reference external" href="http://www3.cs.stonybrook.edu/~sael/teaching/cse537/Slides/chapter14d_BP.pdf">http://www3.cs.stonybrook.edu/~sael/teaching/cse537/Slides/chapter14d_BP.pdf</a>
<a class="reference external" href="http://www.cse.unsw.edu.au/~cs9417ml/Bayes/Pages/PearlPropagation.html">http://www.cse.unsw.edu.au/~cs9417ml/Bayes/Pages/PearlPropagation.html</a>
<a class="reference external" href="https://github.com/pgmpy/pgmpy.git">https://github.com/pgmpy/pgmpy.git</a>
<a class="reference external" href="http://pgmpy.readthedocs.org/en/latest/">http://pgmpy.readthedocs.org/en/latest/</a>
<a class="reference external" href="http://nipy.bic.berkeley.edu:5000/download/11">http://nipy.bic.berkeley.edu:5000/download/11</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.oldalg.bayesnet_examples">
<span class="sig-prename descclassname"><span class="pre">utool.oldalg.</span></span><span class="sig-name descname"><span class="pre">bayesnet_examples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/oldalg.html#bayesnet_examples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.oldalg.bayesnet_examples" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.sandbox">
<span id="utool-sandbox-module"></span><h2>utool.sandbox module<a class="headerlink" href="#module-utool.sandbox" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.sandbox.LazyModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.sandbox.</span></span><span class="sig-name descname"><span class="pre">LazyModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/sandbox.html#LazyModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.sandbox.LazyModule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Waits to import the module until it is actually used</p>
</dd></dl>

</section>
<section id="module-utool.util_alg">
<span id="utool-util-alg-module"></span><h2>utool.util_alg module<a class="headerlink" href="#module-utool.util_alg" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.absdiff">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">absdiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#absdiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.absdiff" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.almost_allsame">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">almost_allsame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#almost_allsame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.almost_allsame" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.almost_eq">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">almost_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#almost_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.almost_eq" title="Permalink to this definition"></a></dt>
<dd><p>checks if floating point number are equal to a threshold</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.apply_grouping">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">apply_grouping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupxs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#apply_grouping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.apply_grouping" title="Permalink to this definition"></a></dt>
<dd><p>applies grouping from group_indicies
non-optimized version</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – items to group</p></li>
<li><p><strong>groupxs</strong> (<em>list of list of ints</em>) – grouped lists of indicies</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.apply_grouping - optimized numpy version
ut.group_indices</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-apply_grouping –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx2_groupid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span>        <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_indices</span><span class="p">(</span><span class="n">idx2_groupid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">apply_grouping</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[8, 5, 6], [1, 5, 8, 7], [5, 3, 0, 9]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.bayes_rule">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">bayes_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b_given_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prob_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prob_b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#bayes_rule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.bayes_rule" title="Permalink to this definition"></a></dt>
<dd><p>P(A | B) = frac{ P(B | A) P(A) }{ P(B) }</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b_given_a</strong> (<em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – </p></li>
<li><p><strong>prob_a</strong> (<em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – </p></li>
<li><p><strong>prob_b</strong> (<em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a_given_b</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray or <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_given_a</span> <span class="o">=</span> <span class="mf">.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prob_a</span> <span class="o">=</span> <span class="mf">.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prob_b</span> <span class="o">=</span> <span class="mf">.4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_given_b</span> <span class="o">=</span> <span class="n">bayes_rule</span><span class="p">(</span><span class="n">b_given_a</span><span class="p">,</span> <span class="n">prob_a</span><span class="p">,</span> <span class="n">prob_b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">a_given_b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">0.075</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.choose">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#choose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.choose" title="Permalink to this definition"></a></dt>
<dd><p>N choose k</p>
<p>binomial combination (without replacement)
scipy.special.binom</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.colwise_diag_idxs">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">colwise_diag_idxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#colwise_diag_idxs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.colwise_diag_idxs" title="Permalink to this definition"></a></dt>
<dd><p>dont trust this implementation or this function name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>upper_diag_idxs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-colwise_diag_idxs –size=5 –num=2
python -m utool.util_alg –exec-colwise_diag_idxs –size=3 –num=3</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--size&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--num&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">size</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">upper_diag_idxs</span> <span class="o">=</span> <span class="n">colwise_diag_idxs</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poses</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">upper_diag_idxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel_multi_index</span><span class="p">(</span><span class="n">poses</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">mat</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;poses.T =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">poses</span><span class="o">.</span><span class="n">T</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">poses</span><span class="o">.</span><span class="n">T</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">poses</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span>
<span class="go">poses.T =</span>
<span class="go">np.array([[0, 0, 1, 0, 1, 2, 0, 1, 2, 3],</span>
<span class="go">          [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.compare_groups">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">compare_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_groups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_groups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#compare_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.compare_groups" title="Permalink to this definition"></a></dt>
<dd><p>Finds how predictions need to be modified to match the true grouping.</p>
<p class="rubric">Notes</p>
<dl>
<dt>pred_merges - the merges needed that would need to be done for the</dt><dd><p>pred_groups to match true_groups.</p>
</dd>
<dt>pred_hybrid - the hybrid split/merges needed that would need to be done</dt><dd><p>for the pred_groups to match true_groups.</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">true_groups</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span>   <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span> <span class="p">[</span><span class="mi">45</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred_groups</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comparisons</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compare_groups</span><span class="p">(</span><span class="n">true_groups</span><span class="p">,</span> <span class="n">pred_groups</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">comparisons</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">comparisons</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;common&#39;: {{1, 2}},</span>
<span class="go">    &#39;pred_hybrid&#39;: {{10}, {3, 4}, {5, 6, 11}, {7}, {8, 9}},</span>
<span class="go">    &#39;pred_merges&#39;: [{{12}, {13, 14}}, {{31, 32}, {33, 34, 35}}],</span>
<span class="go">    &#39;pred_splits&#39;: [{20, 21, 22, 23}, {41, 42, 43, 44, 45}],</span>
<span class="go">    &#39;true_hybrid&#39;: {{3, 5, 6}, {4}, {50}, {7, 8}, {9, 10, 11}},</span>
<span class="go">    &#39;true_merges&#39;: [{12, 13, 14}, {31, 32, 33, 34, 35}],</span>
<span class="go">    &#39;true_splits&#39;: [{{20, 21}, {22, 23}}, {{41, 42, 43, 44}, {45}}],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.cumsum">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">cumsum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#cumsum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.cumsum" title="Permalink to this definition"></a></dt>
<dd><p>python cumsum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of numbers or items supporting addition</p></li>
<li><p><strong>initial</strong> (<em>value</em>) – initial zero value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of accumulated values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p>stackoverflow.com/questions/9258602/elegant-pythonic-cumsum</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg cumsum</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">initial</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">initial</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">initial</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">initial</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result2</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.deg_to_rad">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">deg_to_rad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#deg_to_rad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.deg_to_rad" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.diagonalized_iter">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">diagonalized_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#diagonalized_iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.diagonalized_iter" title="Permalink to this definition"></a></dt>
<dd><p>TODO: generalize to more than 2 dimensions to be more like
itertools.product.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-diagonalized_iter
python -m utool.util_alg –exec-diagonalized_iter –size=5</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--size&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iter_</span> <span class="o">=</span> <span class="n">diagonalized_iter</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span> <span class="o">=</span> <span class="p">[[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iter_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">mat</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">packed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[0, 2, 5, 9],</span>
<span class="go"> [1, 4, 8, 12],</span>
<span class="go"> [3, 7, 11, 14],</span>
<span class="go"> [6, 10, 13, 15],]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.edit_distance">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">edit_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#edit_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.edit_distance" title="Permalink to this definition"></a></dt>
<dd><p>Edit distance algorithm. String1 and string2 can be either
strings or lists of strings</p>
<p>pip install python-Levenshtein</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>string2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg edit_distance –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string1</span> <span class="o">=</span> <span class="s1">&#39;hello world&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;goodbye world&#39;</span><span class="p">,</span> <span class="s1">&#39;rofl&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;lowo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">([</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;goodbye&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;goodbye&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">([</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">],</span> <span class="s1">&#39;goodbye&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;goodbye&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distmat</span> <span class="o">=</span> <span class="n">edit_distance</span><span class="p">(</span><span class="n">string1</span><span class="p">,</span> <span class="n">string2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;distmat = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">distmat</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.enumerate_primes">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">enumerate_primes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_prime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#enumerate_primes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.enumerate_primes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.euclidean_dist">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">euclidean_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vecs1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#euclidean_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.euclidean_dist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.expensive_task_gen">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">expensive_task_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8700</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#expensive_task_gen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.expensive_task_gen" title="Permalink to this definition"></a></dt>
<dd><p>Runs a task that takes some time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 8700)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg expensive_task_gen –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#num = 8700</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">40000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;expanesive task&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">time_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">expensive_task_gen</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">time_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.plot(time_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">curve_fit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">c</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#a*x**3 + b*x**2 +c*x + d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">time_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#popt, pcov = curve_fit(func, x, y, p0=(1, 1e-6, 1))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;pcov = %r&#39; % (pcov,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;popt = %r&#39; % (popt,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># http://stackoverflow.com/questions/3433486/-curve-fitting-in-python</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">[::</span><span class="n">num</span><span class="o">//</span><span class="mi">50</span><span class="p">],</span> <span class="n">y</span><span class="p">[::</span><span class="n">num</span><span class="o">//</span><span class="mi">50</span><span class="p">],</span> <span class="s1">&#39;rx&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;measured data&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#x2 = np.arange(len(y) * 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.plt.plot(x2, func(x2, *popt), &#39;b&#39;, label=&quot;Fitted Curve&quot;) #same as line above \/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.plt.legend(loc=&#39;upper left&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.factors">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#factors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.factors" title="Permalink to this definition"></a></dt>
<dd><p>Computes all the integer factors of the number <cite>n</cite></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">factors</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 2, 5, 10]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/6800193/finding-all-the-factors">http://stackoverflow.com/questions/6800193/finding-all-the-factors</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.fibonacci">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">fibonacci</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_alg.fibonacci" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the n-th fibonacci number</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15047116/iterative-alg-fib">http://stackoverflow.com/questions/15047116/iterative-alg-fib</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg fibonacci_iterative</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;fib iter&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">fibonacci_iterative</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">series = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.fibonacci_approx">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">fibonacci_approx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#fibonacci_approx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.fibonacci_approx" title="Permalink to this definition"></a></dt>
<dd><p>approximate value (due to numerical errors) of fib(n) using closed form
expression</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the n-th fib number</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg fibonacci_approx</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">fibonacci_approx</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.fibonacci_iterative">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">fibonacci_iterative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#fibonacci_iterative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.fibonacci_iterative" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the n-th fibonacci number</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15047116/iterative-alg-fib">http://stackoverflow.com/questions/15047116/iterative-alg-fib</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg fibonacci_iterative</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;fib iter&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">fibonacci_iterative</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">series = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.fibonacci_recursive">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">fibonacci_recursive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#fibonacci_recursive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.fibonacci_recursive" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –test-fibonacci_recursive</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;fib rec&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">fibonacci_recursive</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;series = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">series = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.find_group_consistencies">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">find_group_consistencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">groups1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#find_group_consistencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.find_group_consistencies" title="Permalink to this definition"></a></dt>
<dd><p>Returns a measure of group consistency</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_groups</span> <span class="o">=</span> <span class="n">find_group_consistencies</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;common_groups = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">common_groups</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">common_groups = [(5, 6), (4,)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.find_group_differences">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">find_group_differences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">groups1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#find_group_differences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.find_group_differences" title="Permalink to this definition"></a></dt>
<dd><p>Returns a measure of how disimilar two groupings are</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>groups1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – true grouping of items</p></li>
<li><p><strong>groups2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – predicted grouping of items</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg find_group_differences</p>
</dd>
<dt>SeeAlso:</dt><dd><p>vtool.group_indicies
vtool.apply_grouping</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_error</span> <span class="o">=</span> <span class="n">find_group_differences</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;total_error = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_error</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_error = 20</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_error</span> <span class="o">=</span> <span class="n">find_group_differences</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;total_error = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_error</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_error = 0</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_error</span> <span class="o">=</span> <span class="n">find_group_differences</span><span class="p">(</span><span class="n">groups1</span><span class="p">,</span> <span class="n">groups2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;total_error = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_error</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_error = 4</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p># Can this be done via sklearn label analysis?
# maybe no… the labels assigned to each component are arbitrary
# maybe if we label edges? likely too many labels.
groups1 = [[1, 2, 3], [4], [5, 6], [7, 8], [9, 10, 11]]
groups2 = [[1, 2, 11], [3, 4], [5, 6], [7], [8, 9], [10]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.flatten_membership_mapping">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">flatten_membership_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">members_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#flatten_membership_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.flatten_membership_mapping" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.generate_primes">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">generate_primes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_guess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#generate_primes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.generate_primes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.get_nth_bell_number">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">get_nth_bell_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_nth_bell_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.get_nth_bell_number" title="Permalink to this definition"></a></dt>
<dd><p>Returns the (num_items - 1)-th Bell number using recursion.
The Bell numbers count the number of partitions of a set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – number of items in a set</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://adorio-research.org/wordpress/?p=11460">http://adorio-research.org/wordpress/?p=11460</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-bell –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_nth_bell_number</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.get_nth_prime">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">get_nth_prime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_prime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">safe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_nth_prime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.get_nth_prime" title="Permalink to this definition"></a></dt>
<dd><p>hacky but still brute force algorithm for finding nth prime for small tests</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.get_nth_prime_bruteforce">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">get_nth_prime_bruteforce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_guess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_num_primes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_nth_prime_bruteforce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.get_nth_prime_bruteforce" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – the n-th prime (n=2000 takes about a second)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg get_nth_prime_bruteforce –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2000</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">500</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">time_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">ellapsed</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">n_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">multi_plot</span><span class="p">(</span><span class="n">n_list</span><span class="p">,</span> <span class="p">[</span><span class="n">time_list</span><span class="p">],</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;prime&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.get_phi">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">get_phi</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_phi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.get_phi" title="Permalink to this definition"></a></dt>
<dd><p>Golden Ratio: phi = 1 / sqrt(5) / 2.0 = 1.61803398875</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.get_phi_ratio1">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">get_phi_ratio1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_phi_ratio1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.get_phi_ratio1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.get_prime_index">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">get_prime_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#get_prime_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.get_prime_index" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.greedy_max_inden_setcover">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">greedy_max_inden_setcover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate_sets_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_covers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#greedy_max_inden_setcover"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.greedy_max_inden_setcover" title="Permalink to this definition"></a></dt>
<dd><p>greedy algorithm for maximum independent set cover</p>
<p>Covers items with sets from candidate sets. Could be made faster.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –test-greedy_max_inden_setcover</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_sets_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_covers</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">greedy_max_inden_setcover</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">max_covers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="n">covered_items_list</span><span class="p">,</span> <span class="n">accepted_keys</span><span class="p">)</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">((</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">accepted_keys</span><span class="p">))),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">([0, 9], [&#39;a&#39;, &#39;c&#39;, &#39;d&#39;])</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_sets_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_covers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">greedy_max_inden_setcover</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">max_covers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="n">covered_items_list</span><span class="p">,</span> <span class="n">accepted_keys</span><span class="p">)</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">((</span><span class="n">uncovered_items</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">accepted_keys</span><span class="p">))),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">([0, 3, 4, 5, 8, 9], [&#39;d&#39;])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.group_indices">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">group_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">groupid_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#group_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.group_indices" title="Permalink to this definition"></a></dt>
<dd><p>groups indicies of each item in <code class="docutils literal notranslate"><span class="pre">groupid_list</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>groupid_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of group ids</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.group_indices - optimized numpy version
ut.apply_grouping</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –test-group_indices
python3 -m utool.util_alg –test-group_indices</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_indices</span><span class="p">(</span><span class="n">groupid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">((</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">),</span> <span class="n">nobraces</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, &#39;b&#39;, &#39;c&#39;],</span>
<span class="go">[[1, 3, 5], [0, 2, 4, 6], [7, 8, 9, 10]],</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.grouping_delta">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">grouping_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#grouping_delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.grouping_delta" title="Permalink to this definition"></a></dt>
<dd><p>Finds what happened to the old groups to form the new groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old</strong> (<em>set of frozensets</em>) – old grouping</p></li>
<li><p><strong>new</strong> (<em>set of frozensets</em>) – new grouping</p></li>
<li><p><strong>pure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – hybrids are separated from pure merges and splits if
pure is True, otherwise hybrid cases are grouped in merges and
splits.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>delta: dictionary of changes containing the merges, splits,</dt><dd><p>unchanged, and hybrid cases. Except for unchanged, case a subdict
with new and old keys.  For splits / merges, one of these contains
nested sequences to indicate what the split / merge is.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>incorporate addition / deletion of elements?</p>
</div>
<p class="rubric">Notes</p>
<p>merges - which old groups were merged into a single new group.
splits - which old groups were split into multiple new groups.
hybrid - which old groups had split/merge actions applied.
unchanged - which old groups are the same as new groups.</p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span>   <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span> <span class="p">[</span><span class="mi">45</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">old</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">in</span> <span class="n">delta</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">][</span><span class="s1">&#39;old&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">new</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="ow">in</span> <span class="n">delta</span><span class="p">[</span><span class="s1">&#39;merges&#39;</span><span class="p">][</span><span class="s1">&#39;new&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">old</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">in</span> <span class="n">delta</span><span class="p">[</span><span class="s1">&#39;unchanged&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">unchanged: {</span>
<span class="go">    {1, 2},</span>
<span class="go">},</span>
<span class="go">splits: {</span>
<span class="go">    old: [{20, 21, 22, 23}, {41, 42, 43, 44, 45}],</span>
<span class="go">    new: [{{20, 21}, {22, 23}}, {{41, 42, 43, 44}, {45}}],</span>
<span class="go">},</span>
<span class="go">merges: {</span>
<span class="go">    old: [{{12}, {13, 14}}, {{31, 32}, {33, 34, 35}}],</span>
<span class="go">    new: [{12, 13, 14}, {31, 32, 33, 34, 35}],</span>
<span class="go">},</span>
<span class="go">hybrid: {</span>
<span class="go">    old: {{10}, {3, 4}, {5, 6, 11}, {7}, {8, 9}},</span>
<span class="go">    new: {{3, 5, 6}, {4}, {7, 8}, {9, 10, 11}},</span>
<span class="go">    splits: [{{7}}, {{11}, {5, 6}}, {{10}}, {{3}, {4}}, {{8}, {9}}],</span>
<span class="go">    merges: [{{7}, {8}}, {{4}}, {{3}, {5, 6}}, {{10}, {11}, {9}}],</span>
<span class="go">},</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># every case here is hybrid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pure_delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">pure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">pure_delta</span><span class="p">[</span><span class="s1">&#39;merges&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">pure_delta</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">pure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">order_dict_by</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;unchanged&#39;</span><span class="p">,</span> <span class="s1">&#39;splits&#39;</span><span class="p">,</span> <span class="s1">&#39;merges&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    unchanged: {},</span>
<span class="go">    splits: [</span>
<span class="go">        [{2}, {3}, {1}],</span>
<span class="go">        [{8, 9}, {5, 6, 7}],</span>
<span class="go">    ],</span>
<span class="go">    merges: [</span>
<span class="go">        [{4}, {3}],</span>
<span class="go">        [{8, 9}, {10, 11, 12}],</span>
<span class="go">    ],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.grouping_delta_stats">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">grouping_delta_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#grouping_delta_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.grouping_delta_stats" title="Permalink to this definition"></a></dt>
<dd><p>Returns statistics about grouping changes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old</strong> (<em>set of frozenset</em>) – old grouping</p></li>
<li><p><strong>new</strong> (<em>set of frozenset</em>) – new grouping</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>df: data frame of size statistics</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="p">[</span><span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">],</span>   <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span> <span class="p">[</span><span class="mi">45</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grouping_delta_stats</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.iapply_grouping">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">iapply_grouping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupxs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#iapply_grouping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.iapply_grouping" title="Permalink to this definition"></a></dt>
<dd><p>Iterates over groups from group_indicies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – items to group</p></li>
<li><p><strong>groupxs</strong> (<em>list of list of ints</em>) – grouped lists of indicies</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.apply_grouping - optimized numpy version
ut.group_indices</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-apply_grouping –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx2_groupid</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span>        <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_indices</span><span class="p">(</span><span class="n">idx2_groupid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">iapply_grouping</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[8, 5, 6], [1, 5, 8, 7], [5, 3, 0, 9]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.inbounds">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">inbounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#inbounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.inbounds" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (<em>scalar</em><em> or </em><em>ndarray</em>) – </p></li>
<li><p><strong>low</strong> (<em>scalar</em><em> or </em><em>ndarray</em>) – </p></li>
<li><p><strong>high</strong> (<em>scalar</em><em> or </em><em>ndarray</em>) – </p></li>
<li><p><strong>eq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>is_inbounds</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>scalar or ndarray</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –test-inbounds</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.</span>   <span class="p">,</span>  <span class="mf">0.431</span><span class="p">,</span>  <span class="mf">0.279</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span> <span class="mf">0.204</span><span class="p">,</span>  <span class="mf">0.352</span><span class="p">,</span>  <span class="mf">0.08</span> <span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span> <span class="mf">0.107</span><span class="p">,</span>  <span class="mf">0.325</span><span class="p">,</span>  <span class="mf">0.179</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">low</span>  <span class="o">=</span> <span class="mf">.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">high</span> <span class="o">=</span> <span class="mf">.4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eq</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_inbounds</span> <span class="o">=</span> <span class="n">inbounds</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">eq</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">is_inbounds</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">np.array([[False, False,  True],</span>
<span class="go">          [ True,  True, False],</span>
<span class="go">          [ True,  True,  True]], dtype=bool)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.is_prime">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">is_prime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#is_prime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.is_prime" title="Permalink to this definition"></a></dt>
<dd><p>naive function for finding primes. Good for stress testing</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://thelivingpearl.com/2013/01/06/how-to-find-prime-numbers-in-python/">http://thelivingpearl.com/2013/01/06/how-to-find-prime-numbers-in-python/</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –test-is_prime</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;isprime&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">series</span> <span class="o">=</span> <span class="p">[</span><span class="n">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;primes = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">list_where</span><span class="p">(</span><span class="n">series</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">])),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">primes = [2, 3, 5, 7]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.item_hist">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">item_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#item_hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.item_hist" title="Permalink to this definition"></a></dt>
<dd><p>counts the number of times each item appears in the dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.knapsack">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">knapsack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxweight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'recursive'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.knapsack" title="Permalink to this definition"></a></dt>
<dd><p>Solve the knapsack problem by finding the most valuable subsequence of
<cite>items</cite> subject that weighs no more than <cite>maxweight</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – is a sequence of tuples <cite>(value, weight, id_)</cite>, where
<cite>value</cite> is a number and <cite>weight</cite> is a non-negative integer, and
<cite>id_</cite> is an item identifier.</p></li>
<li><p><strong>maxweight</strong> (<em>scalar</em>) – is a non-negative integer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(total_value, items_subset) - a pair whose first element is the</dt><dd><p>sum of values in the most valuable subsequence, and whose second
element is the subsequence. Subset may be different depending on
implementation (ie top-odwn recusrive vs bottom-up iterative)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://codereview.stackexchange.com/questions/20569/dynamic-programming-solution-to-knapsack-problem">http://codereview.stackexchange.com/questions/20569/dynamic-programming-solution-to-knapsack-problem</a>
<a class="reference external" href="http://stackoverflow.com/questions/141779/solving-the-np-complete-problem-in-xkcd">http://stackoverflow.com/questions/141779/solving-the-np-complete-problem-in-xkcd</a>
<a class="reference external" href="http://www.es.ele.tue.nl/education/5MC10/Solutions/knapsack.pdf">http://www.es.ele.tue.nl/education/5MC10/Solutions/knapsack.pdf</a></p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –test-knapsack</p>
<p>python -m utool.util_alg –test-knapsack:0
python -m utool.util_alg –exec-knapsack:1</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">annots_per_view</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">23</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">26</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">28</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">35</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">37</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">38</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">39</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mf">0.7005208343554686</span><span class="p">,</span> <span class="mi">41</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">42</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">43</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mf">0.669270834329427</span><span class="p">,</span> <span class="mi">44</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;recursive&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value1</span><span class="p">,</span> <span class="n">items_subset1</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;iterative&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%.2f</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">total_value1</span><span class="p">,</span> <span class="n">total_value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">items_subset1</span><span class="p">,</span> <span class="n">items_subset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 11.00</span>
<span class="go">items_subset = [(2, 1, 1), (6, 4, 2), (1, 1, 3), (2, 2, 4)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Solve https://xkcd.com/287/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.15</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.35</span><span class="p">,</span> <span class="mf">3.55</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">weights</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mf">15.05</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;recursive&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value1</span><span class="p">,</span> <span class="n">items_subset1</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;iterative&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_weight</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">items_subset</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;total_weight = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_weight</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset1 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#assert items_subset1 == items_subset, &#39;NOT EQ\n%r !=\n%r&#39; % (items_subset1, items_subset)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 15.05</span>
</pre></div>
</div>
<dl>
<dt>Timeit:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    import utool as ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    weights = [215, 275, 335, 355, 42, 58] * 40</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    items = [(w, w, i) for i, w in enumerate(weights)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    maxweight = 2505</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    #import numba</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    #knapsack_numba = numba.autojit(ut.knapsack_iterative)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    #knapsack_numba = numba.autojit(ut.knapsack_iterative_numpy)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    &#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test load time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    #ut.knapsack_recursive(items, maxweight)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    ut.knapsack_iterative(items, maxweight)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    ut.knapsack_ilp(items, maxweight)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    #knapsack_numba(items, maxweight)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    #ut.knapsack_iterative_numpy(items, maxweight)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    &#39;&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_dev</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list1</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.knapsack_greedy">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">knapsack_greedy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxweight</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_greedy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.knapsack_greedy" title="Permalink to this definition"></a></dt>
<dd><p>non-optimal greedy version of knapsack algorithm
does not sort input. Sort the input by largest value
first if desired.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – is a sequence of tuples <cite>(value, weight, id_)</cite>, where <cite>value</cite>
is a scalar and <cite>weight</cite> is a non-negative integer, and <cite>id_</cite> is an
item identifier.</p></li>
<li><p><strong>maxweight</strong> (<em>scalar</em>) – is a non-negative integer.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-knapsack_greedy</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack_greedy</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%r</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 7</span>
<span class="go">items_subset = [(4, 12, 0), (2, 1, 1), (1, 1, 3)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.knapsack_ilp">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">knapsack_ilp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxweight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_ilp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.knapsack_ilp" title="Permalink to this definition"></a></dt>
<dd><p>solves knapsack using an integer linear program</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg knapsack_ilp</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Solve https://xkcd.com/287/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.15</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.35</span><span class="p">,</span> <span class="mf">3.55</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">6.55</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span>  <span class="o">=</span> <span class="p">[</span><span class="mf">2.15</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.35</span><span class="p">,</span> <span class="mf">3.55</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">6.55</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mixed fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;french fries&#39;</span><span class="p">,</span> <span class="s1">&#39;side salad&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;hot wings&#39;</span><span class="p">,</span> <span class="s1">&#39;mozzarella sticks&#39;</span><span class="p">,</span> <span class="s1">&#39;sampler plate&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="s1">&#39;barbecue&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">indices</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items += [(3.95, 3.95, &#39;mystery plate&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mf">15.05</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack_ilp</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">items_subset</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.knapsack_iterative">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">knapsack_iterative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxweight</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_iterative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.knapsack_iterative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.knapsack_iterative_int">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">knapsack_iterative_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxweight</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_iterative_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.knapsack_iterative_int" title="Permalink to this definition"></a></dt>
<dd><p>Iterative knapsack method</p>
<dl class="simple">
<dt>Math:</dt><dd><p>maximize sum_{i in T} v_i
subject to sum_{i in T} w_i leq W</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>dpmat is the dynamic programming memoization matrix.
dpmat[i, w] is the total value of the items with weight at most W
T is idx_subset, the set of indicies in the optimal solution</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-knapsack_iterative_int –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">weights</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">.8</span><span class="p">,</span> <span class="mi">700</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxweight</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;maxweight = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">maxweight</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_value</span><span class="p">,</span> <span class="n">items_subset</span> <span class="o">=</span> <span class="n">knapsack_iterative_int</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">maxweight</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total_weight</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">items_subset</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;total_weight = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_weight</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;items_subset = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">items_subset</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span>  <span class="s1">&#39;total_value = </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_value</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">total_value = 0.80</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p>DPMAT = [[dpmat[r][c] for c in range(maxweight)] for r in range(len(items))]
KMAT  = [[kmat[r][c] for c in range(maxweight)] for r in range(len(items))]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.knapsack_iterative_numpy">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">knapsack_iterative_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxweight</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_iterative_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.knapsack_iterative_numpy" title="Permalink to this definition"></a></dt>
<dd><p>Iterative knapsack method</p>
<p>maximize sum_{i in T} v_i
subject to sum_{i in T} w_i leq W</p>
<p class="rubric">Notes</p>
<p>dpmat is the dynamic programming memoization matrix.
dpmat[i, w] is the total value of the items with weight at most W
T is the set of indicies in the optimal solution</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.knapsack_recursive">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">knapsack_recursive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxweight</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#knapsack_recursive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.knapsack_recursive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.longest_common_substring">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">longest_common_substring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#longest_common_substring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.longest_common_substring" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p># <a class="reference external" href="https://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Longest_common_substring#Python2">https://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Longest_common_substring#Python2</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.max_size_max_distance_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">max_size_max_distance_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Kstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#max_size_max_distance_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.max_size_max_distance_subset" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> – </p></li>
<li><p><strong>min_thresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>Kstart</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 2)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>prev_subset_idx</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-max_size_max_distance_subset</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_thresh</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Kstart</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prev_subset_idx</span> <span class="o">=</span> <span class="n">max_size_max_distance_subset</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">min_thresh</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                               <span class="n">Kstart</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;prev_subset_idx = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">prev_subset_idx</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.maximin_distance_subset1d">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">maximin_distance_subset1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#maximin_distance_subset1d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.maximin_distance_subset1d" title="Permalink to this definition"></a></dt>
<dd><p>Greedy algorithm, may be exact for 1d case.
First, choose the first item, then choose the next item that is farthest
away from all previously chosen items. Iterate.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-maximin_distance_subset1d</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Given a set of items V.
Let $E = V times V$ be the the set of all item pairs.</p>
<p>The goal is to return the largest subset of item such that the distance
between any pair of items in the subset is greater than some threshold.</p>
<p>Let t[u, v] be the distance between u and v.</p>
<p>Let x[u, v] = 1 if the annotation pair (u, v) is included.</p>
<p>Let y[u] = 1 if the annotation u is included.</p>
<dl>
<dt>Objective:</dt><dd><p>maximize sum(y[u] for u in V)</p>
</dd>
<dt>subject to:</dt><dd><p># Annotations pairs are only included if their timedelta is less than
# the threshold.
x[u, v] = 0 if t[u, v] &gt; thresh</p>
<p># If an edge is exclued at least one of its endpoints must be
# excluded
y[u] + y[v] - x[u, v] &lt; 2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items = [1, 2, 3, 4, 5, 6, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_thresh</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">maximin_distance_subset1d</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">min_thresh</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(array([1, 3, 6]), [1, 9, 22])</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items = [1, 2, 3, 4, 5, 6, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_thresh</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">maximin_distance_subset1d</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">min_thresh</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.maximum_distance_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">maximum_distance_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#maximum_distance_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.maximum_distance_subset" title="Permalink to this definition"></a></dt>
<dd><p>FIXME: I believe this does not work.</p>
<p>Returns a subset of size K from items with the maximum pairwise distance</p>
<p class="rubric">References</p>
<p>stackoverflow.com/questions/12278528/subset-elements-furthest-apart-eachother
stackoverflow.com/questions/13079563/condensed-distance-matrix-pdist</p>
<dl class="simple">
<dt>Recurance:</dt><dd><p>Let X[n,k] be the solution for selecting k elements from first n elements items.
X[n, k] = max( max( X[m, k - 1] + (sum_{p in prev_solution} dist(o, p)) for o &lt; n and o not in prev solution) ) for m &lt; n.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.spatial.distance</span> <span class="k">as</span> <span class="nn">spdist</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
</pre></div>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-maximum_distance_subset</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#items = [1, 2, 3, 4, 5, 6, 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">maximum_distance_subset</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(42.0, array([4, 3, 0]), array([22, 21,  1]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.negative_minclamp_inplace">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">negative_minclamp_inplace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#negative_minclamp_inplace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.negative_minclamp_inplace" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.norm_zero_one">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">norm_zero_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#norm_zero_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.norm_zero_one" title="Permalink to this definition"></a></dt>
<dd><p>normalizes a numpy array from 0 to 1 based in its extent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>ndarray</em>) – </p></li>
<li><p><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –test-norm_zero_one</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dim</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array_norm</span> <span class="o">=</span> <span class="n">norm_zero_one</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">array_norm</span><span class="p">),</span> <span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[0.512, 0.000, 0.049, 0.024, 0.220, 1.000]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.normalize">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.normalize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.num_partitions">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">num_partitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#num_partitions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.num_partitions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.number_of_decimals">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">number_of_decimals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#number_of_decimals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.number_of_decimals" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – </p>
</dd>
</dl>
<p class="rubric">References</p>
<p>stackoverflow.com/questions/6189956/finding-decimal-places</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mf">15.05</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">number_of_decimals</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.prod">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">prod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#prod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.prod" title="Permalink to this definition"></a></dt>
<dd><p>product of all number in a list (like np.prod)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of numbers or items supporting mulitplicatiuon</p></li>
<li><p><strong>initial</strong> (<em>value</em>) – initial identity (default=1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Multiplied value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">initial</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">prod</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">initial</span><span class="p">)</span> <span class="o">==</span> <span class="mf">120.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">prod</span><span class="p">([])</span> <span class="o">==</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">prod</span><span class="p">([</span><span class="mi">5</span><span class="p">])</span> <span class="o">==</span> <span class="mf">5.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.product_nonsame">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">product_nonsame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#product_nonsame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.product_nonsame" title="Permalink to this definition"></a></dt>
<dd><p>product of list1 and list2 where items are non equal</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.product_nonsame_self">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">product_nonsame_self</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#product_nonsame_self"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.product_nonsame_self" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.rad_to_deg">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">rad_to_deg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radians</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#rad_to_deg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.rad_to_deg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.safe_div">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">safe_div</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#safe_div"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.safe_div" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.safe_pdist">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">safe_pdist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#safe_pdist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.safe_pdist" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Kwargs:</dt><dd><p>metric = ut.absdiff</p>
</dd>
<dt>SeeAlso:</dt><dd><p>scipy.spatial.distance.pdist</p>
</dd>
</dl>
<p>TODO: move to vtool</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.self_prodx">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">self_prodx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#self_prodx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.self_prodx" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.setcover_greedy">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">setcover_greedy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate_sets_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#setcover_greedy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.setcover_greedy" title="Permalink to this definition"></a></dt>
<dd><p>Greedy algorithm for various covering problems.
approximation gaurentees depending on specifications  like set_weights and item values</p>
<p>Set Cover: log(len(items) + 1) approximation algorithm
Weighted Maximum Cover: 1 - 1/e == .632 approximation algorithm
Generalized maximum coverage is not implemented</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Maximum_coverage_problem">https://en.wikipedia.org/wiki/Maximum_coverage_problem</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_sets_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_weight</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_weights</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_values</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">greedy_soln</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">setcover_greedy</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exact_soln</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">setcover_ilp</span><span class="p">(</span><span class="n">candidate_sets_dict</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;greedy_soln = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">greedy_soln</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;exact_soln = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">exact_soln</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.setcover_ilp">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">setcover_ilp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate_sets_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#setcover_ilp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.setcover_ilp" title="Permalink to this definition"></a></dt>
<dd><p>Set cover / Weighted Maximum Cover exact algorithm</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Maximum_coverage_problem">https://en.wikipedia.org/wiki/Maximum_coverage_problem</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.solve_boolexpr">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">solve_boolexpr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#solve_boolexpr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.solve_boolexpr" title="Permalink to this definition"></a></dt>
<dd><p>sudo pip install git+https://github.com/tpircher/quine-mccluskey.git
sudo pip uninstall quine_mccluskey
pip uninstall quine_mccluskey</p>
<p>pip install git+https://github.com/tpircher/quine-mccluskey.git</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varnames</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg solve_boolexpr –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sa&#39;</span><span class="p">,</span> <span class="s1">&#39;said&#39;</span><span class="p">,</span> <span class="s1">&#39;aid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">solve_boolexpr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.square_pdist">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">square_pdist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#square_pdist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.square_pdist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.standardize_boolexpr">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">standardize_boolexpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boolexpr_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#standardize_boolexpr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.standardize_boolexpr" title="Permalink to this definition"></a></dt>
<dd><p>Standardizes a boolean expression into an or-ing of and-ed variables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>boolexpr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>final_expr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>sudo pip install git+https://github.com/tpircher/quine-mccluskey.git
python -m utool.util_alg standardize_boolexpr –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">boolexpr_</span> <span class="o">=</span> <span class="s1">&#39;not force_opencv and (orient_ or is_gif)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">standardize_boolexpr</span><span class="p">(</span><span class="n">boolexpr_</span><span class="p">,</span> <span class="n">parens</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(orient_ and (not force_opencv)) or (is_gif and (not force_opencv))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.triangular_number">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">triangular_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#triangular_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.triangular_number" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Latex:</dt><dd><p>T_n = sum_{k=1}^{n} k = frac{n (n + 1)}{2} = binom{n + 1}{2}</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>en.wikipedia.org/wiki/Triangular_number</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.ungroup">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">ungroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouped_items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupxs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#ungroup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.ungroup" title="Permalink to this definition"></a></dt>
<dd><p>Ungroups items</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grouped_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>groupxs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>maxval</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ungrouped_items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.invert_apply_grouping</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg ungroup_unique</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxval</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items</span> <span class="o">=</span> <span class="n">ungroup</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">,</span> <span class="n">maxval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ungrouped_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ungrouped_items</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">ungrouped_items = [1.1, 2.1, 1.2, 3.2, 3.1, 2.2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.ungroup_gen">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">ungroup_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouped_items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupxs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#ungroup_gen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.ungroup_gen" title="Permalink to this definition"></a></dt>
<dd><p>Ungroups items returning a generator.
Note that this is much slower than the list version and is not gaurenteed
to have better memory usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grouped_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>groupxs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>maxval</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ungrouped_items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.invert_apply_grouping</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg ungroup_unique</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ungroup_gen</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items2</span> <span class="o">=</span> <span class="n">ungroup</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ungrouped_items1</span> <span class="o">==</span> <span class="n">ungrouped_items2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_items</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ungroup_gen</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items2</span> <span class="o">=</span> <span class="n">ungroup</span><span class="p">(</span><span class="n">grouped_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ungrouped_items1</span> <span class="o">==</span> <span class="n">ungrouped_items2</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p>labels = np.random.randint(0, 64, 10000)
unique_labels, groupxs = ut.group_indices(labels)
grouped_items = ut.apply_grouping(np.arange(len(labels)), groupxs)
ungrouped_items1 = list(ungroup_gen(grouped_items, groupxs))
ungrouped_items2 = ungroup(grouped_items, groupxs)
assert ungrouped_items2 == ungrouped_items1
%timeit list(ungroup_gen(grouped_items, groupxs))
%timeit ungroup(grouped_items, groupxs)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.ungroup_unique">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">ungroup_unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unique_items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupxs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#ungroup_unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.ungroup_unique" title="Permalink to this definition"></a></dt>
<dd><p>Ungroups unique items to correspond to original non-unique list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unique_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>groupxs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>maxval</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ungrouped_items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg ungroup_unique</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique_items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupxs</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxval</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ungrouped_items</span> <span class="o">=</span> <span class="n">ungroup_unique</span><span class="p">(</span><span class="n">unique_items</span><span class="p">,</span> <span class="n">groupxs</span><span class="p">,</span> <span class="n">maxval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ungrouped_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ungrouped_items</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">ungrouped_items = [1, 2, 1, 2, 3, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.unixtime_hourdiff">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">unixtime_hourdiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#unixtime_hourdiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.unixtime_hourdiff" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>y</strong> (<em>ndarray</em>) – labels</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-unixtime_hourdiff –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">unixtime_hourdiff</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.upper_diag_self_prodx">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">upper_diag_self_prodx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#upper_diag_self_prodx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.upper_diag_self_prodx" title="Permalink to this definition"></a></dt>
<dd><p>upper diagnoal of cartesian product of self and self.
Weird name. fixme</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_alg –exec-upper_diag_self_prodx</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_alg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">upper_diag_self_prodx</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 2), (1, 3), (2, 3)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_alg.xywh_to_tlbr">
<span class="sig-prename descclassname"><span class="pre">utool.util_alg.</span></span><span class="sig-name descname"><span class="pre">xywh_to_tlbr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_wh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_alg.html#xywh_to_tlbr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_alg.xywh_to_tlbr" title="Permalink to this definition"></a></dt>
<dd><p>converts xywh format to (tlx, tly, blx, bly)</p>
</dd></dl>

</section>
<section id="module-utool.util_aliases">
<span id="utool-util-aliases-module"></span><h2>utool.util_aliases module<a class="headerlink" href="#module-utool.util_aliases" title="Permalink to this headline"></a></h2>
<p>Aliases harder to remember or very common standard module functions</p>
</section>
<section id="module-utool.util_arg">
<span id="utool-util-arg-module"></span><h2>utool.util_arg module<a class="headerlink" href="#module-utool.util_arg" title="Permalink to this headline"></a></h2>
<p>Handles command line parsing</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">ArgumentParser2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrapper around argparse.ArgumentParser with convinence functions</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_arg">
<span class="sig-name descname"><span class="pre">add_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_arg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_argument_group">
<span class="sig-name descname"><span class="pre">add_argument_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_argument_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_argument_group" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_flag">
<span class="sig-name descname"><span class="pre">add_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_flag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_float">
<span class="sig-name descname"><span class="pre">add_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_float" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_int">
<span class="sig-name descname"><span class="pre">add_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_int" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_intlist">
<span class="sig-name descname"><span class="pre">add_intlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_intlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_intlist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_ints">
<span class="sig-name descname"><span class="pre">add_ints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_ints" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_meta">
<span class="sig-name descname"><span class="pre">add_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_meta" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_str">
<span class="sig-name descname"><span class="pre">add_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_strlist">
<span class="sig-name descname"><span class="pre">add_strlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#ArgumentParser2.add_strlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_strlist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_arg.ArgumentParser2.add_strs">
<span class="sig-name descname"><span class="pre">add_strs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.ArgumentParser2.add_strs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.argflag">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">argflag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argstr_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">need_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_was_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.argflag" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the commandline has a flag or a corresponding noflag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – the flag to look for</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – dont use this (default = False)</p></li>
<li><p><strong>help</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a help string (default = ‘’)</p></li>
<li><p><strong>return_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – returns if flag was specified or not (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(parsed_val, was_specified)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>depricate return_was_specified</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –exec-get_argflag –noface –exec-mode
python -m utool.util_arg –exec-get_argflag –foo –exec-mode
python -m utool.util_arg –exec-get_argflag –no-foo –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=True –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=False  –exec-mode</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_</span> <span class="o">=</span> <span class="s1">&#39;--foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help_</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_specified</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)</span> <span class="o">=</span> <span class="n">get_argflag</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help_</span><span class="p">,</span> <span class="n">return_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(parsed_val, was_specified) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">((</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.argparse_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">argparse_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_hint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argparse_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.argparse_dict" title="Permalink to this definition"></a></dt>
<dd><p>Gets values for a dict based on the command line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_dict_</strong> – </p></li>
<li><p><strong>only_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True only returns keys that are specified on commandline. no defaults.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict_</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –test-argparse_dict
python -m utool.util_arg –test-argparse_dict –foo=3
python -m utool.util_arg –test-argparse_dict –flag1
python -m utool.util_arg –test-argparse_dict –flag2
python -m utool.util_arg –test-argparse_dict –noflag2
python -m utool.util_arg –test-argparse_dict –thresh=43
python -m utool.util_arg –test-argparse_dict –bins=-10
python -m utool.util_arg –test-argparse_dict –bins=-10 –only-specified –helpx</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;bins&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;thresh&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.333</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_specified</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only-specified&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">argparse_dict</span><span class="p">(</span><span class="n">default_dict_</span><span class="p">,</span> <span class="n">only_specified</span><span class="o">=</span><span class="n">only_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.argv_flag_dec">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">argv_flag_dec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">argin</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argv_flag_dec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.argv_flag_dec" title="Permalink to this definition"></a></dt>
<dd><p>Decorators which control program flow based on sys.argv
the decorated function does not execute without its corresponding
flag</p>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>default, quiet, indent, default</p>
</dd>
<dt>ReturnKwargs:</dt><dd><p>alias_flags</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.argv_flag_dec_true">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">argv_flag_dec_true</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argv_flag_dec_true"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.argv_flag_dec_true" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.argval">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">argval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smartcast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#argval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.argval" title="Permalink to this definition"></a></dt>
<dd><p>alias for get_argval</p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--aids=[1,2,3]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--aids&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--aids&#39;</span><span class="p">,</span> <span class="n">smartcast</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value2</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--aids&#39;</span><span class="p">,</span> <span class="n">smartcast</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value2</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.aug_sysargv">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">aug_sysargv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmdstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#aug_sysargv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.aug_sysargv" title="Permalink to this definition"></a></dt>
<dd><p>DEBUG FUNC modify argv to look like you ran a command</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.autogen_argparse2">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">autogen_argparse2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#autogen_argparse2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.autogen_argparse2" title="Permalink to this definition"></a></dt>
<dd><p>FUNCTION IS NOT FULLY IMPLEMENTED CURRENTLY ONLY RETURNS
LIST OF FLAGS THAT THE PROGRAM SILENTLY TAKES</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/utool/utool&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/ibeis/ibeis&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtups_list</span> <span class="o">=</span> <span class="n">autogen_argparse2</span><span class="p">(</span><span class="n">dpath_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtup_list_</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">regex_replace</span><span class="p">(</span><span class="s1">&#39;[)(</span><span class="se">\&#39;</span><span class="s1">]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">tupstr</span><span class="p">)</span> <span class="k">for</span> <span class="n">tupstr</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">flagtups_list</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtup_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">tupstr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">tupstr</span> <span class="ow">in</span> <span class="n">flagtup_list_</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flagtup_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">tupstr</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">tupstr</span> <span class="ow">in</span> <span class="n">flagtup_list</span> <span class="k">if</span> <span class="n">tupstr</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">flagtup_set</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.autogen_argparse_block">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">autogen_argparse_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#autogen_argparse_block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.autogen_argparse_block" title="Permalink to this definition"></a></dt>
<dd><p>SHOULD TURN ANY REGISTERED ARGS INTO A A NEW PARSING CONFIG
FILE FOR BETTER –help COMMANDS</p>
<p>import utool as ut
__REGISTERED_ARGS__ = ut.util_arg.__REGISTERED_ARGS__</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>extra_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –test-autogen_argparse_block</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extra_args</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">autogen_argparse_block</span><span class="p">(</span><span class="n">extra_args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_arg">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argstr_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smartcast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_was_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_arg" title="Permalink to this definition"></a></dt>
<dd><p>Returns a value of an argument specified on the command line after some flag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – string or tuple of strings denoting the command line values to parse</p></li>
<li><p><strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – type of the variable to parse (default = None)</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>help</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – help for this argument (not fully integrated) (default = None)</p></li>
<li><p><strong>smartcast</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – tries to be smart about casting the parsed strings (default = True)</p></li>
<li><p><strong>return_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>argv</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – override sys.argv with custom command line vector (default = None)</p></li>
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – if specified the argument can also be found in position <cite>pos</cite> of the command line varargs</p></li>
</ul>
</dd>
</dl>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>depricate return_was_specified</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –test-get_argval
python -m utool.util_arg –exec-get_argval:0
python -m utool.util_arg –exec-get_argval:1
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest=”holy grail”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest=”42”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest=42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’, float)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((’–nAssign’), int)]])” –nAssign 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((’–test’), str)]])” –test
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((’–test’), str)]])” –test “foobar is good” –youbar ok</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;--quest=holy grail&#39;</span><span class="p">,</span> <span class="s1">&#39;--ans=42&#39;</span><span class="p">,</span> <span class="s1">&#39;--the-val=1,2,3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span>                    <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--quest&#39;</span><span class="p">,</span>                   <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--ans&#39;</span><span class="p">,</span> <span class="s1">&#39;--foo&#39;</span><span class="p">),</span>          <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--not-there&#39;</span><span class="p">,</span> <span class="s1">&#39;--absent&#39;</span><span class="p">),</span> <span class="nb">dict</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the_val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the-val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;--spam&#39;: &#39;eggs&#39;,</span>
<span class="go">    &#39;--quest&#39;: &#39;holy grail&#39;,</span>
<span class="go">    (&#39;--ans&#39;, &#39;--foo&#39;): 42,</span>
<span class="go">    (&#39;--not-there&#39;, &#39;--absent&#39;): None,</span>
<span class="go">    &#39;--the_val&#39;: [1, 2, 3],</span>
<span class="go">    &#39;--the-val&#39;: [1, 2, 3],</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span> <span class="s1">&#39;::&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice2=4:&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice3=::4&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice4&#39;</span><span class="p">,</span> <span class="s1">&#39;[1,2,3,4]&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice5=3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice2&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice3&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice4&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice5&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;res = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">res</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list1[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">res</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list2[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">list2</span><span class="p">[</span><span class="n">res</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_arg_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_arg_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['--']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_hints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_arg_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.get_arg_dict" title="Permalink to this definition"></a></dt>
<dd><p>Yet another way for parsing args</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –exec-get_arg_dict
python -m utool.util_arg –test-get_arg_dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shlex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;--test-show_name --name=IBEIS_PZ_0303 --db testdb3 --save &quot;~/latex/crall-candidacy-2015/figures/IBEIS_PZ_0303.jpg&quot; --dpath figures --caption=&quot;Shadowed&quot;  --figsize=11,3 --no-figtitle -t foo bar baz biz --notitle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_dict</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_arg_dict</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span> <span class="n">prefix_list</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">],</span> <span class="n">type_hints</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">arg_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;caption&#39;: &#39;Shadowed&#39;,</span>
<span class="go">    &#39;db&#39;: &#39;testdb3&#39;,</span>
<span class="go">    &#39;dpath&#39;: &#39;figures&#39;,</span>
<span class="go">    &#39;figsize&#39;: &#39;11,3&#39;,</span>
<span class="go">    &#39;name&#39;: &#39;IBEIS_PZ_0303&#39;,</span>
<span class="go">    &#39;no-figtitle&#39;: True,</span>
<span class="go">    &#39;notitle&#39;: True,</span>
<span class="go">    &#39;save&#39;: &#39;~/latex/crall-candidacy-2015/figures/IBEIS_PZ_0303.jpg&#39;,</span>
<span class="go">    &#39;t&#39;: [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;, &#39;biz&#39;],</span>
<span class="go">    &#39;test-show_name&#39;: True,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_argflag">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_argflag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argstr_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">need_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_was_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_argflag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.get_argflag" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the commandline has a flag or a corresponding noflag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – the flag to look for</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – dont use this (default = False)</p></li>
<li><p><strong>help</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a help string (default = ‘’)</p></li>
<li><p><strong>return_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – returns if flag was specified or not (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(parsed_val, was_specified)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>depricate return_was_specified</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –exec-get_argflag –noface –exec-mode
python -m utool.util_arg –exec-get_argflag –foo –exec-mode
python -m utool.util_arg –exec-get_argflag –no-foo –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=True –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=False  –exec-mode</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_</span> <span class="o">=</span> <span class="s1">&#39;--foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help_</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_specified</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)</span> <span class="o">=</span> <span class="n">get_argflag</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help_</span><span class="p">,</span> <span class="n">return_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(parsed_val, was_specified) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">((</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_argv_tail">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_argv_tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scriptname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefer_main</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_argv_tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.get_argv_tail" title="Permalink to this definition"></a></dt>
<dd><p>gets the rest of the arguments after a script has been invoked hack.
accounts for python -m scripts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>scriptname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –test-get_argv_tail</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scriptname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_arg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefer_main</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="s1">&#39;utool.util_arg&#39;</span><span class="p">,</span> <span class="s1">&#39;--test-get_argv_tail&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span> <span class="o">=</span> <span class="n">get_argv_tail</span><span class="p">(</span><span class="n">scriptname</span><span class="p">,</span> <span class="n">prefer_main</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">relpath</span><span class="p">(</span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;utool/util_arg.py&#39;, &#39;--test-get_argv_tail&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scriptname</span> <span class="o">=</span> <span class="s1">&#39;utprof.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefer_main</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;utprof.py&#39;</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;--tf&#39;</span><span class="p">,</span> <span class="s1">&#39;get_argv_tail&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span> <span class="o">=</span> <span class="n">get_argv_tail</span><span class="p">(</span><span class="n">scriptname</span><span class="p">,</span> <span class="n">prefer_main</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">relpath</span><span class="p">(</span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;utool/__main__.py&#39;, &#39;--tf&#39;, &#39;get_argv_tail&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_argval">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_argval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argstr_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smartcast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_was_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_argval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.get_argval" title="Permalink to this definition"></a></dt>
<dd><p>Returns a value of an argument specified on the command line after some flag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – string or tuple of strings denoting the command line values to parse</p></li>
<li><p><strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – type of the variable to parse (default = None)</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>help</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – help for this argument (not fully integrated) (default = None)</p></li>
<li><p><strong>smartcast</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – tries to be smart about casting the parsed strings (default = True)</p></li>
<li><p><strong>return_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>argv</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – override sys.argv with custom command line vector (default = None)</p></li>
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – if specified the argument can also be found in position <cite>pos</cite> of the command line varargs</p></li>
</ul>
</dd>
</dl>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>depricate return_was_specified</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –test-get_argval
python -m utool.util_arg –exec-get_argval:0
python -m utool.util_arg –exec-get_argval:1
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest=”holy grail”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest=”42”
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest=42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval(’–quest’, float)]])” –quest 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((’–nAssign’), int)]])” –nAssign 42
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((’–test’), str)]])” –test
python -c “import utool; print([(type(x), x) for x in [utool.get_argval((’–test’), str)]])” –test “foobar is good” –youbar ok</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;--quest=holy grail&#39;</span><span class="p">,</span> <span class="s1">&#39;--ans=42&#39;</span><span class="p">,</span> <span class="s1">&#39;--the-val=1,2,3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--spam&#39;</span><span class="p">,</span>                    <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--quest&#39;</span><span class="p">,</span>                   <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--ans&#39;</span><span class="p">,</span> <span class="s1">&#39;--foo&#39;</span><span class="p">),</span>          <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">((</span><span class="s1">&#39;--not-there&#39;</span><span class="p">,</span> <span class="s1">&#39;--absent&#39;</span><span class="p">),</span> <span class="nb">dict</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the_val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--the-val&#39;</span><span class="p">,</span>                 <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;--spam&#39;: &#39;eggs&#39;,</span>
<span class="go">    &#39;--quest&#39;: &#39;holy grail&#39;,</span>
<span class="go">    (&#39;--ans&#39;, &#39;--foo&#39;): 42,</span>
<span class="go">    (&#39;--not-there&#39;, &#39;--absent&#39;): None,</span>
<span class="go">    &#39;--the_val&#39;: [1, 2, 3],</span>
<span class="go">    &#39;--the-val&#39;: [1, 2, 3],</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span> <span class="s1">&#39;::&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice2=4:&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice3=::4&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice4&#39;</span><span class="p">,</span> <span class="s1">&#39;[1,2,3,4]&#39;</span><span class="p">,</span> <span class="s1">&#39;--slice5=3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a list of args and kwargs to get_argval</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_kwargs_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice1&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice2&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice3&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice4&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;--slice5&#39;</span><span class="p">,</span>            <span class="nb">dict</span><span class="p">(</span><span class="n">type_</span><span class="o">=</span><span class="s1">&#39;fuzzy_subset&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Execute the command with for each of the test cases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">argstr_kwargs_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">argstr_</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="n">argstr_kwargs_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res</span> <span class="o">=</span> <span class="n">get_argval</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;res = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">res</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list1[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">res</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;list2[</span><span class="si">%r</span><span class="s1">=</span><span class="si">%r</span><span class="s1">] = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">list2</span><span class="p">[</span><span class="n">res</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">odict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">argstr_list</span><span class="p">,</span> <span class="n">res_list</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;u</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># hack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_cmdline_varargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_cmdline_varargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_cmdline_varargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.get_cmdline_varargs" title="Permalink to this definition"></a></dt>
<dd><p>Returns positional args specified directly after the scriptname
and before any args starting with ‘-’ on the commandline.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_dict_vals_from_commandline">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_dict_vals_from_commandline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_hint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_dict_vals_from_commandline" title="Permalink to this definition"></a></dt>
<dd><p>Gets values for a dict based on the command line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_dict_</strong> – </p></li>
<li><p><strong>only_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True only returns keys that are specified on commandline. no defaults.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict_</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –test-argparse_dict
python -m utool.util_arg –test-argparse_dict –foo=3
python -m utool.util_arg –test-argparse_dict –flag1
python -m utool.util_arg –test-argparse_dict –flag2
python -m utool.util_arg –test-argparse_dict –noflag2
python -m utool.util_arg –test-argparse_dict –thresh=43
python -m utool.util_arg –test-argparse_dict –bins=-10
python -m utool.util_arg –test-argparse_dict –bins=-10 –only-specified –helpx</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;bins&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;thresh&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.333</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_specified</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only-specified&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">argparse_dict</span><span class="p">(</span><span class="n">default_dict_</span><span class="p">,</span> <span class="n">only_specified</span><span class="o">=</span><span class="n">only_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_flag">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argstr_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">need_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_was_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_flag" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the commandline has a flag or a corresponding noflag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – the flag to look for</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – dont use this (default = False)</p></li>
<li><p><strong>help</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a help string (default = ‘’)</p></li>
<li><p><strong>return_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – returns if flag was specified or not (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(parsed_val, was_specified)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>depricate return_was_specified</p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –exec-get_argflag –noface –exec-mode
python -m utool.util_arg –exec-get_argflag –foo –exec-mode
python -m utool.util_arg –exec-get_argflag –no-foo –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=True –exec-mode
python -m utool.util_arg –exec-get_argflag –foo=False  –exec-mode</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argstr_</span> <span class="o">=</span> <span class="s1">&#39;--foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help_</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_specified</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)</span> <span class="o">=</span> <span class="n">get_argflag</span><span class="p">(</span><span class="n">argstr_</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help_</span><span class="p">,</span> <span class="n">return_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(parsed_val, was_specified) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">((</span><span class="n">parsed_val</span><span class="p">,</span> <span class="n">was_specified</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_fpath_args">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_fpath_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arglist_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_fpath_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.get_fpath_args" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_module_verbosity_flags">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_module_verbosity_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#get_module_verbosity_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.get_module_verbosity_flags" title="Permalink to this definition"></a></dt>
<dd><p>checks for standard flags for enableing module specific verbosity</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_varargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_varargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_varargs" title="Permalink to this definition"></a></dt>
<dd><p>Returns positional args specified directly after the scriptname
and before any args starting with ‘-’ on the commandline.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.get_verbflag">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">get_verbflag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.get_verbflag" title="Permalink to this definition"></a></dt>
<dd><p>checks for standard flags for enableing module specific verbosity</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.make_argparse2">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">make_argparse2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Program'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#make_argparse2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.make_argparse2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.parse_arglist_hack">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">parse_arglist_hack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#parse_arglist_hack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.parse_arglist_hack" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.parse_cfgstr_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">parse_cfgstr_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgstr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smartcast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oldmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#parse_cfgstr_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.parse_cfgstr_list" title="Permalink to this definition"></a></dt>
<dd><p>Parses a list of items in the format
[‘var1:val1’, ‘var2:val2’, ‘var3:val3’]
the ‘=’ character can be used instead of the ‘:’ character if desired</p>
<p>TODO: see ut.parse_cfgstr3</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cfgstr_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cfgdict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;var1=val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var2=1&#39;</span><span class="p">,</span> <span class="s1">&#39;var3=1.0&#39;</span><span class="p">,</span> <span class="s1">&#39;var4=None&#39;</span><span class="p">,</span> <span class="s1">&#39;var5=[1,2,3]&#39;</span><span class="p">,</span> <span class="s1">&#39;var6=(a,b,c)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">smartcast</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict</span> <span class="o">=</span> <span class="n">parse_cfgstr_list</span><span class="p">(</span><span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">smartcast</span><span class="p">,</span> <span class="n">oldmode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgdict</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">newlines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;var1&#39;: &#39;val1&#39;, &#39;var2&#39;: 1, &#39;var3&#39;: 1.0, &#39;var4&#39;: None, &#39;var5&#39;: [1, 2, 3], &#39;var6&#39;: (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)}</span>
</pre></div>
</div>
<p>{‘var1’: ‘val1’, ‘var2’: 1, ‘var3’: 1.0, ‘var4’: None}</p>
<p>{‘var4’: None, ‘var1’: ‘val1’, ‘var3’: 1.0, ‘var2’: 1}</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.parse_dict_from_argv">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">parse_dict_from_argv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_specified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_hint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_arg.parse_dict_from_argv" title="Permalink to this definition"></a></dt>
<dd><p>Gets values for a dict based on the command line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_dict_</strong> – </p></li>
<li><p><strong>only_specified</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True only returns keys that are specified on commandline. no defaults.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict_</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_arg –test-argparse_dict
python -m utool.util_arg –test-argparse_dict –foo=3
python -m utool.util_arg –test-argparse_dict –flag1
python -m utool.util_arg –test-argparse_dict –flag2
python -m utool.util_arg –test-argparse_dict –noflag2
python -m utool.util_arg –test-argparse_dict –thresh=43
python -m utool.util_arg –test-argparse_dict –bins=-10
python -m utool.util_arg –test-argparse_dict –bins=-10 –only-specified –helpx</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_arg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;bins&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag1&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;flag2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;neg&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s1">&#39;thresh&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.333</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_specified</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only-specified&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">argparse_dict</span><span class="p">(</span><span class="n">default_dict_</span><span class="p">,</span> <span class="n">only_specified</span><span class="o">=</span><span class="n">only_specified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.reset_argrecord">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">reset_argrecord</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#reset_argrecord"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.reset_argrecord" title="Permalink to this definition"></a></dt>
<dd><p>forgets about the args already parsed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_arg.switch_sanataize">
<span class="sig-prename descclassname"><span class="pre">utool.util_arg.</span></span><span class="sig-name descname"><span class="pre">switch_sanataize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_arg.html#switch_sanataize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_arg.switch_sanataize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_assert">
<span id="utool-util-assert-module"></span><h2>utool.util_assert module<a class="headerlink" href="#module-utool.util_assert" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_all_eq">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_all_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eq_=&lt;built-in</span> <span class="pre">function</span> <span class="pre">eq&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_all_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_all_eq" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_all_in">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_all_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_all_in"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_all_in" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_all_not_None">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_all_not_None</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'some_list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veryverbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_all_not_None"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_all_not_None" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_almost_eq">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_almost_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr_target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-11</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_almost_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_almost_eq" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr_test</strong> (<em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>arr_target</strong> (<em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>thresh</strong> (<em>scalar</em><em> or </em><em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_eq">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var1_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var2_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_eq" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_eq_len">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_eq_len</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_assert.assert_eq_len" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_inbounds">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_inbounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_inbounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_inbounds" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (<em>scalar</em>) – </p></li>
<li><p><strong>low</strong> (<em>scalar</em>) – </p></li>
<li><p><strong>high</strong> (<em>scalar</em>) – </p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_lessthan">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_lessthan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_lessthan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_lessthan" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr_test</strong> (<em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>arr_target</strong> (<em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>thresh</strong> (<em>scalar</em><em> or </em><em>ndarray</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_lists_eq">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_lists_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">failmsg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_lists_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_lists_eq" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_raises">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_raises</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ex_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_raises"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_raises" title="Permalink to this definition"></a></dt>
<dd><p>Checks that a function raises an error when given specific arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ex_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><em>Exception</em></a>) – exception type</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – live python function</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_assert assert_raises –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_assert</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_type</span> <span class="o">=</span> <span class="ne">AssertionError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check that this raises an error when something else does not</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assert_raises</span><span class="p">(</span><span class="n">ex_type</span><span class="p">,</span> <span class="n">assert_raises</span><span class="p">,</span> <span class="n">ex_type</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check this does not raise an error when something else does</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="p">[]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_same_len">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_same_len</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_same_len"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_same_len" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_scalar_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_scalar_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_scalar_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_scalar_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_unflat_level">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_unflat_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unflat_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_unflat_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_unflat_level" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.assert_unique">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">assert_unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#assert_unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.assert_unique" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.get_first_None_position">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">get_first_None_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#get_first_None_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.get_first_None_position" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_assert.lists_eq">
<span class="sig-prename descclassname"><span class="pre">utool.util_assert.</span></span><span class="sig-name descname"><span class="pre">lists_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_assert.html#lists_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_assert.lists_eq" title="Permalink to this definition"></a></dt>
<dd><p>recursive</p>
</dd></dl>

</section>
<section id="module-utool.util_autogen">
<span id="utool-util-autogen-module"></span><h2>utool.util_autogen module<a class="headerlink" href="#module-utool.util_autogen" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_autogen.PythonStatement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">PythonStatement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stmt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#PythonStatement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.PythonStatement" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Thin wrapper around a string representing executable python code</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.auto_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">auto_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moddir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#auto_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.auto_docstr" title="Permalink to this definition"></a></dt>
<dd><p>called from vim. Uses strings of filename and modnames to build docstr</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of a python module</p></li>
<li><p><strong>funcname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of a function in the module</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>docstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_autogen auto_docstr
python -m utool –tf auto_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_autogen</span><span class="o">.</span><span class="n">rrr</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#docstr = ut.auto_docstr(&#39;wbia.algo.hots.smk.smk_index&#39;, &#39;compute_negentropy_names&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;utool.util_autogen&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--funcname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;auto_docstr&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moddir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--moddir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_autogen</span><span class="o">.</span><span class="n">auto_docstr</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">funcname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">docstr</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.autofix_codeblock">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">autofix_codeblock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">codeblock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_line_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">80</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggressive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">very_aggressive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experimental</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#autofix_codeblock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.autofix_codeblock" title="Permalink to this definition"></a></dt>
<dd><p>Uses autopep8 to format a block of code</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codeblock</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">def func( with , some = &#39;Problems&#39; ):</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">syntax</span> <span class="o">=</span><span class="s1">&#39;Ok&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">but</span> <span class="o">=</span> <span class="s1">&#39;Its very messy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="k">if</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># syntax might not be perfect due to being cut off</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ommiting_this_line_still_works</span><span class="o">=</span>   <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">fixed_codeblock = ut.autofix_codeblock(codeblock)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">print(fixed_codeblock)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.dump_autogen_code">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">dump_autogen_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autogen_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">codetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dowrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#dump_autogen_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.dump_autogen_code" title="Permalink to this definition"></a></dt>
<dd><p>Helper that write a file if -w is given on command line, otherwise
it just prints it out. It has the opption of comparing a diff to the file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.find_modname_in_pythonpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">find_modname_in_pythonpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#find_modname_in_pythonpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.find_modname_in_pythonpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.is_modname_in_pythonpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">is_modname_in_pythonpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#is_modname_in_pythonpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.is_modname_in_pythonpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.load_func_from_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">load_func_from_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moddir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#load_func_from_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.load_func_from_module" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module name</p></li>
<li><p><strong>funcname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – function name</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag(Defaults to True)</p></li>
<li><p><strong>moddir</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (Defaults to None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_autogen load_func_from_module</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#funcname = &#39;multi_plot&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_path&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="s1">&#39;checkpath&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moddir</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span> <span class="n">error_str</span> <span class="o">=</span> <span class="n">load_func_from_module</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">funcname</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">moddir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_func_sourcecode</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">strip_docstr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strip_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keyname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field</span><span class="p">(</span><span class="s1">&#39;keyname&#39;</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">REGEX_VARNAME</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;[</span><span class="se">\&#39;\&quot;</span><span class="s1">A-Za-z_][A-Za-z0-9_</span><span class="se">\&#39;\&quot;</span><span class="s1">]*&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;kwargs.get(</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">keyname</span> <span class="o">+</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwarg_keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">match</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()[</span><span class="s1">&#39;keyname&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">source</span><span class="p">)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.make_args_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">make_args_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argname_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argtype_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argdesc_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ismethod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">va_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_args_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.make_args_docstr" title="Permalink to this definition"></a></dt>
<dd><p>Builds the argument docstring</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argname_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – names</p></li>
<li><p><strong>argtype_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – types</p></li>
<li><p><strong>argdesc_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – descriptions</p></li>
<li><p><strong>ismethod</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if generating docs for a method</p></li>
<li><p><strong>va_name</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>]</em>) – varargs name</p></li>
<li><p><strong>kw_name</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>]</em>) – kwargs name</p></li>
<li><p><strong>kw_keys</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>]</em>) – accepted kwarg keys</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>arg_docstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_autogen make_args_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;argname_list&#39;</span><span class="p">,</span> <span class="s1">&#39;argtype_list&#39;</span><span class="p">,</span> <span class="s1">&#39;argdesc_list&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argtype_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;list&#39;</span><span class="p">,</span> <span class="s1">&#39;list&#39;</span><span class="p">,</span> <span class="s1">&#39;list&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argdesc_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;names&#39;</span><span class="p">,</span> <span class="s1">&#39;types&#39;</span><span class="p">,</span> <span class="s1">&#39;descriptions&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">va_name</span> <span class="o">=</span> <span class="s1">&#39;args&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_name</span> <span class="o">=</span> <span class="s1">&#39;kwargs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismethod</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_docstr</span> <span class="o">=</span> <span class="n">make_args_docstr</span><span class="p">(</span><span class="n">argname_list</span><span class="p">,</span> <span class="n">argtype_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">argdesc_list</span><span class="p">,</span> <span class="n">ismethod</span><span class="p">,</span> <span class="n">va_name</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">kw_name</span><span class="p">,</span> <span class="n">kw_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">arg_docstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">argname_list (list): names</span>
<span class="go">argtype_list (list): types</span>
<span class="go">argdesc_list (list): descriptions</span>
<span class="go">*args:</span>
<span class="go">**kwargs:</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.make_cmdline_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">make_cmdline_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_cmdline_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.make_cmdline_docstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.make_default_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">make_default_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_ret</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_commandline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_example</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_default_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.make_default_docstr" title="Permalink to this definition"></a></dt>
<dd><p>Tries to make a sensible default docstr so the user
can fill things in without typing too much</p>
<p># TODO: Interleave old documentation with new documentation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – live python function</p></li>
<li><p><strong>with_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>with_ret</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (Defaults to True)</p></li>
<li><p><strong>with_commandline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (Defaults to True)</p></li>
<li><p><strong>with_example</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (Defaults to True)</p></li>
<li><p><strong>with_header</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (Defaults to False)</p></li>
<li><p><strong>with_debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (Defaults to False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(argname, val)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>Ignore:</dt><dd><p>pass</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_autogen –exec-make_default_docstr –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_default_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func = ut.make_args_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func = PythonStatement</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">auto_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_docstr</span> <span class="o">=</span> <span class="n">make_default_docstr</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">default_docstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.make_default_module_maintest">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">make_default_module_maintest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_default_module_maintest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.make_default_module_maintest" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE</p>
<p>TODO: use path relative to home dir if the file is a script</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text source code</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_autogen –test-make_default_module_maintest</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://legacy.python.org/dev/peps/pep-0338/">http://legacy.python.org/dev/peps/pep-0338/</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_autogen&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">make_default_module_maintest</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.make_docstr_block">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">make_docstr_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_docstr_block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.make_docstr_block" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.make_example_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">make_example_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argname_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ismethod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_example_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.make_example_docstr" title="Permalink to this definition"></a></dt>
<dd><p>Creates skeleton code to build an example doctest</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>funcname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – function name</p></li>
<li><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module name</p></li>
<li><p><strong>argname_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – list of argument names</p></li>
<li><p><strong>defaults</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>return_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>return_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – return variable name</p></li>
<li><p><strong>ismethod</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>examplecode</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_autogen –test-make_example_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="s1">&#39;make_example_docstr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_autogen&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;qaids&#39;</span><span class="p">,</span> <span class="s1">&#39;qreq_&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defaults</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_type</span> <span class="o">=</span> <span class="nb">tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_name</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismethod</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">examplecode</span> <span class="o">=</span> <span class="n">make_example_docstr</span><span class="p">(</span><span class="n">funcname</span><span class="p">,</span> <span class="n">modname</span><span class="p">,</span> <span class="n">argname_list</span><span class="p">,</span> <span class="n">defaults</span><span class="p">,</span> <span class="n">return_type</span><span class="p">,</span> <span class="n">return_name</span><span class="p">,</span> <span class="n">ismethod</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">examplecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go"># DISABLE_DOCTEST</span>
<span class="go">from utool.util_autogen import *  # NOQA</span>
<span class="go">import utool as ut</span>
<span class="go">import wbia</span>
<span class="go">ibs = wbia.opendb(defaultdb=&#39;testdb1&#39;)</span>
<span class="go">species = wbia.const.TEST_SPECIES.ZEB_PLAIN</span>
<span class="go">qaids = ibs.get_valid_aids(species=species)</span>
<span class="go">qreq_ = wbia.testdata_qreq_()</span>
<span class="go">foo = make_example_docstr(qaids, qreq_)</span>
<span class="go">result = (&#39;foo = %s&#39; % (ut.repr2(foo),))</span>
<span class="go">print(result)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.make_returns_or_yeilds_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">make_returns_or_yeilds_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_desc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#make_returns_or_yeilds_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.make_returns_or_yeilds_docstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.makeinit">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">makeinit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod_dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_modnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_star</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#makeinit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.makeinit" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mod_dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>exclude_modnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (Defaults to [])</p></li>
<li><p><strong>use_star</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (Defaults to False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>init_codeblock</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_autogen makeinit –modname=wbia.algo</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_autogen</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_dpath</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="k">if</span> <span class="n">modname</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span>
<span class="gp">&gt;&gt;&gt; </span>             <span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">prefer_pkg</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixpath</span><span class="p">(</span><span class="n">mod_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">mod_dpath</span><span class="p">,</span> <span class="s1">&#39;__init__.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_modnames</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">((</span><span class="s1">&#39;--exclude&#39;</span><span class="p">,</span> <span class="s1">&#39;-x&#39;</span><span class="p">),</span> <span class="nb">list</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_star</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--star&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">init_codeblock</span> <span class="o">=</span> <span class="n">makeinit</span><span class="p">(</span><span class="n">mod_dpath</span><span class="p">,</span> <span class="n">exclude_modnames</span><span class="p">,</span> <span class="n">use_star</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">dump_autogen_code</span><span class="p">(</span><span class="n">mod_fpath</span><span class="p">,</span> <span class="n">init_codeblock</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.print_auto_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">print_auto_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#print_auto_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.print_auto_docstr" title="Permalink to this definition"></a></dt>
<dd><p>python -c “import utool; utool.print_auto_docstr(‘wbia.algo.hots.smk.smk_index’, ‘compute_negentropy_names’)”
python -c “import utool;
utool.print_auto_docstr(‘wbia.algo.hots.smk.smk_index’, ‘compute_negentropy_names’)”</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.remove_codeblock_syntax_sentinals">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">remove_codeblock_syntax_sentinals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code_text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#remove_codeblock_syntax_sentinals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.remove_codeblock_syntax_sentinals" title="Permalink to this definition"></a></dt>
<dd><p>Removes template comments and vim sentinals</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>code_text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>code_text_</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_autogen.write_modscript_alias">
<span class="sig-prename descclassname"><span class="pre">utool.util_autogen.</span></span><span class="sig-name descname"><span class="pre">write_modscript_alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyscript</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_autogen.html#write_modscript_alias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_autogen.write_modscript_alias" title="Permalink to this definition"></a></dt>
<dd><p>convinience function because $&#64; is annoying to paste into the terminal</p>
</dd></dl>

</section>
<section id="module-utool.util_cache">
<span id="utool-util-cache-module"></span><h2>utool.util_cache module<a class="headerlink" href="#module-utool.util_cache" title="Permalink to this headline"></a></h2>
<p>This module needs serious refactoring and testing</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.Cachable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">Cachable</span></span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Abstract base class.</p>
<p>This class which enables easy caching of object dictionarys</p>
<p>must implement get_cfgstr()</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.delete" title="Permalink to this definition"></a></dt>
<dd><p>saves query result to directory</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.ext">
<span class="sig-name descname"><span class="pre">ext</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'.cPkl'</span></em><a class="headerlink" href="#utool.util_cache.Cachable.ext" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.fuzzyload">
<span class="sig-name descname"><span class="pre">fuzzyload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.fuzzyload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.fuzzyload" title="Permalink to this definition"></a></dt>
<dd><p>Try and load from a partially specified configuration string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.get_cachedir">
<span class="sig-name descname"><span class="pre">get_cachedir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_cachedir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_cachedir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.get_cfgstr">
<span class="sig-name descname"><span class="pre">get_cfgstr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_cfgstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_cfgstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.get_fname">
<span class="sig-name descname"><span class="pre">get_fname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_fname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_fname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.get_fpath">
<span class="sig-name descname"><span class="pre">get_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_fpath" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Ignore:</dt><dd><p>fname = _fname
cfgstr = _cfgstr</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.get_prefix">
<span class="sig-name descname"><span class="pre">get_prefix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.get_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.get_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.glob_valid_targets">
<span class="sig-name descname"><span class="pre">glob_valid_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.glob_valid_targets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.glob_valid_targets" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.load" title="Permalink to this definition"></a></dt>
<dd><p>Loads the result from the given database</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cachable.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cachable.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cachable.save" title="Permalink to this definition"></a></dt>
<dd><p>saves query result to directory</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="utool.util_cache.CacheMissException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">CacheMissException</span></span><a class="reference internal" href="_modules/utool/util_cache.html#CacheMissException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.CacheMissException" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.Cacher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">Cacher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utool'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.cPkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>old non inhertable version of cachable</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cacher.ensure">
<span class="sig-name descname"><span class="pre">ensure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.ensure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher.ensure" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cacher.existing_versions">
<span class="sig-name descname"><span class="pre">existing_versions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.existing_versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher.existing_versions" title="Permalink to this definition"></a></dt>
<dd><p>Returns data with different cfgstr values that were previously computed
with this cacher.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cacher.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher.exists" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cacher.get_fpath">
<span class="sig-name descname"><span class="pre">get_fpath</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.get_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher.get_fpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cacher.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher.load" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cacher.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher.save" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.Cacher.tryload">
<span class="sig-name descname"><span class="pre">tryload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#Cacher.tryload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.Cacher.tryload" title="Permalink to this definition"></a></dt>
<dd><p>Like load, but returns None if the load fails</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.GlobalShelfContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">GlobalShelfContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#GlobalShelfContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.GlobalShelfContext" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>older class. might need update</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.KeyedDefaultDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">KeyedDefaultDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dict.DictLike" title="utool.util_dict.DictLike"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.KeyedDefaultDict.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.getitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.getitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.KeyedDefaultDict.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.KeyedDefaultDict.setitem">
<span class="sig-name descname"><span class="pre">setitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.setitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.setitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.KeyedDefaultDict.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#KeyedDefaultDict.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.KeyedDefaultDict.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">LRUDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Pure python implementation for lru cache fallback</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.kunxi.org/blog/2014/05/lru-cache-in-python/">http://www.kunxi.org/blog/2014/05/lru-cache-in-python/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 5)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cache_obj</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#utool.util_cache.LRUDict" title="utool.util_cache.LRUDict">LRUDict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cache –test-LRUDict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_size</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">LRUDict</span><span class="p">(</span><span class="n">max_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="p">[</span><span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="p">[</span><span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">4</span> <span class="ow">in</span> <span class="bp">self</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;self = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">self = LRUDict({</span>
<span class="go">    4: 4,</span>
<span class="go">    0: 0,</span>
<span class="go">    6: 6,</span>
<span class="go">    7: 7,</span>
<span class="go">})</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.clear" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.has_key">
<span class="sig-name descname"><span class="pre">has_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.has_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.has_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.iteritems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.iteritems" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.iterkeys">
<span class="sig-name descname"><span class="pre">iterkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.iterkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.iterkeys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.itervalues">
<span class="sig-name descname"><span class="pre">itervalues</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.itervalues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.itervalues" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LRUDict.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LRUDict.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LRUDict.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">LazyDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reprkw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Hacky dictionary where values that are functions are counted as lazy</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cache –exec-LazyDict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">LazyDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;should not be able to override computable functions&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;biz&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="s1">&#39;eggs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">printinfo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">is_eager</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.all_keys">
<span class="sig-name descname"><span class="pre">all_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.all_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.all_keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.asdict">
<span class="sig-name descname"><span class="pre">asdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.asdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.asdict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.cached_keys">
<span class="sig-name descname"><span class="pre">cached_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.cached_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.cached_keys" title="Permalink to this definition"></a></dt>
<dd><p>only keys whose vals that have been explicitly set without a backup func</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.clear_evaluated">
<span class="sig-name descname"><span class="pre">clear_evaluated</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.clear_evaluated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.clear_evaluated" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.clear_stored">
<span class="sig-name descname"><span class="pre">clear_stored</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.clear_stored"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.clear_stored" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.eager_eval">
<span class="sig-name descname"><span class="pre">eager_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.eager_eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.eager_eval" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.evaluated_keys">
<span class="sig-name descname"><span class="pre">evaluated_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.evaluated_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.evaluated_keys" title="Permalink to this definition"></a></dt>
<dd><p>only keys whose vals have been evaluated from a stored function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.getitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.getitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.lazy_eval">
<span class="sig-name descname"><span class="pre">lazy_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.lazy_eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.lazy_eval" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.nocache_eval">
<span class="sig-name descname"><span class="pre">nocache_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.nocache_eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.nocache_eval" title="Permalink to this definition"></a></dt>
<dd><p>forces function evaluation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.nonreconstructable_keys">
<span class="sig-name descname"><span class="pre">nonreconstructable_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.nonreconstructable_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.nonreconstructable_keys" title="Permalink to this definition"></a></dt>
<dd><p>only keys whose vals that have been explicitly set without a backup func</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.printinfo">
<span class="sig-name descname"><span class="pre">printinfo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.printinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.printinfo" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.reconstructable_keys">
<span class="sig-name descname"><span class="pre">reconstructable_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.reconstructable_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.reconstructable_keys" title="Permalink to this definition"></a></dt>
<dd><p>only keys whose vals that have been set with a backup func</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cache.LazyDict.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.set_lazy_func">
<span class="sig-name descname"><span class="pre">set_lazy_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.set_lazy_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.set_lazy_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.setitem">
<span class="sig-name descname"><span class="pre">setitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.setitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.setitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.stored_keys">
<span class="sig-name descname"><span class="pre">stored_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.stored_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.stored_keys" title="Permalink to this definition"></a></dt>
<dd><p>keys whose vals that have been explicitly set or evaluated</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.tostring">
<span class="sig-name descname"><span class="pre">tostring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.tostring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.tostring" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.unevaluated_keys">
<span class="sig-name descname"><span class="pre">unevaluated_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.unevaluated_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.unevaluated_keys" title="Permalink to this definition"></a></dt>
<dd><p>keys whose vals can be constructed but have not been</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyDict.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyDict.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyDict.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.LazyList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">LazyList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyList" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>very hacky list implemented as a dictionary</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyList.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyList.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyList.append" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyList.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cache.LazyList.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.LazyList.tolist">
<span class="sig-name descname"><span class="pre">tolist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#LazyList.tolist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.LazyList.tolist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_cache.ShelfCacher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">ShelfCacher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>yet another cacher</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.ShelfCacher.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.clear" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.ShelfCacher.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.close" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.ShelfCacher.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.ShelfCacher.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachekey</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.load" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.ShelfCacher.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cache.ShelfCacher.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_cache.ShelfCacher.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cachekey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#ShelfCacher.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.ShelfCacher.save" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.cached_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">cached_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utool'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_argx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_kwds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#cached_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.cached_func" title="Permalink to this definition"></a></dt>
<dd><p>Wraps a function with a Cacher object</p>
<p>uses a hash of arguments as input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file name (defaults to function name)</p></li>
<li><p><strong>cache_dir</strong> (<em>unicode</em>) – (default = u’default’)</p></li>
<li><p><strong>appname</strong> (<em>unicode</em>) – (default = u’utool’)</p></li>
<li><p><strong>key_argx</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>key_kwds</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – turns on disk based caching(default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cache –exec-cached_func</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">costly_func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">([</span><span class="n">a</span><span class="p">]</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans0</span> <span class="o">=</span> <span class="n">costly_func</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans1</span> <span class="o">=</span> <span class="n">costly_func</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closure_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cached_func</span><span class="p">(</span><span class="s1">&#39;costly_func&#39;</span><span class="p">,</span> <span class="n">appname</span><span class="o">=</span><span class="s1">&#39;utool_test&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                          <span class="n">key_argx</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">efficient_func</span> <span class="o">=</span> <span class="n">closure_</span><span class="p">(</span><span class="n">costly_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans2</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans3</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans4</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans5</span> <span class="o">=</span> <span class="n">efficient_func</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans1</span> <span class="o">==</span> <span class="n">ans2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans2</span> <span class="o">==</span> <span class="n">ans3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans5</span> <span class="o">==</span> <span class="n">ans4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans5</span> <span class="o">==</span> <span class="n">ans0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ans1</span> <span class="o">!=</span> <span class="n">ans0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.cachestr_repr">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">cachestr_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#cachestr_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.cachestr_repr" title="Permalink to this definition"></a></dt>
<dd><p>Representation of an object as a cache string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.consensed_cfgstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">consensed_cfgstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr_hashlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#consensed_cfgstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.consensed_cfgstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.delete_global_cache">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">delete_global_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#delete_global_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.delete_global_cache" title="Permalink to this definition"></a></dt>
<dd><p>Reads cache files to a safe place in each operating system</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.from_json">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_pickle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.from_json" title="Permalink to this definition"></a></dt>
<dd><p>Decodes a JSON object specified in the utool convention</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>allow_pickle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>val</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)">object</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cache from_json –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="s1">&#39;just a normal string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="s1">&#39;[&quot;just a normal string&quot;]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_pickle</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;val = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">val</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.get_cfgstr_from_args">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">get_cfgstr_from_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_argx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_kwds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwdefaults</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_cfgstr_from_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.get_cfgstr_from_args" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Dev:</dt><dd><p>argx = [‘fdsf’, ‘432443432432’, 43423432, ‘fdsfsd’, 3.2, True]
memlist = list(map(cachestr_repr, argx))</p>
</dd>
<dt>Ignore:</dt><dd><p>argx = key_argx[0]
argval = args[argx]
val = argval
%timeit repr(argval)
%timeit to_json(argval)
%timeit utool.hashstr(to_json(argval))
%timeit memoryview(argval)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_hash</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">consensed_cfgstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_argx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_kwds</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwdefaults</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_kwdefaults</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argnames</span>   <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_argnames</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cfgstr_from_args</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">key_argx</span><span class="p">,</span> <span class="n">key_kwds</span><span class="p">,</span> <span class="n">kwdefaults</span><span class="p">,</span> <span class="n">argnames</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">LazyList</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_hash</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">append</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_argx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_kwds</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwdefaults</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_kwdefaults</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argnames</span>   <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="n">get_argnames</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cfgstr_from_args</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">key_argx</span><span class="p">,</span> <span class="n">key_kwds</span><span class="p">,</span> <span class="n">kwdefaults</span><span class="p">,</span> <span class="n">argnames</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.get_default_appname">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">get_default_appname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_default_appname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.get_default_appname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.get_func_result_cachekey">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">get_func_result_cachekey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_func_result_cachekey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.get_func_result_cachekey" title="Permalink to this definition"></a></dt>
<dd><p>TODO: recursive partial definitions
kwargs = {}
args = ([],)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.get_global_cache_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">get_global_cache_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_global_cache_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.get_global_cache_dir" title="Permalink to this definition"></a></dt>
<dd><p>Returns (usually) writable directory for an application cache</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.get_global_shelf_fpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">get_global_shelf_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_global_shelf_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.get_global_shelf_fpath" title="Permalink to this definition"></a></dt>
<dd><p>Returns the filepath to the global shelf</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.get_lru_cache">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">get_lru_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#get_lru_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.get_lru_cache" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://github.com/amitdev/lru-dict">https://github.com/amitdev/lru-dict</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cache –test-get_lru_cache</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_size</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span> <span class="o">=</span> <span class="n">get_lru_cache</span><span class="p">(</span><span class="n">max_size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache_obj</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">cache_obj</span><span class="p">),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{2: 2, 3: 3, 4: 4, 5: 5, 6: 6}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.global_cache_dump">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">global_cache_dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#global_cache_dump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.global_cache_dump" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.global_cache_read">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">global_cache_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#global_cache_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.global_cache_read" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.global_cache_write">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">global_cache_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#global_cache_write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.global_cache_write" title="Permalink to this definition"></a></dt>
<dd><p>Writes cache files to a safe place in each operating system</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.load_cache">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">load_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.cPkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#load_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.load_cache" title="Permalink to this definition"></a></dt>
<dd><p>Loads data using util_io, but smartly constructs a filename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.make_utool_json_encoder">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">make_utool_json_encoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allow_pickle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#make_utool_json_encoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.make_utool_json_encoder" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/8230315/python-sets-are">http://stackoverflow.com/questions/8230315/python-sets-are</a>
<a class="reference external" href="http://stackoverflow.com/questions/11561932/why-does-json">http://stackoverflow.com/questions/11561932/why-does-json</a>
<a class="reference external" href="https://github.com/jsonpickle/jsonpickle">https://github.com/jsonpickle/jsonpickle</a>
<a class="reference external" href="http://stackoverflow.com/questions/24369666/typeerror-b1">http://stackoverflow.com/questions/24369666/typeerror-b1</a>
<a class="reference external" href="http://stackoverflow.com/questions/30469575/how-to-pickle">http://stackoverflow.com/questions/30469575/how-to-pickle</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.save_cache">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">save_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.cPkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#save_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.save_cache" title="Permalink to this definition"></a></dt>
<dd><p>Saves data using util_io, but smartly constructs a filename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.shelf_open">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">shelf_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#shelf_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.shelf_open" title="Permalink to this definition"></a></dt>
<dd><p>allows for shelf to be used in with statements</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7489732/easiest-way-to-add-a-function-to-existing-class">http://stackoverflow.com/questions/7489732/easiest-way-to-add-a-function-to-existing-class</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cache –test-shelf_open</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testshelf.shelf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">shelf_open</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span> <span class="k">as</span> <span class="n">dict_</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.text_dict_read">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">text_dict_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#text_dict_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.text_dict_read" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.text_dict_write">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">text_dict_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#text_dict_write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.text_dict_write" title="Permalink to this definition"></a></dt>
<dd><p>Very naive, but readable way of storing a dictionary on disk
FIXME: This broke on RoseMary’s big dataset. Not sure why. It gave bad
syntax. And the SyntaxError did not seem to be excepted.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.time_different_diskstores">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">time_different_diskstores</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#time_different_diskstores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.time_different_diskstores" title="Permalink to this definition"></a></dt>
<dd><p>%timeit shelf_write_test()    # 15.1 ms per loop
%timeit cPickle_write_test()  # 1.26 ms per loop</p>
<p>%timeit shelf_read_test()     # 8.77 ms per loop
%timeit cPickle_read_test()   # 2.4 ms per loop
%timeit cPickle_read_test2()  # 2.35 ms per loop</p>
<p>%timeit json_read_test()
%timeit json_write_test()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.to_json">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_pickle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.to_json" title="Permalink to this definition"></a></dt>
<dd><p>Converts a python object to a JSON string using the utool convention</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>val</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>json_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/11561932/why-does-json-dumpslistnp">http://stackoverflow.com/questions/11561932/why-does-json-dumpslistnp</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cache –test-to_json
python3 -m utool.util_cache –test-to_json</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cache</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;{&quot;foo&quot;: &quot;not a dict&quot;}&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mf">1.3</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># {1: 1, 2: 2, 3: 3}, cant use integer keys</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="sa">b</span><span class="s1">&#39;an ascii string&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">get_zero_uuid</span><span class="p">(),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">LazyDict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;fo&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">LazyDict</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;cde&#39;</span><span class="p">},</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#val = ut.LazyDict(x=&#39;fo&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_pickle</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">allow_pickle</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">val</span> <span class="o">=</span> <span class="n">val</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="n">allow_pickle</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reload_val</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="n">allow_pickle</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make sure pickle doesnt happen by default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">json_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="kc">False</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">allow_pickle</span><span class="p">,</span> <span class="s1">&#39;expected a type error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correctly got type error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">json_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;expected a type error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correctly got type error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;original = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;reconstructed = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">reload_val</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">reload_val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">==</span> <span class="n">val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">reload_val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">val</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># test 3.7 safe uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">to_json</span><span class="p">([</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.tryload_cache">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">tryload_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#tryload_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.tryload_cache" title="Permalink to this definition"></a></dt>
<dd><p>returns None if cache cannot be loaded</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.tryload_cache_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">tryload_cache_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#tryload_cache_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.tryload_cache_list" title="Permalink to this definition"></a></dt>
<dd><p>loads a list of similar cached datas. Returns flags that needs to be computed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.tryload_cache_list_with_compute">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">tryload_cache_list_with_compute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_cache</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgstr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#tryload_cache_list_with_compute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.tryload_cache_list_with_compute" title="Permalink to this definition"></a></dt>
<dd><p>tries to load data, but computes it if it can’t give a compute function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cache.view_global_cache_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_cache.</span></span><span class="sig-name descname"><span class="pre">view_global_cache_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cache.html#view_global_cache_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cache.view_global_cache_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_class">
<span id="utool-util-class-module"></span><h2>utool.util_class module<a class="headerlink" href="#module-utool.util_class" title="Permalink to this headline"></a></h2>
<dl>
<dt>In this module:</dt><dd><ul class="simple">
<li><p>a metaclass allowing for reloading of single class instances</p></li>
<li><p>functions to autoinject methods into a class upon instance creation.</p></li>
<li><p>A wrapper class allowing an object’s properties to be used as kwargs</p></li>
<li><p>a metaclass to forward properties to another class</p></li>
</ul>
<p>ReloadingMetaclass
KwargsWrapper</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_class.HashComparable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">HashComparable</span></span><a class="reference internal" href="_modules/utool/util_class.html#HashComparable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.HashComparable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_class.HashComparable2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">HashComparable2</span></span><a class="reference internal" href="_modules/utool/util_class.html#HashComparable2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.HashComparable2" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_class.HashComparableMetaclass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">HashComparableMetaclass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#HashComparableMetaclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.HashComparableMetaclass" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a></p>
<p>Defines extra methods for Configs</p>
<p>FIXME: this breaks in python3 because
anything that overwrites hash overwrites inherited __eq__</p>
<p><a class="reference external" href="https://docs.python.org/3.6/reference/datamodel.html#object.__hash__">https://docs.python.org/3.6/reference/datamodel.html#object.__hash__</a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_class.KwargsWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">KwargsWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#KwargsWrapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.KwargsWrapper" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></a></p>
<p>Allows an arbitrary object attributes to be passed as a **kwargs argument.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_class.ReloadingMetaclass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">ReloadingMetaclass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#ReloadingMetaclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.ReloadingMetaclass" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a></p>
<p>Classes with this metaclass will be able to reload themselves
on a per-instance basis using the rrr function.</p>
<p>If the functions _on_reload and _initialize_self exist
they will be called after and before reload respectively. Any
inject_instance functions should be handled there.</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>test_reloading_metaclass - shows a working example of this doctest</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@six</span><span class="o">.</span><span class="n">add_metaclass</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ReloadingMetaclass</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># You can edit foo on disk and call rrr in ipython</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># if you add a new function to it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This will not work as a doctests because</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Foo&#39;s parent module will be __main__ but</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># there will be no easy way to write to it.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This does work when you run from ipython</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@six</span><span class="o">.</span><span class="n">add_metaclass</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ReloadingMetaclass</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="o">.</span><span class="n">rrr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">spam</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.autogen_explicit_injectable_metaclass">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">autogen_explicit_injectable_metaclass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regen_command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditional_imports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#autogen_explicit_injectable_metaclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.autogen_explicit_injectable_metaclass" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>classname</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_class –exec-autogen_explicit_injectable_metaclass</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="kn">import</span>  <span class="n">__CLASSTYPE_ATTRIBUTES__</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.control.IBEISControl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classname</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">controller_inject</span><span class="o">.</span><span class="n">CONTROLLER_CLASSNAME</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">autogen_explicit_injectable_metaclass</span><span class="p">(</span><span class="n">classname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.autogen_import_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">autogen_import_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditional_imports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#autogen_import_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.autogen_import_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.compare_instance">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">compare_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#compare_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.compare_instance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.decorate_class_method">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">decorate_class_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipmain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#decorate_class_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.decorate_class_method" title="Permalink to this definition"></a></dt>
<dd><p>Will inject all decorated function as methods of classkey</p>
<p>classkey is some identifying string, tuple, or object</p>
<p>func can also be a tuple</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.decorate_postinject">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">decorate_postinject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipmain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#decorate_postinject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.decorate_postinject" title="Permalink to this definition"></a></dt>
<dd><p>Will perform func with argument self after inject_instance is called on classkey</p>
<p>classkey is some identifying string, tuple, or object</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.get_classname">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">get_classname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_classname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.get_classname" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><em>type</em></a>) – </p></li>
<li><p><strong>local</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>classname</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_class –exec-get_classname –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">class_</span> <span class="o">=</span> <span class="n">ReloadingMetaclass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">get_classname</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">local</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;utool.util_class.ReloadingMetaclass&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">get_classname</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;ReloadingMetaclass&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.get_comparison_methods">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">get_comparison_methods</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_comparison_methods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.get_comparison_methods" title="Permalink to this definition"></a></dt>
<dd><p>makes methods for &gt;, &lt;, =, etc…</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.get_comparison_operators">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">get_comparison_operators</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_comparison_operators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.get_comparison_operators" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.get_injected_modules">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">get_injected_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_injected_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.get_injected_modules" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="kn">import</span> <span class="n">__CLASSNAME_CLASSKEY_REGISTER__</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.get_method_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">get_method_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#get_method_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.get_method_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.inject_all_external_modules">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">inject_all_external_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'override+warn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_all_external_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.inject_all_external_modules" title="Permalink to this definition"></a></dt>
<dd><p>dynamically injects registered module methods into a class instance</p>
<p>FIXME: naming convention and use this in all places where this clas is used</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.inject_func_as_method">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">inject_func_as_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_main</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_func_as_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.inject_func_as_method" title="Permalink to this definition"></a></dt>
<dd><p>Injects a function into an object as a method</p>
<p>Wraps func as a bound method of self. Then injects func into self
It is preferable to use make_class_method_decorator and inject_instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – class instance</p></li>
<li><p><strong>func</strong> – some function whos first arugment is a class instance</p></li>
<li><p><strong>method_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – default=func.__name__, if specified renames the method</p></li>
<li><p><strong>class</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><em>type</em></a>) – if func is an unbound method of this class</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1015307/python-bind-an-unbound-method">http://stackoverflow.com/questions/1015307/python-bind-an-unbound-method</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.inject_func_as_property">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">inject_func_as_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_func_as_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.inject_func_as_property" title="Permalink to this definition"></a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>properties are more safely injected using metaclasses</p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/13850114/dynamically-adding-methods-with-or-without-metaclass-in-python">http://stackoverflow.com/questions/13850114/dynamically-adding-methods-with-or-without-metaclass-in-python</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.inject_func_as_unbound_method">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">inject_func_as_unbound_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_func_as_unbound_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.inject_func_as_unbound_method" title="Permalink to this definition"></a></dt>
<dd><p>This is actually quite simple</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.inject_instance">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">inject_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#inject_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.inject_instance" title="Permalink to this definition"></a></dt>
<dd><p>Injects an instance (self) of type (classkey)
with all functions registered to (classkey)</p>
<p>call this in the __init__ class function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – the class instance</p></li>
<li><p><strong>classkey</strong> – key for a class, preferably the class type itself, but it
doesnt have to be</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>make_class_method_decorator</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">make_class_method_decorator</span><span class="p">(</span><span class="n">InvertedIndex</span><span class="p">)(</span><span class="n">smk_debug</span><span class="o">.</span><span class="n">invindex_dbgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">inject_instance</span><span class="p">(</span><span class="n">invindex</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.makeForwardingMetaclass">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">makeForwardingMetaclass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">forwarding_dest_getter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whitelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class=&lt;class</span> <span class="pre">'object'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#makeForwardingMetaclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.makeForwardingMetaclass" title="Permalink to this definition"></a></dt>
<dd><p>makes a metaclass that overrides __getattr__ and __setattr__ to forward some
specific attribute references to a specified instance variable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.make_class_method_decorator">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">make_class_method_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classkey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#make_class_method_decorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.make_class_method_decorator" title="Permalink to this definition"></a></dt>
<dd><p>register a class to be injectable
classkey is a key that identifies the injected class
REMEMBER to call inject_instance in __init__</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>classkey</strong> – the class to be injected into</p></li>
<li><p><strong>modname</strong> – the global __name__ of the module youa re injecting from</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>decorator for injectable methods</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>closure_decorate_class_method (func)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CheeseShop</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">... </span>        <span class="n">ut</span><span class="o">.</span><span class="n">inject_all_external_modules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cheeseshop_method</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_class_method_decorator</span><span class="p">(</span><span class="n">CheeseShop</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shop1</span> <span class="o">=</span> <span class="n">CheeseShop</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">shop1</span><span class="p">,</span> <span class="s1">&#39;has_cheese&#39;</span><span class="p">),</span> <span class="s1">&#39;have not injected yet&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@cheeseshop_method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">has_cheese</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shop2</span> <span class="o">=</span> <span class="n">CheeseShop</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">shop2</span><span class="o">.</span><span class="n">has_cheese</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;external method not injected&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cheese shop does not have cheese. All is well.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.make_class_postinject_decorator">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">make_class_postinject_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classkey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#make_class_postinject_decorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.make_class_postinject_decorator" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>classkey</strong> – the class to be injected into</p></li>
<li><p><strong>modname</strong> – the global __name__ of the module youa re injecting from</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>decorator for injectable methods</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>closure_decorate_postinject (func)</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>make_class_method_decorator</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.postinject_instance">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">postinject_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classkey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#postinject_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.postinject_instance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.reload_class">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">reload_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reload_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.reload_class" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.reload_class_methods">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">reload_class_methods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reload_class_methods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.reload_class_methods" title="Permalink to this definition"></a></dt>
<dd><p>rebinds all class methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – class instance to reload</p></li>
<li><p><strong>class</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><em>type</em></a>) – type to reload as</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">reload_class_methods</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.reload_injected_modules">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">reload_injected_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reload_injected_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.reload_injected_modules" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.reloadable_class">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">reloadable_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reloadable_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.reloadable_class" title="Permalink to this definition"></a></dt>
<dd><p>convinience decorator instead of &#64;six.add_metaclass(ReloadingMetaclass)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.reloading_meta_metaclass_factory">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">reloading_meta_metaclass_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">BASE_TYPE=&lt;class</span> <span class="pre">'type'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#reloading_meta_metaclass_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.reloading_meta_metaclass_factory" title="Permalink to this definition"></a></dt>
<dd><p>hack for pyqt</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.remove_private_obfuscation">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">remove_private_obfuscation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#remove_private_obfuscation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.remove_private_obfuscation" title="Permalink to this definition"></a></dt>
<dd><p>removes the python obfuscation of class privates so they can be executed as
they appear in class source. Useful when playing with IPython.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_class.test_reloading_metaclass">
<span class="sig-prename descclassname"><span class="pre">utool.util_class.</span></span><span class="sig-name descname"><span class="pre">test_reloading_metaclass</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_class.html#test_reloading_metaclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_class.test_reloading_metaclass" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_class –test-test_reloading_metaclass</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/8122734/pythons-imp-reload-function-is-not-working">http://stackoverflow.com/questions/8122734/pythons-imp-reload-function-is-not-working</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_class</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">test_reloading_metaclass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.util_config">
<span id="utool-util-config-module"></span><h2>utool.util_config module<a class="headerlink" href="#module-utool.util_config" title="Permalink to this headline"></a></h2>
<p>util_config</p>
<p>TODO: FINISH ME AND ALLOW FOR CUSTOM SETTINGS BASED OFF OF A USER PROFILE</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_config.get_default_global_config">
<span class="sig-prename descclassname"><span class="pre">utool.util_config.</span></span><span class="sig-name descname"><span class="pre">get_default_global_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#get_default_global_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_config.get_default_global_config" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_config.get_default_repo_config">
<span class="sig-prename descclassname"><span class="pre">utool.util_config.</span></span><span class="sig-name descname"><span class="pre">get_default_repo_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#get_default_repo_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_config.get_default_repo_config" title="Permalink to this definition"></a></dt>
<dd><p>import utool</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_config.read_repo_config">
<span class="sig-prename descclassname"><span class="pre">utool.util_config.</span></span><span class="sig-name descname"><span class="pre">read_repo_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#read_repo_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_config.read_repo_config" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_config.write_default_repo_config">
<span class="sig-prename descclassname"><span class="pre">utool.util_config.</span></span><span class="sig-name descname"><span class="pre">write_default_repo_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_config.html#write_default_repo_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_config.write_default_repo_config" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_const">
<span id="utool-util-const-module"></span><h2>utool.util_const module<a class="headerlink" href="#module-utool.util_const" title="Permalink to this headline"></a></h2>
</section>
<section id="module-utool.util_cplat">
<span id="utool-util-cplat-module"></span><h2>utool.util_cplat module<a class="headerlink" href="#module-utool.util_cplat" title="Permalink to this headline"></a></h2>
<p>cross platform utilities</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.assert_installed_debian">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">assert_installed_debian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkgname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#assert_installed_debian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.assert_installed_debian" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.change_term_title">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">change_term_title</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#change_term_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.change_term_title" title="Permalink to this definition"></a></dt>
<dd><p>only works on unix systems only tested on Ubuntu GNOME changes text on
terminal title for identifying debugging tasks.</p>
<p>The title will remain until python exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5343265/setting-title-for-tabs-in-terminator-console-application-in-ubuntu/8850484#8850484">http://stackoverflow.com/questions/5343265/setting-title-for-tabs-in-terminator-console-application-in-ubuntu/8850484#8850484</a></p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool change_term_title
echo -en “033]0;newtitlea”</p>
<blockquote>
<div><p>printf “e]2;newtitlea”;</p>
</div></blockquote>
<p>echo -en “033]0;DocTest /home/joncrall/code/ibeis/wbia.algo.graph.core.py –test-AnnotInference._make_state_deltaa”</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;change title test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">change_term_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.check_installed_debian">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">check_installed_debian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkgname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#check_installed_debian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.check_installed_debian" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://www.cyberciti.biz/faq/find-out-if-package-is-installed-in-linux/">http://www.cyberciti.biz/faq/find-out-if-package-is-installed-in-linux/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.chmod">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">chmod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#chmod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.chmod" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.chmod_add_executable">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">chmod_add_executable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#chmod_add_executable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.chmod_add_executable" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15607903/python-module-os-chmodfile-664-does-not-change-the-permission-to-rw-rw-r-bu">http://stackoverflow.com/questions/15607903/python-module-os-chmodfile-664-does-not-change-the-permission-to-rw-rw-r-bu</a>
<a class="reference external" href="http://www.tutorialspoint.com/python/os_chmod.htm">http://www.tutorialspoint.com/python/os_chmod.htm</a>
<a class="reference external" href="https://en.wikipedia.org/wiki/Chmod">https://en.wikipedia.org/wiki/Chmod</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.cmd">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#cmd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.cmd" title="Permalink to this definition"></a></dt>
<dd><p>A really roundabout way to issue a system call</p>
<p># FIXME: This function needs some work
# It should work without a hitch on windows or unix.
# It should be able to spit out stdout in realtime.
# Should be able to configure detatchment, shell, and sudo.</p>
<dl class="simple">
<dt>FIXME:</dt><dd><p>on a mac ut.cmd(‘/Users/joncrall/Library/Application Support/ibeis/tomcat/bin/shutdown.sh’) will fail due to spaces</p>
</dd>
<dt>Kwargs:</dt><dd><p>quiet (bool) :
silence (bool) :
verbose (bool) :
detatch (bool) :
shell (bool) :
sudo (bool) :
pad_stdout (bool) :
dryrun (bool) :</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(None, None, None)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –test-cmd
python -m utool.util_cplat –test-cmd:0
python -m utool.util_cplat –test-cmd:1
python -m utool.util_cplat –test-cmd:2
python -m utool.util_cplat –test-cmd:1 –test-sudo
python -m utool.util_cplat –test-cmd:2 –test-sudo</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">ret</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">((</span><span class="s1">&#39;out&#39;</span><span class="p">,</span> <span class="s1">&#39;err&#39;</span><span class="p">,</span> <span class="s1">&#39;ret&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">ret</span><span class="p">))),</span> <span class="n">nobraces</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;out&#39;, &#39;hello world\n&#39;),</span>
<span class="go">(&#39;err&#39;, None),</span>
<span class="go">(&#39;ret&#39;, 0),</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>     <span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="go">         (&#39;out&#39;, &#39;hello world\n&#39;),</span>
<span class="go">         (&#39;err&#39;, None),</span>
<span class="go">         (&#39;ret&#39;, 0),</span>
<span class="go">         &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varydict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;shell&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;detatch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;sudo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span> <span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--test-sudo&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;echo hello world&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;hello world&#39;</span><span class="p">)],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">kw</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">varydict</span><span class="p">),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+ --- TEST CMD </span><span class="si">%d</span><span class="s1"> ---&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;testing cmd with params &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">args</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;args&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">restup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">pad_stdout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tupfields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;out&#39;</span><span class="p">,</span> <span class="s1">&#39;err&#39;</span><span class="p">,</span> <span class="s1">&#39;ret&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">output</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tupfields</span><span class="p">,</span> <span class="n">restup</span><span class="p">)),</span> <span class="n">nobraces</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L ___ TEST CMD </span><span class="si">%d</span><span class="s1"> ___</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ping is not as universal of a command as I thought</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varydict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;shell&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;detatch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ping localhost&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;ping&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost&#39;</span><span class="p">)],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">proc_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">kw</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">varydict</span><span class="p">),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+ --- TEST CMD </span><span class="si">%d</span><span class="s1"> ---&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;testing cmd with params &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">args</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;args&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">restup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">pad_stdout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">out</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">proc</span> <span class="o">=</span> <span class="n">restup</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">proc_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">proc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">proc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">proc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">proc</span><span class="o">.</span><span class="n">poll</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L ___ TEST CMD </span><span class="si">%d</span><span class="s1"> ___</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.cmd2">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">cmd2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#cmd2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.cmd2" title="Permalink to this definition"></a></dt>
<dd><p>Trying to clean up cmd</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – string command</p></li>
<li><p><strong>shell</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True, process is run in shell</p></li>
<li><p><strong>detatch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True, process is run in background</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – verbosity mode</p></li>
<li><p><strong>verbout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True, <cite>command</cite> writes to stdout in realtime.
defaults to True iff verbose &gt; 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>info - information about command status</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.editfile">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">editfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#editfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.editfile" title="Permalink to this definition"></a></dt>
<dd><p>Runs gvim. Can also accept a module / class / function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.ensure_app_cache_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">ensure_app_cache_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ensure_app_cache_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.ensure_app_cache_dir" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exists</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.ensure_app_resource_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">ensure_app_resource_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ensure_app_resource_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.ensure_app_resource_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_app_cache_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_app_cache_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_app_cache_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_app_cache_dir" title="Permalink to this definition"></a></dt>
<dd><p>Returns a writable directory for an application.
This should be used for temporary deletable data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>appname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – the name of the application</p></li>
<li><p><strong>*args</strong> – any other subdirectories may be specified</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dpath: writable cache directory</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_computer_name">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_computer_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_computer_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_computer_name" title="Permalink to this definition"></a></dt>
<dd><p>Returns machine name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_dir_diskspaces">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_dir_diskspaces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dir_diskspaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_dir_diskspaces" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_disk_space">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_disk_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_disk_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_disk_space" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1392413/calculating-a-directory-size-using-python">http://stackoverflow.com/questions/1392413/calculating-a-directory-size-using-python</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_dynamic_lib_globstrs">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_dynamic_lib_globstrs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dynamic_lib_globstrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_dynamic_lib_globstrs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_dynlib_dependencies">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_dynlib_dependencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lib_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dynlib_dependencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_dynlib_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>Executes tools for inspecting dynamic library dependencies depending on the
current platform.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_dynlib_exports">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_dynlib_exports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lib_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_dynlib_exports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_dynlib_exports" title="Permalink to this definition"></a></dt>
<dd><p>Executes tools for inspecting dynamic library dependencies depending on the
current platform. Returns the names of callable functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lib_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>depend_out</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –test-get_dynlib_exports</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib_path</span> <span class="o">=</span> <span class="s1">&#39;/home/joncrall/venv/local/lib/python2.7/site-packages/pyflann/lib/libflann.so&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depend_out</span> <span class="o">=</span> <span class="n">get_dynlib_exports</span><span class="p">(</span><span class="n">lib_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;depend_out = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">depend_out</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_file_info">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_file_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_file_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_file_info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_file_nBytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_file_nBytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_file_nBytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_file_nBytes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_file_nBytes_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_file_nBytes_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_file_nBytes_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_file_nBytes_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_flops">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_flops</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_flops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_flops" title="Permalink to this definition"></a></dt>
<dd><p># DOESNT WORK</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_free_diskbytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_free_diskbytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_free_diskbytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_free_diskbytes" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bytes_ folder/drive free space (in bytes)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/51658/cross-platform-space-remaining-on-volume-using-python">http://stackoverflow.com/questions/51658/cross-platform-space-remaining-on-volume-using-python</a>
<a class="reference external" href="http://linux.die.net/man/2/statvfs">http://linux.die.net/man/2/statvfs</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –exec-get_free_diskbytes
python -m utool.util_cplat –exec-get_free_diskbytes –dir /media/raid
python -m utool.util_cplat –exec-get_free_diskbytes –dir E:</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dir_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_</span> <span class="o">=</span> <span class="n">get_free_diskbytes</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;bytes_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">bytes_</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unused space in </span><span class="si">%r</span><span class="s1"> = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dir_</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">(</span><span class="n">bytes_</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Total space in </span><span class="si">%r</span><span class="s1"> = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dir_</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">(</span><span class="n">get_total_diskbytes</span><span class="p">(</span><span class="n">dir_</span><span class="p">))))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_install_dirs">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_install_dirs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_install_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_install_dirs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_lib_ext">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_lib_ext</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_lib_ext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_lib_ext" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_path_dirs">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_path_dirs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_path_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_path_dirs" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of directories in the PATH system variable</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pathdirs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –exec-get_path_dirs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pathdirs</span> <span class="o">=</span> <span class="n">get_path_dirs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;pathdirs = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">pathdirs</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_plat_specifier">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_plat_specifier</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_plat_specifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_plat_specifier" title="Permalink to this definition"></a></dt>
<dd><p>Standard platform specifier used by distutils</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_pylib_ext">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_pylib_ext</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_pylib_ext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_pylib_ext" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_python_dynlib">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_python_dynlib</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_python_dynlib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_python_dynlib" title="Permalink to this definition"></a></dt>
<dd><p>Ge Python’s dynamic library</p>
<p>python -c “import utool; print(utool.get_python_dynlib())”</p>
<p>get_python_dynlib</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dynlib</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><p>?</p>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dynlib</span> <span class="o">=</span> <span class="n">get_python_dynlib</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dynlib</span><span class="p">)</span>
<span class="go">/usr/lib/x86_64-linux-gnu/libpython2.7.so</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_system_python_library">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_system_python_library</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_system_python_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_system_python_library" title="Permalink to this definition"></a></dt>
<dd><p>FIXME; hacky way of finding python library. Not cross platform yet.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_total_diskbytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_total_diskbytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_total_diskbytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_total_diskbytes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.get_user_name">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">get_user_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#get_user_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.get_user_name" title="Permalink to this definition"></a></dt>
<dd><p>Returns user homefolder name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.geteditor">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">geteditor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#geteditor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.geteditor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.getroot">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">getroot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#getroot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.getroot" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.in_pyinstaller_package">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">in_pyinstaller_package</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#in_pyinstaller_package"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.in_pyinstaller_package" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/22472124/what-is-sys-meipass-in-python">http://stackoverflow.com/questions/22472124/what-is-sys-meipass-in-python</a>
<a class="reference external" href="http://stackoverflow.com/questions/7674790/bundling-data-files-with-pyinstaller-onefile">http://stackoverflow.com/questions/7674790/bundling-data-files-with-pyinstaller-onefile</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.ipython_paste">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">ipython_paste</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ipython_paste"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.ipython_paste" title="Permalink to this definition"></a></dt>
<dd><p>pastes for me FIXME: make something like this work on unix and windows</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.is64bit_python">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">is64bit_python</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#is64bit_python"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.is64bit_python" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if running 64 bit python and False if running on 32 bit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.is_file_executable">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">is_file_executable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#is_file_executable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.is_file_executable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.is_file_writable">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">is_file_writable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#is_file_writable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.is_file_writable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.ls_libs">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">ls_libs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#ls_libs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.ls_libs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.pip_install">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">pip_install</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">package</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#pip_install"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.pip_install" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/15974100/ipython-install-new-modules">http://stackoverflow.com/questions/15974100/ipython-install-new-modules</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.platform_cache_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">platform_cache_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#platform_cache_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.platform_cache_dir" title="Permalink to this definition"></a></dt>
<dd><p>Returns a directory which should be writable for any application
This should be used for temporary deletable data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.print_dir_diskspace">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">print_dir_diskspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#print_dir_diskspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.print_dir_diskspace" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.print_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">print_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#print_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.print_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.print_system_users">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">print_system_users</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#print_system_users"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.print_system_users" title="Permalink to this definition"></a></dt>
<dd><p>prints users on the system</p>
<p>On unix looks for /bin/bash users in /etc/passwd</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –test-print_system_users</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">print_system_users</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.python_executable">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">python_executable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#python_executable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.python_executable" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>short</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">short</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">python_executable</span><span class="p">(</span><span class="n">short</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.quote_single_command">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">quote_single_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmdstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#quote_single_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.quote_single_command" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.run_realtime_process">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">run_realtime_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#run_realtime_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.run_realtime_process" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.search_env_paths">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">search_env_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#search_env_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.search_env_paths" title="Permalink to this definition"></a></dt>
<dd><p>Searches your PATH to see if fname exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file name to search for (can be glob pattern)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool search_env_paths –fname msvcr*.dll
python -m utool search_env_paths –fname ‘<em>flann</em>’</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;opencv2/highgui/libopencv_highgui.so&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--fname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;fname = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fname</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># [&#39;PATH&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found</span> <span class="o">=</span> <span class="n">search_env_paths</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">key_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">found</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strvals</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p>OpenCV_DIR:PATH={share_opencv}
OpenCV_CONFIG_PATH:FILEPATH={share_opencv}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.send_keyboard_input">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">send_keyboard_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#send_keyboard_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.send_keyboard_input" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/14788036/python-win32api-sendmesage">http://stackoverflow.com/questions/14788036/python-win32api-sendmesage</a>
<a class="reference external" href="http://www.pinvoke.net/default.aspx/user32.sendinput">http://www.pinvoke.net/default.aspx/user32.sendinput</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –test-send_keyboard_input</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;%paste&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">send_keyboard_input</span><span class="p">(</span><span class="s1">&#39;%paste&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.set_process_title">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">set_process_title</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#set_process_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.set_process_title" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.shell">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">shell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#shell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.shell" title="Permalink to this definition"></a></dt>
<dd><p>Dangerous. Take out of production code</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.spawn_delayed_ipython_paste">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">spawn_delayed_ipython_paste</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#spawn_delayed_ipython_paste"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.spawn_delayed_ipython_paste" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.startfile">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">startfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#startfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.startfile" title="Permalink to this definition"></a></dt>
<dd><p>Uses default program defined by the system to open a file.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/2692873/quote-posix-shell-special-characters-in-python-output">http://stackoverflow.com/questions/2692873/quote-posix-shell-special-characters-in-python-output</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.unload_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">unload_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#unload_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.unload_module" title="Permalink to this definition"></a></dt>
<dd><p>WARNING POTENTIALLY DANGEROUS AND MAY NOT WORK</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/437589/how-do-i-unload-reload-a-python-module">http://stackoverflow.com/questions/437589/how-do-i-unload-reload-a-python-module</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –test-unload_module</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">gc</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyhesaff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;pyhesaff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> refcount=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">getrefcount</span><span class="p">(</span><span class="n">pyhesaff</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#referrer_list = gc.get_referrers(sys.modules[modname])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;referrer_list = %s&#39; % (ut.repr4(referrer_list),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">unload_module</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pyhesaff</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.vd">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">vd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_cplat.vd" title="Permalink to this definition"></a></dt>
<dd><p>View a directory in the operating system file browser. Currently supports
windows explorer, mac open, and linux nautlius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory name</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a filename to select in the directory (nautlius only)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –test-view_directory</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;test_vd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dir1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has space&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;space at end &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39; space at start &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&quot;quotes and spaces&quot;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;&#39;single quotes and spaces&#39;&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Frogram Piles (y2K)&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs_</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">dname</span> <span class="ow">in</span> <span class="n">dirs_</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.view_directory">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">view_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#view_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.view_directory" title="Permalink to this definition"></a></dt>
<dd><p>View a directory in the operating system file browser. Currently supports
windows explorer, mac open, and linux nautlius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory name</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a filename to select in the directory (nautlius only)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_cplat –test-view_directory</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DOCTEST_DISABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_cplat</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;test_vd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dir1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has space&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;space at end &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39; space at start &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&quot;quotes and spaces&quot;&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;&#39;single quotes and spaces&#39;&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Frogram Piles (y2K)&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dirs_</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">dname</span> <span class="ow">in</span> <span class="n">dirs_</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">dname</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">view_directory</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_cplat.view_file_in_directory">
<span class="sig-prename descclassname"><span class="pre">utool.util_cplat.</span></span><span class="sig-name descname"><span class="pre">view_file_in_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_cplat.html#view_file_in_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_cplat.view_file_in_directory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_csv">
<span id="utool-util-csv-module"></span><h2>utool.util_csv module<a class="headerlink" href="#module-utool.util_csv" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_csv.CSV">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_csv.</span></span><span class="sig-name descname"><span class="pre">CSV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.compress_cols">
<span class="sig-name descname"><span class="pre">compress_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.compress_cols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.compress_cols" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.compress_rows">
<span class="sig-name descname"><span class="pre">compress_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.compress_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.compress_rows" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.from_fpath">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.from_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.from_fpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.fuzzy_filter_columns">
<span class="sig-name descname"><span class="pre">fuzzy_filter_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fuzzy_headers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_filter_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_filter_columns" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.fuzzy_find_colx">
<span class="sig-name descname"><span class="pre">fuzzy_find_colx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_find_colx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_find_colx" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.fuzzy_find_colxs">
<span class="sig-name descname"><span class="pre">fuzzy_find_colxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_find_colxs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_find_colxs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.fuzzy_reorder_columns">
<span class="sig-name descname"><span class="pre">fuzzy_reorder_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fuzzy_headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.fuzzy_reorder_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.fuzzy_reorder_columns" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.nice_table">
<span class="sig-name descname"><span class="pre">nice_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.nice_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.nice_table" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.nice_table2">
<span class="sig-name descname"><span class="pre">nice_table2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.nice_table2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.nice_table2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.permute_columns">
<span class="sig-name descname"><span class="pre">permute_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.permute_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.permute_columns" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.raw_table">
<span class="sig-name descname"><span class="pre">raw_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.raw_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.raw_table" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_csv.CSV.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#utool.util_csv.CSV.shape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.tabulate">
<span class="sig-name descname"><span class="pre">tabulate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.tabulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.tabulate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.take_column">
<span class="sig-name descname"><span class="pre">take_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.take_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.take_column" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.take_fuzzy_column">
<span class="sig-name descname"><span class="pre">take_fuzzy_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.take_fuzzy_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.take_fuzzy_column" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_csv.CSV.transpose">
<span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#CSV.transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.CSV.transpose" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_csv.make_csv_table">
<span class="sig-prename descclassname"><span class="pre">utool.util_csv.</span></span><span class="sig-name descname"><span class="pre">make_csv_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_lbls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_lbls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transpose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_lbl_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comma_repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&lt;com&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standardize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#make_csv_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.make_csv_table" title="Permalink to this definition"></a></dt>
<dd><p>Creates a csv table with aligned columns</p>
<p>make_csv_table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>column_lbls</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>column_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>row_lbls</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>transpose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>csv_text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_csv</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="s1">&#39;# Test CSV&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_type</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_text</span> <span class="o">=</span> <span class="n">make_csv_table</span><span class="p">(</span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_lbls</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">column_type</span><span class="p">,</span> <span class="n">row_lbls</span><span class="p">,</span> <span class="n">transpose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">csv_text</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go"># Test CSV</span>
<span class="go"># num_rows=3</span>
<span class="go">#   num,  alpha</span>
<span class="go">      1,      A</span>
<span class="go">      2,      B</span>
<span class="go">      3,      C</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_csv.make_standard_csv">
<span class="sig-prename descclassname"><span class="pre">utool.util_csv.</span></span><span class="sig-name descname"><span class="pre">make_standard_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_lbls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#make_standard_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.make_standard_csv" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_csv.numpy_to_csv">
<span class="sig-prename descclassname"><span class="pre">utool.util_csv.</span></span><span class="sig-name descname"><span class="pre">numpy_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_lbls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#numpy_to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.numpy_to_csv" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_csv.read_csv">
<span class="sig-prename descclassname"><span class="pre">utool.util_csv.</span></span><span class="sig-name descname"><span class="pre">read_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_csv.html#read_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_csv.read_csv" title="Permalink to this definition"></a></dt>
<dd><p>reads csv in unicode</p>
</dd></dl>

</section>
<section id="module-utool.util_dbg">
<span id="utool-util-dbg-module"></span><h2>utool.util_dbg module<a class="headerlink" href="#module-utool.util_dbg" title="Permalink to this headline"></a></h2>
<p>TODO: rectify name difference between parent and caller</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dbg.EmbedOnException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">EmbedOnException</span></span><a class="reference internal" href="_modules/utool/util_dbg.html#EmbedOnException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.EmbedOnException" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Context manager which embeds in ipython if an exception is thrown</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.breakpoint">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">breakpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">tags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#breakpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.breakpoint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.debug_exception">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">debug_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.debug_exception" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.debug_hstack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">debug_hstack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stacktup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_hstack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.debug_hstack" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.debug_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">debug_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.debug_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.debug_npstack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">debug_npstack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stacktup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_npstack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.debug_npstack" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.debug_vstack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">debug_vstack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stacktup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#debug_vstack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.debug_vstack" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.embed">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">embed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_globals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exec_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_pyqt_hook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#embed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.embed" title="Permalink to this definition"></a></dt>
<dd><p>Starts interactive session. Similar to keyboard command in matlab.
Wrapper around IPython.embed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.embed2">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">embed2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#embed2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.embed2" title="Permalink to this definition"></a></dt>
<dd><p>Modified from IPython.terminal.embed.embed so I can mess with stack_depth</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.execstr_attr_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">execstr_attr_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_attr_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.execstr_attr_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.execstr_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">execstr_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explicit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.execstr_dict" title="Permalink to this definition"></a></dt>
<dd><p>returns execable python code that declares variables using keys and values</p>
<p>execstr_dict</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>local_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – optional: local name of dictionary. Specifying this
is much safer</p></li>
<li><p><strong>exclude_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>execstr — the executable string that will put keys from dict</dt><dd><p>into local vars</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dbg –test-execstr_dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execstr</span> <span class="o">=</span> <span class="n">execstr_dict</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">execstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">()</span> <span class="ow">and</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(),</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">b</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">execstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a = my_dictionary[&#39;a&#39;]</span>
<span class="go">b = my_dictionary[&#39;b&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execstr</span> <span class="o">=</span> <span class="n">execstr_dict</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locals_</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">execstr</span><span class="p">,</span> <span class="n">locals_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_take</span><span class="p">(</span><span class="n">locals_</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">locals_</span> <span class="ow">and</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">locals_</span><span class="p">,</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">b</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;execstr failed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">execstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a = my_dictionary[&#39;a&#39;]</span>
<span class="go">b = my_dictionary[&#39;b&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execstr</span> <span class="o">=</span> <span class="n">execstr_dict</span><span class="p">(</span><span class="n">my_dictionary</span><span class="p">,</span> <span class="n">explicit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">execstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a = True</span>
<span class="go">b = False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.execstr_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">execstr_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.execstr_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.execstr_parent_locals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">execstr_parent_locals</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#execstr_parent_locals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.execstr_parent_locals" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.explore_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">explore_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxdepth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nonmodules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#explore_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.explore_module" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.explore_stack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">explore_stack</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#explore_stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.explore_stack" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.fix_embed_globals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">fix_embed_globals</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#fix_embed_globals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.fix_embed_globals" title="Permalink to this definition"></a></dt>
<dd><p>HACK adds current locals() to globals().
Can be dangerous.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.fmtlocals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">fmtlocals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dbg.fmtlocals" title="Permalink to this definition"></a></dt>
<dd><p>mimics lisp quasi quote functionality</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.formatex">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">formatex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[!?]</span> <span class="pre">Caught</span> <span class="pre">exception'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iswarning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#formatex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.formatex" title="Permalink to this definition"></a></dt>
<dd><p>Formats an exception with relevant info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ex</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><em>Exception</em></a>) – exception to print</p></li>
<li><p><strong>msg</strong> (<em>unicode</em>) – a message to display to the user (default = u’[!?] Caught exception’)</p></li>
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – a list of strings denoting variables or expressions of interest (default = [])</p></li>
<li><p><strong>iswarning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – prints as a warning rather than an error if True (default = False)</p></li>
<li><p><strong>tb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True prints the traceback in the error message (default = False)</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>locals</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>colored</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – DEPRICATED use keys</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formated exception</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dbg –exec-formatex</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Testing Exception&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;[test]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;tb&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locals_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iswarning</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colored</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">failfunc</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tb</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">N</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;test exception. This is not an error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">result</span> <span class="o">=</span> <span class="n">formatex</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">key_list</span><span class="p">,</span> <span class="n">locals_</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                          <span class="n">iswarning</span><span class="p">,</span> <span class="n">tb</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="n">colored</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="n">result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">failfunc</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&lt;!!! WARNING !!!&gt;</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;string&gt;&quot;</span>, line <span class="m">15</span>, in <span class="n">failfunc</span>
<span class="gr">Exception</span>: <span class="n">test exception. This is not an error[test] Testing Exception</span>
<span class="go">&lt;class &#39;Exception&#39;&gt;: test exception. This is not an error</span>
<span class="go">[test] N = 0</span>
<span class="go">[test] foo = NameError (this likely due to a misformatted printex and is not related to the exception)</span>
<span class="go">[test] tb = True</span>
<span class="go">&lt;/!!! WARNING !!!&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_caller_lineno">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_caller_lineno</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_lineno"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_caller_lineno" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_caller_modname">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_caller_modname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowmain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_modname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_caller_modname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_caller_name">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_caller_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_genexpr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_caller_name" title="Permalink to this definition"></a></dt>
<dd><p>get the name of the function that called you</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (defaults to 0) number of levels up in the stack</p></li>
<li><p><strong>allow_genexpr</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a function name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dbg get_caller_name
python -m utool get_caller_name
python ~/code/utool/utool/__main__.py get_caller_name
python ~/code/utool/utool/__init__.py get_caller_name
python ~/code/utool/utool/util_dbg.py get_caller_name</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_genexpr</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">caller_name</span> <span class="o">=</span> <span class="n">get_caller_name</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">allow_genexpr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">caller_name</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_caller_prefix">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_caller_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aserror</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_caller_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_caller_prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_current_stack_depth">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_current_stack_depth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_current_stack_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_current_stack_depth" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_localvar_from_stack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_localvar_from_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dbg.get_localvar_from_stack" title="Permalink to this definition"></a></dt>
<dd><p>Finds a local varable somewhere in the stack and returns the value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – variable name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None if varname is not found else its value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_parent_frame">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_parent_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_parent_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_parent_frame" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_reprs">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_reprs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_reprs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_reprs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_stack_frame">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_stack_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_stack_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_stack_frame" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – N=0 means the frame you called this function in.
N=1 is the parent frame.</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_var_from_stack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_var_from_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dbg.get_var_from_stack" title="Permalink to this definition"></a></dt>
<dd><p>Finds a varable (local or global) somewhere in the stack and returns the value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – variable name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None if varname is not found else its value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_varname_from_locals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_varname_from_locals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default='varname-not-found'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmpfunc_=&lt;built-in</span> <span class="pre">function</span> <span class="pre">is_&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varname_from_locals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_varname_from_locals" title="Permalink to this definition"></a></dt>
<dd><p>Finds the string name which has where locals_[name] is val</p>
<p>Check the varname is in the parent namespace
This will only work with objects not primatives</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>val</em>) – some value</p></li>
<li><p><strong>locals</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – local dictionary to search</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the varname which is Val (if it exists)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_varname_from_stack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_varname_from_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varname_from_stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_varname_from_stack" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_varstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_varstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_varstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.get_varval_from_locals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">get_varval_from_locals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#get_varval_from_locals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.get_varval_from_locals" title="Permalink to this definition"></a></dt>
<dd><p>Returns a variable value from locals.
Different from locals()[‘varname’] because
get_varval_from_locals(‘varname.attribute’, locals())
is allowed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.haveIPython">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">haveIPython</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#haveIPython"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.haveIPython" title="Permalink to this definition"></a></dt>
<dd><p>Tests if IPython is available</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.import_testdata">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">import_testdata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#import_testdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.import_testdata" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.inIPython">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">inIPython</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#inIPython"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.inIPython" title="Permalink to this definition"></a></dt>
<dd><p>Tests if running in IPython.</p>
<p>Reference: <a class="reference external" href="https://stackoverflow.com/a/39662359">https://stackoverflow.com/a/39662359</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.in_jupyter_notebook">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">in_jupyter_notebook</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#in_jupyter_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.in_jupyter_notebook" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="http://stackoverflow.com/questions/15411967/how-can-i-check-if-code-is-executed-in-the-ipython-notebook">http://stackoverflow.com/questions/15411967/how-can-i-check-if-code-is-executed-in-the-ipython-notebook</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.ipython_execstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">ipython_execstr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#ipython_execstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.ipython_execstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.is_valid_varname">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">is_valid_varname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#is_valid_varname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.is_valid_varname" title="Permalink to this definition"></a></dt>
<dd><p>Checks syntax and validity of a variable name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.load_testdata">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">load_testdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#load_testdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.load_testdata" title="Permalink to this definition"></a></dt>
<dd><p>tries to load previously cached testdata</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.module_functions">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">module_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#module_functions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.module_functions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.parse_locals_keylist">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">parse_locals_keylist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locals_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strlist_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#parse_locals_keylist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.parse_locals_keylist" title="Permalink to this definition"></a></dt>
<dd><p>For each key in keylist, puts its value in locals into a stringlist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locals</strong> – </p></li>
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>strlist_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = None)</p></li>
<li><p><strong>prefix</strong> (<em>unicode</em>) – (default = u’’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dbg –exec-parse_locals_keylist</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dbg</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locals_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;num&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[(</span><span class="nb">len</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">),</span> <span class="s1">&#39;bar.lower.__name__&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strlist_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefix</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strlist_</span> <span class="o">=</span> <span class="n">parse_locals_keylist</span><span class="p">(</span><span class="n">locals_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">,</span> <span class="n">strlist_</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;strlist_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">strlist_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">strlist_ = [</span>
<span class="go">    &#39; len(foo) = 3&#39;,</span>
<span class="go">    &quot; bar.lower.__name__ = &#39;lower&#39;&quot;,</span>
<span class="go">    &#39; eggs = 4&#39;,</span>
<span class="go">    &#39; num = 5&#39;,</span>
<span class="go">    &#39; other = NameError (this likely due to a misformatted printex and is not related to the exception)&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.print_frame">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">print_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#print_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.print_frame" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.print_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">print_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#print_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.print_keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.print_traceback">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">print_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#print_traceback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.print_traceback" title="Permalink to this definition"></a></dt>
<dd><p>prints current stack</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.printex">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">printex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[!?]</span> <span class="pre">Caught</span> <span class="pre">exception'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iswarning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reraise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#printex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.printex" title="Permalink to this definition"></a></dt>
<dd><p>Prints (and/or logs) an exception with relevant info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ex</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><em>Exception</em></a>) – exception to print</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – a message to display to the user</p></li>
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – a list of strings denoting variables or expressions of interest</p></li>
<li><p><strong>iswarning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – prints as a warning rather than an error if True (defaults to False)</p></li>
<li><p><strong>tb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True prints the traceback in the error message</p></li>
<li><p><strong>pad_stdout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – separate the error message from the rest of stdout with newlines</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>locals</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
<li><p><strong>use_stdout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>reraise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>msg</strong> – </p></li>
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – DEPRICATED use keys</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.printvar">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">printvar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locals_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.shape'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typepad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#printvar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.printvar" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.printvar2">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">printvar2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typepad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#printvar2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.printvar2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.public_attributes">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">public_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#public_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.public_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.qflag">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">qflag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#qflag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.qflag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.quasiquote">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">quasiquote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#quasiquote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.quasiquote" title="Permalink to this definition"></a></dt>
<dd><p>mimics lisp quasi quote functionality</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.quit">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#quit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.quit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.quitflag">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">quitflag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_globals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#quitflag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.quitflag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.save_testdata">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">save_testdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#save_testdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.save_testdata" title="Permalink to this definition"></a></dt>
<dd><p>caches testdata</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.search_stack_for_localvar">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">search_stack_for_localvar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#search_stack_for_localvar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.search_stack_for_localvar" title="Permalink to this definition"></a></dt>
<dd><p>Finds a local varable somewhere in the stack and returns the value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – variable name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None if varname is not found else its value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.search_stack_for_var">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">search_stack_for_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#search_stack_for_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.search_stack_for_var" title="Permalink to this definition"></a></dt>
<dd><p>Finds a varable (local or global) somewhere in the stack and returns the value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – variable name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None if varname is not found else its value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dbg.super_print">
<span class="sig-prename descclassname"><span class="pre">utool.util_dbg.</span></span><span class="sig-name descname"><span class="pre">super_print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dbg.html#super_print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dbg.super_print" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_decor">
<span id="utool-util-decor-module"></span><h2>utool.util_decor module<a class="headerlink" href="#module-utool.util_decor" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.accepts_numpy">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">accepts_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.accepts_numpy" title="Permalink to this definition"></a></dt>
<dd><p>Allows the first input to be a numpy array and get result in numpy form</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.accepts_scalar_input">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">accepts_scalar_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_scalar_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.accepts_scalar_input" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE in favor of accepts_scalar_input2
only accepts one input as vector</p>
<p>accepts_scalar_input is a decorator which expects to be used on class
methods.  It lets the user pass either a vector or a scalar to a function,
as long as the function treats everything like a vector. Input and output
is sanitized to the user expected format on return.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>func</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>wrp_asi</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>func</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_decor –test-accepts_scalar_input</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@accepts_scalar_input</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">list_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># dummy self because this decorator is for classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.accepts_scalar_input2">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">accepts_scalar_input2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argx_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_wrapper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_scalar_input2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.accepts_scalar_input2" title="Permalink to this definition"></a></dt>
<dd><p>FIXME: change to better name. Complete implementation.</p>
<p>used in IBEIS setters</p>
<p>accepts_scalar_input2 is a decorator which expects to be used on class
methods.  It lets the user pass either a vector or a scalar to a function,
as long as the function treats everything like a vector. Input and output
is sanitized to the user expected format on return.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>argx_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – indexes of args that could be passed in as scalars to
code that operates on lists. Ensures that decorated function gets
the argument as an iterable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.accepts_scalar_input_vector_output">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">accepts_scalar_input_vector_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#accepts_scalar_input_vector_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.accepts_scalar_input_vector_output" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE IN FAVOR OF accepts_scalar_input2</p>
<p>accepts_scalar_input_vector_output</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.apply_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">apply_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">docstr_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#apply_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.apply_docstr" title="Permalink to this definition"></a></dt>
<dd><p>Changes docstr of one functio to that of another</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_decor.classproperty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">classproperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fdel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#classproperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.classproperty" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#property" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">property</span></code></a></p>
<p>Decorates a method turning it into a classattribute</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/1697501/python-staticmethod-with-property">https://stackoverflow.com/questions/1697501/python-staticmethod-with-property</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.debug_function_exceptions">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">debug_function_exceptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#debug_function_exceptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.debug_function_exceptions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.dummy_args_decor">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">dummy_args_decor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#dummy_args_decor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.dummy_args_decor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.getter_1to1">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">getter_1to1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_decor.getter_1to1" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE in favor of accepts_scalar_input2
only accepts one input as vector</p>
<p>accepts_scalar_input is a decorator which expects to be used on class
methods.  It lets the user pass either a vector or a scalar to a function,
as long as the function treats everything like a vector. Input and output
is sanitized to the user expected format on return.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>func</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>wrp_asi</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>func</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_decor –test-accepts_scalar_input</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@accepts_scalar_input</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">list_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># dummy self because this decorator is for classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">foobar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.getter_1toM">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">getter_1toM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_decor.getter_1toM" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE IN FAVOR OF accepts_scalar_input2</p>
<p>accepts_scalar_input_vector_output</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.ignores_exc_tb">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">ignores_exc_tb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#ignores_exc_tb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.ignores_exc_tb" title="Permalink to this definition"></a></dt>
<dd><p>PYTHON 3 VERSION</p>
<p>ignore_exc_tb decorates a function and remove both itself
and the function from any exception traceback that occurs.</p>
<p>This is useful to decorate other trivial decorators
which are polluting your stacktrace.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.indent_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">indent_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#indent_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.indent_func" title="Permalink to this definition"></a></dt>
<dd><p>Takes either no arguments or an alias label</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.interested">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">interested</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#interested"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.interested" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.lazyfunc">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">lazyfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#lazyfunc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.lazyfunc" title="Permalink to this definition"></a></dt>
<dd><p>Returns a memcached version of a function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.memoize">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">memoize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.memoize" title="Permalink to this definition"></a></dt>
<dd><p>simple memoization decorator</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://wiki.python.org/moin/PythonDecoratorLibrary#Memoize">https://wiki.python.org/moin/PythonDecoratorLibrary#Memoize</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – live python function</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>func</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_decor memoize</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closure</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">incr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">value</span> <span class="o">=</span> <span class="n">closure</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_memo</span> <span class="o">=</span> <span class="n">memoize</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Call memoized version&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Counter should no longer increase&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Closure changes result without memoization&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closure</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">foo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">incr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span> <span class="ow">and</span> <span class="n">foo_memo</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.memoize_nonzero">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">memoize_nonzero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize_nonzero"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.memoize_nonzero" title="Permalink to this definition"></a></dt>
<dd><p>Memoization decorator for functions taking a nonzero number of arguments.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/578231-fastest-memoization-decorator">http://code.activestate.com/recipes/578231-fastest-memoization-decorator</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.memoize_single">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">memoize_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize_single"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.memoize_single" title="Permalink to this definition"></a></dt>
<dd><p>Memoization decorator for a function taking a single argument</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/578231-fastest-memoization-decorator">http://code.activestate.com/recipes/578231-fastest-memoization-decorator</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.memoize_zero">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">memoize_zero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#memoize_zero"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.memoize_zero" title="Permalink to this definition"></a></dt>
<dd><p>Memoization decorator for a function taking no arguments</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.on_exception_report_input">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">on_exception_report_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#on_exception_report_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.on_exception_report_input" title="Permalink to this definition"></a></dt>
<dd><p>If an error is thrown in the scope of this function’s stack frame then the
decorated function name and the arguments passed to it will be printed to
the utool print function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.preserve_sig">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">preserve_sig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#preserve_sig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.preserve_sig" title="Permalink to this definition"></a></dt>
<dd><p>Decorates a wrapper function.</p>
<p>It seems impossible to presever signatures in python 2 without eval
(Maybe another option is to write to a temporary module?)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wrapper</strong> – the function wrapping orig_func to change the signature of</p></li>
<li><p><strong>orig_func</strong> – the original function to take the signature from</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://emptysqua.re/blog/copying-a-python-functions-signature/">http://emptysqua.re/blog/copying-a-python-functions-signature/</a>
<a class="reference external" href="https://code.google.com/p/micheles/source/browse/decorator/src/decorator.py">https://code.google.com/p/micheles/source/browse/decorator/src/decorator.py</a></p>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<p>checkout funcsigs
<a class="reference external" href="https://funcsigs.readthedocs.org/en/latest/">https://funcsigs.readthedocs.org/en/latest/</a></p>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_decor –test-preserve_sig</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ut.rrrr(False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listinput_</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot; just a test function &quot;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">listinput_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#orig_func = ut.take</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_func</span> <span class="o">=</span> <span class="n">myfunction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapper</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">accepts_scalar_input2</span><span class="p">([</span><span class="mi">0</span><span class="p">])(</span><span class="n">orig_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_wrp_preserve1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">preserve_sig</span><span class="p">(</span><span class="n">wrapper</span><span class="p">,</span> <span class="n">orig_func</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_wrp_preserve2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">preserve_sig</span><span class="p">(</span><span class="n">wrapper</span><span class="p">,</span> <span class="n">orig_func</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_wrp_preserve2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">_wrp_preserve1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_wrp_preserve2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">_wrp_preserve2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;source _wrp_preserve1 = %s&#39; % (ut.get_func_sourcecode(_wrp_preserve1),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;source _wrp_preserve2 = %s&#39; % (ut.get_func_sourcecode(_wrp_preserve2)),)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">_wrp_preserve1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.show_return_value">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">show_return_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#show_return_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.show_return_value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.test_ignore_exec_traceback">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">test_ignore_exec_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#test_ignore_exec_traceback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.test_ignore_exec_traceback" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_decor –test-test_ignore_exec_traceback</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_decor</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">test_ignore_exec_traceback</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.time_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">time_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#time_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.time_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.tracefunc">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">tracefunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#tracefunc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.tracefunc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_decor.tracefunc_xml">
<span class="sig-prename descclassname"><span class="pre">utool.util_decor.</span></span><span class="sig-name descname"><span class="pre">tracefunc_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_decor.html#tracefunc_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_decor.tracefunc_xml" title="Permalink to this definition"></a></dt>
<dd><p>Causes output of function to be printed in an XML style block</p>
</dd></dl>

</section>
<section id="module-utool.util_depricated">
<span id="utool-util-depricated-module"></span><h2>utool.util_depricated module<a class="headerlink" href="#module-utool.util_depricated" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_depricated.cartesian">
<span class="sig-prename descclassname"><span class="pre">utool.util_depricated.</span></span><span class="sig-name descname"><span class="pre">cartesian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arrays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_depricated.html#cartesian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_depricated.cartesian" title="Permalink to this definition"></a></dt>
<dd><p>Generate a cartesian product of input arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arrays</strong> (<em>list of array-like</em>) – 1-D arrays to form the cartesian product of</p></li>
<li><p><strong>out</strong> (<em>ndarray</em>) – Outvar which is modified in place if specified</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>cartesian products formed of input arrays</dt><dd><p>2-D array of shape (M, len(arrays))</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>out (ndarray)</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>gist.github.com/hernamesbarbara/68d073f551565de02ac5</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_depricated</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">cartesian</span><span class="p">(</span><span class="n">arrays</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">out</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="go">array([[1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3],</span>
<span class="go">       [4, 4, 5, 5, 4, 4, 5, 5, 4, 4, 5, 5],</span>
<span class="go">       [6, 7, 6, 7, 6, 7, 6, 7, 6, 7, 6, 7]])</span>
</pre></div>
</div>
<dl>
<dt>Timeit:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use itertools product instead</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="s1">&#39;import utool as ut</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">cartesian</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">statements</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;cartesian(arrays)&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;np.array(list(ut.iprod(*arrays)))&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">statements</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_depricated.find_std_inliers">
<span class="sig-prename descclassname"><span class="pre">utool.util_depricated.</span></span><span class="sig-name descname"><span class="pre">find_std_inliers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_depricated.html#find_std_inliers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_depricated.find_std_inliers" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_dev">
<span id="utool-util-dev-module"></span><h2>utool.util_dev module<a class="headerlink" href="#module-utool.util_dev" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.ClassAttrDictProxy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">ClassAttrDictProxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dict.DictLike" title="utool.util_dict.DictLike"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.DictLike</span></code></a></p>
<p>Allows class attributes to be specified using dictionary syntax</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">attr2</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ClassAttrDictProxy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;attr1&#39;</span><span class="p">,</span> <span class="s1">&#39;attr2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="p">[</span><span class="s1">&#39;attr2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;baz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">attr2</span> <span class="o">==</span> <span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="s1">&#39;should have changed in object&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ClassAttrDictProxy.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy.getitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy.getitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ClassAttrDictProxy.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ClassAttrDictProxy.setitem">
<span class="sig-name descname"><span class="pre">setitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ClassAttrDictProxy.setitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ClassAttrDictProxy.setitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">ColumnLists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_to_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Way to work with column data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key_to_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – (default = {})</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev ColumnLists –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_to_list</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ColumnLists</span><span class="p">(</span><span class="n">key_to_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newself</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">take</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">newself</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.asdataframe">
<span class="sig-name descname"><span class="pre">asdataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.asdataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.asdataframe" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.asdict">
<span class="sig-name descname"><span class="pre">asdict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.asdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.asdict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.aspandas">
<span class="sig-name descname"><span class="pre">aspandas</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.aspandas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.aspandas" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.cast_column">
<span class="sig-name descname"><span class="pre">cast_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.cast_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.cast_column" title="Permalink to this definition"></a></dt>
<dd><p>like map column but applies values inplace</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.chunks">
<span class="sig-name descname"><span class="pre">chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.chunks" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.compress">
<span class="sig-name descname"><span class="pre">compress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.compress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.compress" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.flatten">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.flatten" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.get_multis">
<span class="sig-name descname"><span class="pre">get_multis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.get_multis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.get_multis" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.get_singles">
<span class="sig-name descname"><span class="pre">get_singles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.get_singles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.get_singles" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.group">
<span class="sig-name descname"><span class="pre">group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.group" title="Permalink to this definition"></a></dt>
<dd><p>group as list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.group_indicies">
<span class="sig-name descname"><span class="pre">group_indicies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.group_indicies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.group_indicies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.group_items">
<span class="sig-name descname"><span class="pre">group_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.group_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.group_items" title="Permalink to this definition"></a></dt>
<dd><p>group as dict</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.loc_by_key">
<span class="sig-name descname"><span class="pre">loc_by_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.loc_by_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.loc_by_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.map_column">
<span class="sig-name descname"><span class="pre">map_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.map_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.map_column" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – the column name(s) to apply the <cite>func</cite> to</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – applied to each element in the specified columns</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.merge_rows">
<span class="sig-name descname"><span class="pre">merge_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_scalars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.merge_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.merge_rows" title="Permalink to this definition"></a></dt>
<dd><p>Uses key as a unique index an merges all duplicates rows.  Use
cast_column to modify types of columns before merging to affect
behavior of duplicate rectification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – row to merge on</p></li>
<li><p><strong>merge_scalars</strong> – if True, scalar values become lists</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_to_list</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;uuid&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span>    <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">]],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span>    <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ColumnLists</span><span class="p">(</span><span class="n">key_to_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;uuid&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newself</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">merge_rows</span><span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">newself</span><span class="o">.</span><span class="n">to_csv</span><span class="p">())</span>
<span class="go">#             a,            c,            b,         uuid</span>
<span class="go">              4,          [3],          [4],            3</span>
<span class="go">              5,          [4],          [5],            4</span>
<span class="go">    &quot;[1, 2, 7]&quot;,  &quot;[1, 1, 1]&quot;,  &quot;[1, 2, 7]&quot;,  &quot;[1, 1, 1]&quot;</span>
<span class="go">       &quot;[3, 6]&quot;,     &quot;[2, 2]&quot;,     &quot;[3, 6]&quot;,     &quot;[2, 2]&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.print" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.remove" title="Permalink to this definition"></a></dt>
<dd><p>Returns a copy with idxs removed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.reorder_columns">
<span class="sig-name descname"><span class="pre">reorder_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.reorder_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.reorder_columns" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.rrr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.rrr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#utool.util_dev.ColumnLists.shape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.take">
<span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.take" title="Permalink to this definition"></a></dt>
<dd><p>Takes a subset of rows</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.take_column">
<span class="sig-name descname"><span class="pre">take_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">extra_keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.take_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.take_column" title="Permalink to this definition"></a></dt>
<dd><p>Takes a subset of columns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.to_csv" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.ColumnLists.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ColumnLists.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ColumnLists.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">DictLike_old</span></span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>DEPRICATE
TODO: use util_dict.DictLike instead</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.iteritems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.iteritems" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old.itervalues">
<span class="sig-name descname"><span class="pre">itervalues</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.itervalues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.itervalues" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.DictLike_old.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#DictLike_old.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.DictLike_old.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.InteractiveIter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">InteractiveIter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'next'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_actions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wraparound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_item</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Choose next value interactively</p>
<p>iterable should be a list, not a generator. sorry</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractiveIter.eventloop">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">eventloop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">custom_actions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.eventloop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.eventloop" title="Permalink to this definition"></a></dt>
<dd><p>For use outside of iteration wrapping. Makes an interactive event loop
custom_actions should be specified in format
[dispname, keys, desc, func]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractiveIter.handle_ans">
<span class="sig-name descname"><span class="pre">handle_ans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ans_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.handle_ans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.handle_ans" title="Permalink to this definition"></a></dt>
<dd><p>preforms an actionm based on a user answer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractiveIter.prompt">
<span class="sig-name descname"><span class="pre">prompt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.prompt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.prompt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractiveIter.wait_for_input">
<span class="sig-name descname"><span class="pre">wait_for_input</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractiveIter.wait_for_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractiveIter.wait_for_input" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.InteractivePrompt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">InteractivePrompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractivePrompt.handle_ans">
<span class="sig-name descname"><span class="pre">handle_ans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ans_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.handle_ans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.handle_ans" title="Permalink to this definition"></a></dt>
<dd><p>preforms an actionm based on a user answer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractivePrompt.loop">
<span class="sig-name descname"><span class="pre">loop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.loop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractivePrompt.prompt">
<span class="sig-name descname"><span class="pre">prompt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.prompt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.prompt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.InteractivePrompt.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#InteractivePrompt.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.InteractivePrompt.register" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">MemoryTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Memtrack</span> <span class="pre">Init'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_mag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A <code class="docutils literal notranslate"><span class="pre">class</span></code> for tracking memory usage.
On initialization it logs the current available (free) memory.
Calling the report method logs the current available memory as well
as memory usage difference w.r.t the last report.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">(</span><span class="s1">&#39;[ENTRY]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s1">&#39;[BEFORE_CREATE]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">128</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">20</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s1">&#39;[AFTER_CREATE]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">track_obj</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="s1">&#39;arr&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report_objs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report_largest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">arr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="s1">&#39;[DELETE]&#39;</span><span class="p">)</span>
<span class="go">#&gt;&gt;&gt; memtrack.report_largest()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.collect">
<span class="sig-name descname"><span class="pre">collect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.collect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.collect" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.get_available_memory">
<span class="sig-name descname"><span class="pre">get_available_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.get_available_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.get_available_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.get_peak_memory">
<span class="sig-name descname"><span class="pre">get_peak_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.get_peak_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.get_peak_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.get_used_memory">
<span class="sig-name descname"><span class="pre">get_used_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.get_used_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.get_used_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.measure_memory">
<span class="sig-name descname"><span class="pre">measure_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.measure_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.measure_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.record">
<span class="sig-name descname"><span class="pre">record</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.record" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.report_largest">
<span class="sig-name descname"><span class="pre">report_largest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_largest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_largest" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.report_obj">
<span class="sig-name descname"><span class="pre">report_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_obj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_obj" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.report_objs">
<span class="sig-name descname"><span class="pre">report_objs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_objs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_objs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.report_type">
<span class="sig-name descname"><span class="pre">report_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">more</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.report_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.report_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.MemoryTracker.track_obj">
<span class="sig-name descname"><span class="pre">track_obj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#MemoryTracker.track_obj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.MemoryTracker.track_obj" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.NamedPartial">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">NamedPartial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#NamedPartial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.NamedPartial" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">functools.partial</span></code>, <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.NiceRepr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">NiceRepr</span></span><a class="reference internal" href="_modules/utool/util_dev.html#NiceRepr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.NiceRepr" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>base class that defines a nice representation and string func
for a class given that the user implements __nice__</p>
<p>Rename to NiceObject?</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">PriorityQueue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>abstracted priority queue for our needs</p>
<p>Combines properties of dicts and heaps
Uses a heap for fast minimum/maximum value search
Uses a dict for fast read only operations</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev PriorityQueue</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/522995-priority-dict-a-priority-queue-with-updatable-prio/">http://code.activestate.com/recipes/522995-priority-dict-a-priority-queue-with-updatable-prio/</a>
<a class="reference external" href="https://stackoverflow.com/questions/33024215/built-in-max-heap-api-in-python">https://stackoverflow.com/questions/33024215/built-in-max-heap-api-in-python</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">29</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="mf">.9</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p># TODO: can also use sortedcontainers to maintain priority queue
import sortedcontainers
queue = sortedcontainers.SortedListWithKey(items, key=lambda x: x[1])
queue.add((‘a’, 1))</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.clear" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.delete_items">
<span class="sig-name descname"><span class="pre">delete_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.delete_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.delete_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.peek" title="Permalink to this definition"></a></dt>
<dd><p>Peek at the next item in the queue</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.peek_many">
<span class="sig-name descname"><span class="pre">peek_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.peek_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.peek_many" title="Permalink to this definition"></a></dt>
<dd><p>Actually this can be quite inefficient</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">PriorityQueue</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">peek_many</span><span class="p">(</span><span class="mi">56</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.pop" title="Permalink to this definition"></a></dt>
<dd><p>Pop the next item off the queue</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.pop_many">
<span class="sig-name descname"><span class="pre">pop_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.pop_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.pop_many" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.PriorityQueue.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#PriorityQueue.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.PriorityQueue.update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dev.Shortlist">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">Shortlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#Shortlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.Shortlist" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Keeps an ordered collection of items.
Removes smallest items if size grows to large.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortsize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span> <span class="o">=</span> <span class="n">Shortlist</span><span class="p">(</span><span class="n">shortsize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortlist</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shortlist = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shortlist</span><span class="p">,))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dev.Shortlist.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#Shortlist.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.Shortlist.insert" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.are_you_sure">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">are_you_sure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#are_you_sure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.are_you_sure" title="Permalink to this definition"></a></dt>
<dd><p>Prompts user to accept or checks command line for -y</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>accept or not</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.autopep8_diff">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">autopep8_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#autopep8_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.autopep8_diff" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path string</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-autopep8_diff –fpath ingest_data.py</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--fpath&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;ingest_data.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">autopep8_diff</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.compile_cython">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">compile_cython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#compile_cython"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.compile_cython" title="Permalink to this definition"></a></dt>
<dd><p>Compiles a cython pyx into a shared library</p>
<p>This seems broken
compiles pyx -&gt; pyd/dylib/so</p>
<p class="rubric">Example</p>
<p>REAL SETUP.PY OUTPUT
cythoning vtool/linalg_cython.pyx to vtoollinalg_cython.c
C:MinGWbingcc.exe -mdll -O -Wall ^
-IC:Python27Libsite-packagesnumpycoreinclude ^
-IC:Python27include -IC:Python27PC ^
-c vtoollinalg_cython.c ^
-o buildtemp.win32-2.7Releasevtoollinalg_cython.o</p>
<p>writing buildtemp.win32-2.7Releasevtoollinalg_cython.def</p>
<p>C:MinGWbingcc.exe -shared -s buildtemp.win32-2.7Releasevtoollinalg_cython.o buildtemp.win32-2.7Releasevtoollinalg_cython.def -LC:Python27libs -LC:Python27PCbuild -lpython27 -lmsvcr90 -o buildlib.win32-2.7vtoollinalg_cython.pyd</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.copy_text_to_clipboard">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">copy_text_to_clipboard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#copy_text_to_clipboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.copy_text_to_clipboard" title="Permalink to this definition"></a></dt>
<dd><p>Copies text to the clipboard</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>pip install pyperclip
sudo apt-get install xclip
sudo apt-get install xsel</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard">http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard</a>
<a class="reference external" href="http://stackoverflow.com/questions/579687/how-do-i-copy-a-string-to-the-clipboard-on-windows-using-python">http://stackoverflow.com/questions/579687/how-do-i-copy-a-string-to-the-clipboard-on-windows-using-python</a></p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyperclip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Qt is by far the fastest, followed by xsel, and then xclip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backend_order</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;xclip&#39;</span><span class="p">,</span> <span class="s1">&#39;xsel&#39;</span><span class="p">,</span> <span class="s1">&#39;qt&#39;</span><span class="p">,</span> <span class="s1">&#39;gtk&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backend_order</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;qt&#39;</span><span class="p">,</span> <span class="s1">&#39;xsel&#39;</span><span class="p">,</span> <span class="s1">&#39;xclip&#39;</span><span class="p">,</span> <span class="s1">&#39;gtk&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">be</span> <span class="ow">in</span> <span class="n">backend_order</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;be = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">be</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pyperclip</span><span class="o">.</span><span class="n">set_clipboard</span><span class="p">(</span><span class="n">be</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">%</span><span class="n">timeit</span> <span class="n">pyperclip</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s1">&#39;a line of reasonable length text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">%</span><span class="n">timeit</span> <span class="n">pyperclip</span><span class="o">.</span><span class="n">paste</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.delayed_retry_gen">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">delayed_retry_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delay_schedule</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.1,</span> <span class="pre">1,</span> <span class="pre">10]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#delayed_retry_gen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.delayed_retry_gen" title="Permalink to this definition"></a></dt>
<dd><p>template code for a infinte retry loop</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.dev_ipython_copypaster">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">dev_ipython_copypaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#dev_ipython_copypaster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.dev_ipython_copypaster" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.disable_garbage_collection">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">disable_garbage_collection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#disable_garbage_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.disable_garbage_collection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.enable_garbage_collection">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">enable_garbage_collection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#enable_garbage_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.enable_garbage_collection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.ensure_str_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">ensure_str_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ensure_str_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ensure_str_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.ensureqt">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">ensureqt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ensureqt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ensureqt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.exec_argparse_funckw">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">exec_argparse_funckw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#exec_argparse_funckw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.exec_argparse_funckw" title="Permalink to this definition"></a></dt>
<dd><p>for doctests kwargs</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.exec_func_src
ut.argparse_funckw</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.exec_funckw">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">exec_funckw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#exec_funckw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.exec_funckw" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.argparse_funckw</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.execstr_funckw">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">execstr_funckw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#execstr_funckw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.execstr_funckw" title="Permalink to this definition"></a></dt>
<dd><p>for doctests kwargs</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.exec_func_src
ut.argparse_funckw</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.extract_timeit_setup">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">extract_timeit_setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doctest_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentinal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#extract_timeit_setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.extract_timeit_setup" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.find_exe">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">find_exe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_hints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#find_exe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.find_exe" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.fix_super_reload">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">fix_super_reload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#fix_super_reload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.fix_super_reload" title="Permalink to this definition"></a></dt>
<dd><p>Fixes an error where reload causes super(X, self) to raise an exception</p>
<p>The problem is that reloading causes X to point to the wrong version of the
class.  This function fixes the problem by searching and returning the
correct version of the class. See example for proper usage.</p>
<p>USE <cite>ut.super2</cite> INSTEAD</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_class</strong> (<em>class</em>) – class passed into super</p></li>
<li><p><strong>self</strong> (<em>instance</em>) – instance passed into super</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>DisableExample:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Parent</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># Dont do this, it will error if you reload</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># super(Foo, self).__init__()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># Do this instead</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">_Foo</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">super2</span><span class="p">(</span><span class="n">Foo</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">super</span><span class="p">(</span><span class="n">_Foo</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.focusvim">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">focusvim</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#focusvim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.focusvim" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.garbage_collect">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">garbage_collect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#garbage_collect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.garbage_collect" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_clipboard">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_clipboard</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_clipboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_clipboard" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard">http://stackoverflow.com/questions/11063458/python-script-to-copy-text-to-clipboard</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_cython_exe">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_cython_exe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_cython_exe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_cython_exe" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_dev_paste_code">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_dev_paste_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_dev_paste_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_dev_paste_code" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_jagged_stats">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_jagged_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_jagged_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_jagged_stats" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arr_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stats_dict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_jagged_stats</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats_dict</span> <span class="o">=</span> <span class="n">get_jagged_stats</span><span class="p">(</span><span class="n">arr_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats_dict</span><span class="p">)),</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;   : [2.5, 6.5, 3.0],</span>
<span class="go">    &#39;std&#39;    : [1.118034, 3.5, 0.0],</span>
<span class="go">    &#39;max&#39;    : [4.0, 10.0, 3.0],</span>
<span class="go">    &#39;min&#39;    : [1.0, 3.0, 3.0],</span>
<span class="go">    &#39;nMin&#39;   : [1, 1, 3],</span>
<span class="go">    &#39;nMax&#39;   : [1, 1, 3],</span>
<span class="go">    &#39;shape&#39;  : [&#39;(4,)&#39;, &#39;(2,)&#39;, &#39;(4,)&#39;],</span>
<span class="go">    &#39;num_nan&#39;: [0, 0, 1],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_nonconflicting_path_old">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_nonconflicting_path_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_fmtstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_nonconflicting_path_old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_nonconflicting_path_old" title="Permalink to this definition"></a></dt>
<dd><p>base_fmtstr must have a %d in it</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_nonconflicting_string">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_nonconflicting_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_fmtstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conflict_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_nonconflicting_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_nonconflicting_string" title="Permalink to this definition"></a></dt>
<dd><p>gets a new string that wont conflict with something that already exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_fmtstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>conflict_set</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_nonconflicting_string</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base_fmtstr</span> <span class="o">=</span> <span class="s1">&#39;somestring</span><span class="si">%d</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conflict_set</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;somestring0&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_nonconflicting_string</span><span class="p">(</span><span class="n">base_fmtstr</span><span class="p">,</span> <span class="n">conflict_set</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">somestring1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_object_base">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_object_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_object_base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_object_base" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_object_nbytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_object_nbytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow_pointers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_modules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listoverhead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_object_nbytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_object_nbytes" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_object_nbytes
python -m utool.util_dev –test-get_object_nbytes:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_nbytes</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;nBytes = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nBytes</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nBytes = 8</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">species</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">TEST_SPECIES</span><span class="o">.</span><span class="n">ZEB_PLAIN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaids</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">get_valid_aids</span><span class="p">(</span><span class="n">species</span><span class="o">=</span><span class="n">species</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daids</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">get_valid_aids</span><span class="p">(</span><span class="n">species</span><span class="o">=</span><span class="n">species</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qreq_</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">new_query_request</span><span class="p">(</span><span class="n">qaids</span><span class="p">,</span> <span class="n">daids</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_nbytes</span><span class="p">(</span><span class="n">qreq_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">(</span><span class="n">nBytes</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">,))</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sizedict</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">key</span><span class="p">())</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">set</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">print_dict</span><span class="p">(</span><span class="n">sizedict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sizedict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;tuple&#39;</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">56</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;set&#39;</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">232</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;list&#39;</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">72</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;float&#39;</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;int&#39;</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;dict&#39;</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">280</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_object_size_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_object_size_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_object_size_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_object_size_str" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_object_size_str –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">512</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">nBytes</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">result = &#39;5.00 KB&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_overlaps">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_overlaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s2'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_overlaps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_partial_func_name">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_partial_func_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_partial_func_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_partial_func_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_setdiff_info">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_setdiff_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s2'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_setdiff_info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_setdiff_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_setdiff_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s2'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_setdiff_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_statdict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_statdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_median</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.get_statdict" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<em>listlike</em>) – values to get statistics of</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – if <cite>list_</cite> is ndarray then this specifies the axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>stats: dictionary of common numpy statistics</dt><dd><p>(min, max, mean, std, nMin, nMax, shape)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>get_stats_str</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_stats
python -m utool.util_dev –test-get_stats:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;: np.array([0.5206, 0.6425], dtype=np.float32),</span>
<span class="go">    &#39;std&#39;: np.array([0.2854, 0.2517], dtype=np.float32),</span>
<span class="go">    &#39;max&#39;: np.array([0.9637, 0.9256], dtype=np.float32),</span>
<span class="go">    &#39;min&#39;: np.array([0.0202, 0.0871], dtype=np.float32),</span>
<span class="go">    &#39;nMin&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;nMax&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;shape&#39;: (10, 2),</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">strkeys</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{mean: 20.0, std: 13.2, max: 41.0, min: 0.0, nMin: 7, nMax: 3, shape: (100,), num_nan: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_stats">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_median</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_stats" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<em>listlike</em>) – values to get statistics of</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – if <cite>list_</cite> is ndarray then this specifies the axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>stats: dictionary of common numpy statistics</dt><dd><p>(min, max, mean, std, nMin, nMax, shape)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>get_stats_str</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_stats
python -m utool.util_dev –test-get_stats:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;: np.array([0.5206, 0.6425], dtype=np.float32),</span>
<span class="go">    &#39;std&#39;: np.array([0.2854, 0.2517], dtype=np.float32),</span>
<span class="go">    &#39;max&#39;: np.array([0.9637, 0.9256], dtype=np.float32),</span>
<span class="go">    &#39;min&#39;: np.array([0.0202, 0.0871], dtype=np.float32),</span>
<span class="go">    &#39;nMin&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;nMax&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;shape&#39;: (10, 2),</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">strkeys</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{mean: 20.0, std: 13.2, max: 41.0, min: 0.0, nMin: 7, nMax: 3, shape: (100,), num_nan: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_stats_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_stats_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stat_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_median</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_stats_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_stats_str" title="Permalink to this definition"></a></dt>
<dd><p>Returns the string version of get_stats</p>
<p>DEPRICATE in favor of ut.repr3(ut.get_stats(…))</p>
<p>if keys is not None then it only displays chosen keys
excluded keys are always removed</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_stats_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_keys</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stat_str</span> <span class="o">=</span> <span class="n">get_stats_str</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">newlines</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="n">exclude_keys</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">stat_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;mean&#39;: 3, &#39;std&#39;: 1.41, &#39;max&#39;: 5, &#39;min&#39;: 1, &#39;nMin&#39;: 1, &#39;nMax&#39;: 1, &#39;shape&#39;: (5,)}</span>
</pre></div>
</div>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>repr2
get_stats</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.get_submodules_from_dpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">get_submodules_from_dpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_packages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#get_submodules_from_dpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.get_submodules_from_dpath" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path</p></li>
<li><p><strong>only_packages</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True returns only package directories,
otherwise returns module files. (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>submod_fpaths</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –exec-get_submodules_from_dpath –only_packages</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dpath&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">only_packages</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--only_packages&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">submod_fpaths</span> <span class="o">=</span> <span class="n">get_submodules_from_dpath</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">only_packages</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">submod_fpaths</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">lmap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">,</span> <span class="n">submod_fpaths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;submod_fpaths = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">submod_fpaths</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.grace_period">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">grace_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#grace_period"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.grace_period" title="Permalink to this definition"></a></dt>
<dd><p>Gives user a window to stop a process before it happens</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.init_catch_ctrl_c">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">init_catch_ctrl_c</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#init_catch_ctrl_c"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.init_catch_ctrl_c" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.input_timeout">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">input_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Waiting</span> <span class="pre">for</span> <span class="pre">input...'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#input_timeout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.input_timeout" title="Permalink to this definition"></a></dt>
<dd><p>FIXME: Function does not work quite right yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ans</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1335507/keyboard-input-with-timeout-in-python">http://stackoverflow.com/questions/1335507/keyboard-input-with-timeout-in-python</a>
<a class="reference external" href="http://home.wlu.edu/~levys/software/kbhit.py">http://home.wlu.edu/~levys/software/kbhit.py</a>
<a class="reference external" href="http://stackoverflow.com/questions/3471461/raw-input-and-timeout/3911560#3911560">http://stackoverflow.com/questions/3471461/raw-input-and-timeout/3911560#3911560</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Waiting for input...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeout</span> <span class="o">=</span> <span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ans</span> <span class="o">=</span> <span class="n">input_timeout</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.instancelist">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">instancelist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#instancelist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.instancelist" title="Permalink to this definition"></a></dt>
<dd><p>Executes methods and attribute calls on a list of objects of the same type</p>
<p>Bundles a list of object of the same type into a single object.
The new object contains the same functions as each original object
but applies them to each element of the list independantly when called.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev instancelist</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span> <span class="s1">&#39;bye&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">instancelist</span><span class="p">(</span><span class="n">obj_list</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isalpha</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.inverable_group_multi_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">inverable_group_multi_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_lists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#inverable_group_multi_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.inverable_group_multi_list" title="Permalink to this definition"></a></dt>
<dd><p>aid_list1 = np.array([1, 1, 2, 2, 3, 3])
aid2_list = np.array([4, 2, 1, 9, 8, 7])
item_lists = (np.array(aid1_list), np.array(aid2_list))</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.inverable_unique_two_lists">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">inverable_unique_two_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item1_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item2_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#inverable_unique_two_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.inverable_unique_two_lists" title="Permalink to this definition"></a></dt>
<dd><p>item1_list = aid1_list
item2_list = aid2_list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.ipcopydev">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">ipcopydev</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#ipcopydev"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.ipcopydev" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.is_developer">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">is_developer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mycomputers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#is_developer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.is_developer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.iup">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">iup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#iup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.iup" title="Permalink to this definition"></a></dt>
<dd><p>shortcut when pt is not imported</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.make_at_least_n_items_valid">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">make_at_least_n_items_valid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#make_at_least_n_items_valid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.make_at_least_n_items_valid" title="Permalink to this definition"></a></dt>
<dd><p>tries to make at least min(len(flag_list, n) items True in flag_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flag_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of booleans</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – number of items to ensure are True</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-make_at_least_n_items_valid</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list</span> <span class="o">=</span> <span class="n">make_at_least_n_items_valid</span><span class="p">(</span><span class="n">flag_list</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">flag_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[ True  True  True  True False False False  True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.make_call_graph">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">make_call_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#make_call_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.make_call_graph" title="Permalink to this definition"></a></dt>
<dd><p>profile with pycallgraph</p>
<p class="rubric">Example</p>
<p>pycallgraph graphviz – ./mypythonscript.py</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pycallgraph.slowchop.com/en/master/">http://pycallgraph.slowchop.com/en/master/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.make_object_graph">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">make_object_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample_graph.png'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#make_object_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.make_object_graph" title="Permalink to this definition"></a></dt>
<dd><p>memoryprofile with objgraph</p>
<p class="rubric">Example</p>
<p>#import objgraph
#objgraph.show_most_common_types()
#objgraph.show_growth()
#memtrack.report()
#memtrack.report()
#objgraph.show_growth()
#import gc
#gc.collect()
#memtrack.report()
#y = 0
#objgraph.show_growth()
#memtrack.report()
#utool.embed()</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://mg.pov.lt/objgraph/">http://mg.pov.lt/objgraph/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.memory_dump">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">memory_dump</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#memory_dump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.memory_dump" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/141351/how-do-i-find-what-is-using-memory-in-a-python-process-in-a-production-system">http://stackoverflow.com/questions/141351/how-do-i-find-what-is-using-memory-in-a-python-process-in-a-production-system</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.numpy_list_num_bits">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">numpy_list_num_bits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nparr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_dims</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#numpy_list_num_bits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.numpy_list_num_bits" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.overrideable_partial">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">overrideable_partial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">default_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#overrideable_partial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.overrideable_partial" title="Permalink to this definition"></a></dt>
<dd><p>like partial, but given kwargs can be overrideden at calltime</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.pandas_reorder">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">pandas_reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#pandas_reorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.pandas_reorder" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.print_object_size">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">print_object_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#print_object_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.print_object_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.print_object_size_tree">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">print_object_size_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'obj'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxdepth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#print_object_size_tree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.print_object_size_tree" title="Permalink to this definition"></a></dt>
<dd><p>Needs work</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.pylab_qt4">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">pylab_qt4</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#pylab_qt4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.pylab_qt4" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.report_memsize">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">report_memsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#report_memsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.report_memsize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.reset_catch_ctrl_c">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">reset_catch_ctrl_c</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#reset_catch_ctrl_c"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.reset_catch_ctrl_c" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.search_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">search_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_seen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#search_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.search_module" title="Permalink to this definition"></a></dt>
<dd><p>Searches module functions, classes, and constants for members matching a
pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mod</strong> (<em>module</em>) – live python module</p></li>
<li><p><strong>pat</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – regular expression</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>found_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –exec-search_module –mod=utool –pat=module
python -m utool.util_dev –exec-search_module –mod=opengm –pat=cut
python -m utool.util_dev –exec-search_module –mod=opengm –pat=multi
python -m utool.util_dev –exec-search_module –mod=utool –pat=Levenshtein</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_case</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mod&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pat</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--pat&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;search&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;pat = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pat</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mod</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_list</span> <span class="o">=</span> <span class="n">search_module</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">pat</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="n">recursive</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;found_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">found_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p>mod = cv2
pat = ‘freak’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.search_utool">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">search_utool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#search_utool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.search_utool" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.set_clipboard">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">set_clipboard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#set_clipboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.set_clipboard" title="Permalink to this definition"></a></dt>
<dd><p>alias for copy_text_to_clipboard</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.set_overlap_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">set_overlap_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s2'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#set_overlap_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.set_overlap_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.set_overlaps">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">set_overlaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s2'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#set_overlaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.set_overlaps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.stats_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">stats_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_median</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dev.stats_dict" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<em>listlike</em>) – values to get statistics of</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – if <cite>list_</cite> is ndarray then this specifies the axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>stats: dictionary of common numpy statistics</dt><dd><p>(min, max, mean, std, nMin, nMax, shape)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>get_stats_str</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –test-get_stats
python -m utool.util_dev –test-get_stats:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">with_dtype</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;mean&#39;: np.array([0.5206, 0.6425], dtype=np.float32),</span>
<span class="go">    &#39;std&#39;: np.array([0.2854, 0.2517], dtype=np.float32),</span>
<span class="go">    &#39;max&#39;: np.array([0.9637, 0.9256], dtype=np.float32),</span>
<span class="go">    &#39;min&#39;: np.array([0.0202, 0.0871], dtype=np.float32),</span>
<span class="go">    &#39;nMin&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;nMax&#39;: np.array([1, 1], dtype=np.int32),</span>
<span class="go">    &#39;shape&#39;: (10, 2),</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">get_stats</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">use_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">strkeys</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{mean: 20.0, std: 13.2, max: 41.0, min: 0.0, nMin: 7, nMax: 3, shape: (100,), num_nan: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.strip_line_comments">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">strip_line_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_char</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#strip_line_comments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.strip_line_comments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.super2">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">super2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#super2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.super2" title="Permalink to this definition"></a></dt>
<dd><p>Fixes an error where reload causes super(X, self) to raise an exception</p>
<p>The problem is that reloading causes X to point to the wrong version of the
class.  This function fixes the problem by searching and returning the
correct version of the class. See example for proper usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_class</strong> (<em>class</em>) – class passed into super</p></li>
<li><p><strong>self</strong> (<em>instance</em>) – instance passed into super</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If the parent module is reloaded, the super call may fail</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># super(Foo, self).__init__()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This will work around the problem most of the time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ut.super2(Foo, self).__init__()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Parent</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="bp">self</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildSafe</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">super2</span><span class="p">(</span><span class="n">ChildSafe</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildDanger</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">super</span><span class="p">(</span><span class="n">ChildDanger</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># initial loading is fine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safe1</span> <span class="o">=</span> <span class="n">ChildSafe</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">danger1</span> <span class="o">=</span> <span class="n">ChildDanger</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">safe1</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">danger1</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># But if we reload (via simulation), then there will be issues</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Parent_orig</span> <span class="o">=</span> <span class="n">Parent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildSafe_orig</span> <span class="o">=</span> <span class="n">ChildSafe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildDanger_orig</span> <span class="o">=</span> <span class="n">ChildDanger</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># reloading the changes the outer classname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># but the inner class is still bound via the closure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># (we simulate this by using the old functions)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># (note in reloaded code the names would not change)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Parent_new</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">Parent_orig</span><span class="o">.</span><span class="fm">__init__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Parent_new</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;Parent&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildSafe_new</span><span class="p">(</span><span class="n">Parent_new</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">ChildSafe_orig</span><span class="o">.</span><span class="fm">__init__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildSafe_new</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;ChildSafe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildDanger_new</span><span class="p">(</span><span class="n">Parent_new</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">ChildDanger_orig</span><span class="o">.</span><span class="fm">__init__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildDanger_new</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">&#39;ChildDanger&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safe2</span> <span class="o">=</span> <span class="n">ChildSafe_new</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">safe2</span><span class="o">.</span><span class="n">parent_attr</span> <span class="o">==</span> <span class="s1">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">danger2</span> <span class="o">=</span> <span class="n">ChildDanger_new</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.timeit_compare">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">timeit_compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stmt_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assertsame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#timeit_compare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.timeit_compare" title="Permalink to this definition"></a></dt>
<dd><p>Compares several statments by timing them and also
checks that they have the same return value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stmt_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of statments to compare</p></li>
<li><p><strong>setup</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(passed, time_list, result_list)</dt><dd><p>passed (bool): True if all results are the same
time_list (list): list of times for each statment
result_list (list): list of results values for each statment</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dev –exec-timeit_compare</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dev</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="go">        &#39;&#39;&#39;</span>
<span class="go">        import numpy as np</span>
<span class="go">        rng = np.random.RandomState(0)</span>
<span class="go">        invVR_mats = rng.rand(1000, 3, 3).astype(np.float64)</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt1</span> <span class="o">=</span> <span class="s1">&#39;invVR_mats[:, 0:2, 2].T&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt2</span> <span class="o">=</span> <span class="s1">&#39;invVR_mats.T[2, 0:2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterations</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">stmt1</span><span class="p">,</span> <span class="n">stmt2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="n">iterations</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.timeit_grid">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">timeit_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stmt_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#timeit_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.timeit_grid" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>Timeit:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    import utool as ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    from six.moves import range, zip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    import time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    def time_append(size):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        start_time    = time.time()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        last_time     = start_time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        list2 = []</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        for x in range(size):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">            now_time    = time.time()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">            between = now_time - last_time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">            last_time   = now_time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">            list2.append(between)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">time_assign</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">start_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">last_time</span>     <span class="o">=</span> <span class="n">start_time</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">alloc_nones</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">now_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">between</span> <span class="o">=</span> <span class="n">now_time</span> <span class="o">-</span> <span class="n">last_time</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">last_time</span>   <span class="o">=</span> <span class="n">now_time</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">list1</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">between</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">time_baseline</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">start_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">last_time</span>     <span class="o">=</span> <span class="n">start_time</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">now_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">between</span> <span class="o">=</span> <span class="n">now_time</span> <span class="o">-</span> <span class="n">last_time</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">last_time</span>   <span class="o">=</span> <span class="n">now_time</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">time_null</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span> <span class="o">**</span> <span class="n">count</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time_assign&#39;</span><span class="p">,</span> <span class="s1">&#39;time_append&#39;</span><span class="p">,</span> <span class="s1">&#39;time_baseline&#39;</span><span class="p">,</span> <span class="s1">&#39;time_null&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_sizes</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">timeit_grid</span><span class="p">(</span><span class="n">stmt_list</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="n">input_sizes</span><span class="o">=</span><span class="n">input_sizes</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.tuples_to_unique_scalars">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">tuples_to_unique_scalars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tup_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#tuples_to_unique_scalars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.tuples_to_unique_scalars" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.uninvert_unique_two_lists">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">uninvert_unique_two_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flat_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconstruct_tup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#uninvert_unique_two_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.uninvert_unique_two_lists" title="Permalink to this definition"></a></dt>
<dd><p>flat_list = thumb_list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dev.user_cmdline_prompt">
<span class="sig-prename descclassname"><span class="pre">utool.util_dev.</span></span><span class="sig-name descname"><span class="pre">user_cmdline_prompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dev.html#user_cmdline_prompt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dev.user_cmdline_prompt" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_dict">
<span id="utool-util-dict-module"></span><h2>utool.util_dict module<a class="headerlink" href="#module-utool.util_dict" title="Permalink to this headline"></a></h2>
<p>convinience functions for dictionaries</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_dict.AutoDict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">AutoDict</span></span><a class="headerlink" href="#utool.util_dict.AutoDict" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_dict.AutoVivification" title="utool.util_dict.AutoVivification"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.AutoVivification</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_dict.AutoOrderedDict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">AutoOrderedDict</span></span><a class="headerlink" href="#utool.util_dict.AutoOrderedDict" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_dict.OrderedAutoVivification" title="utool.util_dict.OrderedAutoVivification"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dict.OrderedAutoVivification</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dict.AutoVivification">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">AutoVivification</span></span><a class="reference internal" href="_modules/utool/util_dict.html#AutoVivification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.AutoVivification" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p>Implementation of perl’s autovivification feature.</p>
<p>An AutoVivification is an infinitely nested default dict of dicts.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts">http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">AutoVivification</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Notice that there is no KeyError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">10</span><span class="p">][</span><span class="mi">100</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dict_ = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dict_</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">dict_ = {0: {10: {100: None}}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dict.DefaultValueDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">DefaultValueDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DefaultValueDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DefaultValueDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p>picklable default dictionary that can store scalar values.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DefaultValueDict</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dict.DictLike">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">DictLike</span></span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>move to util_dict rectify with util_dev</p>
<dl class="simple">
<dt>An inherited class must specify the <code class="docutils literal notranslate"><span class="pre">getitem</span></code>, <code class="docutils literal notranslate"><span class="pre">setitem</span></code>, and</dt><dd><p><code class="docutils literal notranslate"><span class="pre">keys</span></code> methods.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.asdict">
<span class="sig-name descname"><span class="pre">asdict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.asdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.asdict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.delitem">
<span class="sig-name descname"><span class="pre">delitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.delitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.delitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.getitem">
<span class="sig-name descname"><span class="pre">getitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.getitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.getitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.iteritems"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.iteritems" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.iterkeys">
<span class="sig-name descname"><span class="pre">iterkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.iterkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.iterkeys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.itervalues">
<span class="sig-name descname"><span class="pre">itervalues</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.itervalues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.itervalues" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.setitem">
<span class="sig-name descname"><span class="pre">setitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.setitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.setitem" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.DictLike.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#DictLike.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.DictLike.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dict.OrderedAutoVivification">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">OrderedAutoVivification</span></span><a class="reference internal" href="_modules/utool/util_dict.html#OrderedAutoVivification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.OrderedAutoVivification" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></a></p>
<p>Implementation of perl’s autovivification feature.</p>
<p>An OrderedAutoVivification is an infinitely nested default dict of ordered
dicts.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts">http://stackoverflow.com/questions/651794/best-way-to-init-dict-of-dicts</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">AutoOrderedDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Notice that there is no KeyError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">10</span><span class="p">][</span><span class="mi">100</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">10</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;dict_ = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">dict_</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">dict_ = {0: {10: {100: None, 1: None}}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.all_dict_combinations">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">all_dict_combinations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varied_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#all_dict_combinations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.all_dict_combinations" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varied_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dict with lists of possible parameter settings</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict_list a list of dicts correpsonding to all combinations of params settings</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-all_dict_combinations</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;logdist_weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="s1">&#39;pipeline_root&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">],</span> <span class="s1">&#39;sv_on&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    {&#39;logdist_weight&#39;: 0.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: True},</span>
<span class="go">    {&#39;logdist_weight&#39;: 0.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: False},</span>
<span class="go">    {&#39;logdist_weight&#39;: 0.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: None},</span>
<span class="go">    {&#39;logdist_weight&#39;: 1.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: True},</span>
<span class="go">    {&#39;logdist_weight&#39;: 1.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: False},</span>
<span class="go">    {&#39;logdist_weight&#39;: 1.0, &#39;pipeline_root&#39;: &#39;vsmany&#39;, &#39;sv_on&#39;: None},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.all_dict_combinations_lbls">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">all_dict_combinations_lbls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varied_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_singles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_lone_singles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#all_dict_combinations_lbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.all_dict_combinations_lbls" title="Permalink to this definition"></a></dt>
<dd><p>returns a label for each variation in a varydict.</p>
<p>It tries to not be oververbose and returns only what parameters are varied
in each label.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-all_dict_combinations_lbls
python -m utool.util_dict –exec-all_dict_combinations_lbls:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;logdist_weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="s1">&#39;pipeline_root&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">],</span> <span class="s1">&#39;sv_on&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comb_lbls</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">all_dict_combinations_lbls</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">comb_lbls</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &#39;logdist_weight=0.0,sv_on=True&#39;,</span>
<span class="go">    &#39;logdist_weight=0.0,sv_on=False&#39;,</span>
<span class="go">    &#39;logdist_weight=0.0,sv_on=None&#39;,</span>
<span class="go">    &#39;logdist_weight=1.0,sv_on=True&#39;,</span>
<span class="go">    &#39;logdist_weight=1.0,sv_on=False&#39;,</span>
<span class="go">    &#39;logdist_weight=1.0,sv_on=None&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;logdist_weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="s1">&#39;pipeline_root&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;vsmany&#39;</span><span class="p">],</span> <span class="s1">&#39;sv_on&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_lone_singles</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comb_lbls</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations_lbls</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">,</span> <span class="n">allow_lone_singles</span><span class="o">=</span><span class="n">allow_lone_singles</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">comb_lbls</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &#39;logdist_weight=0.0,pipeline_root=vsmany,sv_on=True&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.all_dict_combinations_ordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">all_dict_combinations_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varied_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#all_dict_combinations_ordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.all_dict_combinations_ordered" title="Permalink to this definition"></a></dt>
<dd><p>Same as all_dict_combinations but preserves order</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.assert_keys_are_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">assert_keys_are_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#assert_keys_are_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.assert_keys_are_subset" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assert_keys_are_subset</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dict2 = {4:3, 3:3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.augdict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">augdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#augdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.augdict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.build_conflict_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">build_conflict_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#build_conflict_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.build_conflict_dict" title="Permalink to this definition"></a></dt>
<dd><p>Builds dict where a list of values is associated with more than one key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>val_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>key_to_vals</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-build_conflict_dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span>  <span class="mi">1</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_to_vals</span> <span class="o">=</span> <span class="n">build_conflict_dict</span><span class="p">(</span><span class="n">key_list</span><span class="p">,</span> <span class="n">val_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">key_to_vals</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    1: [&#39;a&#39;, &#39;e&#39;],</span>
<span class="go">    2: [&#39;b&#39;, &#39;c&#39;],</span>
<span class="go">    3: [&#39;d&#39;],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.count_dict_vals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">count_dict_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_of_lists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#count_dict_vals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.count_dict_vals" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.delete_dict_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">delete_dict_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#delete_dict_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.delete_dict_keys" title="Permalink to this definition"></a></dt>
<dd><p>Removes items from a dictionary inplace. Keys that do not exist are
ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – dict like object with a __del__ attribute</p></li>
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of keys that specify the items to remove</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-delete_dict_keys</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;bread&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;churches&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;very small rocks&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;duck&#39;</span><span class="p">,</span> <span class="s1">&#39;bread&#39;</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delete_dict_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;churches&#39;: 1, &#39;very small rocks&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.delete_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">delete_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.delete_keys" title="Permalink to this definition"></a></dt>
<dd><p>Removes items from a dictionary inplace. Keys that do not exist are
ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – dict like object with a __del__ attribute</p></li>
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of keys that specify the items to remove</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-delete_dict_keys</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;bread&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;churches&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;very small rocks&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;duck&#39;</span><span class="p">,</span> <span class="s1">&#39;bread&#39;</span><span class="p">,</span> <span class="s1">&#39;cider&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delete_dict_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;churches&#39;: 1, &#39;very small rocks&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.depth_atleast">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">depth_atleast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#depth_atleast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.depth_atleast" title="Permalink to this definition"></a></dt>
<dd><p>Returns if depth of list is at least <code class="docutils literal notranslate"><span class="pre">depth</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>depth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-depth_atleast –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[</span><span class="mi">0</span><span class="p">]]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">depth_atleast</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">depth</span><span class="p">)</span> <span class="k">for</span> <span class="n">depth</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_accum">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_accum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dict_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_accum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_accum" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_assign">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_assign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_assign" title="Permalink to this definition"></a></dt>
<dd><p>simple method for assigning or setting values with a similar interface
to dict_take</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_filter_nones">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_filter_nones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_filter_nones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_filter_nones" title="Permalink to this definition"></a></dt>
<dd><p>Removes None values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-dict_filter_nones</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># fails on python 3 because of dict None order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;four&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="n">dict_filter_nones</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict2_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{None: &#39;fun&#39;, 2: &#39;blue&#39;, 3: &#39;four&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_find_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_find_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_find_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_find_keys" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>val_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>found_dict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-dict_find_keys</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hierarchical&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;kdtree&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;composite&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;autotuned&#39;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span> <span class="s1">&#39;saved&#39;</span><span class="p">:</span> <span class="mi">254</span><span class="p">,</span> <span class="s1">&#39;kmeans&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;lsh&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;kdtree_single&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_dict</span> <span class="o">=</span> <span class="n">dict_find_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">val_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">map_vals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">found_dict</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{1: [&#39;default&#39;, &#39;kdtree&#39;]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_find_other_sameval_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_find_other_sameval_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_find_other_sameval_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_find_other_sameval_keys" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hierarchical&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;kdtree&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;composite&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;autotuned&#39;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span> <span class="s1">&#39;saved&#39;</span><span class="p">:</span> <span class="mi">254</span><span class="p">,</span> <span class="s1">&#39;kmeans&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s1">&#39;lsh&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;kdtree_single&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_dict</span> <span class="o">=</span> <span class="n">dict_find_keys</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">val_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_hist">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_hist" title="Permalink to this definition"></a></dt>
<dd><p>Builds a histogram of items in item_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list with hashable items (usually containing duplicates)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>dictionary where the keys are items in item_list, and the values</dt><dd><p>are the number of times the item appears in item_list.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-dict_hist</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">1232</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">1232</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">900</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hist_</span> <span class="o">=</span> <span class="n">dict_hist</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">hist_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{1: 1, 2: 4, 39: 1, 900: 3, 1232: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_hist_cumsum">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_hist_cumsum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hist_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_hist_cumsum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_hist_cumsum" title="Permalink to this definition"></a></dt>
<dd><p>VERY HACKY</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_intersection">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_op=&lt;built-in</span> <span class="pre">function</span> <span class="pre">add&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_intersection" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>dict2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>combine</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Combines keys only if the values are equal if False else
values are combined using combine_op (default = False)</p></li>
<li><p><strong>combine_op</strong> (<em>func</em>) – (default = op.add)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-dict_intersection</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combine</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">dict_intersection</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">,</span> <span class="n">combine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mergedict_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mergedict_ = {&#39;b&#39;: 2, &#39;c&#39;: 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_isect">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_isect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_op=&lt;built-in</span> <span class="pre">function</span> <span class="pre">add&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.dict_isect" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>dict2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>combine</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Combines keys only if the values are equal if False else
values are combined using combine_op (default = False)</p></li>
<li><p><strong>combine_op</strong> (<em>func</em>) – (default = op.add)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-dict_intersection</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combine</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">dict_intersection</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">,</span> <span class="n">combine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mergedict_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mergedict_ = {&#39;b&#39;: 2, &#39;c&#39;: 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_isect_combine">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_isect_combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_op=&lt;built-in</span> <span class="pre">function</span> <span class="pre">add&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_isect_combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_isect_combine" title="Permalink to this definition"></a></dt>
<dd><p>Intersection of dict keys and combination of dict values</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_keysubset">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_keysubset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_keysubset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_keysubset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_set_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_set_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_dicts_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colkey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_set_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_set_column" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_setdiff">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_setdiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_setdiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_setdiff" title="Permalink to this definition"></a></dt>
<dd><p>returns a copy of dict_ without keys in the negative_keys list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>negative_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_stack">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_stack" title="Permalink to this definition"></a></dt>
<dd><p>stacks values from two dicts into a new dict where the values are list of
the input values. the keys are the same.</p>
<p>DEPRICATE in favor of dict_stack2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dict_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of dicts with similar keys</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict dict_stacked</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-dict_stack
python -m utool.util_dict –test-dict_stack:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack</span><span class="p">([</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, 2], &#39;b&#39;: [2, 3], &#39;c&#39;: [4]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get equivalent behavior with dict_stack2?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Almost, as long as None is not part of the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked_</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">([</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">ut</span><span class="o">.</span><span class="n">filter_Nones</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">dict_stacked_</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, 2], &#39;b&#39;: [2, 3], &#39;c&#39;: [4]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_stack2">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_stack2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_stack2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_stack2" title="Permalink to this definition"></a></dt>
<dd><p>Stacks vals from a list of dicts into a dict of lists. Inserts Nones in
place of empty items to preserve order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of dicts</p></li>
<li><p><strong>key_suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stacked_dict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Usual case: multiple dicts as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, 2], &#39;b&#39;: [2, 3], &#39;c&#39;: [None, 4]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: one dict as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1], &#39;b&#39;: [2]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: zero dicts as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: empty dicts as input</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[{}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: one dict is empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [[1, 2], None], &#39;b&#39;: [[2, 3], None]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: disjoint dicts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dict1_</span><span class="p">,</span> <span class="n">dict2_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [[1, 2], None], &#39;b&#39;: [[2, 3], None], &#39;c&#39;: [None, 4]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corner case: 3 dicts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_stacked</span> <span class="o">=</span> <span class="n">dict_stack2</span><span class="p">(</span><span class="n">dict_list</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">dict_stacked</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [1, None, None, None], &#39;b&#39;: [None, 1, None, 2], &#39;c&#39;: [None, None, 1, None]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_subset" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>subset dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subdict_</span> <span class="o">=</span> <span class="n">dict_subset</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">subdict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">newlines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;K&#39;: 3, &#39;dcvs_clip_max&#39;: 0.2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_take">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_take" title="Permalink to this definition"></a></dt>
<dd><p>get multiple values from a dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_take_asnametup">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_take_asnametup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_NamedTup'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_asnametup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_take_asnametup" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_take_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_take_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_dicts_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colkey</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_take_column" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_take_gen">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_take_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_gen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_take_gen" title="Permalink to this definition"></a></dt>
<dd><p>generate multiple values from a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Varargs:</dt><dd><p>d: if specified is default for key errors</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-dict_take_gen</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dict_take_gen</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, None, None]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dict_take_gen</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;did not get key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;correctly got key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">correctly got key error</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_take_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_take_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.dict_take_list" title="Permalink to this definition"></a></dt>
<dd><p>get multiple values from a dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_take_pop">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_take_pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_take_pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_take_pop" title="Permalink to this definition"></a></dt>
<dd><p>like dict_take but pops values off</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-dict_take_pop</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;other&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;another&#39;</span><span class="p">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;before: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dict_take_pop</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;after: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, None, None]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;before: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dict_take_pop</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">keys</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;did not get key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;correctly got key error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;after: &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">dict_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">correctly got key error</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_to_keyvals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_to_keyvals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_to_keyvals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_to_keyvals" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_union">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_union" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_union2">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_union2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_union2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_union3">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_union3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_op=&lt;built-in</span> <span class="pre">function</span> <span class="pre">add&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_union3" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>dict2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>combine_op</strong> (<em>func</em>) – (default=op.add)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-dict_union3</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combine_op</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">add</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">dict_union3</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">,</span> <span class="n">combine_op</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mergedict_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mergedict_ = {&#39;a&#39;: 1, &#39;b&#39;: 4, &#39;c&#39;: 6, &#39;d&#39;: 9, &#39;e&#39;: 21, &#39;f&#39;: 42}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_union_combine">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_union_combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_op=&lt;built-in</span> <span class="pre">function</span> <span class="pre">add&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=NoParam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default2=NoParam</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_union_combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_union_combine" title="Permalink to this definition"></a></dt>
<dd><p>Combine of dict keys and uses dfault value when key does not exist</p>
<p>CAREFUL WHEN USING THIS WITH REDUCE. Use dict_stack2 instead</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_update_newkeys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_update_newkeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_update_newkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_update_newkeys" title="Permalink to this definition"></a></dt>
<dd><p>Like dict.update, but does not overwrite items</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dict_where_len0">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dict_where_len0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dict_where_len0"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dict_where_len0" title="Permalink to this definition"></a></dt>
<dd><p>Accepts a dict of lists. Returns keys that have vals with no length</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dictinfo">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dictinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dictinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dictinfo" title="Permalink to this definition"></a></dt>
<dd><p>In depth debugging info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">dictinfo</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.dzip">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">dzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#dzip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.dzip" title="Permalink to this definition"></a></dt>
<dd><p>Zips elementwise pairs between list1 and list2 into a dictionary. Values
from list2 can be broadcast onto list1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<em>sequence</em>) – full sequence</p></li>
<li><p><strong>list2</strong> (<em>sequence</em>) – can either be a sequence of one item or a sequence of
equal length to <cite>list1</cite></p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>util_list.broadcast_zip</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>similar to dict(zip(list1, list2))</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict dzip</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">dzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.flatten_dict_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">flatten_dict_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#flatten_dict_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.flatten_dict_items" title="Permalink to this definition"></a></dt>
<dd><p>Flattens keys / values in a heirarchical dictionary</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flatter_dict</span> <span class="o">=</span> <span class="n">flatten_dict_items</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flatter_dict = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">flatter_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">flatter_dict = {</span>
<span class="go">    (1, 1, 1): [1],</span>
<span class="go">    (1, 2, 1): [3],</span>
<span class="go">    (1, 2, 3): [2],</span>
<span class="go">    (2, 2, 1): [4],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.flatten_dict_vals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">flatten_dict_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#flatten_dict_vals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.flatten_dict_vals" title="Permalink to this definition"></a></dt>
<dd><p>Flattens only values in a heirarchical dictionary, keys are nested.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.get_dict_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">get_dict_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#get_dict_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.get_dict_column" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary of lists</p></li>
<li><p><strong>colx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-get_dict_column</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">retdict_</span> <span class="o">=</span> <span class="n">get_dict_column</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">retdict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: [2, 0], &#39;b&#39;: [5, 3], &#39;c&#39;: [8, 6]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.get_dict_hashid">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">get_dict_hashid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#get_dict_hashid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.get_dict_hashid" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>id hash</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary">http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-get_dict_hashid
python3 -m utool.util_dict –test-get_dict_hashid</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dict_ = {&#39;a&#39;: {&#39;c&#39;: &#39;d&#39;}, 1: 143, dict: set}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dict_ = {&#39;a&#39;: {&#39;c&#39;: &#39;d&#39;}, 1: 143 } non-determenism</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashid</span> <span class="o">=</span> <span class="n">get_dict_hashid</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hashid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">mxgkepoboqjerkhb</span>
</pre></div>
</div>
<p>oegknoalkrkojumi</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.group_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">group_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#group_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.group_items" title="Permalink to this definition"></a></dt>
<dd><p>Groups a list of items by group id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – a list of the values to be grouped.
if <cite>by</cite> is None, then each item is assumed to be a
(groupid, value) pair.</p></li>
<li><p><strong>by</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – a corresponding list to group items by.
if specified, these are used as the keys to group values
in <cite>items</cite></p></li>
<li><p><strong>sorted</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True preserves the ordering of items within groups
(default = True) FIXME. the opposite is true</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>groupid_to_items: maps a groupid to a list of items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>group_indices - first part of a a more fine grained grouping algorithm
apply_gropuing - second part of a more fine grained grouping algorithm</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-group_items</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ham&#39;</span><span class="p">,</span>     <span class="s1">&#39;jam&#39;</span><span class="p">,</span>   <span class="s1">&#39;spam&#39;</span><span class="p">,</span>     <span class="s1">&#39;eggs&#39;</span><span class="p">,</span>    <span class="s1">&#39;cheese&#39;</span><span class="p">,</span> <span class="s1">&#39;bannana&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">by</span>    <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;protein&#39;</span><span class="p">,</span>  <span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;dairy&#39;</span><span class="p">,</span>  <span class="s1">&#39;fruit&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_to_items</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">group_items</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="nb">iter</span><span class="p">(</span><span class="n">by</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">groupid_to_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;dairy&#39;: [&#39;cheese&#39;], &#39;fruit&#39;: [&#39;jam&#39;, &#39;bannana&#39;], &#39;protein&#39;: [&#39;ham&#39;, &#39;spam&#39;, &#39;eggs&#39;]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.group_pairs">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">group_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#group_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.group_pairs" title="Permalink to this definition"></a></dt>
<dd><p>Groups a list of items using the first element in each pair as the item and
the second element as the groupid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pair_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of 2-tuples (item, groupid)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>groupid_to_items: maps a groupid to a list of items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>group_items</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.groupby_attr">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">groupby_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#groupby_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.groupby_attr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.groupby_tags">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">groupby_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#groupby_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.groupby_tags" title="Permalink to this definition"></a></dt>
<dd><p>case where an item can belong to multiple groups</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>tags_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>groupid_to_items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-groupby_tags</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tagged_item_list</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;meat&#39;</span><span class="p">,</span> <span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;eggs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;cheese&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dairy&#39;</span><span class="p">,</span> <span class="s1">&#39;protein&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;jam&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;banana&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;weapon&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tagged_item_list</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tagged_item_list</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_to_items</span> <span class="o">=</span> <span class="n">groupby_tags</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">tags_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupid_to_items</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">map_vals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">groupid_to_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;groupid_to_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">groupid_to_items</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">groupid_to_items = {</span>
<span class="go">    &#39;dairy&#39;: [&#39;cheese&#39;],</span>
<span class="go">    &#39;food&#39;: [&#39;banana&#39;, &#39;cheese&#39;, &#39;eggs&#39;, &#39;jam&#39;, &#39;spam&#39;],</span>
<span class="go">    &#39;fruit&#39;: [&#39;banana&#39;, &#39;jam&#39;],</span>
<span class="go">    &#39;meat&#39;: [&#39;spam&#39;],</span>
<span class="go">    &#39;protein&#39;: [&#39;cheese&#39;, &#39;eggs&#39;, &#39;spam&#39;],</span>
<span class="go">    &#39;weapon&#39;: [&#39;banana&#39;],</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_dict.hashdict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">hashdict</span></span><a class="reference internal" href="_modules/utool/util_dict.html#hashdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hashdict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p>hashable dict implementation, suitable for use as a key into
other dicts.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h1</span> <span class="o">=</span> <span class="n">hashdict</span><span class="p">({</span><span class="s2">&quot;apples&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bananas&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h2</span> <span class="o">=</span> <span class="n">hashdict</span><span class="p">({</span><span class="s2">&quot;bananas&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;mangoes&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h1</span><span class="o">+</span><span class="n">h2</span>
<span class="go">hashdict(apples=1, bananas=3, mangoes=5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="p">[</span><span class="n">h1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;salad&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="p">[</span><span class="n">h1</span><span class="p">]</span>
<span class="go">&#39;salad&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="p">[</span><span class="n">h2</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">hashdict(bananas=3, mangoes=5)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1151658/python-hashable-dicts">http://stackoverflow.com/questions/1151658/python-hashable-dicts</a>
<a class="reference external" href="http://stackoverflow.com/questions/1151658/python-hashable-dicts">http://stackoverflow.com/questions/1151658/python-hashable-dicts</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.hashdict.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Remove</span> <span class="pre">all</span> <span class="pre">items</span> <span class="pre">from</span> <span class="pre">D.</span></span></span><a class="reference internal" href="_modules/utool/util_dict.html#hashdict.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hashdict.clear" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.hashdict.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">v,</span> <span class="pre">remove</span> <span class="pre">specified</span> <span class="pre">key</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">corresponding</span> <span class="pre">value.</span></span></span><a class="reference internal" href="_modules/utool/util_dict.html#hashdict.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hashdict.pop" title="Permalink to this definition"></a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.hashdict.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#hashdict.popitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hashdict.popitem" title="Permalink to this definition"></a></dt>
<dd><p>Remove and return a (key, value) pair as a 2-tuple.</p>
<p>Pairs are returned in LIFO (last-in, first-out) order.
Raises KeyError if the dict is empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.hashdict.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#hashdict.setdefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hashdict.setdefault" title="Permalink to this definition"></a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_dict.hashdict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">**F</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Update</span> <span class="pre">D</span> <span class="pre">from</span> <span class="pre">dict/iterable</span> <span class="pre">E</span> <span class="pre">and</span> <span class="pre">F.</span></span></span><a class="reference internal" href="_modules/utool/util_dict.html#hashdict.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hashdict.update" title="Permalink to this definition"></a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.hierarchical_group_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">hierarchical_group_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupids_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#hierarchical_group_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hierarchical_group_items" title="Permalink to this definition"></a></dt>
<dd><p>Generalization of group_item. Convert a flast list of ids into a heirarchical dictionary.</p>
<p>TODO: move to util_dict</p>
<dl class="simple">
<dt>Reference:</dt><dd><p><a class="reference external" href="http://stackoverflow.com/questions/10193235/python-translate-a-table-to-a-hierarchical-dictionary">http://stackoverflow.com/questions/10193235/python-translate-a-table-to-a-hierarchical-dictionary</a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>groupids_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-hierarchical_group_items</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">tree = {1: [1, 2], 2: [3, 4]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">tree = {</span>
<span class="go">    1: {1: [7], 2: [3], 3: [1, 5]},</span>
<span class="go">    2: {1: [6, 8], 2: [2, 4]},</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">tree = {</span>
<span class="go">    1: {</span>
<span class="go">        1: {1: [1]},</span>
<span class="go">        2: {1: [3], 3: [2]},</span>
<span class="go">    },</span>
<span class="go">    2: {</span>
<span class="go">        2: {1: [4]},</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.hierarchical_map_vals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">hierarchical_map_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#hierarchical_map_vals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.hierarchical_map_vals" title="Permalink to this definition"></a></dt>
<dd><p>node is a dict tree like structure with leaves of type list</p>
<p>TODO: move to util_dict</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-hierarchical_map_vals</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">len_tree = {</span>
<span class="go">    1: {1: 1, 2: 1, 3: 2},</span>
<span class="go">    2: {1: 2, 2: 2},</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">depth</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="nb">int</span><span class="p">((</span><span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1">#nonflat_levelids = [([total + 2 * x + 1] * num + [total + 2 * x + 2] * num) for x in range(num2)]</span>
<span class="gp">... </span>    <span class="n">nonflat_levelids</span> <span class="o">=</span> <span class="p">[([</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">)]</span>
<span class="gp">... </span>    <span class="n">levelids</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">nonflat_levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">groupids_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">total</span> <span class="o">+=</span> <span class="n">num2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">... </span>    <span class="n">num</span> <span class="o">//=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;groupids_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;depth = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_tree_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">iflatten_dict_values</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flat_tree_values = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;flat_tree_keys = &#39; + str(list(ut.iflatten_dict_keys(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;iflatten_dict_items = &#39; + str(list(ut.iflatten_dict_items(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.hmap_vals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">hmap_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.hmap_vals" title="Permalink to this definition"></a></dt>
<dd><p>node is a dict tree like structure with leaves of type list</p>
<p>TODO: move to util_dict</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-hierarchical_map_vals</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span>     <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">len_tree = {</span>
<span class="go">    1: {1: 1, 2: 1, 3: 2},</span>
<span class="go">    2: {1: 2, 2: 2},</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groupids_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">depth</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span> <span class="o">//</span> <span class="nb">int</span><span class="p">((</span><span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1">#nonflat_levelids = [([total + 2 * x + 1] * num + [total + 2 * x + 2] * num) for x in range(num2)]</span>
<span class="gp">... </span>    <span class="n">nonflat_levelids</span> <span class="o">=</span> <span class="p">[([</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">)]</span>
<span class="gp">... </span>    <span class="n">levelids</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">nonflat_levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">groupids_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">levelids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">total</span> <span class="o">+=</span> <span class="n">num2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">... </span>    <span class="n">num</span> <span class="o">//=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;groupids_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;depth = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">groupids_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_group_items</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="n">groupids_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_tree_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">iflatten_dict_values</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">item_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flat_tree_values = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">flat_tree_values</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;flat_tree_keys = &#39; + str(list(ut.iflatten_dict_keys(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;iflatten_dict_items = &#39; + str(list(ut.iflatten_dict_items(tree))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_tree</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hierarchical_map_vals</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;len_tree = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">len_tree</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.iflatten_dict_values">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">iflatten_dict_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#iflatten_dict_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.iflatten_dict_values" title="Permalink to this definition"></a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.invert_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">invert_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_vals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#invert_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.invert_dict" title="Permalink to this definition"></a></dt>
<dd><p>Reverses the keys and values in a dictionary. Set unique_vals to False if
the values in the dict are not unique.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – dictionary</p></li>
<li><p><strong>unique_vals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if False, inverted keys are returned in a list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>inverted_dict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-invert_dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">invert_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">inverted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{1: &#39;a&#39;, 2: &#39;b&#39;}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;good&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;junk&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;UNKNOWN&#39;</span><span class="p">,)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">invert_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">inverted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;good&#39;: 2, &#39;ok&#39;: 1, &#39;junk&#39;: 0, &#39;UNKNOWN&#39;: None}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">invert_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">unique_vals</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">map_dict_vals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">,</span> <span class="n">inverted_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">inverted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{0: [&#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;], 1: [&#39;a&#39;], 2: [&#39;f&#39;]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.is_dicteq">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">is_dicteq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">almosteq_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#is_dicteq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.is_dicteq" title="Permalink to this definition"></a></dt>
<dd><p>Checks to see if dicts are the same. Performs recursion. Handles numpy</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.iter_all_dict_combinations_ordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">iter_all_dict_combinations_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varied_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#iter_all_dict_combinations_ordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.iter_all_dict_combinations_ordered" title="Permalink to this definition"></a></dt>
<dd><p>Same as all_dict_combinations but preserves order</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.iteritems_sorted">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">iteritems_sorted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#iteritems_sorted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.iteritems_sorted" title="Permalink to this definition"></a></dt>
<dd><p>change to iteritems ordered</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.keys_sorted_by_value">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">keys_sorted_by_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#keys_sorted_by_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.keys_sorted_by_value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.map_dict_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">map_dict_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#map_dict_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.map_dict_keys" title="Permalink to this definition"></a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – a function</p></li>
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>newdict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-map_dict_keys</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">ord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_keys</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">map_dict_keys</span><span class="p">,</span> <span class="nb">len</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{97: [1, 2, 3], 98: []}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.map_dict_vals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">map_dict_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#map_dict_vals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.map_dict_vals" title="Permalink to this definition"></a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – a function</p></li>
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>newdict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-map_dict_vals</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_vals</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 3, &#39;b&#39;: 0}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.map_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">map_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.map_keys" title="Permalink to this definition"></a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – a function</p></li>
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>newdict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-map_dict_keys</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">ord</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_keys</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="n">map_dict_keys</span><span class="p">,</span> <span class="nb">len</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{97: [1, 2, 3], 98: []}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.map_vals">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">map_vals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_dict.map_vals" title="Permalink to this definition"></a></dt>
<dd><p>applies a function to each of the keys in a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – a function</p></li>
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>newdict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-map_dict_vals</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newdict</span> <span class="o">=</span> <span class="n">map_dict_vals</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">dict_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 3, &#39;b&#39;: 0}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.merge_dicts">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">merge_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#merge_dicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.merge_dicts" title="Permalink to this definition"></a></dt>
<dd><p>add / concatenate / union / join / merge / combine dictionaries</p>
<p>Copies the first dictionary given and then repeatedly calls update using
the rest of the dicts given in args. Duplicate keys will receive the last
value specified the list of dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-merge_dicts</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/38987/how-can-i-merge-two-python-dictionaries-in-a-single-expression">http://stackoverflow.com/questions/38987/how-can-i-merge-two-python-dictionaries-in-a-single-expression</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mergedict_</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mergedict_</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">newlines</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 1, &#39;b&#39;: 3, &#39;c&#39;: 4}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.move_odict_item">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">move_odict_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">odict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newpos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#move_odict_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.move_odict_item" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/22663966/changing-order-of-ordered-dictionary-in-python">http://stackoverflow.com/questions/22663966/changing-order-of-ordered-dictionary-in-python</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-move_odict_item</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odict</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_odict_item</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">odict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;b&#39;: 2, &#39;e&#39;: 5}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.order_dict_by">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">order_dict_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#order_dict_by"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.order_dict_by" title="Permalink to this definition"></a></dt>
<dd><p>Reorders items in a dictionary according to a custom key order</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
<li><p><strong>key_order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – custom key order</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sorted_dict</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –exec-order_dict_by</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_order</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_dict</span> <span class="o">=</span> <span class="n">order_dict_by</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">key_order</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;sorted_dict = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">sorted_dict</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="s1">&#39;sorted_dict = {4: 4, 2: 2, 3: 3, 1: 1}&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.range_hist">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">range_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#range_hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.range_hist" title="Permalink to this definition"></a></dt>
<dd><p>Bins items into a discrete histogram by values and/or ranges.</p>
<blockquote>
<div><p>items = [1, 2, 3, 4, 5, 6, 7]
bins = [0, 1, 2, (3, float(‘inf’))]
ut.range_hist(items, bins)</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.sort_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">sort_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'keys'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#sort_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.sort_dict" title="Permalink to this definition"></a></dt>
<dd><p>sorts a dictionary by its values or its keys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
<li><p><strong>part</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – specifies to sort by keys or values</p></li>
<li><p><strong>key</strong> (<em>Optional</em><em>[</em><em>func</em><em>]</em>) – a function that takes specified part
and returns a sortable value</p></li>
<li><p><strong>reverse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (Defaults to False) - True for descinding order. False
for ascending order.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sorted dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict sort_dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="s1">&#39;vals&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_dict</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="s1">&#39;vals&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    {&#39;a&#39;: 3, &#39;b&#39;: 1, &#39;c&#39;: 2},</span>
<span class="go">    {&#39;b&#39;: 1, &#39;c&#39;: 2, &#39;a&#39;: 3},</span>
<span class="go">    {&#39;a&#39;: 3, &#39;c&#39;: 2, &#39;b&#39;: 1},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.update_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">update_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#update_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.update_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_dict.update_existing">
<span class="sig-prename descclassname"><span class="pre">utool.util_dict.</span></span><span class="sig-name descname"><span class="pre">update_existing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assert_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iswarning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_dict.html#update_existing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_dict.update_existing" title="Permalink to this definition"></a></dt>
<dd><p>updates vals in dict1 using vals from dict2 only if the
key is already in dict1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>dict2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>copy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if true modifies dictionary in place (default = False)</p></li>
<li><p><strong>assert_exists</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True throws error if new key specified (default = False)</p></li>
<li><p><strong>alias_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – dictionary of alias keys for dict2 (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict - updated dictionary</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_dict –test-update_existing</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_dict</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict1_</span> <span class="o">=</span> <span class="n">update_existing</span><span class="p">(</span><span class="n">dict1</span><span class="p">,</span> <span class="n">dict2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;d&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dict1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dict1</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dict1_</span> <span class="ow">is</span> <span class="n">dict1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.util_func">
<span id="utool-util-func-module"></span><h2>utool.util_func module<a class="headerlink" href="#module-utool.util_func" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_func.compose_functions">
<span class="sig-prename descclassname"><span class="pre">utool.util_func.</span></span><span class="sig-name descname"><span class="pre">compose_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">func_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_func.html#compose_functions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_func.compose_functions" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Referenes:</dt><dd><p><a class="reference external" href="https://mathieularose.com/function-composition-in-python/">https://mathieularose.com/function-composition-in-python/</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_func.identity">
<span class="sig-prename descclassname"><span class="pre">utool.util_func.</span></span><span class="sig-name descname"><span class="pre">identity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_func.html#identity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_func.identity" title="Permalink to this definition"></a></dt>
<dd><p>identity function</p>
</dd></dl>

</section>
<section id="module-utool.util_git">
<span id="utool-util-git-module"></span><h2>utool.util_git module<a class="headerlink" href="#module-utool.util_git" title="Permalink to this headline"></a></h2>
<p>TODO: export from utool</p>
<blockquote>
<div><p>python -m utool.util_inspect check_module_usage –pat=”util_git.py”</p>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_git.Repo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_git.</span></span><span class="sig-name descname"><span class="pre">Repo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pythoncmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Handles a Python module repository</p>
<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.active_branch">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_branch</span></span><a class="headerlink" href="#utool.util_git.Repo.active_branch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.active_remote">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_remote</span></span><a class="headerlink" href="#utool.util_git.Repo.active_remote" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.active_tracking_branch_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_tracking_branch_name</span></span><a class="headerlink" href="#utool.util_git.Repo.active_tracking_branch_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.active_tracking_remote_head">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_tracking_remote_head</span></span><a class="headerlink" href="#utool.util_git.Repo.active_tracking_remote_head" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.add_script">
<span class="sig-name descname"><span class="pre">add_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.add_script"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.add_script" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.aliases">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aliases</span></span><a class="headerlink" href="#utool.util_git.Repo.aliases" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.as_gitpython">
<span class="sig-name descname"><span class="pre">as_gitpython</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.as_gitpython"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.as_gitpython" title="Permalink to this definition"></a></dt>
<dd><p>pip install gitpython</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.branches">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">branches</span></span><a class="headerlink" href="#utool.util_git.Repo.branches" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.change_url_format">
<span class="sig-name descname"><span class="pre">change_url_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ssh'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.change_url_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.change_url_format" title="Permalink to this definition"></a></dt>
<dd><p>Changes the url format for committing</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.chdir_context">
<span class="sig-name descname"><span class="pre">chdir_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.chdir_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.chdir_context" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.check_cpp_build">
<span class="sig-name descname"><span class="pre">check_cpp_build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.check_cpp_build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.check_cpp_build" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.check_importable">
<span class="sig-name descname"><span class="pre">check_importable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.check_importable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.check_importable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.check_installed">
<span class="sig-name descname"><span class="pre">check_installed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.check_installed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.check_installed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.checkout2">
<span class="sig-name descname"><span class="pre">checkout2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.checkout2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.checkout2" title="Permalink to this definition"></a></dt>
<dd><p>Checkout <cite>branch</cite> and automatically overwrites conflict files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.clone" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.custom_build">
<span class="sig-name descname"><span class="pre">custom_build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.custom_build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.custom_build" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.custom_install">
<span class="sig-name descname"><span class="pre">custom_install</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.custom_install"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.custom_install" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.get_branch_remote">
<span class="sig-name descname"><span class="pre">get_branch_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.get_branch_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.get_branch_remote" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.get_script">
<span class="sig-name descname"><span class="pre">get_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.get_script"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.get_script" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.has_script">
<span class="sig-name descname"><span class="pre">has_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.has_script"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.has_script" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.infer_info">
<span class="sig-name descname"><span class="pre">infer_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.infer_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.infer_info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.is_cloned">
<span class="sig-name descname"><span class="pre">is_cloned</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.is_cloned"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.is_cloned" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.is_gitrepo">
<span class="sig-name descname"><span class="pre">is_gitrepo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.is_gitrepo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.is_gitrepo" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.is_owner">
<span class="sig-name descname"><span class="pre">is_owner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.is_owner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.is_owner" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sudo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.issue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.issue" title="Permalink to this definition"></a></dt>
<dd><p>issues a command on a repo</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_git –exec-repocmd</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">ut</span><span class="p">,</span> <span class="n">prefer_pkg</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;git status&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sudo</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repocmd</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">sudo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.modname">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">modname</span></span><a class="headerlink" href="#utool.util_git.Repo.modname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.owner">
<span class="sig-name descname"><span class="pre">owner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.owner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.owner" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.pull">
<span class="sig-name descname"><span class="pre">pull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">has_submods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.pull"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.pull" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.pull2">
<span class="sig-name descname"><span class="pre">pull2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.pull2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.pull2" title="Permalink to this definition"></a></dt>
<dd><p>Pulls and automatically overwrites conflict files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.python_develop">
<span class="sig-name descname"><span class="pre">python_develop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.python_develop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.python_develop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.remotes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remotes</span></span><a class="headerlink" href="#utool.util_git.Repo.remotes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.rename_branch">
<span class="sig-name descname"><span class="pre">rename_branch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_branch_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_branch_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'origin'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.rename_branch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.rename_branch" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1526794/rename?answertab=votes#tab-top">http://stackoverflow.com/questions/1526794/rename?answertab=votes#tab-top</a>
<a class="reference external" href="http://stackoverflow.com/questions/9524933/renaming-a-branch-in-github">http://stackoverflow.com/questions/9524933/renaming-a-branch-in-github</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_git –test-rename_branch –old=mymaster –new=wbia_master</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--repo&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remote</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--remote&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old_branch_name</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--old&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_branch_name</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--new&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rename_branch</span><span class="p">(</span><span class="n">old_branch_name</span><span class="p">,</span> <span class="n">new_branch_name</span><span class="p">,</span> <span class="n">repo</span><span class="p">,</span> <span class="n">remote</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.Repo.reponame">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reponame</span></span><a class="headerlink" href="#utool.util_git.Repo.reponame" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.reset_branch_to_remote">
<span class="sig-name descname"><span class="pre">reset_branch_to_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.reset_branch_to_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.reset_branch_to_remote" title="Permalink to this definition"></a></dt>
<dd><p>does a git reset –hard to whatever remote the branch is assigned to</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.resolve_conflicts">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">resolve_conflicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.resolve_conflicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.resolve_conflicts" title="Permalink to this definition"></a></dt>
<dd><p>Parses merge conflits and takes either version</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_git.Repo.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.set_branch_remote">
<span class="sig-name descname"><span class="pre">set_branch_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_branch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.set_branch_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.set_branch_remote" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.Repo.short_status">
<span class="sig-name descname"><span class="pre">short_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#Repo.short_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.Repo.short_status" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_git short_status</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">Repo</span><span class="p">(</span><span class="n">dpath</span><span class="o">=</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">short_status</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_git.RepoManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_git.</span></span><span class="sig-name descname"><span class="pre">RepoManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo_urls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permitted_repos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pythoncmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Batch git operations on multiple repos</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.add_repo">
<span class="sig-name descname"><span class="pre">add_repo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.add_repo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.add_repo" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.add_repos">
<span class="sig-name descname"><span class="pre">add_repos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo_urls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.add_repos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.add_repos" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.check_cpp_build">
<span class="sig-name descname"><span class="pre">check_cpp_build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.check_cpp_build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.check_cpp_build" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.check_importable">
<span class="sig-name descname"><span class="pre">check_importable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.check_importable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.check_importable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.check_installed">
<span class="sig-name descname"><span class="pre">check_installed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.check_installed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.check_installed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.custom_build">
<span class="sig-name descname"><span class="pre">custom_build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.custom_build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.custom_build" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.custom_install">
<span class="sig-name descname"><span class="pre">custom_install</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.custom_install"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.custom_install" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.ensure">
<span class="sig-name descname"><span class="pre">ensure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.ensure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.ensure" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sudo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.issue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.issue" title="Permalink to this definition"></a></dt>
<dd><p>Runs a command on all of managed repos</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.only_with_pysetup">
<span class="sig-name descname"><span class="pre">only_with_pysetup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.only_with_pysetup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.only_with_pysetup" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.repo_dirs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">repo_dirs</span></span><a class="headerlink" href="#utool.util_git.RepoManager.repo_dirs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.repo_urls">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">repo_urls</span></span><a class="headerlink" href="#utool.util_git.RepoManager.repo_urls" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_git.RepoManager.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_git.RepoManager.union">
<span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#RepoManager.union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.RepoManager.union" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_git.git_sequence_editor_squash">
<span class="sig-prename descclassname"><span class="pre">utool.util_git.</span></span><span class="sig-name descname"><span class="pre">git_sequence_editor_squash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#git_sequence_editor_squash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.git_sequence_editor_squash" title="Permalink to this definition"></a></dt>
<dd><p>squashes wip messages</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_git –exec-git_sequence_editor_squash</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_git</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--fpath&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">git_sequence_editor_squash</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 852aa05 better doctest for tips</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 3c779b8 wip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 02bc21d wip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 1853828 Fixed root tablename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 9d50233 doctest updates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 66230a5 wip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick c612e98 wip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick b298598 Fixed tablename error</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 1120a87 wip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick f6c4838 wip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    pick 7f92575 wip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Notes</p>
<p># <a class="reference external" href="http://stackoverflow.com/questions/8226278/git-alias-to-squash-all-commits-with-a-particular-commit-message">http://stackoverflow.com/questions/8226278/git-alias-to-squash-all-commits-with-a-particular-commit-message</a>
# Can do interactively with this. Can it be done automatically and pay attention to
# Timestamps etc?
git rebase –interactive HEAD~40 –autosquash
git rebase –interactive $(git merge-base HEAD master) –autosquash</p>
<p># Lookbehind correct version
%s/([a-z]* [a-z0-9]* wipn)&#64;&lt;=pick ([a-z0-9]*) wip/squash 2 wip/gc</p>
<p># THE FULL NON-INTERACTIVE AUTOSQUASH SCRIPT
# TODO: Dont squash if there is a one hour timedelta between commits</p>
<dl class="simple">
<dt>GIT_EDITOR=”cat $1” GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </dt><dd><p>–fpath $1” git rebase -i $(git rev-list HEAD | tail -n 1) –autosquash –no-verify</p>
</dd>
<dt>GIT_EDITOR=”cat $1” GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </dt><dd><p>–fpath $1” git rebase -i HEAD~10 –autosquash –no-verify</p>
</dd>
<dt>GIT_EDITOR=”cat $1” GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash </dt><dd><p>–fpath $1” git rebase -i $(git merge-base HEAD master) –autosquash –no-verify</p>
</dd>
</dl>
<p># 14d778fa30a93f85c61f34d09eddb6d2cafd11e2
# c509a95d4468ebb61097bd9f4d302367424772a3
# b0ffc26011e33378ee30730c5e0ef1994bfe1a90
# GIT_SEQUENCE_EDITOR=&lt;script&gt; git rebase -i &lt;params&gt;
# GIT_SEQUENCE_EDITOR=”echo ‘FOOBAR $1’ ” git rebase -i HEAD~40 –autosquash
# git checkout master
# git branch -D tmp
# git checkout -b tmp
# option to get the tail commit
$(git rev-list HEAD | tail -n 1)
# GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash #     –fpath $1” git rebase -i HEAD~40 –autosquash
# GIT_SEQUENCE_EDITOR=”python -m utool.util_git –exec-git_sequence_editor_squash #     –fpath $1” git rebase -i HEAD~40 –autosquash –no-verify
&lt;params&gt;</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_git.std_build_command">
<span class="sig-prename descclassname"><span class="pre">utool.util_git.</span></span><span class="sig-name descname"><span class="pre">std_build_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_git.html#std_build_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_git.std_build_command" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE
My standard build script names.</p>
<p>Calls mingw_build.bat on windows and unix_build.sh  on unix</p>
</dd></dl>

</section>
<section id="module-utool.util_grabdata">
<span id="utool-util-grabdata-module"></span><h2>utool.util_grabdata module<a class="headerlink" href="#module-utool.util_grabdata" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.archive_files">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">archive_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">archive_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">small</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowZip64</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">common_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#archive_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.archive_files" title="Permalink to this definition"></a></dt>
<dd><p>Adds the files in <cite>fpath_list</cite> to an zip/tar archive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>archive_fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to zipfile to create</p></li>
<li><p><strong>fpath_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – path of files to add to the zipfile</p></li>
<li><p><strong>small</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True uses compression but the zipfile will take more
time to write</p></li>
<li><p><strong>allowZip64</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – use if a file is over 2GB</p></li>
<li><p><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag(default = True)</p></li>
<li><p><strong>common_prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/2/library/zipfile.html">https://docs.python.org/2/library/zipfile.html</a></p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –test-archive_files</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">archive_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;testarchive.zip&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># remove an existing test archive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">),</span> <span class="s1">&#39;archive should not exist&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">TESTIMG_URL_DICT</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">small</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allowZip64</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">overwrite</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">archive_files</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">,</span> <span class="n">fpath_list</span><span class="p">,</span> <span class="n">small</span><span class="p">,</span> <span class="n">allowZip64</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exists</span><span class="p">(</span><span class="n">archive_fpath</span><span class="p">),</span> <span class="s1">&#39;archive should exist&#39;</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><p># <a class="reference external" href="http://superuser.com/questions/281573/best-options-compressing-files-7-zip">http://superuser.com/questions/281573/best-options-compressing-files-7-zip</a>
# Create a small 7zip archive
7z a -t7z -m0=lzma -mx=9 -mfb=64 -md=32m -ms=on archive.7z dir1
7z a -t7z -m0=lzma -mx=9 -mfb=64 -md=32m -ms=on wbia-linux-binary.7z wbia</p>
<p># Create a small zip archive
7za a -mm=Deflate -mfb=258 -mpass=15 -r wbia-linux-binary.zip wbia</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.clean_dropbox_link">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">clean_dropbox_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dropbox_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#clean_dropbox_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.clean_dropbox_link" title="Permalink to this definition"></a></dt>
<dd><p>Dropbox links should be en-mass downloaed from dl.dropbox</p>
<p>DEPRICATE?</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dropbox_url</span> <span class="o">=</span> <span class="s1">&#39;www.dropbox.com/s/123456789abcdef/foobar.zip?dl=0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cleaned_url</span> <span class="o">=</span> <span class="n">clean_dropbox_link</span><span class="p">(</span><span class="n">dropbox_url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cleaned_url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">dl.dropbox.com/s/123456789abcdef/foobar.zip</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.clear_test_img_cache">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">clear_test_img_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#clear_test_img_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.clear_test_img_cache" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –test-clear_test_img_cache</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testimg_fpath</span> <span class="o">=</span> <span class="n">clear_test_img_cache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">testimg_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.download_url">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">download_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spoof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iri_fallback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#download_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.download_url" title="Permalink to this definition"></a></dt>
<dd><p>downloads a url to a filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – url to download</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to download to. Defaults to basename of url</p></li>
<li><p><strong>spoof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True pretends to by Firefox</p></li>
<li><p><strong>iri_fallback</strong> – falls back to requests get call if there is a UnicodeError</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://blog.moleculea.com/2012/10/04/urlretrieve-progres-indicator/">http://blog.moleculea.com/2012/10/04/urlretrieve-progres-indicator/</a>
<a class="reference external" href="http://stackoverflow.com/questions/15644964/python-progress-bar-and-downloads">http://stackoverflow.com/questions/15644964/python-progress-bar-and-downloads</a>
<a class="reference external" href="http://stackoverflow.com/questions/16694907/how-to-download-large-file-in-python-with-requests-py">http://stackoverflow.com/questions/16694907/how-to-download-large-file-in-python-with-requests-py</a></p>
<div class="admonition-todo admonition" id="id8">
<p class="admonition-title">Todo</p>
<p>Delete any partially downloaded files</p>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://www.jrsoftware.org/download.php/ispack.exe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">download_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="go">ispack.exe</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.experiment_download_multiple_urls">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">experiment_download_multiple_urls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#experiment_download_multiple_urls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.experiment_download_multiple_urls" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1112343/capture-sigint-in-python">http://stackoverflow.com/questions/1112343/capture-sigint-in-python</a>
<a class="reference external" href="http://stackoverflow.com/questions/16694907/download-large-file-requests">http://stackoverflow.com/questions/16694907/download-large-file-requests</a>
GracefulInterruptHandler</p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">signal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">signal_handler</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You pressed Ctrl+C!&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">signal_handler</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Press Ctrl+C&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/random/ibeis-win32-setup-ymd_hm-2015-08-01_16-28.exe&#39;</span><span class="p">,</span>   <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/vgg.caffe.slice_0_30_None.pickle&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/L10/L10_R1/S1_L10_R1_PICT0070.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0001.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0002.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0003.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0004.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0005.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0006.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0007.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0008.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0022.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0023.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0024.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0025.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0026.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0027.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0028.JPG&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;https://snapshotserengeti.s3.msi.umn.edu/S1/B04/B04_R1/S1_B04_R1_PICT0029.JPG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.geo_locate">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">geo_locate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Unknown'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#geo_locate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.geo_locate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.get_file_local_hash">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">get_file_local_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#get_file_local_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.get_file_local_hash" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.get_prefered_browser">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">get_prefered_browser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pref_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#get_prefered_browser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.get_prefered_browser" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>browser_preferences</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>fallback</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – uses default if non of preferences work (default = True)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –test-get_prefered_browser</p>
</dd>
<dt>Ignore:</dt><dd><p>import webbrowser
webbrowser._tryorder
pref_list = [‘chrome’, ‘firefox’, ‘google-chrome’]
pref_list = [‘firefox’, ‘google-chrome’]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">browser_preferences</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;firefox&#39;</span><span class="p">,</span> <span class="s1">&#39;chrome&#39;</span><span class="p">,</span> <span class="s1">&#39;safari&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fallback</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">browser</span> <span class="o">=</span> <span class="n">get_prefered_browser</span><span class="p">(</span><span class="n">browser_preferences</span><span class="p">,</span> <span class="n">fallback</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;browser = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">browser</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.get_valid_test_imgkeys">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">get_valid_test_imgkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#get_valid_test_imgkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.get_valid_test_imgkeys" title="Permalink to this definition"></a></dt>
<dd><p>returns valid keys for grab_test_imgpath</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.grab_file_remote_hash">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">grab_file_remote_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_file_remote_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.grab_file_remote_hash" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.grab_file_url">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">grab_file_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utool'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spoof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redownload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attempts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_file_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.grab_file_url" title="Permalink to this definition"></a></dt>
<dd><p>Downloads a file and returns the local path of the file.</p>
<p>The resulting file is cached, so multiple calls to this function do not
result in multiple dowloads.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – url to the file</p></li>
<li><p><strong>appname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = ‘utool’)</p></li>
<li><p><strong>directory</strong> (<em>download_dir custom</em>) – (default = None)</p></li>
<li><p><strong>delay</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – delay time before download (default = None)</p></li>
<li><p><strong>spoof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – custom file name (default = None)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag (default = True)</p></li>
<li><p><strong>redownload</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True forces redownload of the file
(default = False)</p></li>
<li><p><strong>check_hash</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em> or </em><em>iterable</em>) – if True, defaults to checking 4 hashes
(in order): custom, md5, sha1, sha256.  These hashes are checked
for remote copies and, if found, will check the local file.  You may
also specify a list of hashes to check, for example [‘md5’, ‘sha256’]
in the specified order.  The first verified hash to be found is used
(default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>fpath - file path string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –test-grab_file_url:0
python -m utool.util_grabdata –test-grab_file_url:1</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">basename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">,</span> <span class="nb">locals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_url</span> <span class="o">=</span> <span class="s1">&#39;http://i.imgur.com/JGrqMnV.png&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redownload</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;lena.png&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lena_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">(</span><span class="n">file_url</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="n">redownload</span><span class="o">=</span><span class="n">redownload</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">lena_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">lena.png</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">,</span> <span class="nb">locals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_url</span> <span class="o">=</span> <span class="s1">&#39;https://wildbookiarepository.azureedge.net/models/detect.yolo.12.classes&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;detect.yolo.12.classes&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_file_url</span><span class="p">(</span><span class="n">file_url</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">,</span> <span class="n">check_hash</span><span class="o">=</span><span class="n">check_hash</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.grab_s3_contents">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">grab_s3_contents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_access_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_secret_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_s3_contents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.grab_s3_contents" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.grab_selenium_chromedriver">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">grab_selenium_chromedriver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">redownload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_selenium_chromedriver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.grab_selenium_chromedriver" title="Permalink to this definition"></a></dt>
<dd><p>Automatically download selenium chrome driver if needed</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –test-grab_selenium_chromedriver:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">grab_selenium_chromedriver</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">selenium.webdriver</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;puppies&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">selenium.webdriver</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;puppies&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.grab_selenium_driver">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">grab_selenium_driver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_selenium_driver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.grab_selenium_driver" title="Permalink to this definition"></a></dt>
<dd><p>pip install selenium -U</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.grab_test_imgpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">grab_test_imgpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lena.png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_external</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_test_imgpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.grab_test_imgpath" title="Permalink to this definition"></a></dt>
<dd><p>Gets paths to standard / fun test images.
Downloads them if they dont exits</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – one of the standard test images, e.g. lena.png, carl.jpg, …</p></li>
<li><p><strong>allow_external</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True you can specify existing fpaths</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>testimg_fpath - filepath to the downloaded or cached test image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.get_valid_test_imgkeys</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –test-grab_test_imgpath</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;carl.jpg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testimg_fpath</span> <span class="o">=</span> <span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assertpath</span><span class="p">(</span><span class="n">testimg_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.grab_zipped_url">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">grab_zipped_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zipped_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utool'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_commonprefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cleanup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redownload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spoof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#grab_zipped_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.grab_zipped_url" title="Permalink to this definition"></a></dt>
<dd><p>downloads and unzips the url</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zipped_url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – url which must be either a .zip of a .tar.gz file</p></li>
<li><p><strong>ensure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – eager evaluation if True(default = True)</p></li>
<li><p><strong>appname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = ‘utool’)</p></li>
<li><p><strong>download_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – containing downloading directory</p></li>
<li><p><strong>force_commonprefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>cleanup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>redownload</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>spoof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –exec-grab_zipped_url –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_url</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ensure</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">appname</span> <span class="o">=</span> <span class="s1">&#39;utool&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">download_dir</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force_commonprefix</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cleanup</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">redownload</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spoof</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">grab_zipped_url</span><span class="p">(</span><span class="n">zipped_url</span><span class="p">,</span> <span class="n">ensure</span><span class="p">,</span> <span class="n">appname</span><span class="p">,</span> <span class="n">download_dir</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">force_commonprefix</span><span class="p">,</span> <span class="n">cleanup</span><span class="p">,</span> <span class="n">redownload</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">spoof</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_url</span> <span class="o">=</span> <span class="s1">&#39;https://wildbookiarepository.azureedge.net/data/testdata.zip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_url</span> <span class="o">=</span> <span class="s1">&#39;http://www.spam.com/eggs/data.zip&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.list_remote">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">list_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote_uri</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#list_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.list_remote" title="Permalink to this definition"></a></dt>
<dd><p>remote_uri = <a class="reference external" href="mailto:'user&#37;&#52;&#48;xx&#46;xx&#46;xx&#46;xx">‘user<span>&#64;</span>xx<span>&#46;</span>xx<span>&#46;</span>xx<span>&#46;</span>xx</a>’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.open_url_in_browser">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">open_url_in_browser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">browsername</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#open_url_in_browser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.open_url_in_browser" title="Permalink to this definition"></a></dt>
<dd><p>Opens a url in the specified or default browser</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – web url</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata –test-open_url_in_browser</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://www.jrsoftware.org/isdl.php&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">open_url_in_browser</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s1">&#39;chrome&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.read_s3_contents">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">read_s3_contents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_access_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_secret_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#read_s3_contents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.read_s3_contents" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.rsync">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">rsync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_uri</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_uri</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">22</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#rsync"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.rsync" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper for rsync</p>
<p>General function to push or pull a directory from a remote server to a
local path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_uri</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>dst_uri</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>exclude_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 22)</p></li>
<li><p><strong>dryrun</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.tecmint.com/rsync-local-remote-file-synchronization-commands/">http://www.tecmint.com/rsync-local-remote-file-synchronization-commands/</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_grabdata rsync</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_grabdata</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src_uri</span> <span class="o">=</span> <span class="s1">&#39;local/path/file.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dst_uri</span> <span class="o">=</span> <span class="s1">&#39;host.cs.college.edge:/remove/path/file.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">port</span> <span class="o">=</span> <span class="mi">22</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dryrun</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">rsync</span><span class="p">(</span><span class="n">src_uri</span><span class="p">,</span> <span class="n">dst_uri</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">dryrun</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.s3_dict_encode_to_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">s3_dict_encode_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s3_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_local_directory_if_available</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#s3_dict_encode_to_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.s3_dict_encode_to_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.s3_str_decode_to_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">s3_str_decode_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s3_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#s3_str_decode_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.s3_str_decode_to_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.scp_pull">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">scp_pull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#scp_pull"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.scp_pull" title="Permalink to this definition"></a></dt>
<dd><p>wrapper for scp</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.split_archive_ext">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">split_archive_ext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#split_archive_ext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.split_archive_ext" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.unarchive_file">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">unarchive_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">archive_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_commonprefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#unarchive_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.unarchive_file" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.untar_file">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">untar_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targz_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_commonprefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#untar_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.untar_file" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.unzip_file">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">unzip_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_commonprefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#unzip_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.unzip_file" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.url_read">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">url_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#url_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.url_read" title="Permalink to this definition"></a></dt>
<dd><p>Directly reads data from url</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_grabdata.url_read_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_grabdata.</span></span><span class="sig-name descname"><span class="pre">url_read_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_grabdata.html#url_read_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_grabdata.url_read_text" title="Permalink to this definition"></a></dt>
<dd><p>Directly reads text data from url</p>
</dd></dl>

</section>
<section id="module-utool.util_graph">
<span id="utool-util-graph-module"></span><h2>utool.util_graph module<a class="headerlink" href="#module-utool.util_graph" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.all_multi_paths">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">all_multi_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#all_multi_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.all_multi_paths" title="Permalink to this definition"></a></dt>
<dd><p>Returns specific paths along multi-edges from the source to this table.
Multipaths are identified by edge keys.</p>
<p>Returns all paths from source to target. This function treats multi-edges
as distinct and returns the key value in each edge tuple that defines a
path.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dtool.depcache_control</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dtool.example_depcache</span> <span class="kn">import</span> <span class="n">testdata_depc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depc</span> <span class="o">=</span> <span class="n">testdata_depc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="s1">&#39;notchpair&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_multi_paths</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;notchpair&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_multi_paths</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">depc</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result1</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list1 = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">path_list1</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list2 = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">path_list2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">result1</span><span class="p">,</span> <span class="n">result2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">path_list1 = [</span>
<span class="go">    [(&#39;dummy_annot&#39;, &#39;notch&#39;, 0), (&#39;notch&#39;, &#39;notchpair&#39;, 0)],</span>
<span class="go">    [(&#39;dummy_annot&#39;, &#39;notch&#39;, 0), (&#39;notch&#39;, &#39;notchpair&#39;, 1)],</span>
<span class="go">]</span>
<span class="go">path_list2 = [</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;chip&#39;, 0),</span>
<span class="go">        (&#39;chip&#39;, &#39;keypoint&#39;, 0),</span>
<span class="go">        (&#39;keypoint&#39;, &#39;fgweight&#39;, 0),</span>
<span class="go">        (&#39;fgweight&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;chip&#39;, 0),</span>
<span class="go">        (&#39;chip&#39;, &#39;keypoint&#39;, 0),</span>
<span class="go">        (&#39;keypoint&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;chip&#39;, 0),</span>
<span class="go">        (&#39;chip&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        (&#39;dummy_annot&#39;, &#39;probchip&#39;, 0),</span>
<span class="go">        (&#39;probchip&#39;, &#39;fgweight&#39;, 0),</span>
<span class="go">        (&#39;fgweight&#39;, &#39;spam&#39;, 0),</span>
<span class="go">    ],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.approx_min_num_components">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">approx_min_num_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_edges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#approx_min_num_components"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.approx_min_num_components" title="Permalink to this definition"></a></dt>
<dd><p>Find approximate minimum number of connected components possible
Each edge represents that two nodes must be separated</p>
<p>This code doesn’t solve the problem. The problem is NP-complete and
reduces to minimum clique cover (MCC). This is only an approximate
solution. Not sure what the approximation ratio is.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph approx_min_num_components</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g_pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g_pos</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g_neg</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complement</span><span class="p">(</span><span class="n">g_pos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#import wbia.plottool as pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.qt4ensure()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(g_pos)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#pt.show_nx(g_neg)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negative_edges</span> <span class="o">=</span> <span class="n">g_neg</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negative_edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">approx_min_num_components</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">negative_edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.bfs_conditional">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">bfs_conditional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yield_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yield_if</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continue_if</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visited_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yield_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#bfs_conditional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.bfs_conditional" title="Permalink to this definition"></a></dt>
<dd><p>Produce edges in a breadth-first-search starting at source, but only return
nodes that satisfiy a condition, and only iterate past a node if it
satisfies a different condition.</p>
<p>conditions are callables that take (G, child, edge) and return true or false</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph bfs_conditional</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">continue_if</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">G</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">edge</span><span class="p">:</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">bfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">yield_nodes</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 2), (1, 3), (2, 1), (2, 3), (2, 4), (3, 1), (3, 2), (4, 2)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">continue_if</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">G</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">edge</span><span class="p">:</span> <span class="p">(</span><span class="n">child</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yield_if</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">G</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">edge</span><span class="p">:</span> <span class="p">(</span><span class="n">child</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                  <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                  <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">bfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">continue_if</span><span class="o">=</span><span class="n">continue_if</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">yield_if</span><span class="o">=</span><span class="n">yield_if</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 3, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.bfs_multi_edges">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">bfs_multi_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#bfs_multi_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.bfs_multi_edges" title="Permalink to this definition"></a></dt>
<dd><p>Produce edges in a breadth-first-search starting at source.</p>
<p>Based on <a class="reference external" href="http://www.ics.uci.edu/~eppstein/PADS/BFS.py">http://www.ics.uci.edu/~eppstein/PADS/BFS.py</a>
by D. Eppstein, July 2004.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.color_nodes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">color_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelattr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brightness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.878</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat_adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#color_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.color_nodes" title="Permalink to this definition"></a></dt>
<dd><p>Colors edges and nodes by nid</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.dag_longest_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">dag_longest_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#dag_longest_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.dag_longest_path" title="Permalink to this definition"></a></dt>
<dd><p>Finds the longest path in a dag between two nodes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.dfs_conditional">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">dfs_conditional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_cross</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#dfs_conditional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.dfs_conditional" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;lava&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;lava&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">can_cross</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">edge</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># can only cross lava once, then your lava protection wears off</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">get_edge_data</span><span class="p">(</span><span class="o">*</span><span class="n">edge</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">lava</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;lava&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">lava</span> <span class="ow">or</span> <span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">state</span> <span class="o">+</span> <span class="n">lava</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">lava</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">5</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">can_cross</span><span class="o">=</span><span class="n">can_cross</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">adj</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">][</span><span class="s1">&#39;lava&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">5</span> <span class="ow">in</span> <span class="n">dfs_conditional</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">can_cross</span><span class="o">=</span><span class="n">can_cross</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.dict_depth">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">dict_depth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#dict_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.dict_depth" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.edges_to_adjacency_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">edges_to_adjacency_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#edges_to_adjacency_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.edges_to_adjacency_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.get_allkeys">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">get_allkeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#get_allkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.get_allkeys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.get_graph_bounding_box">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">get_graph_bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#get_graph_bounding_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.get_graph_bounding_box" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.get_levels">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">get_levels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#get_levels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.get_levels" title="Permalink to this definition"></a></dt>
<dd><p>DEPCIRATE</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>levels</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph –test-get_levels –show
python3 -m utool.util_graph –test-get_levels –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">from_root</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dummy_annot&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                            <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">from_root</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels_</span> <span class="o">=</span> <span class="n">get_levels</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">levels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">levels_</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    [&#39;dummy_annot&#39;],</span>
<span class="go">    [&#39;chip&#39;, &#39;probchip&#39;],</span>
<span class="go">    [&#39;keypoint&#39;, &#39;fgweight&#39;],</span>
<span class="go">    [&#39;fgweight&#39;],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.graph_info">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">graph_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#graph_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.graph_info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.greedy_mincost_diameter_augment">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">greedy_mincost_diameter_augment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#greedy_mincost_diameter_augment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.greedy_mincost_diameter_augment" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.longest_levels">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">longest_levels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">levels_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#longest_levels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.longest_levels" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>levels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph –exec-longest_levels –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels_</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_levels</span> <span class="o">=</span> <span class="n">longest_levels</span><span class="p">(</span><span class="n">levels_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;new_levels = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">new_levels</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">new_levels = [</span>
<span class="go">    [&#39;dummy_annot&#39;],</span>
<span class="go">    [&#39;chip&#39;, &#39;probchip&#39;],</span>
<span class="go">    [&#39;keypoint&#39;],</span>
<span class="go">    [&#39;fgweight&#39;],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.mincost_diameter_augment">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">mincost_diameter_augment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#mincost_diameter_augment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.mincost_diameter_augment" title="Permalink to this definition"></a></dt>
<dd><p>PROBLEM: Bounded Cost Minimum Diameter Edge Addition (BCMD)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>nx.Graph</em>) – input graph</p></li>
<li><p><strong>max_cost</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – maximum weighted diamter of the graph</p></li>
<li><p><strong>weight</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – key of the edge weight attribute</p></li>
<li><p><strong>cost</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – key of the edge cost attribute</p></li>
<li><p><strong>candidates</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – set of non-edges, optional, defaults
to the complement of the graph</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if no solution exists
list: minimum cost edges if solution exists</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>We are given a graph G = (V, E) with an edge weight function w, an edge
cost function c, an a maximum cost B.</p>
<p>The goal is to find a set of candidate non-edges F.</p>
<p>Let x[e] in {0, 1} denote if a non-edge e is excluded or included.</p>
<p>minimize sum(c(e) * x[e] for e in F)
such that
weighted_diamter(graph.union({e for e in F if x[e]})) &lt;= B</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://www.cse.unsw.edu.au/~sergeg/papers/FratiGGM13isaac.pdf">https://www.cse.unsw.edu.au/~sergeg/papers/FratiGGM13isaac.pdf</a>
<a class="reference external" href="http://www.cis.upenn.edu/~sanjeev/papers/diameter.pdf">http://www.cis.upenn.edu/~sanjeev/papers/diameter.pdf</a>
<a class="reference external" href="http://dl.acm.org/citation.cfm?id=2953882">http://dl.acm.org/citation.cfm?id=2953882</a></p>
<p class="rubric">Notes</p>
<p>There is a 4-Approximation of the BCMD problem
Running time is O((3 ** B * B ** 3 + n + log(B * n)) * B * n ** 2)</p>
<p>This algorithm usexs a clustering approach to find a set C, of B + 1
cluster centers.  Then we create a minimum height rooted tree, T = (U
subseteq V, D) so that C subseteq U.  This tree T approximates an
optimal B-augmentation.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">nx</span><span class="o">.</span><span class="n">__version__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">nx</span><span class="o">.</span><span class="n">add_path</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="o">.</span><span class="n">add_path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">add_path</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#cost_func   = lambda e: e[0] + e[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cost_func</span>   <span class="o">=</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weight_func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comp_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complement</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cost&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">cost_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">weight_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">comp_graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cost&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">cost_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">comp_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">comp_graph</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">weight_func</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">comp_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">comp_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_cost</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cost</span> <span class="o">=</span> <span class="s1">&#39;cost&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weight</span> <span class="o">=</span> <span class="s1">&#39;weight&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">best_edges</span> <span class="o">=</span> <span class="n">mincost_diameter_augment</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">max_cost</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="n">cost</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;best_edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">best_edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">soln_edges</span> <span class="o">=</span> <span class="n">greedy_mincost_diameter_augment</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">max_cost</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="n">cost</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;soln_edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">soln_edges</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_all_nodes_between">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_all_nodes_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_all_nodes_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_all_nodes_between" title="Permalink to this definition"></a></dt>
<dd><p>Find all nodes with on paths between source and target.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_all_simple_edge_paths">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_all_simple_edge_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_all_simple_edge_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_all_simple_edge_paths" title="Permalink to this definition"></a></dt>
<dd><p>Returns each path from source to target as a list of edges.</p>
<p>This function is meant to be used with MultiGraphs or MultiDiGraphs.
When <code class="docutils literal notranslate"><span class="pre">keys</span></code> is True each edge in the path is returned with its unique key
identifier. In this case it is possible to distinguish between different
paths along different edges between the same two nodes.</p>
<p>Derived from simple_paths.py in networkx</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_common_ancestors">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_common_ancestors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_common_ancestors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_common_ancestors" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_common_descendants">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_common_descendants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_common_descendants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_common_descendants" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_contracted_nodes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_contracted_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self_loops</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_contracted_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_contracted_nodes" title="Permalink to this definition"></a></dt>
<dd><p>copy of networkx function with inplace modification
TODO: commit to networkx</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_dag_node_rank">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_dag_node_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_dag_node_rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_dag_node_rank" title="Permalink to this definition"></a></dt>
<dd><p>Returns rank of nodes that define the “level” each node is on in a
topological sort. This is the same as the Graphviz dot rank.</p>
<dl class="simple">
<dt>Ignore:</dt><dd><p>simple_graph = ut.simplify_graph(exi_graph)
adj_dict = ut.nx_to_adj_dict(simple_graph)
import wbia.plottool as pt
pt.qt4ensure()
pt.show_nx(graph)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adj_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">4</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">5</span><span class="p">:</span> <span class="p">[],</span> <span class="mi">6</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="mi">7</span><span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">],</span> <span class="mi">8</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="mi">9</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_graph</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_from_adj_dict</span><span class="p">(</span><span class="n">adj_dict</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">f_graph</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ranks = ut.nx_dag_node_rank(graph, nodes)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ranks</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_dag_node_rank</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ranks = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ranks</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">ranks = [3, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_delete_None_edge_attr">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_delete_None_edge_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_None_edge_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_delete_None_edge_attr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_delete_None_node_attr">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_delete_None_node_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_None_node_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_delete_None_node_attr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_delete_edge_attr">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_delete_edge_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_edge_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_delete_edge_attr" title="Permalink to this definition"></a></dt>
<dd><p>Removes an attributes from specific edges in the graph</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;eggs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">78</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">78</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">edges</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">77</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">77</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">77</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;eggs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">edges</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_edge_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_delete_node_attr">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_delete_node_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_delete_node_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_delete_node_attr" title="Permalink to this definition"></a></dt>
<dd><p>Removes node attributes</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datas</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">34</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">34</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_node_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;club&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">nodes</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">nx_delete_node_attr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;club&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;club&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">32</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_edges">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_edges" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_edges_between">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_edges_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assume_disjoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assume_sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_edges_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_edges_between" title="Permalink to this definition"></a></dt>
<dd><p>Get edges between two components or within a single component</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>nx.Graph</em>) – the graph</p></li>
<li><p><strong>nodes1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – list of nodes</p></li>
<li><p><strong>nodes2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – (default=None) if None it is equivlanet to nodes2=nodes1</p></li>
<li><p><strong>assume_disjoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – skips expensive check to ensure edges arnt
returned twice (default=False)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph –test-nx_edges_between</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>  <span class="c1"># cc 1234</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>  <span class="c1"># cc 567 / 5678</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">digraph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="n">edges</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">,</span> <span class="n">nodes2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">,</span> <span class="n">nodes2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n2 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n4 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n4</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n5 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n5</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n1 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n3 == </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n3</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n2</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]),</span> <span class="s1">&#39;2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n4</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]),</span> <span class="s1">&#39;4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n5</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]),</span> <span class="s1">&#39;5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n1</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]),</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n3</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]),</span> <span class="s1">&#39;3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span> <span class="o">+</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">nodes2</span> <span class="o">+</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">assume_sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n6 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n6</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx_edges_between</span><span class="p">(</span><span class="n">digraph</span><span class="p">,</span> <span class="n">nodes1</span> <span class="o">+</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">nodes2</span> <span class="o">+</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">assume_sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n6 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n6</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">n6</span> <span class="o">==</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]),</span> <span class="s1">&#39;6&#39;</span>
</pre></div>
</div>
<dl>
<dt>Timeit:</dt><dd><p>from utool.util_graph import *  # NOQA
# ut.timeit_compare()
import networkx as nx
import utool as ut
graph = nx.fast_gnp_random_graph(1000, .001)
list(nx.connected_components(graph))
rng = np.random.RandomState(0)
nodes1 = set(rng.choice(list(graph.nodes()), 500, replace=False))
nodes2 = set(graph.nodes()) - nodes1
edges_between = ut.nx_edges_between
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=False, assume_disjoint=True))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=False, assume_disjoint=False))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=True, assume_disjoint=False))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=True, assume_disjoint=True))</p>
<p>graph = nx.fast_gnp_random_graph(1000, .1)
rng = np.random.RandomState(0)
print(graph.number_of_edges())
nodes1 = set(rng.choice(list(graph.nodes()), 500, replace=False))
nodes2 = set(graph.nodes()) - nodes1
edges_between = ut.nx_edges_between
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=True, assume_disjoint=True))
%timeit list(edges_between(graph, nodes1, nodes2, assume_sparse=False, assume_disjoint=True))</p>
</dd>
<dt>Ignore:</dt><dd><p>graph = nx.DiGraph(edges)
graph = nx.Graph(edges)
nodes1 = [1, 2, 3, 4]
nodes2 = nodes1</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_ensure_agraph_color">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_ensure_agraph_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_ensure_agraph_color"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_ensure_agraph_color" title="Permalink to this definition"></a></dt>
<dd><p>changes colors to hex strings on graph attrs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_from_adj_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_from_adj_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adj_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_from_adj_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_from_adj_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_from_matrix">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_from_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weight_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_self</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_from_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_from_matrix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_from_node_edge">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_from_node_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_from_node_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_from_node_edge" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_gen_edge_attrs">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_gen_edge_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'error'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_keyerr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_edge_attrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_gen_edge_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Improved generator version of nx.get_edge_attributes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>on_missing</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Strategy for handling nodes missing from G.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘error’.
is on_missing is not error, then we allow any edge even if the
endpoints are not in the graph.</p></li>
<li><p><strong>on_keyerr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Strategy for handling keys missing from node dicts.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘default’
if default is specified, otherwise defaults to ‘error’.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span> <span class="s1">&#39;baz&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_edge_attrs</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_gen_edge_values">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_gen_edge_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'error'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_keyerr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_edge_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_gen_edge_values" title="Permalink to this definition"></a></dt>
<dd><p>Generates attributes values of specific edges</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>on_missing</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Strategy for handling nodes missing from G.
Can be {‘error’, ‘default’}.  defaults to ‘error’.</p></li>
<li><p><strong>on_keyerr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Strategy for handling keys missing from node dicts.
Can be {‘error’, ‘default’}.  defaults to ‘default’
if default is specified, otherwise defaults to ‘error’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_gen_node_attrs">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_gen_node_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'error'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_keyerr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_node_attrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_gen_node_attrs" title="Permalink to this definition"></a></dt>
<dd><p>Improved generator version of nx.get_node_attributes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>on_missing</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Strategy for handling nodes missing from G.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘error’.</p></li>
<li><p><strong>on_keyerr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Strategy for handling keys missing from node dicts.
Can be {‘error’, ‘default’, ‘filter’}.  defaults to ‘default’
if default is specified, otherwise defaults to ‘error’.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>strategies are:</dt><dd><p>error - raises an error if key or node does not exist
default - returns node, but uses value specified by default
filter - skips the node</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;baz&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">on_missing</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">on_keyerr</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ALL CASES</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;baz&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;full&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_grid</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="s1">&#39;full&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">util_const</span><span class="o">.</span><span class="n">NoParam</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">input_grid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_grid</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;on_missing&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;filter&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;on_keyerr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;filter&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kws</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">kw_grid</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">in_</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">kws</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">kw2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_union</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="n">in_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1">#print(kw2)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">on_missing</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;on_missing&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">on_keyerr</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;on_keyerr&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">on_keyerr</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="n">util_const</span><span class="o">.</span><span class="n">NoParam</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">on_keyerr</span> <span class="o">=</span> <span class="s1">&#39;error&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">will_miss</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">will_keyerr</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">on_missing</span> <span class="o">==</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;part&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">will_miss</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;full&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">will_miss</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">on_keyerr</span> <span class="o">==</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;part&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">will_keyerr</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">on_missing</span> <span class="o">==</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="k">if</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;full&#39;</span> <span class="ow">and</span> <span class="n">in_</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="n">will_keyerr</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">want_error</span> <span class="o">=</span> <span class="n">will_miss</span> <span class="ow">or</span> <span class="n">will_keyerr</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">gen</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">nx_gen_node_attrs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="o">**</span><span class="n">kw2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">attrs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">want_error</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s1">&#39;should not have errored&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">want_error</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s1">&#39;should have errored&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_gen_node_values">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_gen_node_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_gen_node_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_gen_node_values" title="Permalink to this definition"></a></dt>
<dd><p>Generates attributes values of specific nodes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_get_default_edge_attributes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_get_default_edge_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_get_default_edge_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_get_default_edge_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_get_default_node_attributes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_get_default_node_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_get_default_node_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_get_default_node_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_make_adj_matrix">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_make_adj_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_make_adj_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_make_adj_matrix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_mincut_edges_weighted">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_mincut_edges_weighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'weight'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_mincut_edges_weighted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_mincut_edges_weighted" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_minimum_weight_component">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_minimum_weight_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'weight'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_minimum_weight_component"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_minimum_weight_component" title="Permalink to this definition"></a></dt>
<dd><p>A minimum weight component is an MST + all negative edges</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_node_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_node_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_node_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_node_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_set_default_edge_attributes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_set_default_edge_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_set_default_edge_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_set_default_edge_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_set_default_node_attributes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_set_default_node_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_set_default_node_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_set_default_node_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_sink_nodes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_sink_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_sink_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_sink_nodes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_source_nodes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_source_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_source_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_source_nodes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_to_adj_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_to_adj_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_to_adj_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_to_adj_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_topsort_nodes">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_topsort_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_topsort_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_topsort_nodes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_topsort_rank">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_topsort_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_topsort_rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_topsort_rank" title="Permalink to this definition"></a></dt>
<dd><p>graph = inputs.exi_graph.reverse()
nodes = flat_node_order_</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.nx_transitive_reduction">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">nx_transitive_reduction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#nx_transitive_reduction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.nx_transitive_reduction" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Transitive_reduction#Computing_the_reduction_using_the_closure">https://en.wikipedia.org/wiki/Transitive_reduction#Computing_the_reduction_using_the_closure</a>
<a class="reference external" href="http://dept-info.labri.fr/~thibault/tmp/0201008.pdf">http://dept-info.labri.fr/~thibault/tmp/0201008.pdf</a>
<a class="reference external" href="http://stackoverflow.com/questions/17078696/transitive-reduction-of-directed-graph-in-python">http://stackoverflow.com/questions/17078696/transitive-reduction-of-directed-graph-in-python</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph nx_transitive_reduction –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">testdata_graph</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G_tr</span> <span class="o">=</span> <span class="n">nx_transitive_reduction</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G_tr2</span> <span class="o">=</span> <span class="n">nx_transitive_reduction</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G_</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">dag</span><span class="o">.</span><span class="n">transitive_closure</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G</span>    <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G_tr</span> <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G_tr2</span> <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G_</span>   <span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">dag</span><span class="o">.</span><span class="n">transitive_closure</span><span class="p">(</span><span class="n">G_tr</span><span class="p">),</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.paths_to_root">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">paths_to_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_to_parents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#paths_to_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.paths_to_root" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph –exec-paths_to_root:0
python -m utool.util_graph –exec-paths_to_root:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_to_parents</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chipmask&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;descriptor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;notch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;keypoint&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="s1">&#39;dummy_annot&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="s1">&#39;fgweight&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_root</span> <span class="o">=</span> <span class="n">paths_to_root</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">child_to_parents</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">to_root</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;keypoint&#39;: {</span>
<span class="go">        &#39;chip&#39;: {</span>
<span class="go">            &#39;dummy_annot&#39;: None,</span>
<span class="go">        },</span>
<span class="go">    },</span>
<span class="go">    &#39;probchip&#39;: {</span>
<span class="go">        &#39;dummy_annot&#39;: None,</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;annotations&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;Notch_Tips&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_to_parents</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Block_Curvature&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;Trailing_Edge&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Has_Notch&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;annotations&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;annotations&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Trailing_Edge&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;Notch_Tips&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_root</span> <span class="o">=</span> <span class="n">paths_to_root</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">child_to_parents</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">to_root</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.reverse_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">reverse_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_to_parents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#reverse_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.reverse_path" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph –exec-reverse_path –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_to_parents</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chipmask&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;descriptor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;notch&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">,</span> <span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;keypoint&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_root</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;fgweight&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;keypoint&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;chip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;dummy_annot&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;probchip&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;dummy_annot&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reversed_</span> <span class="o">=</span> <span class="n">reverse_path</span><span class="p">(</span><span class="n">to_root</span><span class="p">,</span> <span class="s1">&#39;dummy_annot&#39;</span><span class="p">,</span> <span class="n">child_to_parents</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">reversed_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;dummy_annot&#39;: {</span>
<span class="go">        &#39;chip&#39;: {</span>
<span class="go">            &#39;keypoint&#39;: {</span>
<span class="go">                &#39;fgweight&#39;: None,</span>
<span class="go">            },</span>
<span class="go">        },</span>
<span class="go">        &#39;probchip&#39;: {</span>
<span class="go">            &#39;fgweight&#39;: None,</span>
<span class="go">        },</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.reverse_path_edges">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">reverse_path_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#reverse_path_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.reverse_path_edges" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.shortest_levels">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">shortest_levels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">levels_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#shortest_levels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.shortest_levels" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>levels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph –exec-shortest_levels –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">levels_</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;dummy_annot&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="s1">&#39;probchip&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;keypoint&#39;</span><span class="p">,</span> <span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="s1">&#39;fgweight&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_levels</span> <span class="o">=</span> <span class="n">shortest_levels</span><span class="p">(</span><span class="n">levels_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;new_levels = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">new_levels</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">new_levels = [</span>
<span class="go">    [&#39;dummy_annot&#39;],</span>
<span class="go">    [&#39;chip&#39;, &#39;probchip&#39;],</span>
<span class="go">    [&#39;keypoint&#39;, &#39;fgweight&#39;],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.simplify_graph">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">simplify_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#simplify_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.simplify_graph" title="Permalink to this definition"></a></dt>
<dd><p>strips out everything but connectivity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>graph</strong> (<em>nx.Graph</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python3 -m utool.util_graph simplify_graph –show
python2 -m utool.util_graph simplify_graph –show</p>
<p>python2 -c “import networkx as nx; print(nx.__version__)”
python3 -c “import networkx as nx; print(nx.__version__)”</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_graph</span> <span class="o">=</span> <span class="n">simplify_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">new_graph</span><span class="o">.</span><span class="n">edges</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#adj_list = sorted(list(nx.generate_adjlist(new_graph)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#result = ut.repr2(adj_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(0, 1), (0, 2), (0, 3), (0, 4), (1, 3), (2, 3), (2, 4), (3, 4)]</span>
</pre></div>
</div>
<p>[‘0 1 2 3 4’, ‘1 3 4’, ‘2 4’, ‘3’, ‘4 3’]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.stack_graphs">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">stack_graphs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#stack_graphs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.stack_graphs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.subgraph_from_edges">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">subgraph_from_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#subgraph_from_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.subgraph_from_edges" title="Permalink to this definition"></a></dt>
<dd><p>Creates a networkx graph that is a subgraph of G
defined by the list of edges in edge_list.</p>
<p>Requires G to be a networkx MultiGraph or MultiDiGraph
edge_list is a list of edges in either (u,v) or (u,v,d) form
where u and v are nodes comprising an edge,
and d would be a dictionary of edge attributes</p>
<p>ref_back determines whether the created subgraph refers to back
to the original graph and therefore changes to the subgraph’s
attributes also affect the original graph, or if it is to create a
new copy of the original graph.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/16150557/nx-subgraph-from-edges">http://stackoverflow.com/questions/16150557/nx-subgraph-from-edges</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.testdata_graph">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">testdata_graph</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#testdata_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.testdata_graph" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(graph, G)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_graph –exec-testdata_graph –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_graph</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">G</span><span class="p">)</span> <span class="o">=</span> <span class="n">testdata_graph</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensureqt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;agraph&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.translate_graph">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">translate_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_xy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#translate_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.translate_graph" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.translate_graph_to_origin">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">translate_graph_to_origin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#translate_graph_to_origin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.translate_graph_to_origin" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.traverse_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">traverse_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seen_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allkeys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#traverse_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.traverse_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_graph.weighted_diamter">
<span class="sig-prename descclassname"><span class="pre">utool.util_graph.</span></span><span class="sig-name descname"><span class="pre">weighted_diamter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_graph.html#weighted_diamter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_graph.weighted_diamter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_gridsearch">
<span id="utool-util-gridsearch-module"></span><h2>utool.util_gridsearch module<a class="headerlink" href="#module-utool.util_gridsearch" title="Permalink to this headline"></a></h2>
<p>module for gridsearch helper</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_gridsearch.CountstrParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">CountstrParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lhs_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop2_nid2_aids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#CountstrParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.CountstrParser" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Parses a statement like  ‘#primary&gt;0&amp;#primary1&gt;1’ and returns a filtered
set.</p>
<p>FIXME: make generalizable beyond wbia</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_gridsearch.CountstrParser.compare_op_map">
<span class="sig-name descname"><span class="pre">compare_op_map</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'!=':</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">ne&gt;,</span> <span class="pre">'&lt;':</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">lt&gt;,</span> <span class="pre">'&lt;=':</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">le&gt;,</span> <span class="pre">'=':</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">eq&gt;,</span> <span class="pre">'&gt;':</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">gt&gt;,</span> <span class="pre">'&gt;=':</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">ge&gt;}</span></em><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.compare_op_map" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_gridsearch.CountstrParser.numop">
<span class="sig-name descname"><span class="pre">numop</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#'</span></em><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.numop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.CountstrParser.parse_countstr_binop">
<span class="sig-name descname"><span class="pre">parse_countstr_binop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">part</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#CountstrParser.parse_countstr_binop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.parse_countstr_binop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.CountstrParser.parse_countstr_expr">
<span class="sig-name descname"><span class="pre">parse_countstr_expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">countstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#CountstrParser.parse_countstr_expr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.parse_countstr_expr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.CountstrParser.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.CountstrParser.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_gridsearch.DimensionBasis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">DimensionBasis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimension_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimension_point_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.DimensionBasis" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_gridsearch.DimensionBasis.dimension_name">
<span class="sig-name descname"><span class="pre">dimension_name</span></span><a class="headerlink" href="#utool.util_gridsearch.DimensionBasis.dimension_name" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_gridsearch.DimensionBasis.dimension_point_list">
<span class="sig-name descname"><span class="pre">dimension_point_list</span></span><a class="headerlink" href="#utool.util_gridsearch.DimensionBasis.dimension_point_list" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">GridSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_basis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>helper for executing iterations and analyzing the results of a grid search</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_basis</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.8</span><span class="p">,</span> <span class="mf">.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">.1</span><span class="p">,</span> <span class="mf">.2</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gridsearch</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">GridSearch</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;testdata_gridsearch&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cfgdict</span> <span class="ow">in</span> <span class="n">gridsearch</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">tp_score</span> <span class="o">=</span> <span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">]</span> <span class="o">**</span> <span class="mf">.5</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">tn_score</span> <span class="o">=</span> <span class="p">(</span><span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">]))</span> <span class="o">/</span> <span class="n">cfgdict</span><span class="p">[</span><span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">gridsearch</span><span class="o">.</span><span class="n">append_result</span><span class="p">(</span><span class="n">tp_score</span><span class="p">,</span> <span class="n">tn_score</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.append_result">
<span class="sig-name descname"><span class="pre">append_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp_score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn_score</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.append_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.append_result" title="Permalink to this definition"></a></dt>
<dd><p>for use in iteration</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_csv_results">
<span class="sig-name descname"><span class="pre">get_csv_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'score_diff'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_csv_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_csv_results" title="Permalink to this definition"></a></dt>
<dd><p>Make csv text describing results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – add top num lines to the csv. No limit if None.</p></li>
<li><p><strong>score_lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – score label to sort by</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>result data in csv format</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-get_csv_results</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score_lbl</span> <span class="o">=</span> <span class="s1">&#39;score_diff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gridsearch</span> <span class="o">=</span> <span class="n">testdata_grid_search</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csvtext</span> <span class="o">=</span> <span class="n">gridsearch</span><span class="o">.</span><span class="n">get_csv_results</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">csvtext</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hashstr</span><span class="p">(</span><span class="n">csvtext</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">60yptleiwo@lk@24</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_dimension_stats">
<span class="sig-name descname"><span class="pre">get_dimension_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'score_diff'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_dimension_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_dimension_stats" title="Permalink to this definition"></a></dt>
<dd><p>Returns result stats about a specific parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>score_lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – score label to sort by</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>param2_score_stats</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_dimension_stats_str">
<span class="sig-name descname"><span class="pre">get_dimension_stats_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'score_diff'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_dimension_stats_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_dimension_stats_str" title="Permalink to this definition"></a></dt>
<dd><p>Returns a result stat string about a specific parameter</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_param_lbls">
<span class="sig-name descname"><span class="pre">get_param_lbls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exclude_unvaried_dimension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_param_lbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_param_lbls" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_param_list_and_lbls">
<span class="sig-name descname"><span class="pre">get_param_list_and_lbls</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_param_list_and_lbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_param_list_and_lbls" title="Permalink to this definition"></a></dt>
<dd><p>returns input data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_rank_cfgdict">
<span class="sig-name descname"><span class="pre">get_rank_cfgdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'score_diff'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_rank_cfgdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_rank_cfgdict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_score_list_and_lbls">
<span class="sig-name descname"><span class="pre">get_score_list_and_lbls</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_score_list_and_lbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_score_list_and_lbls" title="Permalink to this definition"></a></dt>
<dd><p>returns result data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.get_sorted_columns_and_labels">
<span class="sig-name descname"><span class="pre">get_sorted_columns_and_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'score_diff'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.get_sorted_columns_and_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.get_sorted_columns_and_labels" title="Permalink to this definition"></a></dt>
<dd><p>returns sorted input and result data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.plot_dimension">
<span class="sig-name descname"><span class="pre">plot_dimension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'score_diff'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#GridSearch.plot_dimension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.GridSearch.plot_dimension" title="Permalink to this definition"></a></dt>
<dd><p>Plots result statistics about a specific parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>score_lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-plot_dimension
python -m utool.util_gridsearch –test-plot_dimension –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gridsearch</span> <span class="o">=</span> <span class="n">testdata_grid_search</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">param_lbl</span> <span class="o">=</span> <span class="s1">&#39;p&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score_lbl</span> <span class="o">=</span> <span class="s1">&#39;score_diff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">gridsearch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dimension</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dimension</span><span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dimension</span><span class="p">(</span><span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">,</span> <span class="n">score_lbl</span><span class="p">,</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.GridSearch.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.GridSearch.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_gridsearch.Nesting">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">Nesting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>x = Nesting.from_nestings(nestings)
list(x.itertype(‘nonNested’))</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.Nesting.as_list">
<span class="sig-name descname"><span class="pre">as_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.as_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.as_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.Nesting.from_nestings">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_nestings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nestings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'root'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.from_nestings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.from_nestings" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.Nesting.from_text">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.from_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.from_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.Nesting.itertype">
<span class="sig-name descname"><span class="pre">itertype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.itertype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.itertype" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.Nesting.recombine">
<span class="sig-name descname"><span class="pre">recombine</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#Nesting.recombine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.Nesting.recombine" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">ParamInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shortprefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varyvals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varyslice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hideif</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NoParam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">none_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>small class for individual paramater information</p>
<p>Configuration objects should use these for default / printing / type
information.
NOTE: the actual value of the parameter for any specific configuration is
not stored here.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-ParamInfo</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pi</span> <span class="o">=</span> <span class="n">ParamInfo</span><span class="p">(</span><span class="n">varname</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DynStruct</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pi</span><span class="o">.</span><span class="n">get_itemstr</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foo=5</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.append_hideif">
<span class="sig-name descname"><span class="pre">append_hideif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hideif</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.append_hideif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.append_hideif" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.cast_to_valid_type">
<span class="sig-name descname"><span class="pre">cast_to_valid_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.cast_to_valid_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.cast_to_valid_type" title="Permalink to this definition"></a></dt>
<dd><p>Checks if a <cite>value</cite> for this param is valid and attempts
to cast it if it is close</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.error_if_invalid_value">
<span class="sig-name descname"><span class="pre">error_if_invalid_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.error_if_invalid_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.error_if_invalid_value" title="Permalink to this definition"></a></dt>
<dd><p>Checks if a <cite>value</cite> for this param is valid</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.get_itemstr">
<span class="sig-name descname"><span class="pre">get_itemstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.get_itemstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.get_itemstr" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cfg</strong> (<em>dict-like</em>) – Parent object (like a dtool.Config)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.is_enabled">
<span class="sig-name descname"><span class="pre">is_enabled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.is_enabled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.is_enabled" title="Permalink to this definition"></a></dt>
<dd><p>alternative to is_hidden. a bit hacky. only returns false if
another config hides you. self hiding is ok</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.is_hidden">
<span class="sig-name descname"><span class="pre">is_hidden</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.is_hidden"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.is_hidden" title="Permalink to this definition"></a></dt>
<dd><p>Checks if this param is hidden by the parent context of <cite>cfg</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.is_type_enforced">
<span class="sig-name descname"><span class="pre">is_type_enforced</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfo.is_type_enforced"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.is_type_enforced" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfo.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.ParamInfo.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoBool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">ParamInfoBool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shortprefix=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_=&lt;class</span> <span class="pre">'bool'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varyvals=[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varyslice=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hideif=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoBool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoBool" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_gridsearch.ParamInfo" title="utool.util_gridsearch.ParamInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_gridsearch.ParamInfo</span></code></a></p>
<p>param info for booleans</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pi</span> <span class="o">=</span> <span class="n">ParamInfoBool</span><span class="p">(</span><span class="s1">&#39;cheese_on&#39;</span><span class="p">,</span> <span class="n">hideif</span><span class="o">=</span><span class="n">util_const</span><span class="o">.</span><span class="n">NoParam</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DynStruct</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">cheese_on</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pi</span><span class="o">.</span><span class="n">get_itemstr</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nocheese</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoBool.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.ParamInfoBool.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">ParamInfoList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_info_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraint_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hideif</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>small class for ut.Pref-less configurations</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.append_hideif">
<span class="sig-name descname"><span class="pre">append_hideif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hideif</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.append_hideif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.append_hideif" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.aslist">
<span class="sig-name descname"><span class="pre">aslist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hideif</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.aslist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.aslist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.get_grid_basis">
<span class="sig-name descname"><span class="pre">get_grid_basis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_grid_basis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_grid_basis" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.get_gridsearch_input">
<span class="sig-name descname"><span class="pre">get_gridsearch_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaultslice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(0,</span> <span class="pre">1,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_gridsearch_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_gridsearch_input" title="Permalink to this definition"></a></dt>
<dd><p>for gridsearch</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.get_slicedict">
<span class="sig-name descname"><span class="pre">get_slicedict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_slicedict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_slicedict" title="Permalink to this definition"></a></dt>
<dd><p>for gridsearch</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.get_varnames">
<span class="sig-name descname"><span class="pre">get_varnames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_varnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_varnames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.get_varydict">
<span class="sig-name descname"><span class="pre">get_varydict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.get_varydict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.get_varydict" title="Permalink to this definition"></a></dt>
<dd><p>for gridsearch</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_gridsearch.ParamInfoList.updated_cfgdict">
<span class="sig-name descname"><span class="pre">updated_cfgdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#ParamInfoList.updated_cfgdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.ParamInfoList.updated_cfgdict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.constrain_cfgdict_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">constrain_cfgdict_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgdict_list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraint_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#constrain_cfgdict_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.constrain_cfgdict_list" title="Permalink to this definition"></a></dt>
<dd><p>constrains configurations and removes duplicates</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.customize_base_cfg">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">customize_base_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgopt_strs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#customize_base_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.customize_base_cfg" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfgname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – config name</p></li>
<li><p><strong>cfgopt_strs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – mini-language defining key variations</p></li>
<li><p><strong>base_cfg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – specifies the default cfg to customize</p></li>
<li><p><strong>cfgtype</strong> – </p></li>
<li><p><strong>alias_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>valid_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – if base_cfg is not specied, this defines the valid
keys (default = None)</p></li>
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>cfg_combo - list of config dicts defining customized configs</dt><dd><p>based on cfgopt_strs. customized configs always are given an
_cfgindex, _cfgstr, and _cfgname key.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-customize_base_cfg:0</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfgname</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;dsize=1000,per_name=[1,2]&#39;</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgname</span> <span class="o">=</span> <span class="s1">&#39;name&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;b=[1,2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base_cfg</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alias_keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valid_keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strict</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combo</span> <span class="o">=</span> <span class="n">customize_base_cfg</span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">base_cfg</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                               <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">strict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_combo = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfg_combo</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_combo = [</span>
<span class="go">    {&#39;_cfgindex&#39;: 0, &#39;_cfgname&#39;: &#39;name&#39;, &#39;_cfgstr&#39;: &#39;name:b=[1,2]&#39;, &#39;_cfgtype&#39;: None, &#39;b&#39;: 1},</span>
<span class="go">    {&#39;_cfgindex&#39;: 1, &#39;_cfgname&#39;: &#39;name&#39;, &#39;_cfgstr&#39;: &#39;name:b=[1,2]&#39;, &#39;_cfgtype&#39;: None, &#39;b&#39;: 2},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.get_cfg_lbl">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">get_cfg_lbl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nonlbl_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['_cfgstr',</span> <span class="pre">'_cfgname',</span> <span class="pre">'_cfgtype',</span> <span class="pre">'_cfgindex']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_cfg_lbl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.get_cfg_lbl" title="Permalink to this definition"></a></dt>
<dd><p>Formats a flat configuration dict into a short string label. This is useful
for re-creating command line strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – </p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = None)</p></li>
<li><p><strong>nonlbl_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = INTERNAL_CFGKEYS)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cfg_lbl</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch get_cfg_lbl</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;var1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var2&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonlbl_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_cfgstr&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgname&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgtype&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgindex&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_lbl</span> <span class="o">=</span> <span class="n">get_cfg_lbl</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nonlbl_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_lbl = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_lbl</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_lbl = test:var1=val1,var2=val2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;var1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var2&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;var2&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;var1&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_lbl</span> <span class="o">=</span> <span class="n">get_cfg_lbl</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default_cfg</span><span class="o">=</span><span class="n">default_cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_lbl = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_lbl</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_lbl = :var2=val2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test:K=[1,2,3]&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonlbl_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_cfgstr&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgname&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgtype&#39;</span><span class="p">,</span> <span class="s1">&#39;_cfgindex&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_lbl</span> <span class="o">=</span> <span class="n">get_cfg_lbl</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nonlbl_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_lbl = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_lbl</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_lbl = test:K=1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.get_cfgdict_lbl_list_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">get_cfgdict_lbl_list_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgdict_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varied_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_cfgdict_lbl_list_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.get_cfgdict_lbl_list_subset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.get_cfgdict_list_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">get_cfgdict_list_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgdict_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_cfgdict_list_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.get_cfgdict_list_subset" title="Permalink to this definition"></a></dt>
<dd><p>returns list of unique dictionaries only with keys specified in keys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfgdict_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cfglbl_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-get_cfgdict_list_subset</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict_sublist</span> <span class="o">=</span> <span class="n">get_cfgdict_list_subset</span><span class="p">(</span><span class="n">cfgdict_list</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfgdict_sublist</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    {&#39;K&#39;: 3, &#39;dcvs_clip_max&#39;: 0.1},</span>
<span class="go">    {&#39;K&#39;: 5, &#39;dcvs_clip_max&#39;: 0.1},</span>
<span class="go">    {&#39;K&#39;: 3, &#39;dcvs_clip_max&#39;: 0.2},</span>
<span class="go">    {&#39;K&#39;: 5, &#39;dcvs_clip_max&#39;: 0.2},</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.get_nonvaried_cfg_lbls">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">get_nonvaried_cfg_lbls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mainkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_cfgname'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_nonvaried_cfg_lbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.get_nonvaried_cfg_lbls" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>TODO: this might only need to return a single value. Maybe not if the names</dt><dd><p>are different.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>default_cfg</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cfglbl_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –exec-get_nonvaried_cfg_lbls</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_cfg</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfglbl_list</span> <span class="o">=</span> <span class="n">get_nonvaried_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">default_cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfglbl_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfglbl_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfglbl_list = [&#39;test:b=1&#39;, &#39;test:b=1&#39;, &#39;test:b=1&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.get_varied_cfg_lbls">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">get_varied_cfg_lbls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mainkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_cfgname'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#get_varied_cfg_lbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.get_varied_cfg_lbls" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>default_cfg</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>checkname</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True removes names if they are all the same.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cfglbl_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –exec-get_varied_cfg_lbls</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="p">{</span><span class="s1">&#39;_cfgname&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_cfg</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfglbl_list</span> <span class="o">=</span> <span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">default_cfg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfglbl_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfglbl_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfglbl_list = [&#39;test:f=1&#39;, &#39;test:f=2&#39;, &#39;test:f=3,z=4&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.grid_search_generator">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">grid_search_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_basis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#grid_search_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.grid_search_generator" title="Permalink to this definition"></a></dt>
<dd><p>Iteratively yeilds individual configuration points
inside a defined basis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>grid_basis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – a list of 2-component tuple. The named tuple looks
like this:</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-grid_search_generator</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_basis</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;dim1&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">.1</span><span class="p">,</span> <span class="mf">.2</span><span class="p">,</span> <span class="mf">.3</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="n">DimensionBasis</span><span class="p">(</span><span class="s1">&#39;dim2&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">.1</span><span class="p">,</span> <span class="mf">.4</span><span class="p">,</span> <span class="mf">.5</span><span class="p">]),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">grid_search_generator</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_lbls</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_list</span>  <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first_vals</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">grid_basis</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">column_types</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">first_vals</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="s1">&#39;grid search&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_csv_table</span><span class="p">(</span><span class="n">column_list</span><span class="p">,</span> <span class="n">column_lbls</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">column_types</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">grid search</span>
<span class="go"># num_rows=3</span>
<span class="go">#   dim1,  dim2</span>
<span class="go">    0.10,  0.10</span>
<span class="go">    0.20,  0.40</span>
<span class="go">    0.30,  0.50</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.gridsearch_timer">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">gridsearch_timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">niters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">searchkw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#gridsearch_timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.gridsearch_timer" title="Permalink to this definition"></a></dt>
<dd><p>Times a series of functions on a series of inputs</p>
<p>args_list is a list should vary the input sizes
can also be a func that take a count param</p>
<p>items in args_list list or returned by the func should be a tuple so it can be
unpacked</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.annotmatch_funcs –exec-get_annotmatch_rowids_from_aid2 –show
python -m wbia.annotmatch_funcs –exec-get_annotmatch_rowids_from_aid:1 –show</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>args_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>niters</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>time_result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –exec-gridsearch_timer –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_recursive</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_iterative</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">35</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">niters</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searchkw</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_result</span> <span class="o">=</span> <span class="n">gridsearch_timer</span><span class="p">(</span><span class="n">func_list</span><span class="p">,</span> <span class="n">args_list</span><span class="p">,</span> <span class="n">niters</span><span class="p">,</span> <span class="o">**</span><span class="n">searchkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;time_result = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">time_result</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_result</span><span class="p">[</span><span class="s1">&#39;plot_timings&#39;</span><span class="p">]()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.interact_gridsearch_result_images">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">interact_gridsearch_result_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_result_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgdict_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfglbl_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgresult_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fnum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figtitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorelbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'score'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclick_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#interact_gridsearch_result_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.interact_gridsearch_result_images" title="Permalink to this definition"></a></dt>
<dd><p>helper function for visualizing results of gridsearch</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.lookup_base_cfg_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">lookup_base_cfg_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">named_defaults_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#lookup_base_cfg_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.lookup_base_cfg_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.make_cfglbls">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">make_cfglbls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgdict_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varied_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#make_cfglbls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.make_cfglbls" title="Permalink to this definition"></a></dt>
<dd><p>Show only the text in labels that mater from the cfgdict</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.make_constrained_cfg_and_lbl_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">make_constrained_cfg_and_lbl_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varied_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraint_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaultslice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(0,</span> <span class="pre">1,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#make_constrained_cfg_and_lbl_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.make_constrained_cfg_and_lbl_list" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>varied_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – parameters to vary with possible variations</p></li>
<li><p><strong>constraint_func</strong> (<em>func</em>) – function to restirct parameter variations</p></li>
<li><p><strong>slice_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – dict of slices for each param of valid possible values</p></li>
<li><p><strong>defaultslice</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><em>slice</em></a>) – default slice used if slice is not specified in slice_dict</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(cfgdict_list, cfglbl_list)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-make_constrained_cfg_and_lbl_list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varied_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">.1</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;dcvs_clip_max&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">.1</span><span class="p">,</span> <span class="mf">.2</span><span class="p">,</span> <span class="mf">.5</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;K&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">constraint_func</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgdict_list</span><span class="p">,</span> <span class="n">cfglbl_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">make_constrained_cfg_and_lbl_list</span><span class="p">(</span><span class="n">varied_dict</span><span class="p">,</span> <span class="n">constraint_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">((</span><span class="n">cfgdict_list</span><span class="p">,</span> <span class="n">cfglbl_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.noexpand_parse_cfgstrs">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">noexpand_parse_cfgstrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgopt_strs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#noexpand_parse_cfgstrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.noexpand_parse_cfgstrs" title="Permalink to this definition"></a></dt>
<dd><p>alias_keys = None
cfgopt_strs = ‘f=2,c=[(1,2),(3,4)],d=1’
string  = cfgopt_strs</p>
<p>cfgopt_strs = ‘f=2,c=[1,2,3,4]’</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch noexpand_parse_cfgstrs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;b=[1,2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alias_keys</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combo</span> <span class="o">=</span> <span class="n">noexpand_parse_cfgstrs</span><span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_combo = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfg_combo</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">0</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfg_combo = {&#39;b&#39;: [1, 2]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.parse_argv_cfg">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">parse_argv_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">named_defaults_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_argv_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.parse_argv_cfg" title="Permalink to this definition"></a></dt>
<dd><p>simple configs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>named_defaults_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – (default = None)</p></li>
<li><p><strong>valid_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cfg_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –exec-parse_argv_cfg –filt :foo=bar
python -m utool.util_gridsearch –exec-parse_argv_cfg</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname</span> <span class="o">=</span> <span class="s1">&#39;--filt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">parse_argv_cfg</span><span class="p">(</span><span class="n">argname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfg_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.parse_cfgstr3">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">parse_cfgstr3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_cfgstr3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.parse_cfgstr3" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="http://stackoverflow.com/questions/4801403/how-can-i-use-pyparsing-to-parse-nested-expressions-that-have-mutiple-opener-clo">http://stackoverflow.com/questions/4801403/how-can-i-use-pyparsing-to-parse-nested-expressions-that-have-mutiple-opener-clo</a></p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="go">cfgopt_strs = &#39;f=2,c=[(1,2),(3,4)],d=1,j=[[1,2],[3,4]],foobar,x=&quot;[fdsfds&quot;,y=&quot;]fdsfds&quot;,e=[[1,2],[3,4]],[]&#39;</span>
<span class="go">string  =  cfgopt_strs</span>
<span class="go">parse_cfgstr3(string)</span>
</pre></div>
</div>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch parse_cfgstr3 –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;b=[1,2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict</span> <span class="o">=</span> <span class="n">parse_cfgstr3</span><span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfgdict = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgdict</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfgdict = {&#39;b&#39;: [1, 2]}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgopt_strs</span> <span class="o">=</span> <span class="s1">&#39;myprefix=False,sentence_break=False&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgdict</span> <span class="o">=</span> <span class="n">parse_cfgstr3</span><span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfgopt_strs = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cfgopt_strs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cfgdict = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cfgdict</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">cfgdict = {&#39;myprefix&#39;: False, &#39;sentence_break&#39;: False}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.parse_cfgstr_list2">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">parse_cfgstr_list2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgstr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">named_defaults_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfgtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand_nested</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">special_join_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_nestedcfgtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_cfgstr_list2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.parse_cfgstr_list2" title="Permalink to this definition"></a></dt>
<dd><p>Parses config strings. By looking up name in a dict of configs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfgstr_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>named_defaults_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – (default = None)</p></li>
<li><p><strong>cfgtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>alias_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>valid_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>expand_nested</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>combined</strong> (<em>is_nestedcfgtype - used for annot configs so special joins arent geometrically</em>) – </p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>Normal Case:</dt><dd><p>–flag name</p>
</dd>
<dt>Custom Arugment Cases:</dt><dd><p>–flag name:custom_key1=custom_val1,custom_key2=custom_val2</p>
</dd>
<dt>Multiple Config Case:</dt><dd><p>–flag name1:custom_args1 name2:custom_args2</p>
</dd>
<dt>Multiple Config (special join) Case:</dt><dd><p>(here name2 and name3 have some special interaction)
–flag name1:custom_args1 name2:custom_args2::name3:custom_args3</p>
</dd>
<dt>Varied Argument Case:</dt><dd><p>–flag name:key1=[val1,val2]</p>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>cfg_combos_list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-parse_cfgstr_list2
python -m utool.util_gridsearch –test-parse_cfgstr_list2:0
python -m utool.util_gridsearch –test-parse_cfgstr_list2:1
python -m utool.util_gridsearch –test-parse_cfgstr_list2:2</p>
</dd>
<dt>Setup:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;name:f=1&#39;</span><span class="p">,</span> <span class="s1">&#39;name:b=[1,2]&#39;</span><span class="p">,</span> <span class="s1">&#39;name1:f=1::name2:f=1,b=2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#cfgstr_list = [&#39;name&#39;, &#39;name1:f=1::name2:f=1,b=2&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joined&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;name:&#39;, &#39;name:f=1&#39;, &#39;name:b=1&#39;, &#39;name:b=2&#39;, &#39;name1:f=1,joined=True&#39;, &#39;name2:b=2,f=1,joined=True&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Allow for definition of a named default on the fly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;base=:f=2,c=[1,2]&#39;</span><span class="p">,</span> <span class="s1">&#39;base:f=1&#39;</span><span class="p">,</span> <span class="s1">&#39;base:b=[1,2]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;base:c=1,f=1&#39;, &#39;base:c=2,f=1&#39;, &#39;base:b=1,c=1,f=2&#39;, &#39;base:b=1,c=2,f=2&#39;, &#39;base:b=2,c=1,f=2&#39;, &#39;base:b=2,c=2,f=2&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;base:f=2,c=[(1,2),(3,4)]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">named_defaults_dict</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_nested</span><span class="p">,</span> <span class="n">is_nestedcfgtypel</span><span class="p">,</span> <span class="n">strict</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># test simplest case</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name:b=[1,2]&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">special_join_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joined&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_combos_list</span> <span class="o">=</span> <span class="n">parse_cfgstr_list2</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cfgstr_list</span><span class="p">,</span> <span class="n">named_defaults_dict</span><span class="p">,</span> <span class="n">cfgtype</span><span class="p">,</span> <span class="n">alias_keys</span><span class="p">,</span> <span class="n">valid_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">expand_nested</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">special_join_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cfg_combos_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">2</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">cfg_combos_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;second cfg[2] should vary b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">cfg_combos_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">([</span><span class="n">cfg</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">cfg</span><span class="p">]</span> <span class="k">for</span> <span class="n">cfg</span> <span class="ow">in</span> <span class="n">cfg_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varied_cfg_lbls</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.parse_cfgstr_name_options">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">parse_cfgstr_name_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfgstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_cfgstr_name_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.parse_cfgstr_name_options" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cfgstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(cfgname, cfgopt_strs, subx)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –test-parse_cfgstr_name_options</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span> <span class="o">+</span> <span class="n">NAMEVARSEP</span> <span class="o">+</span> <span class="s1">&#39;myvar1=myval1,myvar2=myval2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)</span> <span class="o">=</span> <span class="n">parse_cfgstr_name_options</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(cfgname, cfg_optstrs, subx) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">((</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(cfgname, cfg_optstrs, subx) = (&#39;default&#39;, &#39;myvar1=myval1,myvar2=myval2&#39;, None)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;default[0:1]&#39;</span> <span class="o">+</span> <span class="n">NAMEVARSEP</span> <span class="o">+</span> <span class="s1">&#39;myvar1=myval1,myvar2=myval2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)</span> <span class="o">=</span> <span class="n">parse_cfgstr_name_options</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(cfgname, cfg_optstrs, subx) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">((</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(cfgname, cfg_optstrs, subx) = (&#39;default&#39;, &#39;myvar1=myval1,myvar2=myval2&#39;, slice(0, 1, None))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;default[0]&#39;</span> <span class="o">+</span> <span class="n">NAMEVARSEP</span> <span class="o">+</span> <span class="s1">&#39;myvar1=myval1,myvar2=myval2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)</span> <span class="o">=</span> <span class="n">parse_cfgstr_name_options</span><span class="p">(</span><span class="n">cfgstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;(cfgname, cfg_optstrs, subx) = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">((</span><span class="n">cfgname</span><span class="p">,</span> <span class="n">cfgopt_strs</span><span class="p">,</span> <span class="n">subx</span><span class="p">)),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(cfgname, cfg_optstrs, subx) = (&#39;default&#39;, &#39;myvar1=myval1,myvar2=myval2&#39;, [0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.parse_nestings">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">parse_nestings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_curl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_nestings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.parse_nestings" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo">http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch parse_nestings:1 –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;lambda u: sign(u) * abs(u)**3.0 * greater(u, 0)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recombined</span> <span class="o">=</span> <span class="n">recombine_nestings</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PARSED_BLOCKS = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;recombined = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">recombined</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;orig       = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">string</span><span class="p">,))</span>
<span class="go">PARSED_BLOCKS = [</span>
<span class="go">    (&#39;nonNested&#39;, &#39;lambda u: sign&#39;),</span>
<span class="go">    (&#39;paren&#39;, [(&#39;ITEM&#39;, &#39;(&#39;), (&#39;nonNested&#39;, &#39;u&#39;), (&#39;ITEM&#39;, &#39;)&#39;)]),</span>
<span class="go">    (&#39;nonNested&#39;, &#39;* abs&#39;),</span>
<span class="go">    (&#39;paren&#39;, [(&#39;ITEM&#39;, &#39;(&#39;), (&#39;nonNested&#39;, &#39;u&#39;), (&#39;ITEM&#39;, &#39;)&#39;)]),</span>
<span class="go">    (&#39;nonNested&#39;, &#39;**3.0 * greater&#39;),</span>
<span class="go">    (&#39;paren&#39;, [(&#39;ITEM&#39;, &#39;(&#39;), (&#39;nonNested&#39;, &#39;u, 0&#39;), (&#39;ITEM&#39;, &#39;)&#39;)]),</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\chapter{Identification \textbf</span><span class="si">{foobar}</span><span class="s1"> workflow}\label{chap:application}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PARSED_BLOCKS = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="go">PARSED_BLOCKS = [</span>
<span class="go">    (&#39;nonNested&#39;, &#39;\\chapter&#39;),</span>
<span class="go">    (&#39;curl&#39;, [(&#39;ITEM&#39;, &#39;{&#39;), (&#39;nonNested&#39;, &#39;Identification \\textbf&#39;), (&#39;curl&#39;, [(&#39;ITEM&#39;, &#39;{&#39;), (&#39;nonNested&#39;, &#39;foobar&#39;), (&#39;ITEM&#39;, &#39;}&#39;)]), (&#39;nonNested&#39;, &#39;workflow&#39;), (&#39;ITEM&#39;, &#39;}&#39;)]),</span>
<span class="go">    (&#39;nonNested&#39;, &#39;\\label&#39;),</span>
<span class="go">    (&#39;curl&#39;, [(&#39;ITEM&#39;, &#39;{&#39;), (&#39;nonNested&#39;, &#39;chap:application&#39;), (&#39;ITEM&#39;, &#39;}&#39;)]),</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.parse_nestings2">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">parse_nestings2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nesters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['()',</span> <span class="pre">'[]',</span> <span class="pre">'&lt;&gt;',</span> <span class="pre">&quot;''&quot;,</span> <span class="pre">'&quot;&quot;']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">escape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\\'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#parse_nestings2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.parse_nestings2" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo">http://stackoverflow.com/questions/4801403/pyparsing-nested-mutiple-opener-clo</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;lambda u: sign(u) * abs(u)**3.0 * greater(u, 0)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings2</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parsed_blocks = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;lambda u: sign(&quot;\&quot;u(</span><span class="se">\&#39;</span><span class="s1">fdfds</span><span class="se">\&#39;</span><span class="s1">)&quot;) * abs(u)**3.0 * greater(u, 0)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_blocks</span> <span class="o">=</span> <span class="n">parse_nestings2</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parsed_blocks = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recombined</span> <span class="o">=</span> <span class="n">recombine_nestings</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PARSED_BLOCKS = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">parsed_blocks</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;recombined = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">recombined</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;orig       = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">string</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.partition_varied_cfg_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">partition_varied_cfg_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#partition_varied_cfg_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.partition_varied_cfg_list" title="Permalink to this definition"></a></dt>
<dd><p>Separates varied from non-varied parameters in a list of configs</p>
<p>TODO: partition nested configs</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_gridsearch –exec-partition_varied_cfg_list:0</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonvaried_cfg</span><span class="p">,</span> <span class="n">varied_cfg_list</span> <span class="o">=</span> <span class="n">partition_varied_cfg_list</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">({</span><span class="s1">&#39;nonvaried_cfg&#39;</span><span class="p">:</span> <span class="n">nonvaried_cfg</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="s1">&#39;varied_cfg_list&#39;</span><span class="p">:</span> <span class="n">varied_cfg_list</span><span class="p">},</span> <span class="n">explicit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nonvaried_cfg={&#39;b&#39;: 1},</span>
<span class="go">varied_cfg_list=[{&#39;f&#39;: 1}, {&#39;f&#39;: 2}, {&#39;f&#39;: 3, &#39;z&#39;: 4}],</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_gridsearch</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;q1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x3&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y3&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="p">{</span><span class="s1">&#39;q1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x3&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y3&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;b2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;e1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonvaried_cfg</span><span class="p">,</span> <span class="n">varied_cfg_list</span> <span class="o">=</span> <span class="n">partition_varied_cfg_list</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">({</span><span class="s1">&#39;nonvaried_cfg&#39;</span><span class="p">:</span> <span class="n">nonvaried_cfg</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="s1">&#39;varied_cfg_list&#39;</span><span class="p">:</span> <span class="n">varied_cfg_list</span><span class="p">},</span> <span class="n">explicit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">nonvaried_cfg={&#39;f1&#39;: {&#39;a2&#39;: {&#39;x3&#39;: 1}, &#39;b2&#39;: 1}, &#39;q1&#39;: 1},</span>
<span class="go">varied_cfg_list=[{&#39;f1&#39;: {&#39;a2&#39;: {&#39;y3&#39;: 2}}}, {&#39;e1&#39;: 1, &#39;f1&#39;: {&#39;a2&#39;: {&#39;y3&#39;: 1}}}],</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.recombine_nestings">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">recombine_nestings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed_blocks</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#recombine_nestings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.recombine_nestings" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_gridsearch.testdata_grid_search">
<span class="sig-prename descclassname"><span class="pre">utool.util_gridsearch.</span></span><span class="sig-name descname"><span class="pre">testdata_grid_search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_gridsearch.html#testdata_grid_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_gridsearch.testdata_grid_search" title="Permalink to this definition"></a></dt>
<dd><p>test data function for doctests</p>
</dd></dl>

</section>
<section id="module-utool.util_hash">
<span id="utool-util-hash-module"></span><h2>utool.util_hash module<a class="headerlink" href="#module-utool.util_hash" title="Permalink to this headline"></a></h2>
<p>Hashing convinience functions</p>
<p>You should opt to use a hash*27 function over a hash* function.</p>
<p>TODO: the same hashing algorithm should be used everywhere
Currently there is a mix of sha1, sha256, and sha512 in different places.</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.augment_uuid">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">augment_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uuid_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">hashables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#augment_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.augment_uuid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.b">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">b</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#b"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.b" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.combine_hashes">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">combine_hashes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bytes_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hasher</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#combine_hashes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.combine_hashes" title="Permalink to this definition"></a></dt>
<dd><p>Only works on bytes</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">(</span><span class="s1">&#39;1111&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;2222&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;22&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;22&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_list</span> <span class="o">=</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">combine_hashes</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hasher</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">combine_hashes</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">hasher</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_</span> <span class="o">=</span> <span class="n">out2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">hasher</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span> <span class="o">==</span> <span class="n">freeze_hash_bytes</span><span class="p">(</span><span class="n">hasher</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">convert_bytes_to_bigbase</span><span class="p">(</span><span class="n">hasher</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span> <span class="o">==</span> <span class="n">convert_hexstr_to_bigbase</span><span class="p">(</span><span class="n">hasher</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">out1</span> <span class="o">!=</span> <span class="n">out2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;out1 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">out1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;out2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">out2</span><span class="p">,))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.combine_uuids">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">combine_uuids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uuids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">salt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#combine_uuids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.combine_uuids" title="Permalink to this definition"></a></dt>
<dd><p>Creates a uuid that specifies a group of UUIDS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uuids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of uuid objects</p></li>
<li><p><strong>ordered</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if False uuid order changes the resulting combined uuid
otherwise the uuids are considered an orderless set</p></li>
<li><p><strong>salt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – salts the resulting hash</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>combined uuid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(in Python v3.10)">uuid.UUID</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash –test-combine_uuids</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuids</span> <span class="o">=</span> <span class="p">[</span><span class="n">hashable_to_uuid</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">),</span> <span class="n">hashable_to_uuid</span><span class="p">(</span><span class="s1">&#39;two&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">hashable_to_uuid</span><span class="p">(</span><span class="s1">&#39;three&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo1</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo2</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo3</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combo4</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">([</span><span class="n">combo1</span><span class="p">,</span> <span class="n">combo2</span><span class="p">,</span> <span class="n">combo3</span><span class="p">,</span> <span class="n">combo4</span><span class="p">],</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">UUID(&#39;83ee781f-8646-ccba-0ed8-13842825c12a&#39;),</span>
<span class="go">UUID(&#39;52bbb33f-612e-2ab8-a62c-2f46e5b1edc8&#39;),</span>
<span class="go">UUID(&#39;945cadab-e834-e581-0f74-62f106d20d81&#39;),</span>
<span class="go">UUID(&#39;945cadab-e834-e581-0f74-62f106d20d81&#39;),</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuids</span> <span class="o">=</span> <span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;5ff6b34e-7d8f-ef32-5fad-489266acd2ae&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;f2400146-ec12-950b-1489-668228e155a8&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;037d6f31-8c73-f961-1fe4-d616442a1e86&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;ca45d6e2-e648-09cc-a49e-e71c6fa3b3f3&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ordered</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">salt</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">combine_uuids</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">ordered</span><span class="p">,</span> <span class="n">salt</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1dabc66b-b564-676a-99b4-5cae7a9e7294</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.convert_bytes_to_bigbase">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">convert_bytes_to_bigbase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bytes_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'d',</span> <span class="pre">'e',</span> <span class="pre">'f',</span> <span class="pre">'g',</span> <span class="pre">'h',</span> <span class="pre">'i',</span> <span class="pre">'j',</span> <span class="pre">'k',</span> <span class="pre">'l',</span> <span class="pre">'m',</span> <span class="pre">'n',</span> <span class="pre">'o',</span> <span class="pre">'p',</span> <span class="pre">'q',</span> <span class="pre">'r',</span> <span class="pre">'s',</span> <span class="pre">'t',</span> <span class="pre">'u',</span> <span class="pre">'v',</span> <span class="pre">'w',</span> <span class="pre">'x',</span> <span class="pre">'y',</span> <span class="pre">'z']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#convert_bytes_to_bigbase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.convert_bytes_to_bigbase" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><em>bytes</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p>Ignore:</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash convert_bytes_to_bigbase</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_</span> <span class="o">=</span> <span class="n">b</span><span class="p">(</span><span class="s1">&#39;9999999999999999999999999999999999&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_27</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">convert_bytes_to_bigbase</span><span class="p">(</span><span class="n">bytes_</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">fervudwhpustklnptklklcgswbmvtustqocdpgiwkgrvwytvneardkpytd</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.convert_hexstr_to_bigbase">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">convert_hexstr_to_bigbase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hexstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'d',</span> <span class="pre">'e',</span> <span class="pre">'f',</span> <span class="pre">'g',</span> <span class="pre">'h',</span> <span class="pre">'i',</span> <span class="pre">'j',</span> <span class="pre">'k',</span> <span class="pre">'l',</span> <span class="pre">'m',</span> <span class="pre">'n',</span> <span class="pre">'o',</span> <span class="pre">'p',</span> <span class="pre">'q',</span> <span class="pre">'r',</span> <span class="pre">'s',</span> <span class="pre">'t',</span> <span class="pre">'u',</span> <span class="pre">'v',</span> <span class="pre">'w',</span> <span class="pre">'x',</span> <span class="pre">'y',</span> <span class="pre">'z']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bigbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">26</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#convert_hexstr_to_bigbase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.convert_hexstr_to_bigbase" title="Permalink to this definition"></a></dt>
<dd><p>Packs a long hexstr into a shorter length string with a larger base</p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Determine the length savings with lossless conversion</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span> <span class="k">as</span> <span class="nn">sy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">consts</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">hexbase</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">hexlen</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">bigbase</span><span class="o">=</span><span class="mi">27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">symbols</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;hexbase, hexlen, bigbase, newlen&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">haexbase</span><span class="p">,</span> <span class="n">hexlen</span><span class="p">,</span> <span class="n">bigbase</span><span class="p">,</span> <span class="n">newlen</span> <span class="o">=</span> <span class="n">symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eqn</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">Eq</span><span class="p">(</span><span class="mi">16</span> <span class="o">**</span> <span class="n">hexlen</span><span class="p">,</span>  <span class="n">bigbase</span> <span class="o">**</span> <span class="n">newlen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlen_ans</span> <span class="o">=</span> <span class="n">sy</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">eqn</span><span class="p">,</span> <span class="n">newlen</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">consts</span><span class="p">)</span><span class="o">.</span><span class="n">evalf</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;newlen_ans = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">newlen_ans</span><span class="p">,))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># for a 27 char alphabet we can get 216</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Required length for lossless conversion len2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">len2</span><span class="p">,))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="nb">len</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">bits</span> <span class="o">=</span> <span class="n">base</span> <span class="o">**</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;base = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">base</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;len = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bits = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">bits</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">216</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.digest_data">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">digest_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sha256'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#digest_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.digest_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.freeze_hash_bytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">freeze_hash_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bytes_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#freeze_hash_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.freeze_hash_bytes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.get_file_hash">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">get_file_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">65536</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hasher</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hexdigest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#get_file_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.get_file_hash" title="Permalink to this definition"></a></dt>
<dd><p>For better hashes use hasher=hashlib.sha256, and keep stride=1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path string</p></li>
<li><p><strong>blocksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – 2 ** 16. Affects speed of reading file</p></li>
<li><p><strong>hasher</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – defaults to sha1 for fast (but insecure) hashing</p></li>
<li><p><strong>stride</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – strides &gt; 1 skip data to hash, useful for faster
hashing, but less accurate, also makes hash dependant on
blocksize.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/3431825/generating-a-md5-checksum-of-a-file">http://stackoverflow.com/questions/3431825/generating-a-md5-checksum-of-a-file</a>
<a class="reference external" href="http://stackoverflow.com/questions/5001893/when-should-i-use-sha-1-and-when-should-i-use-sha-2">http://stackoverflow.com/questions/5001893/when-should-i-use-sha-1-and-when-should-i-use-sha-2</a></p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash –test-get_file_hash
python -m utool.util_hash –test-get_file_hash:0
python -m utool.util_hash –test-get_file_hash:1</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#blocksize = 65536  # 2 ** 16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blocksize</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hasher</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stride</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashbytes_20</span> <span class="o">=</span> <span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">blocksize</span><span class="p">,</span> <span class="n">hasher</span><span class="p">,</span> <span class="n">stride</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">hashbytes_20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;7\x07B\x0eX&lt;sRu\xa2\x90P\xda\xb2\x84?\x81?\xa9\xd9&#39;</span>
</pre></div>
</div>
<p>‘x13x9bxf6x0fxa3QQ xd7”$xe9mx05x9ex81xf6xf2vxe4’</p>
<p>‘x16x00x80Xxx8c-HxcdPxf6x02x9frlxbfx99VQxb5’</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#fpath = ut.grab_file_url(&#39;http://en.wikipedia.org/wiki/List_of_comets_by_type&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;tmp.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">lorium_ipsum</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blocksize</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hasher</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stride</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashbytes_20</span> <span class="o">=</span> <span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">blocksize</span><span class="p">,</span> <span class="n">hasher</span><span class="p">,</span> <span class="n">stride</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">hashbytes_20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;5KP\xcf&gt;R\xf6\xffO:L\xac\x9c\xd3V+\x0e\xf6\xe1n&#39;</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><p>file_ = open(fpath, ‘rb’)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.get_file_uuid">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">get_file_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hasher</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#get_file_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.get_file_uuid" title="Permalink to this definition"></a></dt>
<dd><p>Creates a uuid from the hash of a file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.get_zero_uuid">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">get_zero_uuid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#get_zero_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.get_zero_uuid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hash_data">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hash_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hash_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hash_data" title="Permalink to this definition"></a></dt>
<dd><p>Get a unique hash depending on the state of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – any sort of loosely organized data</p></li>
<li><p><strong>hashlen</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>alphabet</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text -  hash string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash hash_data</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">failed</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">check_hash</span><span class="p">(</span><span class="n">input_</span><span class="p">,</span> <span class="n">want</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">count</span> <span class="o">=</span> <span class="n">counter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">counter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">got</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">hash_data</span><span class="p">(</span><span class="n">input_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">) </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">got</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="n">want</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">got</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">want</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">failed</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">got</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">want</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;wuvrng&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">],</span> <span class="s1">&#39;dekbfpby&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="nb">tuple</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">]),</span> <span class="s1">&#39;dekbfpby&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;marreflbv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="sa">b</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;2&#39;</span><span class="p">],</span> <span class="s1">&#39;nwfs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">],</span> <span class="s1">&#39;arfrp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="s1">&#39;3&#39;</span><span class="p">],</span> <span class="s1">&#39;uyqwcq&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="s1">&#39;ehkgxk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]),</span> <span class="s1">&#39;mjcpwa&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_hash</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000</span><span class="p">),</span> <span class="s1">&#39;bdwosuey&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">got</span><span class="p">,</span> <span class="n">input_</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">want</span> <span class="ow">in</span> <span class="n">failed</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;failed </span><span class="si">{}</span><span class="s1"> on </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">input_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;got=</span><span class="si">{}</span><span class="s1">, want=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">got</span><span class="p">,</span> <span class="n">want</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">failed</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashable_to_uuid">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashable_to_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hashable_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashable_to_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashable_to_uuid" title="Permalink to this definition"></a></dt>
<dd><p>TODO: ensure that python2 and python3 agree on hashes of the same
information</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hashable</strong> (<em>hashable</em>) – hashables are bytes-like objects
An object that supports the Buffer Protocol, like bytes, bytearray
or memoryview. Bytes-like objects can be used for various operations
that expect binary data, such as compression, saving to a binary
file or sending over a socket. Some operations need the binary data
to be mutable, in which case not all bytes-like objects can apply.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>UUID</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash –test-hashable_to_uuid</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashables</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;foobar&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;foobar&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="sa">u</span><span class="s1">&#39;foobar&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">10</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uuids</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">hashable_</span> <span class="ow">in</span> <span class="n">hashables</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">uuid_</span> <span class="o">=</span> <span class="n">hashable_to_uuid</span><span class="p">(</span><span class="n">hashable_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">uuids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uuid_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">lmap</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">uuids</span><span class="p">),</span> <span class="n">strvals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">8843d7f9-2416-211d-e9eb-b963ff4ce281,</span>
<span class="go">8843d7f9-2416-211d-e9eb-b963ff4ce281,</span>
<span class="go">8843d7f9-2416-211d-e9eb-b963ff4ce281,</span>
<span class="go">e864ece8-8880-43b6-7277-c8b2cefe96ad,</span>
<span class="go">a01eda32-e4e0-b139-3274-e91d1b3e9ecf,</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashid_arr">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashid_arr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'arr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashid_arr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashid_arr" title="Permalink to this definition"></a></dt>
<dd><p>newer version of hashstr_arr2</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'d',</span> <span class="pre">'e',</span> <span class="pre">'f',</span> <span class="pre">'g',</span> <span class="pre">'h',</span> <span class="pre">'i',</span> <span class="pre">'j',</span> <span class="pre">'k',</span> <span class="pre">'l',</span> <span class="pre">'m',</span> <span class="pre">'n',</span> <span class="pre">'o',</span> <span class="pre">'p',</span> <span class="pre">'q',</span> <span class="pre">'r',</span> <span class="pre">'s',</span> <span class="pre">'t',</span> <span class="pre">'u',</span> <span class="pre">'v',</span> <span class="pre">'w',</span> <span class="pre">'x',</span> <span class="pre">'y',</span> <span class="pre">'z']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashstr" title="Permalink to this definition"></a></dt>
<dd><p>python -c “import utool as ut; print(ut.hashstr(‘abcd’))”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>hashable</em>) – </p></li>
<li><p><strong>hashlen</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 16)</p></li>
<li><p><strong>alphabet</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of characters:</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>hashstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash –test-hashstr
python3 -m utool.util_hash –test-hashstr
python3 -m utool.util_hash –test-hashstr:2
python -m utool.util_hash hashstr:3
python3 -m utool.util_hash hashstr:3</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">hashlen</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">text = mi5yum60mbxhyp+x</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">hashlen</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">text = 0000000000000000</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">hashlen</span><span class="p">,</span> <span class="n">alphabet</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">text = z5lqw0bzt4dmb9yy</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">UUID</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;7cd0197b-1394-9d16-b1eb-0d8d7a60aedc&#39;</span><span class="p">),</span> <span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;c76b54a5-adb6-7f16-f0fb-190ab99409f8&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">ALPHABET_41</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr_arr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="n">ALPHABET_27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><p>data = np.array([‘a’, ‘b’], dtype=object)
data.tobytes()
data = np.array([‘a’, ‘b’])
data = [‘a’, ‘b’]
data = np.array([1, 2, 3])
import hashlib
from six.moves import cPickle as pickle
pickle.dumps(data, protocol=2)</p>
<p>python2 -c “import hashlib, numpy; print(hashlib.sha1(‘ab’).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(‘ab’.encode(‘utf8’)).hexdigest())”</p>
<p>python2 -c “import hashlib, numpy; print(hashlib.sha1(‘ab’).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(b’ab’).hexdigest())”</p>
<p>python2 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([1, 2])).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([1, 2])).hexdigest())”</p>
<p># TODO: numpy arrays of strings must be encoded to bytes first in python3
python2 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([‘a’, ‘b’])).hexdigest())”
python3 -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([b’a’, b’b’])).hexdigest())”</p>
<p>python -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([‘a’, ‘b’], dtype=object)).hexdigest())”
python -c “import hashlib, numpy; print(hashlib.sha1(numpy.array([‘a’, ‘b’], dtype=object)).hexdigest())”</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashstr27">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashstr27</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'d',</span> <span class="pre">'e',</span> <span class="pre">'f',</span> <span class="pre">'g',</span> <span class="pre">'h',</span> <span class="pre">'i',</span> <span class="pre">'j',</span> <span class="pre">'k',</span> <span class="pre">'l',</span> <span class="pre">'m',</span> <span class="pre">'n',</span> <span class="pre">'o',</span> <span class="pre">'p',</span> <span class="pre">'q',</span> <span class="pre">'r',</span> <span class="pre">'s',</span> <span class="pre">'t',</span> <span class="pre">'u',</span> <span class="pre">'v',</span> <span class="pre">'w',</span> <span class="pre">'x',</span> <span class="pre">'y',</span> <span class="pre">'z']</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr27"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashstr27" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashstr_arr">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashstr_arr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'arr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathsafe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_arr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashstr_arr" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>ndarray</em>) – </p></li>
<li><p><strong>lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = ‘arr’)</p></li>
<li><p><strong>pathsafe</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>arr_hashstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash –test-hashstr_arr
python -m utool.util_hash hashstr_arr:2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="s1">&#39;arr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pathsafe</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_hashstr</span> <span class="o">=</span> <span class="n">hashstr_arr</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">pathsafe</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="n">ALPHABET_27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;arr_hashstr = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr_hashstr</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">arr_hashstr = arr((2,3)daukyreqnhfejkfs)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="s1">&#39;arr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pathsafe</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr_hashstr</span> <span class="o">=</span> <span class="n">hashstr_arr</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lbl</span><span class="p">,</span> <span class="n">pathsafe</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="n">ALPHABET_27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;arr_hashstr = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">arr_hashstr</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">arr_hashstr = arr-_2,3_daukyreqnhfejkfs-</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashstr_arr27">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashstr_arr27</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'d',</span> <span class="pre">'e',</span> <span class="pre">'f',</span> <span class="pre">'g',</span> <span class="pre">'h',</span> <span class="pre">'i',</span> <span class="pre">'j',</span> <span class="pre">'k',</span> <span class="pre">'l',</span> <span class="pre">'m',</span> <span class="pre">'n',</span> <span class="pre">'o',</span> <span class="pre">'p',</span> <span class="pre">'q',</span> <span class="pre">'r',</span> <span class="pre">'s',</span> <span class="pre">'t',</span> <span class="pre">'u',</span> <span class="pre">'v',</span> <span class="pre">'w',</span> <span class="pre">'x',</span> <span class="pre">'y',</span> <span class="pre">'z']</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_arr27"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashstr_arr27" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashstr_md5">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashstr_md5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_md5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashstr_md5" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">hasher</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_file_hash</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">hasher</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">())</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.hashstr_sha1">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">hashstr_sha1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base10</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#hashstr_sha1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.hashstr_sha1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.image_uuid">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">image_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pil_img</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#image_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.image_uuid" title="Permalink to this definition"></a></dt>
<dd><p>UNSAFE: DEPRICATE: JPEG IS NOT GAURENTEED TO PRODUCE CONSITENT VALUES ON</p>
<p>MULTIPLE MACHINES image global unique id</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/23565889/jpeg-images-have-different-pixel-values-across-multiple-devices">http://stackoverflow.com/questions/23565889/jpeg-images-have-different-pixel-values-across-multiple-devices</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.make_hash">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">make_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#make_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.make_hash" title="Permalink to this definition"></a></dt>
<dd><p>Makes a hash from a dictionary, list, tuple or set to any level, that
contains only other hashable types (including any lists, tuples, sets, and
dictionaries). In the case where other kinds of objects (like classes) need
to be hashed, pass in a collection of object attributes that are pertinent.
For example, a class can be hashed in this fashion:</p>
<p>make_hash([cls.__dict__, cls.__name__])</p>
<p>A function can be hashed like so:</p>
<p>make_hash([fn.__dict__, fn.__code__])</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary">http://stackoverflow.com/questions/5884066/hashing-a-python-dictionary</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.random_nonce">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">random_nonce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#random_nonce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.random_nonce" title="Permalink to this definition"></a></dt>
<dd><p>returns a random string of len=&lt;length&gt; from &lt;alphabet&gt;
I have no idea why this is named random_nonce</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.random_uuid">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">random_uuid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#random_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.random_uuid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.write_hash_file">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">write_hash_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'md5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#write_hash_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.write_hash_file" title="Permalink to this definition"></a></dt>
<dd><p>Creates a hash file for each file in a path</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash –test-write_hash_file</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_hash_file</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_hash.write_hash_file_for_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_hash.</span></span><span class="sig-name descname"><span class="pre">write_hash_file_for_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_hash.html#write_hash_file_for_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_hash.write_hash_file_for_path" title="Permalink to this definition"></a></dt>
<dd><p>Creates a hash file for each file in a path</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_hash –test-write_hash_file_for_path</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_hash</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="s1">&#39;patsy.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hash_fpath_list</span> <span class="o">=</span> <span class="n">write_hash_file_for_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">hash_fpath</span> <span class="ow">in</span> <span class="n">hash_fpath_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">hash_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">hash_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-utool.util_import">
<span id="utool-util-import-module"></span><h2>utool.util_import module<a class="headerlink" href="#module-utool.util_import" title="Permalink to this headline"></a></h2>
<dl>
<dt>SeeAlso:</dt><dd><p>utool._internal.util_importer</p>
<p>TODO: <a class="reference external" href="http://code.activestate.com/recipes/473888-lazy-module-imports/">http://code.activestate.com/recipes/473888-lazy-module-imports/</a>
<a class="reference external" href="https://pypi.python.org/pypi/zope.deferredimport/3.5.2">https://pypi.python.org/pypi/zope.deferredimport/3.5.2</a></p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.check_module_installed">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">check_module_installed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#check_module_installed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.check_module_installed" title="Permalink to this definition"></a></dt>
<dd><p>Check if a python module is installed without attempting to import it.
Note, that if <code class="docutils literal notranslate"><span class="pre">modname</span></code> indicates a child module, the parent module is
always loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/14050281/module-exists-without-importing">http://stackoverflow.com/questions/14050281/module-exists-without-importing</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_import check_module_installed –show –verbimp –modname=this
python -m utool.util_import check_module_installed –show –verbimp –modname=wbia.scripts.iccv</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;this&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_installed</span> <span class="o">=</span> <span class="n">check_module_installed</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_imported</span> <span class="o">=</span> <span class="n">modname</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;module(</span><span class="si">%r</span><span class="s1">).is_installed = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">is_installed</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;module(</span><span class="si">%r</span><span class="s1">).is_imported = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">is_imported</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;this&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">,</span> <span class="s1">&#39;module(this) should not have ever been imported&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.get_modpath_from_modname">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">get_modpath_from_modname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefer_pkg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefer_main</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#get_modpath_from_modname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.get_modpath_from_modname" title="Permalink to this definition"></a></dt>
<dd><p>Same as get_modpath but doesnt import directly</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>get_modpath</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.import_modname">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">import_modname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_modname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.import_modname" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>module</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>module</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_import –test-import_modname</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool._internal&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool._internal.meta_util_six&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;utool.util_path&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#&#39;utool.util_path.checkpath&#39;,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modules</span> <span class="o">=</span> <span class="p">[</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span> <span class="k">for</span> <span class="n">modname</span> <span class="ow">in</span> <span class="n">modname_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">([</span><span class="n">m</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">modules</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">modname_list</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.import_module_from_fpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">import_module_from_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_module_from_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.import_module_from_fpath" title="Permalink to this definition"></a></dt>
<dd><p>imports module from a file path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module_fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>module</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>module</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_import –test-import_module_from_fpath</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">import_module_from_fpath</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;module = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">module</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shutil</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ubelt</span> <span class="k">as</span> <span class="nn">ub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_root</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;test_fpath_import&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Clear the directory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">test_root</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_root</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">ensure_app_cache_dir</span><span class="p">(</span><span class="s1">&#39;test_fpath_import&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># -----</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define two temporary modules with the same name that are not in sys.path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">os.path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Even though they have the same name they have different values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod1_fpath</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">((</span><span class="n">test_root</span><span class="p">,</span> <span class="s1">&#39;path1&#39;</span><span class="p">,</span> <span class="s1">&#39;testmod&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">mod1_fpath</span><span class="p">,</span> <span class="s1">&#39;__init__.py&#39;</span><span class="p">),</span> <span class="s1">&#39;version = 1</span><span class="se">\n</span><span class="s1">from . import sibling</span><span class="se">\n</span><span class="s1">a1 = 1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">mod1_fpath</span><span class="p">,</span> <span class="s1">&#39;sibling.py&#39;</span><span class="p">),</span> <span class="s1">&#39;spam = </span><span class="se">\&quot;</span><span class="s1">ham</span><span class="se">\&quot;\n</span><span class="s1">b1 = 2&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Even though they have the same name they have different values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod2_fpath</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">((</span><span class="n">test_root</span><span class="p">,</span> <span class="s1">&#39;path2&#39;</span><span class="p">,</span> <span class="s1">&#39;testmod&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">mod2_fpath</span><span class="p">,</span> <span class="s1">&#39;__init__.py&#39;</span><span class="p">),</span> <span class="s1">&#39;version = 2</span><span class="se">\n</span><span class="s1">from . import sibling</span><span class="se">\n</span><span class="s1">a2 = 3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">mod2_fpath</span><span class="p">,</span> <span class="s1">&#39;sibling.py&#39;</span><span class="p">),</span> <span class="s1">&#39;spam = </span><span class="se">\&quot;</span><span class="s1">jam</span><span class="se">\&quot;\n</span><span class="s1">b2 = 4&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># -----</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Neither module should be importable through the normal mechanism</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">testmod</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;should fail&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_module_from_fpath</span><span class="p">(</span><span class="n">mod1_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod1.version = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod1.version = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;mod1 version is 1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod1.a1 = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">a1</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_module_from_fpath</span><span class="p">(</span><span class="n">mod2_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod2.version = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod2</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mod2</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;mod2 version is 2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod2.a2 = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">a2</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># BUT Notice how mod1 is mod2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mod1</span> <span class="ow">is</span> <span class="n">mod2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># mod1 has attributes from mod1 and mod2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod1.a1 = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">a1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod1.a2 = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">a2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod2.a1 = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod2</span><span class="o">.</span><span class="n">a1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod2.a2 = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod2</span><span class="o">.</span><span class="n">a2</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Both are version 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod1.version = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod2.version = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod2</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># However sibling always remains at version1 (ham)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mod2.sibling.spam = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod2</span><span class="o">.</span><span class="n">sibling</span><span class="o">.</span><span class="n">spam</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now importing testmod works because it reads from sys.modules</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">testmod</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># reloading mod1 overwrites attrs again</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_module_from_fpath</span><span class="p">(</span><span class="n">mod1_fpath</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Removing both from sys.modules</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s1">&#39;testmod&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s1">&#39;testmod.sibling&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_module_from_fpath</span><span class="p">(</span><span class="n">mod2_fpath</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">mod2</span><span class="p">,</span> <span class="s1">&#39;a1&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;mod2 no longer has a1 and it reloads itself correctly&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># -------</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s1">&#39;testmod&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s1">&#39;testmod.sibling&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_module_from_fpath</span><span class="p">(</span><span class="n">mod1_fpath</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># third test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod3_fpath</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">((</span><span class="n">test_root</span><span class="p">,</span> <span class="s1">&#39;path3&#39;</span><span class="p">,</span> <span class="s1">&#39;testmod&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">mod3_fpath</span><span class="p">,</span> <span class="s1">&#39;__init__.py&#39;</span><span class="p">),</span> <span class="s1">&#39;version = 3&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">mod3_fpath</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;testmod&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># third test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod4_fpath</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">((</span><span class="n">test_root</span><span class="p">,</span> <span class="s1">&#39;path3&#39;</span><span class="p">,</span> <span class="s1">&#39;novelmod&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">mod4_fpath</span><span class="p">,</span> <span class="s1">&#39;__init__.py&#39;</span><span class="p">),</span> <span class="s1">&#39;version = 4&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.import_star">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">import_star</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_star"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.import_star" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module name</p>
</dd>
</dl>
<dl>
<dt>Tutorial:</dt><dd><p>Replacement for
from modname import *</p>
<p>Usage is like this
globals().update(ut.import_star(‘&lt;module&gt;’))
OR
ut.import_star(‘&lt;module&gt;’, __name__)</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="go">modname = &#39;opengm&#39;</span>
<span class="go">submod = None</span>
<span class="go">parent = __name__</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.import_star_execstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">import_star_execstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#import_star_execstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.import_star_execstr" title="Permalink to this definition"></a></dt>
<dd><p>print(ut.import_star_execstr(‘opengm.inference’))</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.package_contents">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">package_contents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">package</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_pkg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_mod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#package_contents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.package_contents" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1707709/list-all-the-modules-that-are-part-of-a-python-package">http://stackoverflow.com/questions/1707709/list-all-the-modules-that-are-part-of-a-python-package</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>package</strong> – </p></li>
<li><p><strong>with_pkg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>with_mod</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_import –exec-package_contents</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_import</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">package</span> <span class="o">=</span> <span class="n">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_prefix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;wbia.tests&#39;</span><span class="p">,</span> <span class="s1">&#39;wbia.control.__SQLITE3__&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="s1">&#39;_autogen_explicit_controller&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_suffix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_grave&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_pkg</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_mod</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">package_contents</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">with_pkg</span><span class="p">,</span> <span class="n">with_mod</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                          <span class="n">ignore_prefix</span><span class="p">,</span> <span class="n">ignore_suffix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.possible_import_patterns">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">possible_import_patterns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#possible_import_patterns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.possible_import_patterns" title="Permalink to this definition"></a></dt>
<dd><p>does not support from x import *
does not support from x import z, y</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;package.submod.submod2.module&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">possible_import_patterns</span><span class="p">(</span><span class="n">modname</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &#39;import\spackage.submod.submod2.module&#39;,</span>
<span class="go">    &#39;from\spackage\.submod\.submod2\simportmodule&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_import.tryimport">
<span class="sig-prename descclassname"><span class="pre">utool.util_import.</span></span><span class="sig-name descname"><span class="pre">tryimport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipiname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_import.html#tryimport"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_import.tryimport" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_import –test-tryimport</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;pyfiglet&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipiname</span> <span class="o">=</span> <span class="s1">&#39;git+https://github.com/pwaller/pyfiglet&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyfiglet</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">tryimport</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">pipiname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pyfiglet</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pyfiglet</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">),</span> <span class="s1">&#39;unknown error&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># disabled because not everyone has access to being a super user</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;lru&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipiname</span> <span class="o">=</span> <span class="s1">&#39;git+https://github.com/amitdev/lru-dict&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lru</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">tryimport</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">pipiname</span><span class="p">,</span> <span class="n">ensure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lru</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">),</span> <span class="s1">&#39;did not ensure lru&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.util_inject">
<span id="utool-util-inject-module"></span><h2>utool.util_inject module<a class="headerlink" href="#module-utool.util_inject" title="Permalink to this headline"></a></h2>
<p>Injects code into live modules or into text source files.</p>
<p>Basic use case is to extend the print function into a logging function</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.DUMMYPROF_FUNC">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">DUMMYPROF_FUNC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#DUMMYPROF_FUNC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.DUMMYPROF_FUNC" title="Permalink to this definition"></a></dt>
<dd><p>dummy profiling func. does nothing</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.PROFILE_FUNC">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">PROFILE_FUNC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.PROFILE_FUNC" title="Permalink to this definition"></a></dt>
<dd><p>dummy profiling func. does nothing</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.TIMERPROF_FUNC">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">TIMERPROF_FUNC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#TIMERPROF_FUNC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.TIMERPROF_FUNC" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.colored_pygments_excepthook">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">colored_pygments_excepthook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#colored_pygments_excepthook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.colored_pygments_excepthook" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/14775916/color-exceptions-python">https://stackoverflow.com/questions/14775916/color-exceptions-python</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inject –test-colored_pygments_excepthook</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.get_injected_modules">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">get_injected_modules</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#get_injected_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.get_injected_modules" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.inject">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">inject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[???]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DEBUG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.inject" title="Permalink to this definition"></a></dt>
<dd><p>Injects your module with utool magic</p>
<p>Utool magic is not actually magic. It just turns your <code class="docutils literal notranslate"><span class="pre">print</span></code> statments into
logging statments, allows for your module to be used with the utool.Indent
context manager and the and utool.indent_func decorator. <code class="docutils literal notranslate"><span class="pre">printDBG</span></code> will soon
be deprecated as will <code class="docutils literal notranslate"><span class="pre">print\_</span></code>. The function rrr is a developer convinience for
reloading the module dynamically durring runtime. The profile decorator is
a no-op if not using kernprof.py, otherwise it is kernprof.py’s profile
decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – the __name__ varaible in your module</p></li>
<li><p><strong>module_prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a user defined module prefix</p></li>
<li><p><strong>DEBUG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>module</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – the actual module (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(print, print_, printDBG, rrr, profile_)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inject</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">unicode_literals</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">util.util_inject</span> <span class="kn">import</span> <span class="n">inject</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">,</span> <span class="n">rrr</span><span class="p">,</span> <span class="n">profile</span> <span class="o">=</span> <span class="n">inject2</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;[mod]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.inject2">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">inject2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DEBUG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.inject2" title="Permalink to this definition"></a></dt>
<dd><p>wrapper that depricates print_ and printDBG</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.inject_colored_exceptions">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">inject_colored_exceptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_colored_exceptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.inject_colored_exceptions" title="Permalink to this definition"></a></dt>
<dd><p>Causes exceptions to be colored if not already</p>
<p>Hooks into sys.excepthook</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inject –test-inject_colored_exceptions</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inject</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sys.excepthook = </span><span class="si">%r</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">excepthook</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#assert sys.excepthook is colored_pygments_excepthook, &#39;bad excepthook&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;should be in color&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.inject_print_functions">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">inject_print_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[???]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DEBUG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_print_functions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.inject_print_functions" title="Permalink to this definition"></a></dt>
<dd><p>makes print functions to be injected into the module</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.inject_python_code">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">inject_python_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inject_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'after_imports'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_python_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.inject_python_code" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE
puts code into files on disk</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.inject_python_code2">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">inject_python_code2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#inject_python_code2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.inject_python_code2" title="Permalink to this definition"></a></dt>
<dd><p>Does autogeneration stuff</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.make_module_print_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">make_module_print_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_print_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.make_module_print_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.make_module_profile_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">make_module_profile_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[???]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_profile_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.make_module_profile_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.make_module_reload_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">make_module_reload_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[???]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_reload_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.make_module_reload_func" title="Permalink to this definition"></a></dt>
<dd><p>Injects dynamic module reloading</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.make_module_write_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">make_module_write_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#make_module_write_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.make_module_write_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.memprof">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">memprof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#memprof"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.memprof" title="Permalink to this definition"></a></dt>
<dd><p>requires memory_profiler
pip install memory_profiler</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pypi.python.org/pypi/memory_profiler">https://pypi.python.org/pypi/memory_profiler</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.noinject">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">noinject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[???]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DEBUG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#noinject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.noinject" title="Permalink to this definition"></a></dt>
<dd><p>Use in modules that do not have inject in them</p>
<p>Does not inject anything into the module. Just lets utool know that a module
is being imported so the import order can be debuged</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.print">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.print" title="Permalink to this definition"></a></dt>
<dd><p>logging builtins.print</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.profile">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.profile" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.reload_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">reload_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#reload_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.reload_module" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.rrr">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inject.rrr" title="Permalink to this definition"></a></dt>
<dd><p>Dynamic module reloading</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inject.split_python_text_into_lines">
<span class="sig-prename descclassname"><span class="pre">utool.util_inject.</span></span><span class="sig-name descname"><span class="pre">split_python_text_into_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inject.html#split_python_text_into_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inject.split_python_text_into_lines" title="Permalink to this definition"></a></dt>
<dd><p># TODO: make it so this function returns text so one statment is on one
# line that means no splitting up things like function definitions into
# multiple lines</p>
</dd></dl>

</section>
<section id="module-utool.util_inspect">
<span id="utool-util-inspect-module"></span><h2>utool.util_inspect module<a class="headerlink" href="#module-utool.util_inspect" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">BaronWraper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.defined_functions">
<span class="sig-name descname"><span class="pre">defined_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.defined_functions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.defined_functions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.find_func">
<span class="sig-name descname"><span class="pre">find_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.find_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.find_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.find_root_function">
<span class="sig-name descname"><span class="pre">find_root_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.find_root_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.find_root_function" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.find_usage">
<span class="sig-name descname"><span class="pre">find_usage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.find_usage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.find_usage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.from_fpath">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.from_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.from_fpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.internal_call_graph">
<span class="sig-name descname"><span class="pre">internal_call_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_doctests</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.internal_call_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.internal_call_graph" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.print_diff">
<span class="sig-name descname"><span class="pre">print_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.print_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.print_diff" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.rrr">
<span class="sig-name descname"><span class="pre">rrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_inspect.BaronWraper.rrr" title="Permalink to this definition"></a></dt>
<dd><p>special class reloading function
This function is often injected as rrr of classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.to_string">
<span class="sig-name descname"><span class="pre">to_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.to_string" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.BaronWraper.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#BaronWraper.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.BaronWraper.write" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_inspect.KWReg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">KWReg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#KWReg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.KWReg" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper to register keywords for complex keyword parsers</p>
<dl class="py property">
<dt class="sig sig-object py" id="utool.util_inspect.KWReg.defaultkw">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaultkw</span></span><a class="headerlink" href="#utool.util_inspect.KWReg.defaultkw" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_inspect.KWReg.print_defaultkw">
<span class="sig-name descname"><span class="pre">print_defaultkw</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#KWReg.print_defaultkw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.KWReg.print_defaultkw" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.argparse_funckw">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">argparse_funckw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#argparse_funckw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.argparse_funckw" title="Permalink to this definition"></a></dt>
<dd><p>allows kwargs to be specified on the commandline from testfuncs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>lbl, verbose, only_specified, force_keys, type_hint, alias_dict</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>funckw</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect argparse_funckw</p>
</dd>
<dt>SeeAlso:</dt><dd><p>exec_funckw
recursive_parse_kwargs
parse_kwarg_keys</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">get_instance_attrnames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funckw</span> <span class="o">=</span> <span class="n">argparse_funckw</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;funckw = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">funckw</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">funckw = {</span>
<span class="go">    &#39;default&#39;: True,</span>
<span class="go">    &#39;with_methods&#39;: True,</span>
<span class="go">    &#39;with_properties&#39;: True,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.check_module_usage">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">check_module_usage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modpath_patterns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#check_module_usage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.check_module_usage" title="Permalink to this definition"></a></dt>
<dd><p>FIXME: not fully implmented</p>
<p>Desired behavior is —
Given a set of modules specified by a list of patterns, returns how the
functions defined in the modules are called: a) with themselves and b) by
other files in the project not in the given set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>modpath_patterns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect check_module_usage –show
utprof.py -m utool.util_inspect check_module_usage –show
python -m utool.util_inspect check_module_usage –pat=”[‘auto*’, ‘user_dialogs.py’, ‘special_query.py’, ‘qt_inc_automatch.py’, ‘devcases.py’]”
python -m utool.util_inspect check_module_usage –pat=”preproc_detectimg.py”
python -m utool.util_inspect check_module_usage –pat=”neighbor_index.py”
python -m utool.util_inspect check_module_usage –pat=”manual_chip_funcs.py”
python -m utool.util_inspect check_module_usage –pat=”preproc_probchip.py”
python -m utool.util_inspect check_module_usage –pat=”guiback.py”</p>
<p>python -m utool.util_inspect check_module_usage –pat=”util_str.py”</p>
</dd>
</dl>
<p>Ignore:</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_grave*&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;auto*&#39;</span><span class="p">,</span> <span class="s1">&#39;user_dialogs.py&#39;</span><span class="p">,</span> <span class="s1">&#39;special_query.py&#39;</span><span class="p">,</span> <span class="s1">&#39;qt_inc_automatch.py&#39;</span><span class="p">,</span> <span class="s1">&#39;devcases.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;neighbor_index.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;manual_chip_funcs.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modpath_patterns</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--pat&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">check_module_usage</span><span class="p">(</span><span class="n">modpath_patterns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.check_static_member_vars">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">check_static_member_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#check_static_member_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.check_static_member_vars" title="Permalink to this definition"></a></dt>
<dd><p>class_ can either be live object or a classname</p>
<p># fpath = ut.truepath(‘~/code/ibeis/ibeis/viz/viz_graph2.py’)
# classname = ‘AnnotGraphWidget’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.dummy_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">dummy_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg3</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg4</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg5</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#dummy_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.dummy_func" title="Permalink to this definition"></a></dt>
<dd><p>test func for kwargs parseing</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.exec_func_doctest">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">exec_func_doctest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_sentinal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_sentinal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_doctest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.exec_func_doctest" title="Permalink to this definition"></a></dt>
<dd><p>execs a func doctest and returns requested local vars.</p>
<p>func = encoder.learn_threshold2
num = 0
start_sentinal = ‘import wbia.plottool as pt’
end_sentinal = ‘pnum_ = pt.make_pnum_nextgen’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.exec_func_src">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">exec_func_src</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentinal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_src"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.exec_func_src" title="Permalink to this definition"></a></dt>
<dd><p>execs a func and returns requested local vars.</p>
<p>Does not modify globals unless update=True (or in IPython)</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.execstr_funckw</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.exec_func_src2">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">exec_func_src2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentinal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_src2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.exec_func_src2" title="Permalink to this definition"></a></dt>
<dd><p>execs a func and returns requested local vars.</p>
<p>Does not modify globals unless update=True (or in IPython)</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.execstr_funckw</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.exec_func_src3">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">exec_func_src3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentinal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#exec_func_src3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.exec_func_src3" title="Permalink to this definition"></a></dt>
<dd><p>execs a func and returns requested local vars.</p>
<p>Does not modify globals unless update=True (or in IPython)</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.execstr_funckw</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.execstr_func_doctest">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">execstr_func_doctest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_sentinal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_sentinal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#execstr_func_doctest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.execstr_func_doctest" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>execs a func doctest and returns requested local vars.</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd>
</dl>
<p>func = encoder.learn_threshold2
num = 0
start_sentinal = ‘import wbia.plottool as pt’
end_sentinal = ‘pnum_ = pt.make_pnum_nextgen’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.filter_valid_kwargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">filter_valid_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#filter_valid_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.filter_valid_kwargs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.find_funcs_called_with_kwargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">find_funcs_called_with_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_kwargs_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'kwargs'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#find_funcs_called_with_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.find_funcs_called_with_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Finds functions that are called with the keyword <cite>kwargs</cite> variable</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python3 -m utool.util_inspect find_funcs_called_with_kwargs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="go">        &#39;&#39;&#39;</span>
<span class="go">        x, y = list(zip(*ut.ichunks(data, 2)))</span>
<span class="go">        somecall(arg1, arg2, arg3=4, **kwargs)</span>
<span class="go">        import sys</span>
<span class="go">        sys.badcall(**kwargs)</span>
<span class="go">        def foo():</span>
<span class="go">            bar(**kwargs)</span>
<span class="go">            ut.holymoly(**kwargs)</span>
<span class="go">            baz()</span>
<span class="go">            def biz(**kwargs):</span>
<span class="go">                foo2(**kwargs)</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">child_funcnamess</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">find_funcs_called_with_kwargs</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;child_funcnamess = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">child_funcnamess</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;foo2&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_funcnamess</span><span class="p">,</span> <span class="s1">&#39;foo2 should not be found&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;bar&#39;</span> <span class="ow">in</span> <span class="n">child_funcnamess</span><span class="p">,</span> <span class="s1">&#39;bar should be found&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_argnames">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_argnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_argnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_argnames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_dev_hints">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_dev_hints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_dev_hints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_dev_hints" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_or_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_docstr" title="Permalink to this definition"></a></dt>
<dd><p>Get the docstring from a live object</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_func_argspec">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_func_argspec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_argspec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_func_argspec" title="Permalink to this definition"></a></dt>
<dd><p>wrapper around inspect.getfullargspec but takes into account utool decorators</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_func_docblocks">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_func_docblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_or_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_docblocks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_func_docblocks" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_func_kwargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_func_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_func_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>func = wbia.run_experiment</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_func_modname">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_func_modname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_modname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_func_modname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_func_sourcecode">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_func_sourcecode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stripdef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stripret</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip_docstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip_comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_linenums</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_func_sourcecode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_func_sourcecode" title="Permalink to this definition"></a></dt>
<dd><p>wrapper around inspect.getsource but takes into account utool decorators
strip flags are very hacky as of now</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – </p></li>
<li><p><strong>stripdef</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>stripret</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>strip_docstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>strip_comments</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>remove_linenums</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect –test-get_func_sourcecode</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">get_func_sourcecode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stripdef</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stripret</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">get_func_sourcecode</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">stripdef</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_funcdoc">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_funcdoc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcdoc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_funcdoc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_funcfpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_funcfpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcfpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_funcfpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_funcglobals">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_funcglobals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcglobals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_funcglobals" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_funckw">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_funckw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funckw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_funckw" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_funcname">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_funcname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_funcname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_funcnames_from_modpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_funcnames_from_modpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_methods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_funcnames_from_modpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_funcnames_from_modpath" title="Permalink to this definition"></a></dt>
<dd><p>Get all functions defined in module</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_instance_attrnames">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_instance_attrnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_instance_attrnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_instance_attrnames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_internal_call_graph">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_internal_call_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_doctests</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_internal_call_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_internal_call_graph" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect get_internal_call_graph –show –modpath=~/code/ibeis/ibeis/init/main_helpers.py –show
python -m utool.util_inspect get_internal_call_graph –show –modpath=~/code/dtool/dtool/depcache_table.py –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modpath&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_doctests</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--with_doctests&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">get_internal_call_graph</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">with_doctests</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">qt4ensure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span><span class="o">.</span><span class="n">show_nx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">as_directed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">zoom_factory</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">pan_factory</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_kwargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_kwargs" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>keys, is_arbitrary
keys (list): kwargs keys
is_arbitrary (bool): has generic **kwargs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect –test-get_kwargs</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func3</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func4</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func5</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func6</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func7</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">locals</span><span class="p">()[</span><span class="s1">&#39;func&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_kwargs</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_kwdefaults">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_kwdefaults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_kwdefaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_kwdefaults" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>func</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect get_kwdefaults</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">dummy_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_source</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwdefaults</span> <span class="o">=</span> <span class="n">get_kwdefaults</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">parse_source</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;kwdefaults = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">kwdefaults</span><span class="p">),))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_kwdefaults2">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_kwdefaults2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_kwdefaults2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_kwdefaults2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_method_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_method_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_method_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_method_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_module_from_class">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_module_from_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_module_from_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_module_from_class" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_module_owned_functions">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_module_owned_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_module_owned_functions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_module_owned_functions" title="Permalink to this definition"></a></dt>
<dd><p>Replace with iter_module_doctesable (but change that name to be something better)</p>
<p>returns functions actually owned by the module
module = vtool.distance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_object_methods">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_object_methods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_object_methods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_object_methods" title="Permalink to this definition"></a></dt>
<dd><p>Returns all methods belonging to an object instance specified in by the
__dir__ function</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">NiceRepr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">methods1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">inject_func_as_method</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">methods2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_object_methods</span> <span class="ow">in</span> <span class="n">methods2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.get_unbound_args">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">get_unbound_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argspec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#get_unbound_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.get_unbound_args" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.help_members">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">help_members</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#help_members"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.help_members" title="Permalink to this definition"></a></dt>
<dd><p>Inspects members of a class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>class</em><em> or </em><em>module</em>) – </p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect help_members</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">DynStruct</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">help_members</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.infer_arg_types_and_descriptions">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">infer_arg_types_and_descriptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argname_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#infer_arg_types_and_descriptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.infer_arg_types_and_descriptions" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argname_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>defaults</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(argtype_list, argdesc_list)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect –test-infer_arg_types_and_descriptions</p>
</dd>
<dt>Ignore:</dt><dd><p>python -c “import utool; print(utool.auto_docstr(‘wbia.algo.hots.pipeline’, ‘build_chipmatches’))”</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argname_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ibs&#39;</span><span class="p">,</span> <span class="s1">&#39;qaid&#39;</span><span class="p">,</span> <span class="s1">&#39;fdKfds&#39;</span><span class="p">,</span> <span class="s1">&#39;qfx2_foo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defaults</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">infer_arg_types_and_descriptions</span><span class="p">(</span><span class="n">argname_list</span><span class="p">,</span> <span class="n">defaults</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argtype_list</span><span class="p">,</span> <span class="n">argdesc_list</span><span class="p">,</span> <span class="n">argdefault_list</span><span class="p">,</span> <span class="n">hasdefault_list</span> <span class="o">=</span> <span class="n">tup</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.infer_function_info">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">infer_function_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#infer_function_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.infer_function_info" title="Permalink to this definition"></a></dt>
<dd><p>Infers information for make_default_docstr
# TODO: Interleave old documentation with new documentation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – live python function</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool –tf infer_function_info:0
python -m utool –tf infer_function_info:1 –funcname=wbia_cnn.models.siam.ignore_hardest_cases</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">infer_function_info</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func = ut.Timer.tic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_default_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcinfo</span> <span class="o">=</span> <span class="n">infer_function_info</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">funcinfo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--funcname&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Parse out custom function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">funcname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">script</span> <span class="o">=</span> <span class="s1">&#39;import </span><span class="si">{modname}</span><span class="se">\n</span><span class="s1">func = </span><span class="si">{funcname}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">modname</span><span class="o">=</span><span class="n">modname</span><span class="p">,</span> <span class="n">funcname</span><span class="o">=</span><span class="n">funcname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">globals_</span><span class="p">,</span> <span class="n">locals_</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="n">globals_</span><span class="p">,</span> <span class="n">locals_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">locals_</span><span class="p">[</span><span class="s1">&#39;func&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcinfo</span> <span class="o">=</span> <span class="n">infer_function_info</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">funcinfo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.inherit_kwargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">inherit_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherit_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#inherit_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.inherit_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>TODO move to util_decor
inherit_func = inspect_pdfs
func = encoder.visualize.im_func</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.is_bateries_included">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">is_bateries_included</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_bateries_included"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.is_bateries_included" title="Permalink to this definition"></a></dt>
<dd><p>Returns if a value is a python builtin function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flag</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/23149218/check-if-a-python-function-is-builtin">http://stackoverflow.com/questions/23149218/check-if-a-python-function-is-builtin</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool._internal.meta_util_six is_builtin</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool._internal.meta_util_six</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="nb">zip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">is_bateries_included</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flag = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">flag</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.is_defined_by_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">is_defined_by_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_defined_by_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.is_defined_by_module" title="Permalink to this definition"></a></dt>
<dd><p>Check if item is directly defined by a module.
This check may be prone to errors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.is_defined_by_module2">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">is_defined_by_module2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_defined_by_module2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.is_defined_by_module2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.is_valid_python">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">is_valid_python</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reraise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ipy_magic_workaround</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#is_valid_python"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.is_valid_python" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/23576681/python-check-syntax">http://stackoverflow.com/questions/23576681/python-check-syntax</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.iter_module_doctestable">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">iter_module_doctestable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_methods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_builtin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_inherited</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#iter_module_doctestable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.iter_module_doctestable" title="Permalink to this definition"></a></dt>
<dd><p>Yeilds doctestable live object form a modules</p>
<p>TODO: change name to iter_module_members
Replace with iter_module_doctesable (but change that name to be something
better)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> (<em>module</em>) – live python module</p></li>
<li><p><strong>include_funcs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>include_classes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>include_methods</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>include_builtin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>include_inherited</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Yeilds:</dt><dd><p>tuple (str, callable): (funcname, func) doctestable</p>
</dd>
<dt>CommandLine:</dt><dd><dl class="simple">
<dt>python -m utool –tf iter_module_doctestable </dt><dd><p>–modname=wbia.algo.hots.chip_match
–modname=wbia.control.IBEISControl
–modname=wbia.control.SQLDatabaseControl
–modname=wbia.control.manual_annot_funcs
–modname=wbia.control.manual_annot_funcs
–modname=wbia.expt.test_result
–modname=utool.util_progress –debug-key=build_msg_fmtstr_time2
–modname=utool.util_progress –debug-key=ProgressIter</p>
</dd>
</dl>
</dd>
<dt>Debug:</dt><dd><p># fix profile with doctest
utprof.py -m utool –tf iter_module_doctestable –modname=utool.util_inspect –debugkey=zzz_profiled_is_yes
utprof.py -m utool –tf iter_module_doctestable –modname=wbia.algo.hots.chip_match –debugkey=to_json</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>   <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--modname&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argparse_funckw</span><span class="p">(</span><span class="n">iter_module_doctestable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_tests</span> <span class="k">if</span> <span class="n">modname</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">debug_key</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--debugkey&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;debug_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">debug_key</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;include_inherited&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doctestable_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">iter_module_doctestable</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_names</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">doctestable_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">func_names</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.list_class_funcnames">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">list_class_funcnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blank_pats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['</span>&#160;&#160;&#160; <span class="pre">#']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#list_class_funcnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.list_class_funcnames" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – filepath</p></li>
<li><p><strong>blank_pats</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – defaults to ‘    #’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>funcname_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;util_class.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blank_pats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;    #&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname_list</span> <span class="o">=</span> <span class="n">list_class_funcnames</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">blank_pats</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">funcname_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.list_global_funcnames">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">list_global_funcnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blank_pats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['</span>&#160;&#160;&#160; <span class="pre">#']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#list_global_funcnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.list_global_funcnames" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – filepath</p></li>
<li><p><strong>blank_pats</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – defaults to ‘    #’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>funcname_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;util_class.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blank_pats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;    #&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname_list</span> <span class="o">=</span> <span class="n">list_global_funcnames</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">blank_pats</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">funcname_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.lookup_attribute_chain">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">lookup_attribute_chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attrname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#lookup_attribute_chain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.lookup_attribute_chain" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrname</span> <span class="o">=</span> <span class="n">funcname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namespace</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="vm">__dict__</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">globals_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrname</span> <span class="o">=</span> <span class="s1">&#39;KWReg.print_defaultkw&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.parse_func_kwarg_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">parse_func_kwarg_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_vals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_func_kwarg_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.parse_func_kwarg_keys" title="Permalink to this definition"></a></dt>
<dd><p>hacky inference of kwargs keys</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.parse_function_names">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">parse_function_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_function_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.parse_function_names" title="Permalink to this definition"></a></dt>
<dd><p>Finds all function names in a file without importing it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sourcecode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>func_names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect parse_function_names</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__file__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#fpath = ut.truepath(&#39;~/code/bintrees/bintrees/avltree.py&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_names</span> <span class="o">=</span> <span class="n">parse_function_names</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;func_names = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">func_names</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.parse_import_names">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">parse_import_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">branch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_import_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.parse_import_names" title="Permalink to this definition"></a></dt>
<dd><p>Finds all function names in a file without importing it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sourcecode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>func_names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect parse_import_names</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/20445733/how-to-tell-which-modules-have-been-imported-in-some-source-code">https://stackoverflow.com/questions/20445733/how-to-tell-which-modules-have-been-imported-in-some-source-code</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__file__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#fpath = ut.truepath(&#39;~/code/bintrees/bintrees/avltree.py&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_names</span> <span class="o">=</span> <span class="n">parse_import_names</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;func_names = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">func_names</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.parse_kwarg_keys">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">parse_kwarg_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'kwargs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_vals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_kwarg_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.parse_kwarg_keys" title="Permalink to this definition"></a></dt>
<dd><p>Parses the source code to find keys used by the <cite>**kwargs</cite> keywords
dictionary variable. if <cite>with_vals</cite> is True, we also attempt to infer the
default values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>kwarg_keys</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect parse_kwarg_keys</p>
<p>python -m utool.util_inspect parse_kwarg_keys</p>
</dd>
<dt>SeeAlso:</dt><dd><p>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> x = &#39;hidden_x&#39;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> y = 3 # hidden val&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs.get(x, y)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs.get(&#39;foo&#39;, None)</span><span class="se">\n</span><span class="s2"> kwargs.pop(&#39;bar&#39;, 3)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs.pop(&#39;str&#39;, &#39;3fd&#39;)</span><span class="se">\n</span><span class="s2"> kwargs.pop(&#39;str&#39;, &#39;3f</span><span class="se">\\</span><span class="s2">&#39;d&#39;)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> </span><span class="se">\&quot;</span><span class="s2">kwargs.get(&#39;baz&#39;, None)</span><span class="se">\&quot;\n</span><span class="s2"> kwargs[&#39;foo2&#39;]&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> #kwargs.get(&#39;biz&#39;, None)</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> kwargs[&#39;bloop&#39;]&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> x = &#39;bop&#39; in kwargs&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;source = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">source</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">parse_kwarg_keys</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_vals</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwarg_items</span> <span class="o">=</span> <span class="n">parse_kwarg_keys</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">with_vals</span><span class="o">=</span><span class="n">with_vals</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;kwarg_items = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">kwarg_items</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwarg_keys</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">kwarg_items</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;baz&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;foo&#39;</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;bloop&#39;</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;bop&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwarg_keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">kwarg_items = [</span>
<span class="go">    (&#39;foo&#39;, None),</span>
<span class="go">    (&#39;bar&#39;, 3),</span>
<span class="go">    (&#39;str&#39;, &#39;3fd&#39;),</span>
<span class="go">    (&#39;str&#39;, &quot;3f&#39;d&quot;),</span>
<span class="go">    (&#39;foo2&#39;, None),</span>
<span class="go">    (&#39;bloop&#39;, None),</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.parse_project_imports">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">parse_project_imports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_project_imports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.parse_project_imports" title="Permalink to this definition"></a></dt>
<dd><p>dpath = ub.truepath(‘~/code/clab/clab’)</p>
<dl>
<dt>Script:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dpath&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_project_imports</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.parse_return_type">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">parse_return_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#parse_return_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.parse_return_type" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sourcecode</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(return_type, return_name, return_header)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>Ignore:</dt><dd><p>testcase
automated_helpers query_vsone_verified</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect parse_return_type
python -m utool.util_inspect –test-parse_return_type</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    bar = True</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    return bar</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;?&#39;, &#39;bar&#39;, &#39;Returns&#39;, &#39;&#39;)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    return True</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;bool&#39;, &#39;True&#39;, &#39;Returns&#39;, &#39;&#39;)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    for i in range(2): </span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        yield i</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;?&#39;, &#39;i&#39;, &#39;Yields&#39;, &#39;&#39;)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;def foo(tmp=False):</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    if tmp is True:</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        return (True, False)</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    elif tmp is False:</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        return 1</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;    else:</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        bar = baz()</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span>    <span class="s1">&#39;        return bar</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">returninfo</span> <span class="o">=</span> <span class="n">parse_return_type</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">returninfo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(&#39;tuple&#39;, &#39;(True, False)&#39;, &#39;Returns&#39;, &#39;&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.prettyprint_parsetree">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">prettyprint_parsetree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#prettyprint_parsetree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.prettyprint_parsetree" title="Permalink to this definition"></a></dt>
<dd><p>pip install astdump
pip install codegen</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.recursive_parse_kwargs">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">recursive_parse_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#recursive_parse_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.recursive_parse_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>recursive kwargs parser
TODO: rectify with others
FIXME: if docstr indentation is off, this fails</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>argparse_funckw
recursive_parse_kwargs
parse_kwarg_keys
parse_func_kwarg_keys
get_func_kwargs</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_func</strong> (<em>function</em>) – live python function</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect recursive_parse_kwargs:0
python -m utool.util_inspect recursive_parse_kwargs:0 –verbinspect
python -m utool.util_inspect recursive_parse_kwargs:1</p>
<p>python -m utool.util_inspect recursive_parse_kwargs:2 –mod vtool –func ScoreNormalizer.visualize</p>
<p>python -m utool.util_inspect recursive_parse_kwargs:2 –mod wbia.viz.viz_matches –func show_name_matches –verbinspect
python -m utool.util_inspect recursive_parse_kwargs:2 –mod wbia.expt.experiment_drawing –func draw_rank_cmc –verbinspect</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_func</span> <span class="o">=</span> <span class="n">iter_module_doctestable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">root_func</span><span class="p">),</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    (&#39;include_funcs&#39;, True),</span>
<span class="go">    (&#39;include_classes&#39;, True),</span>
<span class="go">    (&#39;include_methods&#39;, True),</span>
<span class="go">    (&#39;include_builtin&#39;, True),</span>
<span class="go">    (&#39;include_inherited&#39;, False),</span>
<span class="go">    (&#39;debug_key&#39;, None),</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +REQUIRES(module:wbia)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.hots</span> <span class="kn">import</span> <span class="n">chip_match</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">chip_match</span><span class="o">.</span><span class="n">ChipMatch</span><span class="o">.</span><span class="n">show_ranked_matches</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">chip_match</span><span class="o">.</span><span class="n">ChipMatch</span><span class="p">)</span>
</pre></div>
</div>
<p>import wbia
import utool as ut
ibs = wbia.opendb(defaultdb=’testdb1’)
kwkeys1 = ibs.parse_annot_stats_filter_kws()
ut.recursive_parse_kwargs(ibs.get_annotconfig_stats, verbose=1)
kwkeys2 = list(ut.recursive_parse_kwargs(ibs.get_annotconfig_stats).keys())</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mod&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;plottool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">funcname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--func&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;draw_histogram&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">import_modname</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_func</span> <span class="o">=</span> <span class="n">lookup_attribute_chain</span><span class="p">(</span><span class="n">funcname</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed</span> <span class="o">=</span> <span class="n">recursive_parse_kwargs</span><span class="p">(</span><span class="n">root_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unique_flags</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take_column</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;parsed = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">parsed</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unique = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">unique</span><span class="p">),))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.set_funcdoc">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">set_funcdoc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newdoc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#set_funcdoc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.set_funcdoc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.set_funcname">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">set_funcname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#set_funcname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.set_funcname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.special_parse_process_python_code">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">special_parse_process_python_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#special_parse_process_python_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.special_parse_process_python_code" title="Permalink to this definition"></a></dt>
<dd><p>pip install redbaron
<a class="reference external" href="http://stackoverflow.com/questions/7456933/python-ast-with-preserved-comments">http://stackoverflow.com/questions/7456933/python-ast-with-preserved-comments</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_inspect special_parse_process_python_code –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_inspect</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">util_inspect</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">special_parse_process_python_code</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.zzz_profiled_is_no">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">zzz_profiled_is_no</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#zzz_profiled_is_no"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.zzz_profiled_is_no" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_inspect.zzz_profiled_is_yes">
<span class="sig-prename descclassname"><span class="pre">utool.util_inspect.</span></span><span class="sig-name descname"><span class="pre">zzz_profiled_is_yes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_inspect.html#zzz_profiled_is_yes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_inspect.zzz_profiled_is_yes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_io">
<span id="utool-util-io-module"></span><h2>utool.util_io module<a class="headerlink" href="#module-utool.util_io" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_io.FixRenamedUnpickler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">FixRenamedUnpickler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_imports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ASCII'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#FixRenamedUnpickler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.FixRenamedUnpickler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pickle.Unpickler</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_io.FixRenamedUnpickler.find_class">
<span class="sig-name descname"><span class="pre">find_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#FixRenamedUnpickler.find_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.FixRenamedUnpickler.find_class" title="Permalink to this definition"></a></dt>
<dd><p>Return an object from a specified module.</p>
<p>If necessary, the module will be imported. Subclasses may override
this method (e.g. to restrict unpickling of arbitrary classes and
functions).</p>
<p>This method is called whenever a class or a function object is
needed.  Both arguments passed are str objects.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.load_cPkl">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">load_cPkl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_cPkl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.load_cPkl" title="Permalink to this definition"></a></dt>
<dd><p>Loads a pickled file with optional verbosity.
Aims for compatibility between python2 and python3.</p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">makedata_simple</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">20</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a large amount of data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">makedata_simple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;tmp.pkl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">save_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_file_nBytes_str</span><span class="p">(</span><span class="s1">&#39;tmp.pkl&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#del data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">load_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">makedata_complex</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">20</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item2</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">10</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>             <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item3</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">10</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">item4</span> <span class="o">=</span> <span class="p">{</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">(</span><span class="n">a</span><span class="p">):</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;item1&#39;</span><span class="p">:</span> <span class="n">item1</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">:</span> <span class="n">item2</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;item3&#39;</span><span class="p">:</span> <span class="n">item3</span><span class="p">,</span> <span class="s1">&#39;item4&#39;</span><span class="p">:</span> <span class="n">item4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a large amount of data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">makedata_complex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;tmp.pkl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">save_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_file_nBytes_str</span><span class="p">(</span><span class="s1">&#39;tmp.pkl&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#del data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">load_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cacher</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">Cacher</span><span class="p">(</span><span class="s1">&#39;tmp&#39;</span><span class="p">,</span> <span class="n">cache_dir</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">cfgstr</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data3</span> <span class="o">=</span> <span class="n">cacher</span><span class="o">.</span><span class="n">ensure</span><span class="p">(</span><span class="n">makedata_complex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data4</span> <span class="o">=</span> <span class="n">cacher</span><span class="o">.</span><span class="n">ensure</span><span class="p">(</span><span class="n">makedata_complex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">MemoryTracker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;/home/joncrall/Desktop/smkcache/inva_PZ_Master1VUUIDS((5616)vxihbjwtggyovrto)_vpgwpcafbjkkpjdf.cPkl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_file_nBytes_str</span><span class="p">(</span><span class="n">fpath</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">load_cPkl</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memtrack</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
</pre></div>
</div>
<dl class="simple">
<dt>def makedata_complex():</dt><dd><p>data = np.empty((1000, 2 ** 20), dtype=np.uint8)
data[:] = 0
return data</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.load_data">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.load_data" title="Permalink to this definition"></a></dt>
<dd><p>More generic interface to load data</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.load_hdf5">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">load_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_hdf5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.load_hdf5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.load_json">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">load_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.load_json" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.load_numpy">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">load_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmap_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.load_numpy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.load_pytables">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">load_pytables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#load_pytables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.load_pytables" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.load_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">load_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aslines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.load_text" title="Permalink to this definition"></a></dt>
<dd><p>Reads text from a file. Automatically returns utf8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>aslines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True returns list of lines</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text from fpath (this is unicode)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>Ignore:</dt><dd><p>x = b’’’/whaleshark_003_forsxc3xb8g.wmv” /&gt;rn’’’
ut.writeto(‘foo.txt’, x)
y = ut.readfrom(‘foo.txt’)
y.encode(‘utf8’) == x</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.lock_and_load_cPkl">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">lock_and_load_cPkl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#lock_and_load_cPkl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.lock_and_load_cPkl" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.lock_and_save_cPkl">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">lock_and_save_cPkl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#lock_and_save_cPkl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.lock_and_save_cPkl" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.read_from">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">read_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aslines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#read_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.read_from" title="Permalink to this definition"></a></dt>
<dd><p>Reads text from a file. Automatically returns utf8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>aslines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True returns list of lines</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text from fpath (this is unicode)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>Ignore:</dt><dd><p>x = b’’’/whaleshark_003_forsxc3xb8g.wmv” /&gt;rn’’’
ut.writeto(‘foo.txt’, x)
y = ut.readfrom(‘foo.txt’)
y.encode(‘utf8’) == x</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.read_lines_from">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">read_lines_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#read_lines_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.read_lines_from" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.readfrom">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">readfrom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aslines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.readfrom" title="Permalink to this definition"></a></dt>
<dd><p>Reads text from a file. Automatically returns utf8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>aslines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True returns list of lines</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text from fpath (this is unicode)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>Ignore:</dt><dd><p>x = b’’’/whaleshark_003_forsxc3xb8g.wmv” /&gt;rn’’’
ut.writeto(‘foo.txt’, x)
y = ut.readfrom(‘foo.txt’)
y.encode(‘utf8’) == x</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.save_cPkl">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">save_cPkl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_cPkl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.save_cPkl" title="Permalink to this definition"></a></dt>
<dd><p>Saves data to a pickled file with optional verbosity</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.save_data">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">save_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.save_data" title="Permalink to this definition"></a></dt>
<dd><p>More generic interface to write data</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.save_hdf5">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">save_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lzf'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_hdf5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.save_hdf5" title="Permalink to this definition"></a></dt>
<dd><p>Restricted save of data using hdf5. Can only save ndarrays and dicts of
ndarrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>data</strong> (<em>ndarray</em>) – </p></li>
<li><p><strong>compression</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – DEFLATE/GZIP - standard
LZF  - fast
SHUFFLE - compression ratio
FLETCHER32 - error detection
Scale-offset - integer / float scaling and truncation
SZIP - fast and patented</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_io –test-save_hdf5</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://docs.h5py.org/en/latest/quick.html">http://docs.h5py.org/en/latest/quick.html</a>
<a class="reference external" href="http://docs.h5py.org/en/latest/mpi.html">http://docs.h5py.org/en/latest/mpi.html</a></p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;myfile.hdf5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compression</span> <span class="o">=</span> <span class="s1">&#39;lzf&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">compression</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">load_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">data2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="n">data2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;foobar&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">exec_funckw</span><span class="p">(</span><span class="n">save_hdf5</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;myfile2.hdf5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">compression</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">load_hdf5</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">data2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">all</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">==</span> <span class="n">data2</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># cPkl / numpy seems to be faster with this initial implementation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">rng</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_object_size_str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        import numpy as np</span>
<span class="go">        import utool as ut</span>
<span class="go">        rng = np.random.RandomState(0)</span>
<span class="go">        fpath = ut.unixjoin(ut.ensure_app_resource_dir(&#39;utool&#39;), &#39;io_test_data&#39;)</span>
<span class="go">        data = (rng.rand(1000000, 128) * 255).astype(np.uint8).copy()</span>
<span class="go">        #print(ut.get_object_size_str(data))</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test load time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;gzip&#39;)</span>
<span class="go">        ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;lzf&#39;)</span>
<span class="go">        ut.save_cPkl(fpath + &#39;.cPkl&#39;, data, verbose=False)</span>
<span class="go">        ut.save_numpy(fpath + &#39;.npy&#39;, data, verbose=False)</span>
<span class="go">        ut.save_pytables(fpath + &#39;.tables&#39;, data, verbose=False)</span>
<span class="go">        &#39;&#39;&#39;).split(&#39;\n&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_dev</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list1</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test save time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;&#39;&#39;</span>
<span class="go">        ut.load_hdf5(fpath + &#39;.hdf5&#39;, verbose=False)</span>
<span class="go">        ut.load_cPkl(fpath + &#39;.cPkl&#39;, verbose=False)</span>
<span class="go">        ut.load_numpy(fpath + &#39;.npy&#39;, verbose=False)</span>
<span class="go">        ut.load_pytables(fpath + &#39;.tables&#39;, verbose=False)</span>
<span class="go">        &#39;&#39;&#39;).split(&#39;\n&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_dev</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list2</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;finished timeing&#39;</span><span class="p">)</span>
<span class="go">+----------------</span>
<span class="go">| TIMEIT COMPARE</span>
<span class="go">+----------------</span>
<span class="go">| iterations = 10</span>
<span class="go">| Input:</span>
<span class="go">|     | num | stmt</span>
<span class="go">|     |   0 | u&quot;ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;gzip&#39;)&quot;</span>
<span class="go">|     |   1 | u&quot;ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;lzf&#39;)&quot;</span>
<span class="go">|     |   2 | u&quot;ut.save_cPkl(fpath + &#39;.cPkl&#39;, data, verbose=False)&quot;</span>
<span class="go">|     |   3 | u&quot;ut.save_numpy(fpath + &#39;.npy&#39;, data, verbose=False)&quot;</span>
<span class="go">|     |   4 | u&quot;ut.save_pytables(fpath + &#39;.tables&#39;, data, verbose=False)&quot;</span>
<span class="gp">...</span>
<span class="go">| Output:</span>
<span class="go">|    * PASSED: each statement produced the same result</span>
<span class="go">|    | num | total time | per loop | stmt</span>
<span class="go">|    |   0 |    0.03 ks |   3.15 s | ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;gzip&#39;)</span>
<span class="go">|    |   1 |    0.01 ks |   1.25 s | ut.save_hdf5(fpath + &#39;.hdf5&#39;, data, verbose=False, compression=&#39;lzf&#39;)</span>
<span class="go">|    |   2 |     5.30 s |   0.53 s | ut.save_cPkl(fpath + &#39;.cPkl&#39;, data, verbose=False)</span>
<span class="go">|    |   3 |     4.97 s |   0.50 s | ut.save_numpy(fpath + &#39;.npy&#39;, data, verbose=False)</span>
<span class="go">|    |   4 |     9.23 s |   0.92 s | ut.save_pytables(fpath + &#39;.tables&#39;, data, verbose=False)</span>
<span class="go">L_________________</span>
<span class="go">+----------------</span>
<span class="go">| TIMEIT COMPARE</span>
<span class="go">+----------------</span>
<span class="go">| iterations = 10</span>
<span class="go">| Input:</span>
<span class="go">|     | num | stmt</span>
<span class="go">|     |   0 | u&quot;ut.load_hdf5(fpath + &#39;.hdf5&#39;, verbose=False)&quot;</span>
<span class="go">|     |   1 | u&quot;ut.load_cPkl(fpath + &#39;.cPkl&#39;, verbose=False)&quot;</span>
<span class="go">|     |   2 | u&quot;ut.load_numpy(fpath + &#39;.npy&#39;, verbose=False)&quot;</span>
<span class="go">|     |   3 | u&quot;ut.load_pytables(fpath + &#39;.tables&#39;, verbose=False)&quot;</span>
<span class="gp">...</span>
<span class="go">| Output:</span>
<span class="go">|    * PASSED: each statement produced the same result</span>
<span class="go">|    | num | total time | per loop | stmt</span>
<span class="go">|    |   0 |     2.39 s |   0.24 s | ut.load_hdf5(fpath + &#39;.hdf5&#39;, verbose=False)</span>
<span class="go">|    |   1 |     0.39 s |   0.04 s | ut.load_cPkl(fpath + &#39;.cPkl&#39;, verbose=False)</span>
<span class="go">|    |   2 |     0.19 s |   0.02 s | ut.load_numpy(fpath + &#39;.npy&#39;, verbose=False)</span>
<span class="go">|    |   3 |     0.33 s |   0.03 s | ut.load_pytables(fpath + &#39;.tables&#39;, verbose=False)</span>
<span class="go">L_________________</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><p>%timeit save_hdf5(fpath, data, verbose=False, compression=’gzip’)
%timeit save_hdf5(fpath, data, verbose=False, compression=’lzf’)
%timeit save_cPkl(fpath + ‘.cPkl’, data, verbose=False)
%timeit save_pytables(fpath + ‘.tables’, data, verbose=False)
1 loops, best of 3: 258 ms per loop
10 loops, best of 3: 111 ms per loop
10 loops, best of 3: 53.1 ms per loop
10 loops, best of 3: 96.5 ms per loop</p>
<p>save_hdf5(fpath, data, verbose=False, compression=’gzip’)
%timeit load_hdf5(fpath, verbose=False)
save_hdf5(fpath, data, verbose=False, compression=’lzf’)
%timeit load_hdf5(fpath, verbose=False)
%timeit load_cPkl(fpath + ‘.cPkl’, verbose=False)
%timeit load_pytables(fpath + ‘.tables’, verbose=False)
100 loops, best of 3: 19.4 ms per loop
100 loops, best of 3: 14.4 ms per loop
100 loops, best of 3: 3.92 ms per loop
100 loops, best of 3: 6.22 ms per loop</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>pip install mpi4py</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.save_json">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">save_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.save_json" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.save_numpy">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">save_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.save_numpy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.save_pytables">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">save_pytables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#save_pytables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.save_pytables" title="Permalink to this definition"></a></dt>
<dd><p>sudo pip install numexpr
sudo pip install tables</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pytables.github.io/cookbook/py2exe_howto.html">https://pytables.github.io/cookbook/py2exe_howto.html</a>
<a class="reference external" href="https://gist.github.com/andrewgiessel/7515520">https://gist.github.com/andrewgiessel/7515520</a>
<a class="reference external" href="http://stackoverflow.com/questions/8843062/python-how-to-store-a-numpy-multidimensional-array-in-pytables">http://stackoverflow.com/questions/8843062/python-how-to-store-a-numpy-multidimensional-array-in-pytables</a>
<a class="reference external" href="http://pytables.github.io/usersguide/tutorials.html#creating-new-array-objects">http://pytables.github.io/usersguide/tutorials.html#creating-new-array-objects</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;myfile.pytables.hdf5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compression</span> <span class="o">=</span> <span class="s1">&#39;gzip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_pytables</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">load_pytables</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">data2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="n">data2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.save_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">save_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_write</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aslines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyifdiff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.save_text" title="Permalink to this definition"></a></dt>
<dd><p>Writes text to a file. Automatically encodes text as utf8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>to_write</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – text to write (must be unicode text)</p></li>
<li><p><strong>aslines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True to_write is assumed to be a list of lines</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag</p></li>
<li><p><strong>onlyifdiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – only writes if needed!
checks hash of to_write vs the hash of the contents of fpath</p></li>
<li><p><strong>mode</strong> (<em>unicode</em>) – (default = u’w’)</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 2)</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_io –exec-write_to –show</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testwrite.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_write</span> <span class="o">=</span> <span class="s1">&#39;utf-8 symbols Δ, Й, ק, م, ๗, あ, 叶, 葉, and 말.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onlyifdiff</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;w&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">to_write</span><span class="p">,</span> <span class="n">aslines</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">onlyifdiff</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;read_    = &#39;</span> <span class="o">+</span> <span class="n">read_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to_write = &#39;</span> <span class="o">+</span> <span class="n">to_write</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">read_</span> <span class="o">==</span> <span class="n">to_write</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.try_decode">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">try_decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#try_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.try_decode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.write_to">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">write_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_write</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aslines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyifdiff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_io.html#write_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_io.write_to" title="Permalink to this definition"></a></dt>
<dd><p>Writes text to a file. Automatically encodes text as utf8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>to_write</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – text to write (must be unicode text)</p></li>
<li><p><strong>aslines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True to_write is assumed to be a list of lines</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag</p></li>
<li><p><strong>onlyifdiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – only writes if needed!
checks hash of to_write vs the hash of the contents of fpath</p></li>
<li><p><strong>mode</strong> (<em>unicode</em>) – (default = u’w’)</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 2)</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_io –exec-write_to –show</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testwrite.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_write</span> <span class="o">=</span> <span class="s1">&#39;utf-8 symbols Δ, Й, ק, م, ๗, あ, 叶, 葉, and 말.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onlyifdiff</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;w&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">to_write</span><span class="p">,</span> <span class="n">aslines</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">onlyifdiff</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;read_    = &#39;</span> <span class="o">+</span> <span class="n">read_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to_write = &#39;</span> <span class="o">+</span> <span class="n">to_write</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">read_</span> <span class="o">==</span> <span class="n">to_write</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_io.writeto">
<span class="sig-prename descclassname"><span class="pre">utool.util_io.</span></span><span class="sig-name descname"><span class="pre">writeto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_write</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aslines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyifdiff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_io.writeto" title="Permalink to this definition"></a></dt>
<dd><p>Writes text to a file. Automatically encodes text as utf8.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>to_write</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – text to write (must be unicode text)</p></li>
<li><p><strong>aslines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True to_write is assumed to be a list of lines</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag</p></li>
<li><p><strong>onlyifdiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – only writes if needed!
checks hash of to_write vs the hash of the contents of fpath</p></li>
<li><p><strong>mode</strong> (<em>unicode</em>) – (default = u’w’)</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 2)</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_io –exec-write_to –show</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_io</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">),</span> <span class="s1">&#39;testwrite.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_write</span> <span class="o">=</span> <span class="s1">&#39;utf-8 symbols Δ, Й, ק, م, ๗, あ, 叶, 葉, and 말.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslines</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onlyifdiff</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mode</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;w&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">to_write</span><span class="p">,</span> <span class="n">aslines</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">onlyifdiff</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;read_    = &#39;</span> <span class="o">+</span> <span class="n">read_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to_write = &#39;</span> <span class="o">+</span> <span class="n">to_write</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">read_</span> <span class="o">==</span> <span class="n">to_write</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-utool.util_ipynb">
<span id="utool-util-ipynb-module"></span><h2>utool.util_ipynb module<a class="headerlink" href="#module-utool.util_ipynb" title="Permalink to this headline"></a></h2>
<p>Utilities for IPython/Jupyter Notebooks</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p># to connect to a notebook on a remote machine that does not have the
# appropriate port exposed you must start an SSH tunnel.
# Typically a jupyter-notebook runs on port 8888.
# Run this command on your local machine.
ssh -N -f -L localhost:8888:localhost:8889 &lt;remote_user&gt;&#64;&lt;remote_host&gt;</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_ipynb.IPYNBCell">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">IPYNBCell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">footer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_ipynb.IPYNBCell" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_ipynb.IPYNBCell.code">
<span class="sig-name descname"><span class="pre">code</span></span><a class="headerlink" href="#utool.util_ipynb.IPYNBCell.code" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_ipynb.IPYNBCell.footer">
<span class="sig-name descname"><span class="pre">footer</span></span><a class="headerlink" href="#utool.util_ipynb.IPYNBCell.footer" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_ipynb.IPYNBCell.header">
<span class="sig-name descname"><span class="pre">header</span></span><a class="headerlink" href="#utool.util_ipynb.IPYNBCell.header" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.code_cell">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">code_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#code_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.code_cell" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sourcecode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>json formatted ipython notebook code cell</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.templates.generate_notebook –exec-code_cell</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.templates.generate_notebook</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">notebook_cells</span><span class="o">.</span><span class="n">timestamp_distribution</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sourcecode</span> <span class="o">=</span> <span class="n">notebook_cells</span><span class="o">.</span><span class="n">initialize</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">code_cell</span><span class="p">(</span><span class="n">sourcecode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.export_notebook">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">export_notebook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">run_nb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#export_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.export_notebook" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.format_cells">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">format_cells</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#format_cells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.format_cells" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.make_autogen_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">make_autogen_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#make_autogen_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.make_autogen_str" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_ipynb –exec-make_autogen_str –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ipynb</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">make_autogen_str</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.make_notebook">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">make_notebook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#make_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.make_notebook" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p># Change cell width
<a class="reference external" href="http://stackoverflow.com/questions/21971449/how-do-i-increase-the-cell-width-of-the-ipython-notebook-in-my-browser/24207353#24207353">http://stackoverflow.com/questions/21971449/how-do-i-increase-the-cell-width-of-the-ipython-notebook-in-my-browser/24207353#24207353</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.markdown_cell">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">markdown_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">markdown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#markdown_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.markdown_cell" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>markdown</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>json formatted ipython notebook markdown cell</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.templates.generate_notebook –exec-markdown_cell</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.templates.generate_notebook</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">markdown</span> <span class="o">=</span> <span class="s1">&#39;# Title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="n">markdown</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.normalize_cells">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">normalize_cells</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#normalize_cells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.normalize_cells" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.repr_single_for_md">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">repr_single_for_md</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#repr_single_for_md"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.repr_single_for_md" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str_repr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.templates.generate_notebook –exec-repr_single_for_md –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.templates.generate_notebook</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;#HTML(</span><span class="se">\&#39;</span><span class="s1">&lt;iframe src=&quot;</span><span class="si">%s</span><span class="s1">&quot; width=700 height=350&gt;&lt;/iframe&gt;</span><span class="se">\&#39;</span><span class="s1"> % pdf_fpath)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repr_single_for_md</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ipynb.run_ipython_notebook">
<span class="sig-prename descclassname"><span class="pre">utool.util_ipynb.</span></span><span class="sig-name descname"><span class="pre">run_ipython_notebook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">notebook_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ipynb.html#run_ipython_notebook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ipynb.run_ipython_notebook" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://github.com/paulgb/runipy">https://github.com/paulgb/runipy</a>
&gt;&gt;&gt; from utool.util_ipynb import *  # NOQA</p>
</dd></dl>

</section>
<section id="module-utool.util_iter">
<span id="utool-util-iter-module"></span><h2>utool.util_iter module<a class="headerlink" href="#module-utool.util_iter" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.and_iters">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">and_iters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#and_iters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.and_iters" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ichunk_slices">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ichunk_slices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunk_slices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ichunk_slices" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ichunks">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ichunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordermode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ichunks" title="Permalink to this definition"></a></dt>
<dd><p>generates successive n-sized chunks from <code class="docutils literal notranslate"><span class="pre">iterable</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – input to iterate over</p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – size of sublist to return</p></li>
<li><p><strong>bordermode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – None, ‘cycle’, or ‘replicate’</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks">http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks</a></p>
<dl>
<dt>SeeAlso:</dt><dd><p>util_progress.get_num_chunks</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_iter –exec-ichunks –show</p>
</dd>
<dt>Timeit:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="go">        from utool.util_iter import *  # NOQA</span>
<span class="go">        iterable = list(range(100))</span>
<span class="go">        chunksize = 8</span>
<span class="go">        &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="s1">&#39;list(ichunks(iterable, chunksize))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;list(ichunks_noborder(iterable, chunksize))&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;list(ichunks_list(iterable, chunksize))&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">passed</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">results</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">timeit_compare</span><span class="p">(</span><span class="n">stmt_list</span><span class="p">,</span> <span class="n">setup</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">ichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2, 3], [4, 5, 6], [7]]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;cycle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">ichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2, 3], [4, 5, 6], [7, 1, 2]]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;replicate&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">ichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2, 3], [4, 5, 6], [7, 7, 7]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ichunks_cycle">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ichunks_cycle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_cycle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ichunks_cycle" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ichunks_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ichunks_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ichunks_list" title="Permalink to this definition"></a></dt>
<dd><p>input must be a list.</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ichunks</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks">http://stackoverflow.com/questions/434287/iterate-over-a-list-in-chunks</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ichunks_noborder">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ichunks_noborder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_noborder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ichunks_noborder" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ichunks_replicate">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ichunks_replicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ichunks_replicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ichunks_replicate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ifilter_Nones">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ifilter_Nones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iter_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ifilter_Nones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ifilter_Nones" title="Permalink to this definition"></a></dt>
<dd><p>Removes any nones from the iterable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ifilter_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ifilter_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_iter</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_iter.ifilter_items" title="Permalink to this definition"></a></dt>
<dd><p>iter_compress - like numpy compress</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>flag_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – of bools</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true_items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_iter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_iter</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">true_items</span> <span class="o">=</span> <span class="n">iter_compress</span><span class="p">(</span><span class="n">item_iter</span><span class="p">,</span> <span class="n">flag_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">true_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 3, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.ifilterfalse_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">ifilterfalse_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_iter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#ifilterfalse_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.ifilterfalse_items" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>flag_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – of bools</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_iter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_iter</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">false_items</span> <span class="o">=</span> <span class="n">ifilterfalse_items</span><span class="p">(</span><span class="n">item_iter</span><span class="p">,</span> <span class="n">flag_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">false_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.iflatten">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">iflatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iflatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.iflatten" title="Permalink to this definition"></a></dt>
<dd><p>flattens a list iteratively</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.iget_list_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">iget_list_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_iter.iget_list_column" title="Permalink to this definition"></a></dt>
<dd><p>iterator version of get_list_column</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.iget_list_column_slice">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">iget_list_column_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iget_list_column_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.iget_list_column_slice" title="Permalink to this definition"></a></dt>
<dd><p>iterator version of get_list_column</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.interleave">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">interleave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#interleave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.interleave" title="Permalink to this definition"></a></dt>
<dd><p>zip followed by flatten</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – tuple of lists to interleave</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">interleave</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, &#39;A&#39;, 2, &#39;B&#39;, 3, &#39;C&#39;, 4, &#39;D&#39;, 5, &#39;E&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.itake_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">itake_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#itake_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.itake_column" title="Permalink to this definition"></a></dt>
<dd><p>iterator version of get_list_column</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.iter_compress">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">iter_compress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_iter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iter_compress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.iter_compress" title="Permalink to this definition"></a></dt>
<dd><p>iter_compress - like numpy compress</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>flag_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – of bools</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true_items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_iter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_iter</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">true_items</span> <span class="o">=</span> <span class="n">iter_compress</span><span class="p">(</span><span class="n">item_iter</span><span class="p">,</span> <span class="n">flag_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">true_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 3, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.iter_multichunks">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">iter_multichunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksizes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bordermode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iter_multichunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.iter_multichunks" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_iter –test-iter_multichunks</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksizes</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;cycle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">iter_multichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multichunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depthprofile</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">multichunks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">depthprofile</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="s1">&#39;did not generate chunks correctly&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">multichunks</span><span class="p">)),</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;[[[0, 1, 2], [3, 4, 5]], [[6, 7, 8], [9, 10, 11]], [[12, 13, 14], [15, 16, 17]]]&#39;,</span>
<span class="go">&#39;[[[18, 19, 0], [1, 2, 3]], [[4, 5, 6], [7, 8, 9]], [[10, 11, 12], [13, 14, 15]]]&#39;,</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># when chunksizes is len == 1, then equlivalent to ichunks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksizes</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bordermode</span> <span class="o">=</span> <span class="s1">&#39;cycle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">genresult</span> <span class="o">=</span> <span class="n">iter_multichunks</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="n">bordermode</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multichunks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">genresult</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depthprofile</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">multichunks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">depthprofile</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="n">chunksizes</span><span class="p">,</span> <span class="s1">&#39;did not generate chunks correctly&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">multichunks</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[0, 1, 2], [3, 4, 5], [6, 0, 1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.iter_window">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">iter_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#iter_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.iter_window" title="Permalink to this definition"></a></dt>
<dd><p>iterates through iterable with a window size
generalizeation of itertwo</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterable</strong> (<em>iter</em>) – an iterable sequence</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – window size (default = 2)</p></li>
<li><p><strong>wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – wraparound (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns windows in a sequence</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>iter</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_iter –exec-iter_window</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_iter</span> <span class="o">=</span> <span class="n">iter_window</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">window_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;window_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">window_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">window_list = [(1, 2, 3), (2, 3, 4), (3, 4, 5), (4, 5, 6), (5, 6, 1), (6, 1, 2)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_iter</span> <span class="o">=</span> <span class="n">iter_window</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">wrap</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">window_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;window_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">window_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">window_list = [(1, 2, 3), (3, 4, 5), (5, 6, 1)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.itertwo">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">itertwo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#itertwo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.itertwo" title="Permalink to this definition"></a></dt>
<dd><p>equivalent to iter_window(iterable, 2, 1, wrap)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterable</strong> (<em>iter</em>) – an iterable sequence</p></li>
<li><p><strong>wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True, returns with wraparound</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns edges in a sequence</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>iter</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_iter –test-itertwo</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrap</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">wrap</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">edges = [(1, 2), (2, 3), (3, 4)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrap</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">wrap</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">edges = [(1, 2), (2, 3), (3, 4), (4, 1)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrap</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edge_iter</span> <span class="o">=</span> <span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">wrap</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edges</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">edge_iter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;edges = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">edges</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)),</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;iterable should have been used up&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">edges = [(1, 2), (2, 3), (3, 4)]</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># BENCHMARK</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iterable2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ubelt</span> <span class="k">as</span> <span class="nn">ub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ti</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">bestof</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-zip&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">iterable</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-itertwo&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;iter_window(2)&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">iter_window</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-zip-numpy&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable2</span><span class="p">,</span> <span class="n">iterable2</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-zip-numpy.tolist&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable2</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">iterable2</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-itertwo-numpy&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ti</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="s1">&#39;list-itertwo-numpy-tolist&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span><span class="p">(</span><span class="n">itertwo</span><span class="p">(</span><span class="n">iterable2</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ti</span><span class="o">.</span><span class="n">rankings</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">ti</span><span class="o">.</span><span class="n">consistency</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.next_counter">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">next_counter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#next_counter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.next_counter" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>step</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>func</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_iter –test-next_counter</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">next_</span> <span class="o">=</span> <span class="n">next_counter</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">([</span><span class="n">next_</span><span class="p">(),</span> <span class="n">next_</span><span class="p">(),</span> <span class="n">next_</span><span class="p">()])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.random_combinations">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">random_combinations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#random_combinations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.random_combinations" title="Permalink to this definition"></a></dt>
<dd><p>Yields <cite>num</cite> combinations of length <cite>size</cite> from items in random order</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> – </p></li>
<li><p><strong>size</strong> – </p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>rng</strong> (<em>RandomState</em>) – random number generator(default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>tuple</em> – combo</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_iter random_combinations</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">random_combinations</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">rng</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;combos = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">combos</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_iter</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">random_combinations</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">rng</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;combos = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">combos</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.random_product">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">random_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#random_product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.random_product" title="Permalink to this definition"></a></dt>
<dd><p>Yields <cite>num</cite> items from the cartesian product of items in a random order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>items</strong> (<em>list of sequences</em>) – items to get caresian product of
packed in a list or tuple.
(note this deviates from api of it.product)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>import utool as ut
items = [(1, 2, 3), (4, 5, 6, 7)]
rng = 0
list(ut.random_product(items, rng=0))
list(ut.random_product(items, num=3, rng=0))</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_iter.wrap_iterable">
<span class="sig-prename descclassname"><span class="pre">utool.util_iter.</span></span><span class="sig-name descname"><span class="pre">wrap_iterable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_iter.html#wrap_iterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_iter.wrap_iterable" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>wrapped_obj, was_scalar</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-utool.util_latex">
<span id="utool-util-latex-module"></span><h2>utool.util_latex module<a class="headerlink" href="#module-utool.util_latex" title="Permalink to this headline"></a></h2>
<p>TODO: box and whisker
<a class="reference external" href="http://tex.stackexchange.com/questions/115210/boxplot-in-latex">http://tex.stackexchange.com/questions/115210/boxplot-in-latex</a></p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.compile_latex_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">compile_latex_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">move</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nest_in_doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preamb_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#compile_latex_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.compile_latex_text" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_latex –test-compile_latex_text –show</p>
</dd>
<dt>Ignore:</dt><dd><dl class="simple">
<dt>pdflatex -shell-escape –synctex=-1 -src-specials -interaction=nonstopmode</dt><dd><p>~/code/ibeis/tmptex/latex_formatter_temp.tex</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dpath = &#39;/home/joncrall/code/ibeis/aidchallenge&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ut.vd(dpath)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_fpaths</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_images</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">figure_str</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_latex_figure_str</span><span class="p">(</span><span class="n">orig_fpaths</span><span class="p">,</span> <span class="n">width_str</span><span class="o">=</span><span class="s1">&#39;2.4in&#39;</span><span class="p">,</span> <span class="n">nCols</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_text</span> <span class="o">=</span> <span class="n">figure_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pdf_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compile_latex_text</span><span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="n">dpath</span><span class="o">=</span><span class="n">dpath</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                  <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_pdf_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress_pdf</span><span class="p">(</span><span class="n">pdf_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pdf_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">startfile</span><span class="p">(</span><span class="n">pdf_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.compress_pdf">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">compress_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#compress_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.compress_pdf" title="Permalink to this definition"></a></dt>
<dd><p>uses ghostscript to write a pdf</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.convert_pdf_to_image">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">convert_pdf_to_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.jpg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#convert_pdf_to_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.convert_pdf_to_image" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.ensure_colvec">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">ensure_colvec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#ensure_colvec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.ensure_colvec" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.ensure_rowvec">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">ensure_rowvec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#ensure_rowvec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.ensure_rowvec" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.escape_latex">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">escape_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#escape_latex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.escape_latex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a plain text message</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the message escaped to appear correctly in LaTeX</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/16259923/how-can-i-escape-characters">http://stackoverflow.com/questions/16259923/how-can-i-escape-characters</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.find_ghostscript_exe">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">find_ghostscript_exe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#find_ghostscript_exe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.find_ghostscript_exe" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.get_latex_figure_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">get_latex_figure_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\\textwidth'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nCols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colpos_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nlsep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sublbls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#get_latex_figure_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.get_latex_figure_str" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory relative to main tex file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>figure_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_latex –test-get_latex_figure_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;figures/foo.png&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">figure_str</span> <span class="o">=</span> <span class="n">get_latex_figure_str</span><span class="p">(</span><span class="n">fpath_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">figure_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.get_latex_figure_str2">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">get_latex_figure_str2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmdname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#get_latex_figure_str2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.get_latex_figure_str2" title="Permalink to this definition"></a></dt>
<dd><p>hack for candidacy</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.is_substr">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">is_substr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">find</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#is_substr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.is_substr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.latex_get_stats">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">latex_get_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_get_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.latex_get_stats" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.latex_multicolumn">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">latex_multicolumn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alignstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'|c|'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_multicolumn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.latex_multicolumn" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.latex_multirow">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">latex_multirow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nrow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_multirow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.latex_multirow" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.latex_newcommand">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">latex_newcommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_newcommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.latex_newcommand" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.latex_sanitize_command_name">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">latex_sanitize_command_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_cmdname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_sanitize_command_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.latex_sanitize_command_name" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_cmdname</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>command_name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_latex –exec-latex_sanitize_command_name</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_cmdname</span> <span class="o">=</span> <span class="s1">&#39;#foo bar.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command_name</span> <span class="o">=</span> <span class="n">latex_sanitize_command_name</span><span class="p">(</span><span class="n">_cmdname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;command_name = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">command_name</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">FooBar</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.latex_scalar">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">latex_scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#latex_scalar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.latex_scalar" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.long_substr">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">long_substr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#long_substr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.long_substr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.make_full_document">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">make_full_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preamp_decl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preamb_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#make_full_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.make_full_document" title="Permalink to this definition"></a></dt>
<dd><p>dummy preamble and document to wrap around latex fragment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_latex –test-make_full_document</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preamp_decl</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_</span> <span class="o">=</span> <span class="n">make_full_document</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.make_score_tabular">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">make_score_tabular</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_lbls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_lbls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_of</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bold_best</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bigger_is_better</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multicol_lbls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FORCE_INT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SHORTEN_ROW_LBLS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'|'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multicol_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'|'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centerline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AUTOFIX_LATEX</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#make_score_tabular"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.make_score_tabular" title="Permalink to this definition"></a></dt>
<dd><p>makes a LaTeX tabular for displaying scores or errors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>row_lbls</strong> (<em>list of str</em>) – </p></li>
<li><p><strong>col_lbls</strong> (<em>list of str</em>) – </p></li>
<li><p><strong>values</strong> (<em>ndarray</em>) – </p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = None)</p></li>
<li><p><strong>out_of</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>bold_best</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>flip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>table_position</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – eg ‘[h]’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tabular_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_latex –test-make_score_tabular:0 –show
python -m utool.util_latex –test-make_score_tabular:1 –show
python -m utool.util_latex –test-make_score_tabular:2 –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;config1&#39;</span><span class="p">,</span> <span class="s1">&#39;config2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;score </span><span class="se">\\</span><span class="s1">leq 1&#39;</span><span class="p">,</span> <span class="s1">&#39;metric2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_of</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bold_best</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flip</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tabular_str</span> <span class="o">=</span> <span class="n">make_score_tabular</span><span class="p">(</span><span class="n">row_lbls</span><span class="p">,</span> <span class="n">col_lbls</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">out_of</span><span class="p">,</span> <span class="n">bold_best</span><span class="p">,</span> <span class="n">flip</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">tabular_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">render_latex_text</span><span class="p">(</span><span class="n">tabular_str</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;config1&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;score </span><span class="se">\\</span><span class="s1">leq 1&#39;</span><span class="p">,</span> <span class="s1">&#39;metric2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_of</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bold_best</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flip</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tabular_str</span> <span class="o">=</span> <span class="n">make_score_tabular</span><span class="p">(</span><span class="n">row_lbls</span><span class="p">,</span> <span class="n">col_lbls</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">out_of</span><span class="p">,</span> <span class="n">bold_best</span><span class="p">,</span> <span class="n">flip</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">tabular_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">render_latex_text</span><span class="p">(</span><span class="n">tabular_str</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;config1&#39;</span><span class="p">,</span> <span class="s1">&#39;config2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_lbls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;score </span><span class="se">\\</span><span class="s1">leq 1&#39;</span><span class="p">,</span> <span class="s1">&#39;metric2&#39;</span><span class="p">,</span> <span class="s1">&#39;foobar&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multicol_lbls</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;title&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_of</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bold_best</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flip</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tabular_str</span> <span class="o">=</span> <span class="n">make_score_tabular</span><span class="p">(</span><span class="n">row_lbls</span><span class="p">,</span> <span class="n">col_lbls</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">out_of</span><span class="p">,</span> <span class="n">bold_best</span><span class="p">,</span> <span class="n">flip</span><span class="p">,</span> <span class="n">multicol_lbls</span><span class="o">=</span><span class="n">multicol_lbls</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">tabular_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">render_latex_text</span><span class="p">(</span><span class="n">tabular_str</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.make_stats_tabular">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">make_stats_tabular</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#make_stats_tabular"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.make_stats_tabular" title="Permalink to this definition"></a></dt>
<dd><p>tabular for dipslaying statistics</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.render_latex">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">render_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preamb_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#render_latex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.render_latex" title="Permalink to this definition"></a></dt>
<dd><p>Renders latex text into a jpeg.</p>
<p>Whitespace that would have appeared in the PDF is removed, so the jpeg is
cropped only the the relevant part.  This is ideal for figures that only
take a single page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_text</strong> – </p></li>
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path(default = None)</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file name(default = None)</p></li>
<li><p><strong>preamb_extra</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – verbosity flag(default = 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>jpg_fpath -  file path string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_latex render_latex ‘$O(n^2)$’ –fpath=~/slides/tmp.jpg</p>
</dd>
<dt>Script:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_latex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">split</span><span class="p">,</span> <span class="n">expanduser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_text</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_varargs</span><span class="p">()[</span><span class="mi">1</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span><span class="p">,</span> <span class="n">fname</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--fpath&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">expanduser</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--dpath&#39;</span><span class="p">,</span> <span class="n">dpath</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argval</span><span class="p">(</span><span class="s1">&#39;--fname&#39;</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_subset</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">argparse_funckw</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">convert_pdf_to_image</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;dpi&#39;</span><span class="p">,</span> <span class="s1">&#39;quality&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jpg_fpath</span> <span class="o">=</span> <span class="n">render_latex</span><span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="n">dpath</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">argflag</span><span class="p">(</span><span class="s1">&#39;--diskshow&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">startfile</span><span class="p">(</span><span class="n">jpg_fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.render_latex_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">render_latex_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nest_in_doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preamb_extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utool'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#render_latex_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.render_latex_text" title="Permalink to this definition"></a></dt>
<dd><p>compiles latex and shows the result</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.replace_all">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">replace_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repltups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#replace_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.replace_all" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_latex.tabular_join">
<span class="sig-prename descclassname"><span class="pre">utool.util_latex.</span></span><span class="sig-name descname"><span class="pre">tabular_join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tabular_body_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nCols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_latex.html#tabular_join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_latex.tabular_join" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_list">
<span id="utool-util-list-module"></span><h2>utool.util_list module<a class="headerlink" href="#module-utool.util_list" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.accumulate">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#accumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.accumulate" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Notice:</dt><dd><p>use itertools.accumulate in python &gt; 3.2</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.alloc_lists">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">alloc_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_alloc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#alloc_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.alloc_lists" title="Permalink to this definition"></a></dt>
<dd><p>allocates space for a <code class="docutils literal notranslate"><span class="pre">list</span></code> of lists</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.alloc_nones">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">alloc_nones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_alloc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#alloc_nones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.alloc_nones" title="Permalink to this definition"></a></dt>
<dd><p>allocates space for a <code class="docutils literal notranslate"><span class="pre">list</span></code> of Nones</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.allsame">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">allsame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#allsame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.allsame" title="Permalink to this definition"></a></dt>
<dd><p>checks to see if list is equal everywhere</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all items in the list are equal</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.and_lists">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">and_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#and_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.and_lists" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.argmax">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">argmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argmax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.argmax" title="Permalink to this definition"></a></dt>
<dd><p>Returns index / key of the item with the largest value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/16945518/python-argmin-argmax">http://stackoverflow.com/questions/16945518/python-argmin-argmax</a></p>
<dl>
<dt>Ignore:</dt><dd><p>list_ = np.random.rand(10000).tolist()
%timeit list_.index(max(list_))
%timeit max(enumerate(list_), key=operator.itemgetter(1))[0]
%timeit max(enumerate(list_), key=lambda x: x[1])[0]
%timeit max(range(len(list_)), key=list_.__getitem__)</p>
<p>input_ = dict_
list_ = np.random.rand(100000).tolist()
dict_ = {str(ut.random_uuid()): x for x in list_}
%timeit list(input_.keys())[ut.argmax(list(input_.values()))]
%timeit max(input_.items(), key=operator.itemgetter(1))[0]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">input_</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">input_</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.argmin">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">argmin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argmin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.argmin" title="Permalink to this definition"></a></dt>
<dd><p>Returns index / key of the item with the smallest value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>a[argmin(a, key=key)] == min(a, key=key)</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.argsort">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">argsort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argsort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.argsort" title="Permalink to this definition"></a></dt>
<dd><p>like np.argsort but for lists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – multiple lists to sort by</p></li>
<li><p><strong>**kwargs</strong> – reverse (bool): sort order is descending if True else acscending</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list argsort</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.argsort2">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">argsort2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indexable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#argsort2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.argsort2" title="Permalink to this definition"></a></dt>
<dd><p>Returns the indices that would sort a indexable object.</p>
<p>This is similar to np.argsort, but it is written in pure python and works
on both lists and dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>indexable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – indexable to sort by</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>indices: list of indices such that sorts the indexable</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># argsort works on dicts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="n">indexable</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort2</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">indices</span><span class="p">))</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">dict_</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># argsort works on lists</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indexable</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">432</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort2</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">indexable</span><span class="p">,</span> <span class="n">indices</span><span class="p">))</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># argsort works on iterators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indexable</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort2</span><span class="p">(</span><span class="n">indexable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">99</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.aslist">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">aslist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#aslist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.aslist" title="Permalink to this definition"></a></dt>
<dd><p>Ensures that the sequence object is a Python list.
Handles, numpy arrays, and python sequences (e.g. tuples, and iterables).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sequence</strong> (<em>sequence</em>) – a list-like object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>sequence</cite> as a Python list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">aslist</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">s1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">aslist</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">s2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]))</span>
<span class="go">[[1, 2], [3, 4], [5, 6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aslist</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.broadcast_zip">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">broadcast_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#broadcast_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.broadcast_zip" title="Permalink to this definition"></a></dt>
<dd><p>Zips elementwise pairs between list1 and list2. Broadcasts
the first dimension if a single list is of length 1.</p>
<p>Aliased as bzip</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of pairs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>util_dict.dzip</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – if the list dimensions are not broadcastable</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.bzip">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">bzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.bzip" title="Permalink to this definition"></a></dt>
<dd><p>Zips elementwise pairs between list1 and list2. Broadcasts
the first dimension if a single list is of length 1.</p>
<p>Aliased as bzip</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of pairs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>util_dict.dzip</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – if the list dimensions are not broadcastable</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">bzip</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">bzip</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.compress">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">compress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#compress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.compress" title="Permalink to this definition"></a></dt>
<dd><p>like np.compress but for lists</p>
<p>Returns items in item list where the corresponding item in flag list is
True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items to mask</p></li>
<li><p><strong>flag_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of booleans used as a mask</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>filtered_items - masked items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.debug_consec_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">debug_consec_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#debug_consec_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.debug_consec_list" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>tuple of (missing_items, missing_indices, duplicate_items)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.debug_duplicate_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">debug_duplicate_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#debug_duplicate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.debug_duplicate_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.delete_items_by_index">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">delete_items_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#delete_items_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.delete_items_by_index" title="Permalink to this definition"></a></dt>
<dd><p>Remove items from <code class="docutils literal notranslate"><span class="pre">list_</span></code> at positions specified in <code class="docutils literal notranslate"><span class="pre">index_list</span></code>
The original <code class="docutils literal notranslate"><span class="pre">list_</span></code> is preserved if <code class="docutils literal notranslate"><span class="pre">copy</span></code> is True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>index_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>copy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – preserves original list if True</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">delete_items_by_index</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[8, 1, 1, 6, 6, 3, 4, 4, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.delete_list_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">delete_list_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#delete_list_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.delete_list_items" title="Permalink to this definition"></a></dt>
<dd><p>Remove items in <code class="docutils literal notranslate"><span class="pre">item_list</span></code> from <code class="docutils literal notranslate"><span class="pre">list_</span></code>.
The original <code class="docutils literal notranslate"><span class="pre">list_</span></code> is preserved if <code class="docutils literal notranslate"><span class="pre">copy</span></code> is True</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.depth">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">depth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func=&lt;built-in</span> <span class="pre">function</span> <span class="pre">max&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_depth=0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.depth" title="Permalink to this definition"></a></dt>
<dd><p>Find the nesting depth of a nested sequence</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.depth_profile">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">depth_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress_homogenous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress_consecutive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#depth_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.depth_profile" title="Permalink to this definition"></a></dt>
<dd><p>Returns a nested list corresponding the shape of the nested structures
lists represent depth, tuples represent shape. The values of the items do
not matter. only the lengths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>max_depth</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>compress_homogenous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>compress_consecutive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – experimental</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-depth_profile</p>
</dd>
<dt>Setup:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(2, 3, 4)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[(1, 1, 1), 3], [1, 2, [1, 2]], 2]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">33</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[(1, &#39;1&#39;), 3], [1, 2, [1, &#39;2&#39;]], 2]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[2, 3], 1]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2] * 6 + [3, 2]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">2</span><span class="p">]]</span>  <span class="c1">#, [3, 2], [3, 2]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(4, [2, 1])</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result1</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">compress_consecutive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">result1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[(1, 2), 2], [(1, 2), 2], [(1, 2), 1]]</span>
<span class="go">[[(1, 2), 2]] * 2 + [[(1, 2), 1]]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]},</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]],</span> <span class="p">[[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p># THIS IS AN ERROR???
SHOULD BE
#[1, 1], [1, 2, 2], (1, ([1, 2]), (</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm3</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="n">fm1</span><span class="p">,</span> <span class="n">fm2</span><span class="p">,</span> <span class="n">fm3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_depth</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_depth</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="n">max_depth</span><span class="p">,</span> <span class="n">new_depth</span><span class="o">=</span><span class="n">new_depth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.duplicates_exist">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">duplicates_exist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#duplicates_exist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.duplicates_exist" title="Permalink to this definition"></a></dt>
<dd><p>returns if list has duplicates</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.emap">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">emap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#emap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.emap" title="Permalink to this definition"></a></dt>
<dd><p>Eager version of the builtin map function.
This provides the same functionality as python2 map.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
<p>Extended functionality supports passing common kwargs to all functions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.ensure_list_size">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">ensure_list_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#ensure_list_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.ensure_list_size" title="Permalink to this definition"></a></dt>
<dd><p>Allocates more space if needbe.</p>
<p>Ensures len(<code class="docutils literal notranslate"><span class="pre">list_</span></code>) == <code class="docutils literal notranslate"><span class="pre">size_</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – <code class="docutils literal notranslate"><span class="pre">list</span></code> to extend</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – amount to exent by</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.equal">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.equal" title="Permalink to this definition"></a></dt>
<dd><p>takes flags returns indexes of True values</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.estarmap">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">estarmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#estarmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.estarmap" title="Permalink to this definition"></a></dt>
<dd><p>Eager version of it.starmap from itertools</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.ezip">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">ezip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#ezip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.ezip" title="Permalink to this definition"></a></dt>
<dd><p>Eager version of the builtin zip function.
This provides the same functionality as python2 zip.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.filter_Nones">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">filter_Nones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filter_Nones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.filter_Nones" title="Permalink to this definition"></a></dt>
<dd><p>Removes any nones from the list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sublist which does not contain Nones</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.filter_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">filter_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filter_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.filter_items" title="Permalink to this definition"></a></dt>
<dd><p>Returns items in item list where the corresponding item in flag list is True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>flag_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>filtered_items</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>util_iter.iter_compress</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.filter_startswith">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">filter_startswith</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filter_startswith"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.filter_startswith" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.filterfalse_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">filterfalse_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#filterfalse_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.filterfalse_items" title="Permalink to this definition"></a></dt>
<dd><p>Returns items in item list where the corresponding item in flag list is true</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items</p></li>
<li><p><strong>flag_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of truthy values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>items where the corresponding flag was truthy</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>filtered_items</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>util_iter.ifilterfalse_items</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.find_duplicate_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">find_duplicate_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#find_duplicate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.find_duplicate_items" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>duplicate_map of indexes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-find_duplicate_items</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duplicate_map</span> <span class="o">=</span> <span class="n">find_duplicate_items</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">duplicate_map</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.find_list_indexes">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">find_list_indexes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#find_list_indexes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.find_list_indexes" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items to be searched</p></li>
<li><p><strong>items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items to find</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="n">find_list_indexes</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;index_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">index_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">index_list = [None, 2, 1, None]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.find_nonconsec_values">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">find_nonconsec_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#find_nonconsec_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.find_nonconsec_values" title="Permalink to this definition"></a></dt>
<dd><p>Determines if a list of values is consecutive (ascending)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of values, sorted and unique</p></li>
<li><p><strong>min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – minimum value in range defaults min(values)</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – maximum value in range defaults max(values)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>missing values that would make the list consecutive</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>missing_values</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-find_nonconsec_values</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">find_nonconsec_values</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[-1, 0, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.flag_None_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">flag_None_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_None_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.flag_None_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.flag_not_None_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">flag_not_None_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_not_None_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.flag_not_None_items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.flag_percentile_parts">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">flag_percentile_parts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">front</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_percentile_parts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.flag_percentile_parts" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.flag_unique_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">flag_unique_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flag_unique_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.flag_unique_items" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of flags corresponding to the first time an item is seen</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flag_list</p>
</dd>
</dl>
<dl>
<dt>Timing:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">random_items</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">rng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">)]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">method1</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">unseen</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">return</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">flag_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">unseen</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">flag_list</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">method2</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ut</span><span class="o">.</span><span class="n">index_to_boolmask</span><span class="p">([</span><span class="nb">list</span>\<span class="n">_</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">)],</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">method3</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ut</span><span class="o">.</span><span class="n">index_to_boolmask</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">),</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">)))))</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ubelt</span> <span class="k">as</span> <span class="nn">ub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="o">.</span><span class="n">DEFAULT_VERBOSE</span> <span class="o">=</span> <span class="kc">False</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">qtensure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exps</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">.25</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mf">.75</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pnum</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">make_pnum_nextgen</span><span class="p">(</span><span class="n">nSubplots</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">exps</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flag_unique_items</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgIter</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">exps</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">))):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ydatas</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ddict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">xdata</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgIter</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span> <span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">xdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span> <span class="o">**</span> <span class="n">exp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span>\<span class="n">_</span> <span class="o">=</span> <span class="n">random_items</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;method1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">method1</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;method2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">method2</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;method3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">method3</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;current&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># assert method1(list\_) == method3(list\_)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># assert method1(list\_) == current(list\_)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pt</span><span class="o">.</span><span class="n">multi_plot</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">xdata</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">ydatas</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">label_list</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ydatas</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="n">pnum</span><span class="p">())</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.flat_unique">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">flat_unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">lists_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flat_unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.flat_unique" title="Permalink to this definition"></a></dt>
<dd><p>returns items unique across all lists</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.flatten">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.flatten" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of lists</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flat list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-flatten</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">flatten</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">unflat_list2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.get_dirty_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">get_dirty_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#get_dirty_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.get_dirty_items" title="Permalink to this definition"></a></dt>
<dd><p>Returns each item in item_list where not flag in flag_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>flag_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dirty_items</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.get_list_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">get_list_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.get_list_column" title="Permalink to this definition"></a></dt>
<dd><p>accepts a list of (indexables) and returns a list of indexables
can also return a list of list of indexables if colx is a list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of lists</p></li>
<li><p><strong>colx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – index or key in each sublist get item</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of selected items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-take_column</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;b&#39;, &#39;a&#39;], [&#39;d&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;EGGS&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;SPAM&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;JAM&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;PRAM&#39;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># colx can be a key or list of keys as well</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;EGGS&#39;], [&#39;JAM&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.get_list_column_slice">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">get_list_column_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#get_list_column_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.get_list_column_slice" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.group_consecutives">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">group_consecutives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stepsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#group_consecutives"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.group_consecutives" title="Permalink to this definition"></a></dt>
<dd><p>Return list of consecutive lists of numbers from data (number list).</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy">http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.group_consecutives_numpy">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">group_consecutives_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stepsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#group_consecutives_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.group_consecutives_numpy" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – </p></li>
<li><p><strong>stepsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of ndarrays</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy">http://stackoverflow.com/questions/7352684/how-to-find-the-groups-of-consecutive-elements-from-an-array-in-numpy</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-group_consecutives</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">636</span><span class="p">,</span> <span class="mi">637</span><span class="p">,</span> <span class="mi">638</span><span class="p">,</span> <span class="mi">639</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stepsize</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">group_consecutives</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">stepsize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[array([0, 1, 2, 3, 4]), array([320]), array([636, 637, 638, 639])]</span>
</pre></div>
</div>
<dl class="simple">
<dt>Timeit:</dt><dd><p>%timeit group_consecutives_numpy(data, stepsize) #  14.8 µs per loop
%timeit group_consecutives(data, stepsize) # 4.47 µs per loop</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.iflag_unique_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">iflag_unique_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#iflag_unique_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.iflag_unique_items" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of flags corresponding to the first time an item is seen</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flag_iter</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.index_complement">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">index_complement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">len_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#index_complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.index_complement" title="Permalink to this definition"></a></dt>
<dd><p>Returns the other indicies in a list of length <code class="docutils literal notranslate"><span class="pre">len_</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.index_to_boolmask">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">index_to_boolmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#index_to_boolmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.index_to_boolmask" title="Permalink to this definition"></a></dt>
<dd><p>Constructs a list of booleans where an item is True if its position is in
<cite>indices</cite> otherwise it is False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of integer indices</p></li>
<li><p><strong>maxval</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – length of the returned list. If not specified
this is inverred from <cite>indices</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mask: list of booleans. mask[idx] is True if idx in indices</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.index_to_boolmask numpy version</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m vtool.other index_to_boolmask</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxval</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">index_to_boolmask</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">maxval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mask</span> <span class="o">==</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.insert_values">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">insert_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#insert_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.insert_values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.intersect_ordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">intersect_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.intersect_ordered" title="Permalink to this definition"></a></dt>
<dd><p>returns list1 elements that are also in list2. preserves order of list1</p>
<p>intersect_ordered</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">intersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;featweight_rowid&#39;]</span>
</pre></div>
</div>
<dl>
<dt>Timeit:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">timeit_func</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">niter</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">niter</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">_</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">ellapsed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">times</span><span class="p">)</span> <span class="o">/</span> <span class="n">niter</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;size1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">50000</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;size2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">50000</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#&#39;overlap&#39;: [0, 1],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">grid</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pool</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">kw</span><span class="p">[</span><span class="s1">&#39;size1&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">size2</span> <span class="o">=</span> <span class="n">size1</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;size1&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">size2</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;size2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list1</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">size1</span><span class="p">)</span> <span class="o">*</span> <span class="n">size1</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">random_sample</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="n">size1</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">random_sample</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="n">size2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;ut&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timeit_func</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">isect</span><span class="p">,</span> <span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#kw[&#39;np1&#39;] = timeit_func(np.intersect1d, list1, list2)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#kw[&#39;py1&#39;] = timeit_func(lambda a, b: set.intersection(set(a), set(b)), list1, list2)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;py2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timeit_func</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">))),</span> <span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_keys</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">setdiff</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">data_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">data_keys</span> <span class="o">+</span> <span class="n">other_keys</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;abs_change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ut&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;py2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;pct_change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;abs_change&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ut&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(df.sort(&#39;abs_change&#39;, ascending=False))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">argmin</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">):</span><span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other_keys</span><span class="p">)]</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;</span><span class="si">%6d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">color_text</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%8.6f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,),</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">argmin</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8.6f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">]))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">ut</span><span class="o">.</span><span class="n">isect</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">np</span><span class="o">.</span><span class="n">intersect1d</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">,</span> <span class="n">assume_unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">list1</span><span class="p">),</span> <span class="nb">set</span><span class="p">(</span><span class="n">list2</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#def highlight_max(s):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    &#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    highlight the maximum in a Series yellow.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    &#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    is_max = s == s.max()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    return [&#39;background-color: yellow&#39; if v else &#39;&#39; for v in is_max]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#df.style.apply(highlight_max)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.invertible_flatten1">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">invertible_flatten1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unflat_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_flatten1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.invertible_flatten1" title="Permalink to this definition"></a></dt>
<dd><p>Flattens <cite>unflat_list</cite> but remember how to reconstruct the <cite>unflat_list</cite>
Returns <cite>flat_list</cite> and the <cite>reverse_list</cite> with indexes into the
<cite>flat_list</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unflat_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of nested lists that we will flatten.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(flat_list, reverse_list)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-invertible_flatten1 –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span><span class="p">,</span> <span class="n">reverse_list</span> <span class="o">=</span> <span class="n">invertible_flatten1</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flat_list = </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;reverse_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">reverse_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">flat_list = [1, 2, 3, 4, 5, 6, 6]</span>
<span class="go">reverse_list = [[0, 1, 2], [3, 4], [5, 6]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.invertible_flatten2">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">invertible_flatten2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unflat_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_flatten2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.invertible_flatten2" title="Permalink to this definition"></a></dt>
<dd><p>An alternative to invertible_flatten1 which uses cumsum</p>
<p>Flattens <code class="docutils literal notranslate"><span class="pre">list</span></code> but remember how to reconstruct the unflat <code class="docutils literal notranslate"><span class="pre">list</span></code>
Returns flat <code class="docutils literal notranslate"><span class="pre">list</span></code> and the unflat <code class="docutils literal notranslate"><span class="pre">list</span></code> with indexes into the flat
<code class="docutils literal notranslate"><span class="pre">list</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unflat_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flat_list, cumlen_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>invertible_flatten1
unflatten1
unflatten2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">util_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span> <span class="o">=</span> <span class="n">invertible_flatten2</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">unflatten2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">unflat_list2</span> <span class="o">==</span> <span class="n">unflat_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">((</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">([5, 2, 3, 12, 3, 3, 9, 13, 3, 5], [1, 6, 7, 9, 10])</span>
</pre></div>
</div>
<p>TODO: This flatten is faster fix it to be used everywhere</p>
<dl>
<dt>Timeit:</dt><dd><p>unflat_list = [[random.random() for _ in range(int(random.random() * 1000))] for __ in range(200)]
unflat_arrs = list(map(np.array, unflat_list))</p>
<p>%timeit invertible_flatten2(unflat_list)
%timeit invertible_flatten2_numpy(unflat_list)
%timeit invertible_flatten2_numpy(unflat_arrs)</p>
</dd>
<dt>Timeits:</dt><dd><p>import utool
unflat_list = aids_list1
flat_aids1, reverse_list = utool.invertible_flatten1(unflat_list)
flat_aids2, cumlen_list = utool.invertible_flatten2(unflat_list)
unflat_list1 = utool.unflatten1(flat_aids1, reverse_list)
unflat_list2 = utool.unflatten2(flat_aids2, cumlen_list)
assert list(map(list, unflat_list1)) == unflat_list2
print(utool.get_object_size_str(unflat_list,  ‘unflat_list  ‘))
print(utool.get_object_size_str(flat_aids1,   ‘flat_aids1   ‘))
print(utool.get_object_size_str(flat_aids2,   ‘flat_aids2   ‘))
print(utool.get_object_size_str(reverse_list, ‘reverse_list ‘))
print(utool.get_object_size_str(cumlen_list,  ‘cumlen_list  ‘))
print(utool.get_object_size_str(unflat_list1, ‘unflat_list1 ‘))
print(utool.get_object_size_str(unflat_list2, ‘unflat_list2 ‘))
print(‘Timings 1:)
%timeit utool.invertible_flatten1(unflat_list)
%timeit utool.unflatten1(flat_aids1, reverse_list)
print(‘Timings 2:)
%timeit utool.invertible_flatten2(unflat_list)
%timeit utool.unflatten2(flat_aids2, cumlen_list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.invertible_flatten2_numpy">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">invertible_flatten2_numpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unflat_arrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_flatten2_numpy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.invertible_flatten2_numpy" title="Permalink to this definition"></a></dt>
<dd><p>more numpy version</p>
<p>TODO: move to vtool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unflat_arrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of ndarrays</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(flat_list, cumlen_list)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-invertible_flatten2_numpy</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_arrs</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">invertible_flatten2_numpy</span><span class="p">(</span><span class="n">unflat_arrs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">((</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(array([1, 2, 1, 5, 9, 4]), array([3, 5, 6]))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.invertible_total_flatten">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">invertible_total_flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unflat_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#invertible_total_flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.invertible_total_flatten" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unflat_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(flat_list, invert_levels)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-invertible_total_flatten –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">9</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unflat_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">unflat_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">invert_levels</span><span class="p">)</span> <span class="o">=</span> <span class="n">invertible_total_flatten</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flat_list = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flat_list</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">total_unflatten</span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">invert_levels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unflat_list2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">unflat_list2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">unflat_list2</span> <span class="o">==</span> <span class="n">unflat_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">flat_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">16</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.is_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">is_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.is_subset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.is_subset_of_any">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">is_subset_of_any</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_sets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#is_subset_of_any"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.is_subset_of_any" title="Permalink to this definition"></a></dt>
<dd><p>returns True if set_ is a subset of any set in other_sets</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>set_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – </p></li>
<li><p><strong>other_sets</strong> (<em>list of sets</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flag</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-is_subset_of_any</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_sets</span> <span class="o">=</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">is_subset_of_any</span><span class="p">(</span><span class="n">set_</span><span class="p">,</span> <span class="n">other_sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_sets</span> <span class="o">=</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">is_subset_of_any</span><span class="p">(</span><span class="n">set_</span><span class="p">,</span> <span class="n">other_sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.is_superset">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">is_superset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.is_superset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.isdisjoint">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">isdisjoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.isdisjoint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.isect">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">isect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.isect" title="Permalink to this definition"></a></dt>
<dd><p>returns list1 elements that are also in list2. preserves order of list1</p>
<p>intersect_ordered</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">intersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;featweight_rowid&#39;]</span>
</pre></div>
</div>
<dl>
<dt>Timeit:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">timeit_func</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">niter</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">niter</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">_</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">ellapsed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">times</span><span class="p">)</span> <span class="o">/</span> <span class="n">niter</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;size1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">50000</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;size2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">50000</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#&#39;overlap&#39;: [0, 1],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_dict_combinations</span><span class="p">(</span><span class="n">grid</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pool</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">kw</span><span class="p">[</span><span class="s1">&#39;size1&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">size2</span> <span class="o">=</span> <span class="n">size1</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;size1&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">size2</span> <span class="o">=</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;size2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list1</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">size1</span><span class="p">)</span> <span class="o">*</span> <span class="n">size1</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">random_sample</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="n">size1</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">random_sample</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="n">size2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;ut&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timeit_func</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">isect</span><span class="p">,</span> <span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#kw[&#39;np1&#39;] = timeit_func(np.intersect1d, list1, list2)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1">#kw[&#39;py1&#39;] = timeit_func(lambda a, b: set.intersection(set(a), set(b)), list1, list2)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;py2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timeit_func</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">))),</span> <span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other_keys</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">setdiff</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">data_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">data_keys</span> <span class="o">+</span> <span class="n">other_keys</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;abs_change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ut&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;py2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;pct_change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;abs_change&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ut&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(df.sort(&#39;abs_change&#39;, ascending=False))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">argmin</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">):</span><span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other_keys</span><span class="p">)]</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;</span><span class="si">%6d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_keys</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">color_text</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%8.6f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,),</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">argmin</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">%8.6f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">]))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">ut</span><span class="o">.</span><span class="n">isect</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="n">np</span><span class="o">.</span><span class="n">intersect1d</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">,</span> <span class="n">assume_unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">list1</span><span class="p">),</span> <span class="nb">set</span><span class="p">(</span><span class="n">list2</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#def highlight_max(s):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    &#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    highlight the maximum in a Series yellow.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    &#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    is_max = s == s.max()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    return [&#39;background-color: yellow&#39; if v else &#39;&#39; for v in is_max]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#df.style.apply(highlight_max)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.isect_indices">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">isect_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isect_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.isect_indices" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.isetdiff_flags">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">isetdiff_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isetdiff_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.isetdiff_flags" title="Permalink to this definition"></a></dt>
<dd><p>move to util_iter</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.issorted">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">issorted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op=&lt;built-in</span> <span class="pre">function</span> <span class="pre">le&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#issorted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.issorted" title="Permalink to this definition"></a></dt>
<dd><p>Determines if a list is sorted</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>op</strong> (<em>func</em>) – sorted operation (default=operator.le)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the list is sorted</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.issubset">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">issubset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.issubset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.issuperset">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">issuperset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.issuperset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.isunique">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">isunique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#isunique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.isunique" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.length_hint">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">length_hint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#length_hint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.length_hint" title="Permalink to this definition"></a></dt>
<dd><p>Return an estimate of the number of items in obj.</p>
<p>This is the PEP 424 implementation.
If the object supports len(), the result will be
exact. Otherwise, it may over- or under-estimate by an
arbitrary amount. The result will be an integer &gt;= 0.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.listT">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">listT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.listT" title="Permalink to this definition"></a></dt>
<dd><p>Swaps rows and columns.
nCols should be specified if the initial list is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-list_transpose</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 3), (2, 4)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[], [], [], [], []]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">list_transpose</span><span class="p">,</span> <span class="n">list_</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_alignment">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_alignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_alignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_alignment" title="Permalink to this definition"></a></dt>
<dd><p>Assumes list items are unique</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – a list of unique items to be aligned</p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – a list of unique items in a desired ordering</p></li>
<li><p><strong>missing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – True if list2 can contain items not in list1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sorting that will map list1 onto list2</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list list_alignment</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sortx</span> <span class="o">=</span> <span class="n">list_alignment</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1_aligned</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">sortx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">list1_aligned</span> <span class="o">==</span> <span class="n">list2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a2&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sortx</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_alignment</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">,</span> <span class="n">missing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sortx = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">sortx</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1_aligned</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">none_take</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">sortx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;list1_aligned = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">list1_aligned</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">list1_aligned = [&#39;a&#39;, None, &#39;b&#39;, &#39;c&#39;, None]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_all_eq_to">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_all_eq_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_all_eq_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_all_eq_to" title="Permalink to this definition"></a></dt>
<dd><p>checks to see if list is equal everywhere to a value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>val</strong> – value to check against</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all items in the list are equal to val</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_argmax">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_argmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_argmax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_argmax" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_argmaxima">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_argmaxima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_argmaxima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_argmaxima" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>argmaxima</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-list_argmaxima</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argmaxima</span> <span class="o">=</span> <span class="n">list_argmaxima</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;argmaxima = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">argmaxima</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">argmaxima = [2 3 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_argsort">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_argsort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_argsort" title="Permalink to this definition"></a></dt>
<dd><p>like np.argsort but for lists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – multiple lists to sort by</p></li>
<li><p><strong>**kwargs</strong> – reverse (bool): sort order is descending if True else acscending</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list argsort</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_compress">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_compress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_compress" title="Permalink to this definition"></a></dt>
<dd><p>like np.compress but for lists</p>
<p>Returns items in item list where the corresponding item in flag list is
True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items to mask</p></li>
<li><p><strong>flag_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of booleans used as a mask</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>filtered_items - masked items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_compresstake">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_compresstake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_compresstake"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_compresstake" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_cover">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_cover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_cover"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_cover" title="Permalink to this definition"></a></dt>
<dd><p>returns boolean for each position in list1 if it is in list2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>incover_list - true where list1 intersects list2</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-list_cover</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">incover_list</span> <span class="o">=</span> <span class="n">list_cover</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">incover_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[False, True, True, False, False, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_deep_types">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_deep_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_deep_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_deep_types" title="Permalink to this definition"></a></dt>
<dd><p>Returns all types in a deep list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_depth">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_depth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func=&lt;built-in</span> <span class="pre">function</span> <span class="pre">max&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_depth=0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_depth" title="Permalink to this definition"></a></dt>
<dd><p>Returns the deepest level of nesting within a list of lists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – a nested listlike object</p></li>
<li><p><strong>func</strong> – depth aggregation strategy (defaults to max)</p></li>
<li><p><strong>_depth</strong> – internal var</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[[[[</span><span class="mi">1</span><span class="p">]]],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">list_depth</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">_depth</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_getattr">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_getattr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_getattr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_getattr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_intersection">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_intersection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_inverse_take">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_inverse_take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_inverse_take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_inverse_take" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list in sorted domain</p></li>
<li><p><strong>index_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – index list of the unsorted domain</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Seems to be logically equivalent to
ut.take(list_, ut.argsort(index_list)), but faster</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>output_list_ - the input list in the unsorted domain</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-list_inverse_take</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rank_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prop_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">rank_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_prop_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">prop_list</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">sorted_prop_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_list_</span>  <span class="o">=</span> <span class="n">list_inverse_take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_list2_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">index_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">output_list_</span> <span class="o">==</span> <span class="n">prop_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">output_list2_</span> <span class="o">==</span> <span class="n">prop_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Timeit:</dt><dd><p>%timeit list_inverse_take(list|_, index_list)
%timeit ut.take(list|_, ut.argsort(index_list))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_isdisjoint">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_isdisjoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_isdisjoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_isdisjoint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_issubset">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_issubset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_issubset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_issubset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_issuperset">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_issuperset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_issuperset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_issuperset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_replace">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_replace" title="Permalink to this definition"></a></dt>
<dd><p>alias</p>
<p>Recursively removes target in all lists and sublists and replaces them with
the repl variable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_reshape">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_reshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_reshape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_reshape" title="Permalink to this definition"></a></dt>
<dd><p>reshapes leaving trailing dimnsions in front if prod(new_shape) != len(list_)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>new_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-list_reshape –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlist</span> <span class="o">=</span> <span class="n">list_reshape</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">new_shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depth</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">depth_profile</span><span class="p">(</span><span class="n">newlist</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;list_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">newlist</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;depth = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">depth</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlist2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">depth</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">newlist</span><span class="p">,</span> <span class="n">newlist2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_roll">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_roll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_roll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_roll" title="Permalink to this definition"></a></dt>
<dd><p>Like numpy.roll for python lists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/9457832/python-list-rotation">http://stackoverflow.com/questions/9457832/python-list-rotation</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_roll</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[4, 5, 1, 2, 3]</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p>np.roll(list_, n)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_set_equal">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_set_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_set_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_set_equal" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_strip">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_strip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_strip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_strip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_strip" title="Permalink to this definition"></a></dt>
<dd><p>list_ = [1, 2, 1, 3, 1, 1]
to_strip = 1
stripped_list = ut.list_strip(list_, to_strip)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_take">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_take" title="Permalink to this definition"></a></dt>
<dd><p>Selects a subset of a list based on a list of indices.
This is similar to np.take, but pure python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – some indexable object</p></li>
<li><p><strong>index_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><em>slice</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – some indexing object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>subset of the list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a> or scalar</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-take</p>
</dd>
<dt>SeeAlso:</dt><dd><p>ut.dict_take
ut.dict_subset
ut.none_take
ut.compress</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 0]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_transpose">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_transpose" title="Permalink to this definition"></a></dt>
<dd><p>Swaps rows and columns.
nCols should be specified if the initial list is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-list_transpose</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[(1, 3), (2, 4)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[], [], [], [], []]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_transpose</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">list_transpose</span><span class="p">,</span> <span class="n">list_</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_type">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_type_profile">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_type_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress_homogenous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_type_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_type_profile" title="Permalink to this definition"></a></dt>
<dd><p>similar to depth_profile but reports types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> – </p></li>
<li><p><strong>compress_homogenous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>level_type_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-list_type_profile
python3 -m utool.util_list –test-list_type_profile</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compress_homogenous</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">level_type_str</span> <span class="o">=</span> <span class="n">list_type_profile</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;level_type_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">level_type_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">level_type_str = list(list(int*2), ndarray[int32], tuple(ndarray[int32]*1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_union">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">lists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_union" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_where">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_where" title="Permalink to this definition"></a></dt>
<dd><p>takes flags returns indexes of True values</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_zipcompress">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_zipcompress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_zipcompress" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.zipcompress</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_zipflatten">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_zipflatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">items_lists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#list_zipflatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.list_zipflatten" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.list_ziptake">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">list_ziptake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexes_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.list_ziptake" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.ziptake</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.listclip">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">listclip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#listclip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.listclip" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE: use slices instead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>sublist</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-listclip</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">listclip</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">listclip</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    [1, 2, 3],</span>
<span class="go">    [1, 2, 3, 4, 5],</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">listclip</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">fromback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 4, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.listfind">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">listfind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tofind</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#listfind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.listfind" title="Permalink to this definition"></a></dt>
<dd><p>get the position of item <code class="docutils literal notranslate"><span class="pre">tofind</span></code> in <code class="docutils literal notranslate"><span class="pre">list_</span></code> if it exists
otherwise returns None</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – </p></li>
<li><p><strong>tofind</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>index of <code class="docutils literal notranslate"><span class="pre">tofind</span></code> in <code class="docutils literal notranslate"><span class="pre">list_</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tofind</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">listfind</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">tofind</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.lmap">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">lmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.lmap" title="Permalink to this definition"></a></dt>
<dd><p>Eager version of the builtin map function.
This provides the same functionality as python2 map.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
<p>Extended functionality supports passing common kwargs to all functions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.lstarmap">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">lstarmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.lstarmap" title="Permalink to this definition"></a></dt>
<dd><p>Eager version of it.starmap from itertools</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.lzip">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">lzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.lzip" title="Permalink to this definition"></a></dt>
<dd><p>Eager version of the builtin zip function.
This provides the same functionality as python2 zip.</p>
<p>Note this is inefficient and should only be used when prototyping and
debugging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.make_index_lookup">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">make_index_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_factory=&lt;class</span> <span class="pre">'dict'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#make_index_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.make_index_lookup" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – assumed to have unique items</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mapping from item to index</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-make_index_lookup</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx2_item</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">make_index_lookup</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">idx2_item</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_take</span><span class="p">(</span><span class="n">idx2_item</span><span class="p">,</span> <span class="n">list_</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{2: 3, 3: 1, 5: 0, 8: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.make_sortby_func">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">make_sortby_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#make_sortby_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.make_sortby_func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.maplen">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">maplen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iter_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#maplen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.maplen" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.multi_replace">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">multi_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#multi_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.multi_replace" title="Permalink to this definition"></a></dt>
<dd><p>Does a string replace with a list of search and replacements</p>
<p>TODO: rename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.none_take">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">none_take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#none_take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.none_take" title="Permalink to this definition"></a></dt>
<dd><p>Like take but indices can be None</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.take</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.not_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">not_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#not_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.not_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.or_lists">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">or_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#or_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.or_lists" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.partial_imap_1to1">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">partial_imap_1to1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">si_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#partial_imap_1to1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.partial_imap_1to1" title="Permalink to this definition"></a></dt>
<dd><p>a bit messy</p>
<p>DEPRICATE</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.partial_order">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">partial_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#partial_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.partial_order" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.print_duplicate_map">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">print_duplicate_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duplicate_map</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#print_duplicate_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.print_duplicate_map" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.priority_argsort">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">priority_argsort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#priority_argsort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.priority_argsort" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>priority</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – desired order of items</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reordered_index_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">priority</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sortx</span> <span class="o">=</span> <span class="n">priority_argsort</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reordered_list</span> <span class="o">=</span> <span class="n">priority_sort</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">sortx</span><span class="p">)</span> <span class="o">==</span> <span class="n">reordered_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sortx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 0, 2, 1, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.priority_sort">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">priority_sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#priority_sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.priority_sort" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>priority</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – desired order of items</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reordered_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-priority_argsort</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">priority</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reordered_list</span> <span class="o">=</span> <span class="n">priority_sort</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">reordered_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[8, 2, 6, 4, 10]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.rebase_labels">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">rebase_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#rebase_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.rebase_labels" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.recursive_replace">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">recursive_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#recursive_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.recursive_replace" title="Permalink to this definition"></a></dt>
<dd><p>Recursively removes target in all lists and sublists and replaces them with
the repl variable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.replace_nones">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">replace_nones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#replace_nones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.replace_nones" title="Permalink to this definition"></a></dt>
<dd><p>Recursively removes Nones in all lists and sublists and replaces them with
the repl variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>repl</strong> (<em>obj</em>) – replacement value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-replace_nones</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl_list</span> <span class="o">=</span> <span class="n">replace_nones</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">repl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">repl_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[-1, 0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.safe_listget">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">safe_listget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'?'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safe_listget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.safe_listget" title="Permalink to this definition"></a></dt>
<dd><p>depricate</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.safe_slice">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">safe_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">stop</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="optional">]</span><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safe_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.safe_slice" title="Permalink to this definition"></a></dt>
<dd><p>Slices list and truncates if out of bounds</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.safeapply">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">safeapply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safeapply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.safeapply" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.safelen">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">safelen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#safelen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.safelen" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.sample_lists">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">sample_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sample_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.sample_lists" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 1)</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>samples_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-sample_lists</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items_list</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples_list</span> <span class="o">=</span> <span class="n">sample_lists</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;samples_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">samples_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">samples_list = [[], [3, 2], [4], [5, 6], [10, 9]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.sample_zip">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">sample_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_overflow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_bin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sample_zip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.sample_zip" title="Permalink to this definition"></a></dt>
<dd><p>Helper for sampling</p>
<p>Given a list of lists, samples one item for each list and bins them into
num_samples bins. If all sublists are of equal size this is equivilent to a
zip, but otherewise consecutive bins will have monotonically less
elemements</p>
<p># Doctest doesn’t work with assertionerror
#util_list.sample_zip(items_list, 2)
#…
#AssertionError: Overflow occured</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>num_samples</strong> – </p></li>
<li><p><strong>allow_overflow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>per_bin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(samples_list, overflow_samples)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool</span> <span class="kn">import</span> <span class="n">util_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_list</span><span class="o">.</span><span class="n">sample_zip</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">[[1, 5, 8, 10], [2, 6, 9], [3, 7], [4], [0]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_list</span><span class="o">.</span><span class="n">sample_zip</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">allow_overflow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">([[1, 5, 8, 10], [2, 6, 9]], [3, 7, 4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_list</span><span class="o">.</span><span class="n">sample_zip</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">allow_overflow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">per_bin</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">([[1, 5, 8, 10, 2, 6, 9], [3, 7, 4], [], []], [0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.scalar_input_map">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">scalar_input_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#scalar_input_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.scalar_input_map" title="Permalink to this definition"></a></dt>
<dd><p>Map like function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – function to apply</p></li>
<li><p><strong>input</strong> – either an iterable or scalar value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">input_</span></code> is iterable this function behaves like map
otherwise applies func to <code class="docutils literal notranslate"><span class="pre">input_</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.search_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">search_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#search_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.search_list" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-search_list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ham&#39;</span><span class="p">,</span> <span class="s1">&#39;jam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;.am&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">valid_index_list</span><span class="p">,</span> <span class="n">valid_match_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">search_list</span><span class="p">(</span><span class="n">text_list</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">valid_index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[0, 1, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.setdiff">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">setdiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#setdiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.setdiff" title="Permalink to this definition"></a></dt>
<dd><p>returns list1 elements that are not in list2. preserves order of list1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setdiff_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">new_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;feature_rowid&#39;, &#39;config_rowid&#39;, &#39;featweight_forground_weight&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.setdiff_flags">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">setdiff_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#setdiff_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.setdiff_flags" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.setdiff_ordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">setdiff_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.setdiff_ordered" title="Permalink to this definition"></a></dt>
<dd><p>returns list1 elements that are not in list2. preserves order of list1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;config_rowid&#39;</span><span class="p">,</span> <span class="s1">&#39;featweight_forground_weight&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;featweight_rowid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setdiff_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">new_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;feature_rowid&#39;, &#39;config_rowid&#39;, &#39;featweight_forground_weight&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.setintersect">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">setintersect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.setintersect" title="Permalink to this definition"></a></dt>
<dd><p>returns list1 elements that are in list2. preserves order of list1</p>
<p>setintersect_ordered</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setintersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">new_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 8, 21]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.setintersect_ordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">setintersect_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#setintersect_ordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.setintersect_ordered" title="Permalink to this definition"></a></dt>
<dd><p>returns list1 elements that are in list2. preserves order of list1</p>
<p>setintersect_ordered</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_list</span> <span class="o">=</span> <span class="n">setintersect_ordered</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">new_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 8, 21]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.snapped_slice">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">snapped_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#snapped_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.snapped_slice" title="Permalink to this definition"></a></dt>
<dd><p>Creates a slice spanning <cite>n</cite> items in a list of length <cite>size</cite> at position
<cite>frac</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – length of the list</p></li>
<li><p><strong>frac</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – position in the range [0, 1]</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – number of items in the slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>slice object that best fits the criteria</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)">slice</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>take_percentile_parts</p>
</dd>
</dl>
<p>Example:</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">snapped_slice</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.sortedby">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">sortedby</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sortedby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.sortedby" title="Permalink to this definition"></a></dt>
<dd><p>sorts <code class="docutils literal notranslate"><span class="pre">item_list</span></code> using key_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list to sort</p></li>
<li><p><strong>key_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list to sort by</p></li>
<li><p><strong>reverse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – sort order is descending (largest first)
if reverse is True else acscending (smallest first)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">list_</span></code> sorted by the values of another <code class="docutils literal notranslate"><span class="pre">list</span></code>. defaults to
ascending order</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>sortedby2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span>    <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">sortedby</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">key_list</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[5, 2, 3, 1, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.sortedby2">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">sortedby2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#sortedby2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.sortedby2" title="Permalink to this definition"></a></dt>
<dd><p>sorts <code class="docutils literal notranslate"><span class="pre">item_list</span></code> using key_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list to sort</p></li>
<li><p><strong>*args</strong> – multiple lists to sort by</p></li>
<li><p><strong>**kwargs</strong> – reverse (bool): sort order is descending if True else acscending</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">list_</span></code> sorted by the values of another <code class="docutils literal notranslate"><span class="pre">list</span></code>. defaults to
ascending order</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-sortedby2 –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">key_list1</span><span class="p">,</span> <span class="n">key_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sortedby2</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 1, 3, 4, 5]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Python 3 Compatibility Test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">key_list1</span><span class="p">,</span> <span class="n">key_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">sortedby2</span><span class="p">(</span><span class="n">item_list</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 4, 5, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.strided_sample">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">strided_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#strided_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.strided_sample" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_items</span> <span class="o">=</span> <span class="n">strided_sample</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sample_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.take">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.take" title="Permalink to this definition"></a></dt>
<dd><p>Selects a subset of a list based on a list of indices.
This is similar to np.take, but pure python.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – some indexable object</p></li>
<li><p><strong>index_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.10)"><em>slice</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – some indexing object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>subset of the list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a> or scalar</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-take</p>
</dd>
<dt>SeeAlso:</dt><dd><p>ut.dict_take
ut.dict_subset
ut.none_take
ut.compress</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[2, 0]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.take_around_percentile">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">take_around_percentile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_around_percentile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.take_around_percentile" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.take_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">take_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.take_column" title="Permalink to this definition"></a></dt>
<dd><p>accepts a list of (indexables) and returns a list of indexables
can also return a list of list of indexables if colx is a list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of lists</p></li>
<li><p><strong>colx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – index or key in each sublist get item</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of selected items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-take_column</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;b&#39;, &#39;a&#39;], [&#39;d&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;EGGS&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;SPAM&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;JAM&#39;</span><span class="p">,</span> <span class="s1">&#39;ham&#39;</span><span class="p">:</span> <span class="s1">&#39;PRAM&#39;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># colx can be a key or list of keys as well</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colx</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_column</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">colx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[&#39;EGGS&#39;], [&#39;JAM&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.take_complement">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">take_complement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.take_complement" title="Permalink to this definition"></a></dt>
<dd><p>Returns items in <code class="docutils literal notranslate"><span class="pre">list_</span></code> not indexed by index_list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.take_percentile">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">take_percentile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_percentile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.take_percentile" title="Permalink to this definition"></a></dt>
<dd><p>take the top <cite>percent</cite> items in a list rounding up</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.take_percentile_parts">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">take_percentile_parts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">front</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#take_percentile_parts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.take_percentile_parts" title="Permalink to this definition"></a></dt>
<dd><p>Take parts from front, back, or middle of a list</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">front</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mid</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">back</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">take_percentile_parts</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">front</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">back</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[0, 1, 2, 9, 10, 11, 17, 18, 19]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.total_flatten">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">total_flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unflat_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#total_flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.total_flatten" title="Permalink to this definition"></a></dt>
<dd><p>unflat_list = [1, 2, [3, 4], [5, [9]]]
:param unflat_list:
:type unflat_list: list</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>flat_list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-total_flatten –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list</span> <span class="o">=</span> <span class="p">[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">9</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span> <span class="o">=</span> <span class="n">total_flatten</span><span class="p">(</span><span class="n">unflat_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flat_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.total_unflatten">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">total_unflatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flat_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert_levels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#total_unflatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.total_unflatten" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.type_profile">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">type_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress_homogenous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.type_profile" title="Permalink to this definition"></a></dt>
<dd><p>similar to depth_profile but reports types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> – </p></li>
<li><p><strong>compress_homogenous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>level_type_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-list_type_profile
python3 -m utool.util_list –test-list_type_profile</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compress_homogenous</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">level_type_str</span> <span class="o">=</span> <span class="n">list_type_profile</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">compress_homogenous</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;level_type_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">level_type_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">level_type_str = list(list(int*2), ndarray[int32], tuple(ndarray[int32]*1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.type_profile2">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">type_profile2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TypedSequence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#type_profile2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.type_profile2" title="Permalink to this definition"></a></dt>
<dd><p>similar to depth_profile but reports types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> – </p></li>
<li><p><strong>compress_homogenous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>level_type_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-type_profile2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">typeprof</span> <span class="o">=</span> <span class="n">type_profile2</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">type_sequence_factory</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;level_type_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">level_type_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.type_sequence_factory">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">type_sequence_factory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#type_sequence_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.type_sequence_factory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unflat_map">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unflat_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unflat_items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vectorized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unflat_map" title="Permalink to this definition"></a></dt>
<dd><p>Uses an wbia lookup function with a non-flat rowid list.
In essence this is equivilent to [list(map(func, _items)) for _items in unflat_items].
The utility of this function is that it only calls method once.
This is more efficient for calls that can take a list of inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>func</em>) – function</p></li>
<li><p><strong>unflat_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of rowid lists</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unflat_vals</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-unflat_map</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorized</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_items</span> <span class="o">=</span> <span class="p">[[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_vals</span> <span class="o">=</span> <span class="n">unflat_map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">unflat_items</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">unflat_vals</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[], [2, 3, 4], [5, 6], [7, 8, 9, 10], [], []]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unflat_take">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unflat_take</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unflat_index_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_take"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unflat_take" title="Permalink to this definition"></a></dt>
<dd><p>Returns nested subset of items_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>unflat_index_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – nested list of indices</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-unflat_take</p>
</dd>
<dt>SeeAlso:</dt><dd><p>ut.take</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_index_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">unflat_take</span><span class="p">(</span><span class="n">items_list</span><span class="p">,</span> <span class="n">unflat_index_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[1, 2], [3, 4], [1, 5]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unflat_unique_rowid_map">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unflat_unique_rowid_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unflat_rowids</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_unique_rowid_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unflat_unique_rowid_map" title="Permalink to this definition"></a></dt>
<dd><p>performs only one call to the underlying func with unique rowids the func
must be some lookup function</p>
<p>TODO: move this to a better place.</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-unflat_unique_rowid_map:0
python -m utool.util_list –test-unflat_unique_rowid_map:1</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_rowids</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_calls0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_input0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func0</span><span class="p">(</span><span class="n">rowids</span><span class="p">,</span> <span class="n">num_calls0</span><span class="o">=</span><span class="n">num_calls0</span><span class="p">,</span> <span class="n">num_input0</span><span class="o">=</span><span class="n">num_input0</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num_calls0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">num_input0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">rowid</span> <span class="o">+</span> <span class="mi">10</span> <span class="k">for</span> <span class="n">rowid</span> <span class="ow">in</span> <span class="n">rowids</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_vals</span> <span class="o">=</span> <span class="n">unflat_unique_rowid_map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">unflat_rowids</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">arr</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">unflat_vals</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_calls0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_input0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[[11, 12, 13], [12, 15], [11], []]</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_rowids</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_calls1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_input1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func1</span><span class="p">(</span><span class="n">rowids</span><span class="p">,</span> <span class="n">num_calls1</span><span class="o">=</span><span class="n">num_calls1</span><span class="p">,</span> <span class="n">num_input1</span><span class="o">=</span><span class="n">num_input1</span><span class="p">,</span> <span class="n">np</span><span class="o">=</span><span class="n">np</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">num_calls1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">num_input1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowids</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">rowid</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="n">rowid</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">for</span> <span class="n">rowid</span> <span class="ow">in</span> <span class="n">rowids</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_vals</span> <span class="o">=</span> <span class="n">unflat_unique_rowid_map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">unflat_rowids</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">arr</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">unflat_vals</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_calls1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">num_input1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[[[11, 1, 3], [12, 2, 3], [13, 3, 3]], [[12, 2, 3], [15, 5, 3]], [[11, 1, 3]], []]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unflat_vecmap">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unflat_vecmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unflat_items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vectorized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflat_vecmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unflat_vecmap" title="Permalink to this definition"></a></dt>
<dd><p>unflat map for vectorized functions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unflatten1">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unflatten1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flat_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflatten1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unflatten1" title="Permalink to this definition"></a></dt>
<dd><p>Rebuilds unflat list from invertible_flatten1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flat_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – the flattened list</p></li>
<li><p><strong>reverse_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – the list which undoes flattenting</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>original nested list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>unflat_list2</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>invertible_flatten1
invertible_flatten2
unflatten2</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unflatten2">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unflatten2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flat_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cumlen_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unflatten2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unflatten2" title="Permalink to this definition"></a></dt>
<dd><p>Rebuilds unflat list from invertible_flatten1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flat_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – the flattened list</p></li>
<li><p><strong>cumlen_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – the list which undoes flattenting</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>original nested list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>unflat_list2</p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>invertible_flatten1
invertible_flatten2
unflatten2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool</span><span class="o">.</span><span class="n">util_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cumlen_list</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unflat_list2</span> <span class="o">=</span> <span class="n">unflatten2</span><span class="p">(</span><span class="n">flat_list</span><span class="p">,</span> <span class="n">cumlen_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">unflat_list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[[5], [2, 3, 12, 3, 3], [9], [13, 3], [5]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.union">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">lists</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.union" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="nb">set</span><span class="p">,</span> <span class="n">x</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">lmap</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">,</span> <span class="n">x</span><span class="p">))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">list</span>\<span class="n">_union</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="nb">set</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="nb">list</span>\<span class="n">_</span> <span class="ow">in</span> <span class="n">lists</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">timeit</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="nb">list</span>\<span class="n">_</span> <span class="ow">in</span> <span class="n">lists</span><span class="p">)))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.union_ordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">union_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">lists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#union_ordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.union_ordered" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unique">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unique" title="Permalink to this definition"></a></dt>
<dd><p>Returns unique items in <code class="docutils literal notranslate"><span class="pre">list_</span></code>.
Generally, unordered (<em>should be</em>) faster.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unique_flags">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unique_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_list.unique_flags" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of flags corresponding to the first time an item is seen</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of items</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flag_list</p>
</dd>
</dl>
<dl>
<dt>Timing:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">random_items</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">rng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">)]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">method1</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">unseen</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="k">return</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">flag_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">unseen</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">flag_list</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">method2</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ut</span><span class="o">.</span><span class="n">index_to_boolmask</span><span class="p">([</span><span class="nb">list</span>\<span class="n">_</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">)],</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">method3</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">ut</span><span class="o">.</span><span class="n">index_to_boolmask</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">),</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">)))))</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ubelt</span> <span class="k">as</span> <span class="nn">ub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="o">.</span><span class="n">DEFAULT_VERBOSE</span> <span class="o">=</span> <span class="kc">False</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">qtensure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exps</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">.25</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mf">.75</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pnum</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">make_pnum_nextgen</span><span class="p">(</span><span class="n">nSubplots</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">exps</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flag_unique_items</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgIter</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">exps</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">))):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ydatas</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ddict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">xdata</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgIter</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span> <span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">xdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">m</span> <span class="o">**</span> <span class="n">exp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">list</span>\<span class="n">_</span> <span class="o">=</span> <span class="n">random_items</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;method1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">method1</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;method2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">method2</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;method3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">method3</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ydatas</span><span class="p">[</span><span class="s1">&#39;current&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="nb">list</span>\<span class="n">_</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># assert method1(list\_) == method3(list\_)</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># assert method1(list\_) == current(list\_)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pt</span><span class="o">.</span><span class="n">multi_plot</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">xdata</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">ydatas</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">label_list</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ydatas</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">exp</span><span class="p">),</span> <span class="n">fnum</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pnum</span><span class="o">=</span><span class="n">pnum</span><span class="p">())</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unique_indices">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unique_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unique_indices" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unique_inverse">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unique_inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unique_inverse" title="Permalink to this definition"></a></dt>
<dd><p>Like np.unique(item_list, return_inverse=True)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unique_ordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unique_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_ordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unique_ordered" title="Permalink to this definition"></a></dt>
<dd><p>Returns unique items in <code class="docutils literal notranslate"><span class="pre">list_</span></code> in the order they were seen.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unique_list - unique list which maintains order</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –exec-unique_ordered</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique_list</span> <span class="o">=</span> <span class="n">unique_ordered</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;unique_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">unique_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">unique_list = [4, 6, 0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unique_unordered">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unique_unordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unique_unordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unique_unordered" title="Permalink to this definition"></a></dt>
<dd><p>wrapper around list(set(list_))</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.unpack_iterables">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">unpack_iterables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#unpack_iterables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.unpack_iterables" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.where">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flag_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#where"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.where" title="Permalink to this definition"></a></dt>
<dd><p>takes flags returns indexes of True values</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.where_not_None">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">where_not_None</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#where_not_None"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.where_not_None" title="Permalink to this definition"></a></dt>
<dd><p>returns list of indexes of non None values</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>flag_None_items</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.xor_lists">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">xor_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#xor_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.xor_lists" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_list –test-xor_lists</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_list</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">xor_lists</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[False, True, False, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.zipcompress">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">zipcompress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#zipcompress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.zipcompress" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.zipcompress</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.zipflat">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">zipflat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#zipflat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.zipflat" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_list.ziptake">
<span class="sig-prename descclassname"><span class="pre">utool.util_list.</span></span><span class="sig-name descname"><span class="pre">ziptake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexes_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_list.html#ziptake"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_list.ziptake" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>vt.ziptake</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-utool.util_logging">
<span id="utool-util-logging-module"></span><h2>utool.util_logging module<a class="headerlink" href="#module-utool.util_logging" title="Permalink to this headline"></a></h2>
<p>If logging is on, utool will overwrite the print function with a logging function</p>
<p>This is a special module which will not get injected into (should it be internal?)</p>
<p class="rubric">References</p>
<p># maybe we can do something like this Queue to try fixing error when
# when using injected print statments with Qt signals and slots
<a class="reference external" href="http://stackoverflow.com/questions/21071448/redirecting-stdout-and-stderr-to-a-pyqt4-qtextedit-from-a-secondary-thread">http://stackoverflow.com/questions/21071448/redirecting-stdout-and-stderr-to-a-pyqt4-qtextedit-from-a-secondary-thread</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_logging.CustomStreamHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">CustomStreamHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#CustomStreamHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.CustomStreamHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Handler" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Handler</span></code></a></p>
<p>Modified from logging.py</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_logging.CustomStreamHandler.emit">
<span class="sig-name descname"><span class="pre">emit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#CustomStreamHandler.emit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.CustomStreamHandler.emit" title="Permalink to this definition"></a></dt>
<dd><p>Emit a record.</p>
<p>If a formatter is specified, it is used to format the record.
The record is then written to the stream with a trailing newline.  If
exception information is present, it is formatted using
traceback.print_exception and appended to the stream.  If the stream
has an ‘encoding’ attribute, it is used to determine how to do the
output to the stream.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_logging.CustomStreamHandler.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#CustomStreamHandler.flush"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.CustomStreamHandler.flush" title="Permalink to this definition"></a></dt>
<dd><p>Flushes the stream.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.add_logging_handler">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">add_logging_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'file'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#add_logging_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.add_logging_handler" title="Permalink to this definition"></a></dt>
<dd><p>mostly for util_logging internals</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.debug_logging_iostreams">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">debug_logging_iostreams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#debug_logging_iostreams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.debug_logging_iostreams" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.ensure_logging">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">ensure_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#ensure_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.ensure_logging" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.get_current_log_fpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">get_current_log_fpath</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_current_log_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.get_current_log_fpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.get_current_log_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">get_current_log_text</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_current_log_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.get_current_log_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.get_log_fpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">get_log_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'next'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_log_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.get_log_fpath" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>path to log file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>log_fpath (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.get_logging_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">get_logging_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_logging_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.get_logging_dir" title="Permalink to this definition"></a></dt>
<dd><p>The default log dir is in the system resource directory
But the utool global cache allows for the user to override
where the logs for a specific app should be stored.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>real path to logging directory</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>log_dir_realpath (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.get_shelves_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">get_shelves_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_shelves_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.get_shelves_dir" title="Permalink to this definition"></a></dt>
<dd><p>The default shelf dir is in the system resource directory
But the utool global cache allows for the user to override
where the shelf for a specific app should be stored.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>real path to shelves directory</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>log_dir_realpath (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.get_utool_logger">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">get_utool_logger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#get_utool_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.get_utool_logger" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.is_logging">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">is_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#is_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.is_logging" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.start_logging">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">start_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'a'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#start_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.start_logging" title="Permalink to this definition"></a></dt>
<dd><p>Overwrites utool print functions to use a logger</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_logging –test-start_logging
python -m utool.util_logging –test-start_logging:0
python -m utool.util_logging –test-start_logging:1
python -m utool.util_logging –test-start_logging:2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;--verb-logging&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">start_logging</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_print</span><span class="p">()(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_write</span><span class="p">()(</span><span class="s1">&#39;writing1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_write</span><span class="p">()(</span><span class="s1">&#39;writing2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_write</span><span class="p">()(</span><span class="s1">&#39;writing3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_flush</span><span class="p">()()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">handler</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">__UTOOL_ROOT_LOGGER__</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_fpath</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">current_log_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;current_log_text =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">current_log_text</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">current_log_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;cant hello world&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># assert current_log_text.find(&#39;writing1writing2&#39;) &gt; 0, &#39;cant find writing1writing2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">current_log_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;writing3&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;cant find writing3&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure that progress is logged</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;--verb-logging&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">start_logging</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>  <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">freq</span><span class="o">=</span><span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">handler</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">__UTOOL_ROOT_LOGGER__</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_fpath</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current_log_text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">current_log_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">current_log_text</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;rate&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;progress was not logged&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">current_log_text</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;--verb-logging&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">start_logging</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_print</span><span class="p">()(</span><span class="sa">u</span><span class="s1">&#39;</span><span class="se">\u0303</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_logging</span><span class="o">.</span><span class="n">_utool_flush</span><span class="p">()()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.stop_logging">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">stop_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#stop_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.stop_logging" title="Permalink to this definition"></a></dt>
<dd><p>Restores utool print functions to python defaults</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_logging.testlogprog">
<span class="sig-prename descclassname"><span class="pre">utool.util_logging.</span></span><span class="sig-name descname"><span class="pre">testlogprog</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_logging.html#testlogprog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_logging.testlogprog" title="Permalink to this definition"></a></dt>
<dd><p>Test to ensure that all progress lines are outputed to the file logger
while only a few progress lines are outputed to stdout.
(if backspace is specified)</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_logging testlogprog –show –verb-logging
python -m utool.util_logging testlogprog –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_logging</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">testlogprog</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.util_num">
<span id="utool-util-num-module"></span><h2>utool.util_num module<a class="headerlink" href="#module-utool.util_num" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.float_to_decimal">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">float_to_decimal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#float_to_decimal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.float_to_decimal" title="Permalink to this definition"></a></dt>
<dd><p>Convert a floating point number to a Decimal with no loss of information</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://docs.python.org/library/decimal.html#decimal-faq">http://docs.python.org/library/decimal.html#decimal-faq</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.get_sys_maxfloat">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">get_sys_maxfloat</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#get_sys_maxfloat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.get_sys_maxfloat" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.get_sys_maxint">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">get_sys_maxint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#get_sys_maxint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.get_sys_maxint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.get_sys_minint">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">get_sys_minint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#get_sys_minint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.get_sys_minint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.int_comma_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">int_comma_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#int_comma_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.int_comma_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.num2_sigfig">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">num2_sigfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#num2_sigfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.num2_sigfig" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.num_fmt">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">num_fmt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#num_fmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.num_fmt" title="Permalink to this definition"></a></dt>
<dd><p>Weird function. Not very well written. Very special case-y</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – </p></li>
<li><p><strong>max_digits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_num –test-num_fmt</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_num</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">1003232</span><span class="p">,</span> <span class="mf">41431232.</span><span class="p">,</span> <span class="mf">.0000000343</span><span class="p">,</span> <span class="o">-</span><span class="mf">.443243</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_digits</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">num_fmt</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">max_digits</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">num_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;0&#39;, &#39;0.0&#39;, &#39;1.2&#39;, &#39;1,003,232&#39;, &#39;41431232.0&#39;, &#39;0.0&#39;, &#39;-0.443&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.order_of_magnitude_ceil">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">order_of_magnitude_ceil</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#order_of_magnitude_ceil"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.order_of_magnitude_ceil" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_num.sigfig_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_num.</span></span><span class="sig-name descname"><span class="pre">sigfig_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigfig</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_num.html#sigfig_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_num.sigfig_str" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/2663612/nicely-repr-float-in-python">http://stackoverflow.com/questions/2663612/nicely-repr-float-in-python</a></p>
</dd></dl>

</section>
<section id="module-utool.util_numpy">
<span id="utool-util-numpy-module"></span><h2>utool.util_numpy module<a class="headerlink" href="#module-utool.util_numpy" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.deterministic_sample">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">deterministic_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nSample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#deterministic_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.deterministic_sample" title="Permalink to this definition"></a></dt>
<dd><p>Grabs data randomly, but in a repeatable way</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.deterministic_shuffle">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">deterministic_shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#deterministic_shuffle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.deterministic_shuffle" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_numpy –test-deterministic_shuffle</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">deterministic_shuffle</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">list_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 2, 5, 1, 4, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.ensure_rng">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">ensure_rng</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rng</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">impl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'numpy'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#ensure_rng"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.ensure_rng" title="Permalink to this definition"></a></dt>
<dd><p>Returns a random number generator</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Python as PYTHON ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">py_rng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">py_rng</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pp_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Numpy as PYTHON ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_rng</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_rng</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">impl</span><span class="o">=</span><span class="s1">&#39;numpy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">np_rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">np_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Numpy as NUMPY---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nn_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">np_rng</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">nn_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--- Python as NUMPY---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">py_rng</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_rng</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">impl</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pn_nums</span> <span class="o">=</span> <span class="p">[</span><span class="n">py_rng</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pn_nums</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">np_nums</span> <span class="o">==</span> <span class="n">pp_nums</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">pn_nums</span> <span class="o">==</span> <span class="n">nn_nums</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.inbounds">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">inbounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#inbounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.inbounds" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.index_of">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">index_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#index_of"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.index_of" title="Permalink to this definition"></a></dt>
<dd><p>index of [item] in [array]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.intersect2d">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">intersect2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#intersect2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.intersect2d" title="Permalink to this definition"></a></dt>
<dd><p>intersect rows of 2d numpy arrays</p>
<p>DEPRICATE: use intersect2d in vtool instead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> (<em>ndarray</em><em>[</em><em>ndim=2</em><em>]</em>) – </p></li>
<li><p><strong>B</strong> (<em>ndarray</em><em>[</em><em>ndim=2</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(C, Ax, Bx)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">14</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">Ax</span><span class="p">,</span> <span class="n">Bx</span><span class="p">)</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">intersect2d</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">((</span><span class="n">C</span><span class="p">,</span> <span class="n">Ax</span><span class="p">,</span> <span class="n">Bx</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(array([[1, 2, 3]]), array([0]), array([0]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.make_incrementer">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">make_incrementer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#make_incrementer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.make_incrementer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.npfind">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">npfind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#npfind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.npfind" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.quantum_random">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">quantum_random</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#quantum_random"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.quantum_random" title="Permalink to this definition"></a></dt>
<dd><p>returns a 32 bit unsigned integer quantum random number</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.random_indexes">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">random_indexes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subset_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#random_indexes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.random_indexes" title="Permalink to this definition"></a></dt>
<dd><p>random unrepeated indicies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_index</strong> – </p></li>
<li><p><strong>subset_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>rng</strong> (<em>RandomState</em>) – random number generator(default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>subst</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_numpy –exec-random_indexes</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_index</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset_size</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subst</span> <span class="o">=</span> <span class="n">random_indexes</span><span class="p">(</span><span class="n">max_index</span><span class="p">,</span> <span class="n">subset_size</span><span class="p">,</span> <span class="n">seed</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;subst = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">subst</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.random_sample">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">random_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nSample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#random_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.random_sample" title="Permalink to this definition"></a></dt>
<dd><p>Grabs data randomly</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>nSample</strong> – </p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>rng</strong> (<em>module</em>) – random number generator(default = numpy.random)</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sample_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_numpy –exec-random_sample</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nSample</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strict</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seed</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_list</span> <span class="o">=</span> <span class="n">random_sample</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">nSample</span><span class="p">,</span> <span class="n">strict</span><span class="p">,</span> <span class="n">rng</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;sample_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sample_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.sample_domain">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">sample_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nSamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#sample_domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.sample_domain" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nSamp</span>  <span class="o">=</span> <span class="mi">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">sample_domain</span><span class="p">(</span><span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">,</span> <span class="n">nSamp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[10, 151, 293, 434, 576, 717, 859]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.shuffle">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#shuffle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Shuffles a list inplace and then returns it for convinience</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><em>ndarray</em>) – list to shuffl</p></li>
<li><p><strong>rng</strong> (<em>RandomState</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – seed or random number gen</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>this is the input, but returned for convinience</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_numpy</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2</span> <span class="o">=</span> <span class="n">shuffle</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">list1</span><span class="p">),</span> <span class="n">rng</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">list1</span> <span class="o">!=</span> <span class="n">list2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[3, 2, 5, 1, 4, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.spaced_indexes">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">spaced_indexes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">len_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#spaced_indexes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.spaced_indexes" title="Permalink to this definition"></a></dt>
<dd><p>Returns n evenly spaced indexes.
Returns as many as possible if trunc is true</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.spaced_items">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">spaced_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#spaced_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.spaced_items" title="Permalink to this definition"></a></dt>
<dd><p>Returns n evenly spaced items</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_numpy.tiled_range">
<span class="sig-prename descclassname"><span class="pre">utool.util_numpy.</span></span><span class="sig-name descname"><span class="pre">tiled_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">range_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_numpy.html#tiled_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_numpy.tiled_range" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_parallel">
<span id="utool-util-parallel-module"></span><h2>utool.util_parallel module<a class="headerlink" href="#module-utool.util_parallel" title="Permalink to this headline"></a></h2>
<p>Module to executes the same function with different arguments in parallel.</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_parallel.KillableProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">KillableProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daemon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.KillableProcess" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.context.Process</span></code></p>
<p>Simple subclass of multiprocessing.Process
Gives an additional method to kill all children
as well as itself. calls this function on delete.</p>
<p>DEPRICATE, do not kill processes. It is not a good idea.
It can cause deadlocks.</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_parallel.KillableProcess.terminate2">
<span class="sig-name descname"><span class="pre">terminate2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableProcess.terminate2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.KillableProcess.terminate2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_parallel.KillableThread">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">KillableThread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daemon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableThread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.KillableThread" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/threading.html#threading.Thread" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></a></p>
<p>DEPRICATE, do not kill threads. It is not a good idea.
It can cause deadlocks.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/496960-thread2-killable-threads/">http://code.activestate.com/recipes/496960-thread2-killable-threads/</a>
<a class="reference external" href="http://tomerfiliba.com/recipes/Thread2/">http://tomerfiliba.com/recipes/Thread2/</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_parallel.KillableThread.raise_exc">
<span class="sig-name descname"><span class="pre">raise_exc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">excobj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableThread.raise_exc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.KillableThread.raise_exc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_parallel.KillableThread.terminate">
<span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#KillableThread.terminate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.KillableThread.terminate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.bgfunc">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">bgfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#bgfunc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.bgfunc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.buffered_generator">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">buffered_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_gen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_multiprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#buffered_generator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.buffered_generator" title="Permalink to this definition"></a></dt>
<dd><p>Generator that runs a slow source generator in a separate process.</p>
<p>My generate function still seems faster on test cases.
However, this function is more flexible in its compatability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_gen</strong> (<em>iterable</em>) – slow generator</p></li>
<li><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – the maximal number of items to pre-generate
(length of the buffer) (default = 2)</p></li>
<li><p><strong>use_multiprocessing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if False uses GIL-hindered threading
instead of multiprocessing (defualt = False).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>use_multiprocessing = True seems to freeze if passed in a generator
built by six.moves.map.</p>
</div>
<p class="rubric">References</p>
<p>Taken from Sander Dieleman’s data augmentation pipeline
<a class="reference external" href="https://github.com/benanne/kaggle-ndsb/blob/11a66cdbddee16c69514b9530a727df0ac6e136f/buffering.py">https://github.com/benanne/kaggle-ndsb/blob/11a66cdbddee16c69514b9530a727df0ac6e136f/buffering.py</a></p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_parallel –test-buffered_generator:0
python -m utool.util_parallel –test-buffered_generator:1</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#functime = timeit.timeit(</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &#39;ut.is_prime(&#39; + str(prime) + &#39;)&#39;, setup=&#39;import utool as ut&#39;,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># number=500) / 1000.0</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">14</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">38873</span><span class="p">]</span> <span class="o">*</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;serial&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t1</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;ut.generate2&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t3</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result3</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;ut.buffered_generator&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">t2</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">buffered_generator</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">result1</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">result3</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result3</span> <span class="o">==</span> <span class="n">result2</span><span class="p">,</span> <span class="s1">&#39;inconsistent results&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="p">,</span> <span class="s1">&#39;inconsistent results&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># VERYSLLOOWWW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="kn">import</span> <span class="n">_test_buffered_generator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_test_buffered_generator2</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.generate2">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">generate2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_gen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_gen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntasks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_serial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_pool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nprocs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progkw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nTasks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">futures_threaded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3600</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#generate2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.generate2" title="Permalink to this definition"></a></dt>
<dd><p>Interfaces to either multiprocessing or futures.
Esentially maps <code class="docutils literal notranslate"><span class="pre">args_gen</span></code> onto <code class="docutils literal notranslate"><span class="pre">func</span></code> using pool.imap.
However, args_gen must be a tuple of args that will be unpacked and send to
the function. Thus, the function can take multiple args. Also specifing
keyword args is supported.</p>
<p>Useful for embarrassingly parallel loops. Currently does not work with
opencv3</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_parallel generate2</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – live python function</p></li>
<li><p><strong>args_gen</strong> – </p></li>
<li><p><strong>kw_gen</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>ntasks</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>ordered</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>force_serial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag(default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_parallel generate2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="kn">import</span> <span class="n">_kw_wrap_worker</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_gen</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kw_gen</span> <span class="o">=</span> <span class="p">[{}]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">args_gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">use_pool</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">futures_threaded</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">generate2</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_gen</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#num = 8700  # parallel is slower for smaller numbers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># parallel has an initial (~.1 second startup overhead)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING SERIAL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="p">)),</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list0</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING PARALLEL (PROCESS)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING PARALLEL (THREAD)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="p">)),</span> <span class="n">futures_threaded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ASSERTING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">flag_list1</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">flag_list2</span><span class="p">)</span> <span class="o">==</span> <span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">flag_list0</span> <span class="o">==</span> <span class="n">flag_list1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">flag_list0</span> <span class="o">==</span> <span class="n">flag_list2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trying to recreate the freeze seen in IBEIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING SERIAL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list0</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_recursive</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TESTING PARALLEL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">is_prime</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_generator3</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">fibonacci_recursive</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag_list3</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flag_generator3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list0 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list0</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list1 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list2 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag_list3 = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag_list1</span><span class="p">,))</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># UNSTABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trying to recreate the freeze seen in IBEIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.preproc.preproc_chip</span> <span class="kn">import</span> <span class="n">gen_chip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#from wbia.algo.preproc.preproc_feat import gen_feat_worker</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grace.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy1.png&#39;</span><span class="p">,</span> <span class="s1">&#39;ada2.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy3.png&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;hard3.png&#39;</span><span class="p">,</span> <span class="s1">&#39;zebra.png&#39;</span><span class="p">,</span> <span class="s1">&#39;patsy.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;ada.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;carl.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;lena.png&#39;</span><span class="p">,</span> <span class="s1">&#39;easy2.png&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">key_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ut</span><span class="o">.</span><span class="n">augpath</span><span class="p">(</span><span class="n">img_fpath</span><span class="p">,</span> <span class="s1">&#39;_testgen&#39;</span><span class="p">),</span> <span class="n">img_fpath</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">545</span><span class="p">,</span> <span class="mi">372</span><span class="p">),</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">img_fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list2</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ut</span><span class="o">.</span><span class="n">augpath</span><span class="p">(</span><span class="n">img_fpath</span><span class="p">,</span> <span class="s1">&#39;_testgen&#39;</span><span class="p">),</span> <span class="n">img_fpath</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">545</span><span class="p">,</span> <span class="mi">372</span><span class="p">),</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">img_fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#arg_list3 = [(count, fpath, {}) for count, fpath in enumerate(ut.get_list_column(arg_list1, 0))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#arg_list4 = [(count, fpath, {}) for count, fpath in enumerate(ut.get_list_column(arg_list2, 0))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">remove_file_list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_list_column</span><span class="p">(</span><span class="n">arg_list2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips1</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">gen_chip</span><span class="p">,</span> <span class="n">arg_list1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chips2</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">gen_chip</span><span class="p">,</span> <span class="n">arg_list2</span><span class="p">,</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#feats3 = [z for z in ut.generate2(gen_feat_worker, arg_list3)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#feats4 = [w for w in ut.generate2(gen_feat_worker, arg_list4)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FAILING_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Trying to recreate the freeze seen in IBEIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Extremely weird case: freezes only if dsize &gt; (313, 313) AND __testwarp was called beforehand.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># otherwise the parallel loop works fine. Could be an opencv 3.0.0-dev issue.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">vtool</span> <span class="k">as</span> <span class="nn">vt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.algo.preproc.preproc_chip</span> <span class="kn">import</span> <span class="n">gen_chip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="kn">import</span> <span class="n">__testwarp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grace.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy1.png&#39;</span><span class="p">,</span> <span class="s1">&#39;ada2.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;easy3.png&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;hard3.png&#39;</span><span class="p">,</span> <span class="s1">&#39;zebra.png&#39;</span><span class="p">,</span> <span class="s1">&#39;patsy.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;ada.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="s1">&#39;carl.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;lena.png&#39;</span><span class="p">,</span> <span class="s1">&#39;easy2.png&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">key_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list1</span> <span class="o">=</span> <span class="p">[(</span><span class="n">vt</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">fpath</span><span class="p">),)</span> <span class="k">for</span> <span class="n">fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arg_list2</span> <span class="o">=</span> <span class="p">[(</span><span class="n">vt</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">fpath</span><span class="p">),)</span> <span class="k">for</span> <span class="n">fpath</span> <span class="ow">in</span> <span class="n">img_fpath_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#new1 = [x for x in ut.generate2(__testwarp, arg_list1)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new1</span> <span class="o">=</span>  <span class="n">__testwarp</span><span class="p">(</span><span class="n">arg_list1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new2</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">generate2</span><span class="p">(</span><span class="n">__testwarp</span><span class="p">,</span> <span class="n">arg_list2</span><span class="p">,</span> <span class="n">force_serial</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(&#39;new2 = %r&#39; % (new2,))</span>
</pre></div>
</div>
<p>#Example:
#    &gt;&gt;&gt; # Freakin weird. When IBEIS Runs generate it doesn’t close the processes
#    &gt;&gt;&gt; # UNSTABLE_DOCTEST
#    &gt;&gt;&gt; # python -m utool.util_parallel –test-generate:4
#    &gt;&gt;&gt; # Trying to see if we can recreate the problem where there are
#    &gt;&gt;&gt; # defunct python processes
#    &gt;&gt;&gt; import utool as ut
#    &gt;&gt;&gt; #num = 8700  # parallel is slower for smaller numbers
#    &gt;&gt;&gt; num = 70000  # parallel has an initial (~.1 second startup overhead)
#    &gt;&gt;&gt; print(‘TESTING PARALLEL’)
#    &gt;&gt;&gt; flag_generator1 = list(ut.generate2(ut.is_prime, range(0, num)))
#    &gt;&gt;&gt; flag_generator1 = list(ut.generate2(ut.is_prime, range(0, num)))
#    &gt;&gt;&gt; import time
#    &gt;&gt;&gt; time.sleep(10)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.get_default_numprocs">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">get_default_numprocs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#get_default_numprocs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.get_default_numprocs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.get_sys_thread_limit">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">get_sys_thread_limit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#get_sys_thread_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.get_sys_thread_limit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.in_main_process">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">in_main_process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#in_main_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.in_main_process" title="Permalink to this definition"></a></dt>
<dd><p>Returns if you are executing in a multiprocessing subprocess
Usefull to disable init print messages on windows</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.init_worker">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">init_worker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#init_worker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.init_worker" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.set_num_procs">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">set_num_procs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_procs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#set_num_procs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.set_num_procs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.spawn_background_daemon_thread">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">spawn_background_daemon_thread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#spawn_background_daemon_thread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.spawn_background_daemon_thread" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.spawn_background_process">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">spawn_background_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#spawn_background_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.spawn_background_process" title="Permalink to this definition"></a></dt>
<dd><p>Run a function in the background
(like rebuilding some costly data structure)</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/2046603/is-it-possible-to-run-function-in-a-subprocess-without-threading-or-writing-a-se">http://stackoverflow.com/questions/2046603/is-it-possible-to-run-function-in-a-subprocess-without-threading-or-writing-a-se</a>
<a class="reference external" href="http://stackoverflow.com/questions/1196074/starting-a-background-process-in-python">http://stackoverflow.com/questions/1196074/starting-a-background-process-in-python</a>
<a class="reference external" href="http://stackoverflow.com/questions/15063963/python-is-thread-still-running">http://stackoverflow.com/questions/15063963/python-is-thread-still-running</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_parallel –test-spawn_background_process</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_parallel</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;test_bgfunc_output.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ensure file is not around</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sleep_time</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">backgrond_func</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">sleep_time</span><span class="p">):</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">... </span>    <span class="kn">import</span> <span class="nn">time</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[BG] Background Process has started&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep_time</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[BG] Background Process is writing&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">write_to</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="s1">&#39;background process&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[BG] Background Process has finished&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c1">#raise AssertionError(&#39;test exception&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">backgrond_func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">sleep_time</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Spawning process&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">threadid</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">spawn_background_process</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">threadid</span><span class="o">.</span><span class="n">is_alive</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;thread should be active&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Spawned process. threadid=</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">threadid</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># background process should not have finished yet</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Waiting to check&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep_time</span> <span class="o">+</span> <span class="mf">.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;[FG] Finished waiting&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Now the file should be there</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">threadid</span><span class="o">.</span><span class="n">is_alive</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;process should have died&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_parallel.spawn_background_thread">
<span class="sig-prename descclassname"><span class="pre">utool.util_parallel.</span></span><span class="sig-name descname"><span class="pre">spawn_background_thread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_parallel.html#spawn_background_thread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_parallel.spawn_background_thread" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_path">
<span id="utool-util-path-module"></span><h2>utool.util_path module<a class="headerlink" href="#module-utool.util_path" title="Permalink to this headline"></a></h2>
<p>python -c “import utool, doctest; print(doctest.testmod(utool.util_path))”</p>
<p>This module becomes nav</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_path.ChdirContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ChdirContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ChdirContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ChdirContext" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>References <a class="reference external" href="http://www.astropython.org/snippet/2009/10/chdir-context-manager">http://www.astropython.org/snippet/2009/10/chdir-context-manager</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ancestor_paths">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ancestor_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ancestor_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ancestor_paths" title="Permalink to this definition"></a></dt>
<dd><p>All paths above you</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.assert_exists">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">assert_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.assert_exists" title="Permalink to this definition"></a></dt>
<dd><p>Asserts that a patha exists</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.assertpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">assertpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#assertpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.assertpath" title="Permalink to this definition"></a></dt>
<dd><p>Asserts that a patha exists</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.augpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">augpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augsuf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augpref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newfname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#augpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.augpath" title="Permalink to this definition"></a></dt>
<dd><p>augments end of path before the extension.</p>
<p>augpath</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>augsuf</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – augment filename before extension</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>newpath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;somefile.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augsuf</span> <span class="o">=</span> <span class="s1">&#39;_aug&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">augpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">augsuf</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">somefile_aug.txt</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;somefile.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augsuf</span> <span class="o">=</span> <span class="s1">&#39;_aug2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newext</span> <span class="o">=</span> <span class="s1">&#39;.bak&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augdir</span> <span class="o">=</span> <span class="s1">&#39;backup&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">augpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">augsuf</span><span class="p">,</span> <span class="n">newext</span><span class="o">=</span><span class="n">newext</span><span class="p">,</span> <span class="n">augdir</span><span class="o">=</span><span class="n">augdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">backup/somefile_aug2.bak</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.basename_noext">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">basename_noext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#basename_noext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.basename_noext" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.checkpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">checkpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#checkpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.checkpath" title="Permalink to this definition"></a></dt>
<dd><p>verbose wrapper around <code class="docutils literal notranslate"><span class="pre">os.path.exists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if <code class="docutils literal notranslate"><span class="pre">path_</span></code> exists on the filesystem show only the
top <cite>n</cite> directories</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path string</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag(default = False)</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = None)</p></li>
<li><p><strong>info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-checkpath</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">checkpath</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span> <span class="o">+</span> <span class="s1">&#39;foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">checkpath</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.copy">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deeplink</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.copy_all">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">copy_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">glob_str_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.copy_all" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.copy_files_to">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">copy_files_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_fpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_fpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veryverbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_files_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.copy_files_to" title="Permalink to this definition"></a></dt>
<dd><p>parallel copier</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">overwrite</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">veryverbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src_fpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">grab_test_imgpath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>                  <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_valid_test_imgkeys</span><span class="p">()]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dst_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;filecopy_tests&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy_files_to</span><span class="p">(</span><span class="n">src_fpath_list</span><span class="p">,</span> <span class="n">dst_dpath</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.copy_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">copy_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Copying'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ioerr_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sherro_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oserror_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.copy_list" title="Permalink to this definition"></a></dt>
<dd><p>Copies all data and stat info</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.copy_single">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">copy_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deeplink</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#copy_single"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.copy_single" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file or directory to copy</p></li>
<li><p><strong>dst</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory or new file to copy to</p></li>
</ul>
</dd>
</dl>
<p>Copies src file or folder to dst.</p>
<p>If src is a folder this copy is recursive.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.delete">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.delete" title="Permalink to this definition"></a></dt>
<dd><p>Removes a file, directory, or symlink</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.dirsplit">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">dirsplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#dirsplit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.dirsplit" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>components of the path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-dirsplit</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;E:/window file/foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;/normal/foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;~/relative/path&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">dirsplit</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">/&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">results2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensure_crossplat_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensure_crossplat_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winroot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C:'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_crossplat_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ensure_crossplat_path" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>crossplat_path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\somedir&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cplat_path</span> <span class="o">=</span> <span class="n">ensure_crossplat_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">cplat_path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">C:/somedir</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensure_ext">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensure_ext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_ext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ensure_ext" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file name or path</p></li>
<li><p><strong>ext</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – valid extensions</p></li>
<li><p><strong>replace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if true all other extensions are removed.  this removes
all nonstarting characters including and after the first period.
Otherwise only the trailing extension is kept</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>fpath -  file name or path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-ensure_ext –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;.bar&#39;</span><span class="p">))</span>
<span class="go">foo.bar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;.bar&#39;</span><span class="p">))</span>
<span class="go">foo.bar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;.baz&#39;</span><span class="p">))</span>
<span class="go">foo.bar.baz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;.baz&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">foo.baz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;foo.bar.baz&#39;</span><span class="p">,</span> <span class="s1">&#39;.biz&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">foo.biz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ensure_ext</span><span class="p">(</span><span class="s1">&#39;..foo.bar.baz&#39;</span><span class="p">,</span> <span class="s1">&#39;.biz&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">..foo.biz</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensure_mingw_drive">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensure_mingw_drive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">win32_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_mingw_drive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ensure_mingw_drive" title="Permalink to this definition"></a></dt>
<dd><p>replaces windows drives with mingw style drives</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>win32_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-ensure_mingw_drive</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">win32_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:/Program Files/Foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ensure_mingw_drive</span><span class="p">(</span><span class="n">win32_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">/c/Program Files/Foobar</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensure_native_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensure_native_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winroot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C:'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_native_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ensure_native_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensure_unixslash">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensure_unixslash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensure_unixslash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ensure_unixslash" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensuredir">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensuredir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1023</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensuredir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ensuredir" title="Permalink to this definition"></a></dt>
<dd><p>Ensures that directory will exist. creates new dir with sticky bits by
default</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – dpath to ensure. Can also be a tuple to send to join</p></li>
<li><p><strong>info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – if True prints extra information</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – octal mode of directory (default 0o1777)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path - the ensured directory</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensurefile">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensurefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.ensurefile" title="Permalink to this definition"></a></dt>
<dd><p>Creates file if it doesnt exist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>times</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1158076/implement-touch-using-python">http://stackoverflow.com/questions/1158076/implement-touch-using-python</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ensurepath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ensurepath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ensurepath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ensurepath" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE - alias - use ensuredir instead</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.existing_commonprefix">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">existing_commonprefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#existing_commonprefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.existing_commonprefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.existing_subpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">existing_subpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_subpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'first'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#existing_subpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.existing_subpath" title="Permalink to this definition"></a></dt>
<dd><p>Returns join(root_path, subpath) where subpath in valid_subpath ane
exists(subpath)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.expand_win32_shortname">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">expand_win32_shortname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#expand_win32_shortname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.expand_win32_shortname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.file_bytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">file_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#file_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.file_bytes" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>size of file in bytes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.file_megabytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">file_megabytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#file_megabytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.file_megabytes" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>size of file in megabytes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.find_lib_fpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">find_lib_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">libname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recurse_down</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#find_lib_fpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.find_lib_fpath" title="Permalink to this definition"></a></dt>
<dd><p>Search for the library</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.fnames_to_fpaths">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">fnames_to_fpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fnames_to_fpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.fnames_to_fpaths" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.fpath_has_ext">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">fpath_has_ext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_sensitive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fpath_has_ext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.fpath_has_ext" title="Permalink to this definition"></a></dt>
<dd><p>returns true if the filename has any of the given extensions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.fpath_has_imgext">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">fpath_has_imgext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fpath_has_imgext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.fpath_has_imgext" title="Permalink to this definition"></a></dt>
<dd><p>returns true if a filename matches an image pattern</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.fpaths_to_fnames">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">fpaths_to_fnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#fpaths_to_fnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.fpaths_to_fnames" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath_list</strong> (<em>list of strs</em>) – list of file-paths</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of file-names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>fname_list (list of strs)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_modname_from_modpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_modname_from_modpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_modname_from_modpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_modname_from_modpath" title="Permalink to this definition"></a></dt>
<dd><p>returns importable name from file path</p>
<p>get_modname_from_modpath</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module_fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module filepath</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modname</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_modname_from_modpath</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">modname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool.util_path</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_modpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_modpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefer_pkg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefer_main</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_modpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_modpath" title="Permalink to this definition"></a></dt>
<dd><p>Returns path to module</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>module</em>) – module name or actual module</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>module_dir</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-get_modpath</p>
</dd>
<dt>Setup:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool.util_path&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dir</span> <span class="o">=</span> <span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">(</span><span class="n">module_dir</span><span class="p">,</span> <span class="n">utool_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool/util_path.py</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool._internal&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dir</span> <span class="o">=</span> <span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="n">prefer_pkg</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">module_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;utool/_internal&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utool_dir</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modname</span> <span class="o">=</span> <span class="s1">&#39;utool&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dir</span> <span class="o">=</span> <span class="n">get_modpath</span><span class="p">(</span><span class="n">modname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">truepath_relative</span><span class="p">(</span><span class="n">module_dir</span><span class="p">,</span> <span class="n">utool_dir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_unixslash</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool/__init__.py</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_module_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_module_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_module_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_module_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_module_subdir_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_module_subdir_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_module_subdir_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_module_subdir_list" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module_fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modsubdir_list</span> <span class="o">=</span> <span class="n">get_module_subdir_list</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">modsubdir_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;utool&#39;, &#39;util_path&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_nonconflicting_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_nonconflicting_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.get_nonconflicting_path" title="Permalink to this definition"></a></dt>
<dd><p>Searches for and finds a path garuenteed to not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path string. If may include a “%” formatstr.</p></li>
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path(default = None)</p></li>
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path non_existing_path</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp0.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp1.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;tmp1.txt&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;_old&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="n">suffix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">),</span> <span class="s1">&#39;dir_old2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_path_type">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_path_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_path_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_path_type" title="Permalink to this definition"></a></dt>
<dd><p>returns if a path is a file, directory, link, or mount</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_relative_modpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_relative_modpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_relative_modpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_relative_modpath" title="Permalink to this definition"></a></dt>
<dd><p>Returns path to module relative to the package root</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module_fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – module filepath</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modname</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="o">.</span><span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel_modpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_relative_modpath</span><span class="p">(</span><span class="n">module_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rel_modpath</span> <span class="o">=</span> <span class="n">rel_modpath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">)</span>  <span class="c1"># allow pyc or py</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ensure_crossplat_path</span><span class="p">(</span><span class="n">rel_modpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">utool/util_path.py</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_standard_exclude_dnames">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_standard_exclude_dnames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_standard_exclude_dnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_standard_exclude_dnames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_standard_include_patterns">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_standard_include_patterns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_standard_include_patterns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_standard_include_patterns" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.get_win32_short_path_name">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">get_win32_short_path_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">long_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#get_win32_short_path_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.get_win32_short_path_name" title="Permalink to this definition"></a></dt>
<dd><p>Gets the short path name of a given long path.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/a/23598461/200291">http://stackoverflow.com/a/23598461/200291</a>
<a class="reference external" href="http://stackoverflow.com/questions/23598289/get-win-short-fname-python">http://stackoverflow.com/questions/23598289/get-win-short-fname-python</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#long_name = unicode(normpath(ut.get_resource_dir()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">long_name</span> <span class="o">=</span> <span class="n">unicode</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;C:/Program Files (x86)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#long_name = unicode(r&#39;C:/Python27&#39;)</span>
<span class="go">#unicode(normpath(ut.get_resource_dir()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_win32_short_path_name</span><span class="p">(</span><span class="n">long_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">C:/PROGRA~2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.glob">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">glob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxdepth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#glob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.glob" title="Permalink to this definition"></a></dt>
<dd><p>Globs directory for pattern</p>
<dl class="simple">
<dt>DEPRICATED:</dt><dd><p>use pathlib.glob instead</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path or pattern</p></li>
<li><p><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – pattern or list of patterns
(use only if pattern is not in dpath)</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>with_files</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>with_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>maxdepth</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>exclude_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>iglob</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-glob
python -m utool.util_path –exec-glob:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;__*.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_files</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">with_dirs</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maxdepth</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_internal&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;experimental&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;exclude_dirs = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">exclude_dirs</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">with_files</span><span class="p">,</span> <span class="n">with_dirs</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">maxdepth</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span> <span class="n">fullpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">path_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">path_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">exclude_dirs = [&#39;_internal&#39;, &#39;...utool/utool/experimental&#39;]</span>
<span class="go">path_list = [</span>
<span class="go">    &#39;__init__.py&#39;,</span>
<span class="go">    &#39;__main__.py&#39;,</span>
<span class="go">    &#39;_graveyard/__prefwidg_dep.py&#39;,</span>
<span class="go">    &#39;tests/__init__.py&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/__*.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_list</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">path_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.glob_python_modules">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">glob_python_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#glob_python_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.glob_python_modules" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.grep">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">grep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#grep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.grep" title="Permalink to this definition"></a></dt>
<dd><p>greps for patterns
Python implementation of grep. NOT FINISHED</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regex_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – one or more patterns to find</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>dpath_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – directories to search (defaults to cwd)</p></li>
<li><p><strong>include_patterns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – defaults to standard file extensions</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(found_fpaths, found_lines_list, found_lxs_list)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-grep
utprof.py -m utool.util_path –exec-grep
utprof.py utool/util_path.py –exec-grep</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dpath_list = [ut.truepath(&#39;~/code/utool/utool&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;*.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grepfile&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grep</span><span class="p">(</span><span class="n">regex_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">dpath_list</span><span class="p">,</span> <span class="n">include_patterns</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">exclude_dirs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">found_fpath_list</span><span class="p">,</span> <span class="n">found_lines_list</span><span class="p">,</span> <span class="n">found_lxs_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;util_path.py&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">basename</span><span class="p">,</span> <span class="n">found_fpath_list</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.grepfile">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">grepfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regexpr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#grepfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.grepfile" title="Permalink to this definition"></a></dt>
<dd><p>grepfile - greps a specific file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>regexpr_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – pattern or list of patterns</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of lines and list of line numbers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-grepfile</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regexpr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foundthisline&#39;</span><span class="p">,</span> <span class="s1">&#39;__future__&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reflags</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found_lines</span><span class="p">,</span> <span class="n">found_lxs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grepfile</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">regexpr_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">({</span><span class="s1">&#39;found_lines&#39;</span><span class="p">:</span> <span class="n">found_lines</span><span class="p">,</span> <span class="s1">&#39;found_lxs&#39;</span><span class="p">:</span> <span class="n">found_lxs</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="mi">7</span> <span class="ow">in</span> <span class="n">found_lxs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">others</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">take_complement</span><span class="p">(</span><span class="n">found_lxs</span><span class="p">,</span> <span class="p">[</span><span class="n">found_lxs</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">7</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">others</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">others</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.greplines">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">greplines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regexpr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#greplines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.greplines" title="Permalink to this definition"></a></dt>
<dd><p>grepfile - greps a specific file</p>
<p>TODO: move to util_str, rework to be core of grepfile</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.iglob">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">iglob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxdepth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#iglob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.iglob" title="Permalink to this definition"></a></dt>
<dd><p>Iteratively globs directory for pattern</p>
<dl class="simple">
<dt>FIXME:</dt><dd><p>This function has a speed issue</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path</p></li>
<li><p><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>with_files</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>with_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>maxdepth</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>exclude_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>path</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/19859840/excluding-dirs-in-os-walk">http://stackoverflow.com/questions/19859840/excluding-dirs-in-os-walk</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.is_module_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">is_module_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#is_module_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.is_module_dir" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if path contains an __init__ file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>flag</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/utool/utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">is_module_dir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.is_private_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">is_private_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#is_private_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.is_private_module" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.is_python_module">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">is_python_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#is_python_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.is_python_module" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.list_images">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">list_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_dpath_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#list_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.list_images" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of images in a directory. By default returns relative paths.</p>
<p>TODO: rename to ls_images
TODO: Change all instances of fullpath to full</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>ignore_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>fullpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>full</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>sort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gname_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-list_images</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_dpath_</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">full</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sort</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gname_list</span> <span class="o">=</span> <span class="n">list_images</span><span class="p">(</span><span class="n">img_dpath_</span><span class="p">,</span> <span class="n">ignore_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">fullpath</span><span class="p">,</span> <span class="n">full</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;gname_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gname_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.longest_existing_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">longest_existing_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#longest_existing_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.longest_existing_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the longest root of _path that exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>_path -  path string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-longest_existing_path</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="s1">&#39;nonexist/foobar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">existing_path</span> <span class="o">=</span> <span class="n">longest_existing_path</span><span class="p">(</span><span class="n">_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;existing_path = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">existing_path</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">existing_path</span> <span class="o">==</span> <span class="n">target</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ls">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ls" title="Permalink to this definition"></a></dt>
<dd><p>like unix ls - lists all files and dirs in path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ls_dirs">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ls_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ls_dirs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ls_images">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ls_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_dpath_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.ls_images" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of images in a directory. By default returns relative paths.</p>
<p>TODO: rename to ls_images
TODO: Change all instances of fullpath to full</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>ignore_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>fullpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>full</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>sort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gname_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-list_images</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_dpath_</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignore_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">full</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sort</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gname_list</span> <span class="o">=</span> <span class="n">list_images</span><span class="p">(</span><span class="n">img_dpath_</span><span class="p">,</span> <span class="n">ignore_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">fullpath</span><span class="p">,</span> <span class="n">full</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;gname_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gname_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ls_moduledirs">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ls_moduledirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls_moduledirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ls_moduledirs" title="Permalink to this definition"></a></dt>
<dd><p>lists all dirs which are python modules in path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.ls_modulefiles">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">ls_modulefiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#ls_modulefiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.ls_modulefiles" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.make_grep_resultstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">make_grep_resultstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grep_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extended_regex_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#make_grep_resultstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.make_grep_resultstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.matching_fpaths">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">matching_fpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_patterns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#matching_fpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.matching_fpaths" title="Permalink to this definition"></a></dt>
<dd><p>walks dpath lists returning all directories that match the requested
pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dpath_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>include_patterns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>exclude_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p># TODO: fix names and behavior of exclude_dirs and greater_exclude_dirs
<a class="reference external" href="http://stackoverflow.com/questions/19859840/excluding-directories-in-os-walk">http://stackoverflow.com/questions/19859840/excluding-directories-in-os-walk</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">dirname</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_patterns</span> <span class="o">=</span> <span class="n">get_standard_include_patterns</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_page&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">greater_exclude_dirs</span> <span class="o">=</span> <span class="n">get_standard_exclude_dnames</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath_gen</span> <span class="o">=</span> <span class="n">matching_fpaths</span><span class="p">(</span><span class="n">dpath_list</span><span class="p">,</span> <span class="n">include_patterns</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                            <span class="n">greater_exclude_dirs</span><span class="p">,</span> <span class="n">recursive</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">fpath_gen</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.move">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#move"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.move" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.move_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">move_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Moving'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#move_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.move_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.newcd">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">newcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#newcd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.newcd" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.non_existing_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">non_existing_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#non_existing_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.non_existing_path" title="Permalink to this definition"></a></dt>
<dd><p>Searches for and finds a path garuenteed to not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path string. If may include a “%” formatstr.</p></li>
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path(default = None)</p></li>
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path non_existing_path</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp0.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp1.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/tmp.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;tmp1.txt&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensurepath</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir_old2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="s1">&#39;/dir&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;_old&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">non_existing_path</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="n">suffix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">basename</span><span class="p">(</span><span class="n">newpath</span><span class="p">),</span> <span class="s1">&#39;dir_old2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.num_images_in_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">num_images_in_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#num_images_in_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.num_images_in_dir" title="Permalink to this definition"></a></dt>
<dd><p>returns the number of images in a directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.path_ndir_split">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">path_ndir_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_unix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winroot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trailing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#path_ndir_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.path_ndir_split" title="Permalink to this definition"></a></dt>
<dd><p>Shows only a little bit of the path. Up to the n bottom-level directories</p>
<p>TODO: rename to path_tail? ndir_split?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(str) the trailing n paths of path.</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python3 -m utool.util_path –test-path_ndir_split
python3 -m utool –tf path_ndir_split
python -m utool –tf path_ndir_split</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s1">&#39;/usr/bin/local/foo/bar&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;C:/&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="c1">#r&#39;lonerel&#39;,</span>
<span class="gp">... </span>         <span class="c1">#r&#39;reldir/other&#39;,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;/ham&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;./eggs&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;/spam/eggs&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="sa">r</span><span class="s1">&#39;C:\Program Files (x86)/foobar/bin&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iter_</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">iprod</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force_unix</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tuplist</span> <span class="o">=</span> <span class="p">[(</span><span class="n">n</span><span class="p">,</span> <span class="n">path_ndir_split</span><span class="p">(</span><span class="n">path_</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span> <span class="k">for</span> <span class="n">path_</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">iter_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunklist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ichunks</span><span class="p">(</span><span class="n">tuplist</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;n=</span><span class="si">%r</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">ut</span><span class="o">.</span><span class="n">reprfunc</span><span class="p">(</span><span class="n">y</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">chunk</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunklist</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span> <span class="k">for</span> <span class="n">strs</span> <span class="ow">in</span> <span class="n">list_</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">n=1: &#39;.../bar&#39;, n=2: &#39;.../foo/bar&#39;</span>
<span class="go">n=1: &#39;C:/&#39;, n=2: &#39;C:/&#39;</span>
<span class="go">n=1: &#39;.../ham&#39;, n=2: &#39;/ham&#39;</span>
<span class="go">n=1: &#39;.../eggs&#39;, n=2: &#39;./eggs&#39;</span>
<span class="go">n=1: &#39;.../eggs&#39;, n=2: &#39;.../spam/eggs&#39;</span>
<span class="go">n=1: &#39;.../bin&#39;, n=2: &#39;.../foobar/bin&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.pathsplit_full">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">pathsplit_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#pathsplit_full"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.pathsplit_full" title="Permalink to this definition"></a></dt>
<dd><p>splits all directories in path into a list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.platform_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">platform_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#platform_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.platform_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns platform specific path for pyinstaller usage</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path2</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-platform_path</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># FIXME: find examples of the wird paths this fixes (mostly on win32 i think)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;some/odd/../weird/path&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path2</span> <span class="o">=</span> <span class="n">platform_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">path2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">WIN32</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">path2</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;some\weird\path&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ut</span><span class="o">.</span><span class="n">assert_eq</span><span class="p">(</span><span class="n">path2</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;some/weird/path&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>    <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">ut</span><span class="o">.</span><span class="n">WIN32</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;C:/PROGRA~2&#39;</span>
<span class="gp">... </span>    <span class="n">path2</span> <span class="o">=</span> <span class="n">platform_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">path2</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">Program Files (x86)&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.relpath_unix">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">relpath_unix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">otherpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#relpath_unix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.relpath_unix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.remove_broken_links">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">remove_broken_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_broken_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.remove_broken_links" title="Permalink to this definition"></a></dt>
<dd><p>Removes all broken links in a directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>num removed</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/20794/find-broken-symlinks-with-python">http://stackoverflow.com/questions/20794/find-broken-symlinks-with-python</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool remove_broken_links:0</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_broken_links</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;path_tests&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;testdpath&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensurefile</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;testfpath.txt&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flink1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">test_fpath</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;flink1&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dlink1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">test_fpath</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;dlink1&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">dpath</span><span class="p">))</span> <span class="o">==</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">test_fpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">dpath</span><span class="p">))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_broken_links</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">test_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_broken_links</span><span class="p">(</span><span class="n">dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">dpath</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.remove_dirs">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">remove_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.remove_dirs" title="Permalink to this definition"></a></dt>
<dd><p>Recursively removes a single directory (need to change function name)</p>
<p>DEPRICATE</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path</p></li>
<li><p><strong>dryrun</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>ignore_errors</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>quiet</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-remove_dirs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ensure_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;testremovedir&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exists</span><span class="p">(</span><span class="n">dpath</span><span class="p">),</span> <span class="s1">&#39;nothing to remove&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">remove_dirs</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;flag = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">flag</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">dpath</span><span class="p">),</span> <span class="s1">&#39;did not remove dpath&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">flag</span> <span class="ow">is</span> <span class="kc">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.remove_existing_fpaths">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">remove_existing_fpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_caller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'files'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_existing_fpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.remove_existing_fpaths" title="Permalink to this definition"></a></dt>
<dd><p>checks existance before removing. then tries to remove exisint paths</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.remove_file">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">remove_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.remove_file" title="Permalink to this definition"></a></dt>
<dd><p>Removes a file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.remove_file_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">remove_file_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_caller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'files'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_path.remove_file_list" title="Permalink to this definition"></a></dt>
<dd><p>Removes multiple file paths</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.remove_files_in_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">remove_files_in_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname_pattern_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_files_in_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.remove_files_in_dir" title="Permalink to this definition"></a></dt>
<dd><p>Removes files matching a pattern from a directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.remove_fpaths">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">remove_fpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_caller</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'files'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#remove_fpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.remove_fpaths" title="Permalink to this definition"></a></dt>
<dd><p>Removes multiple file paths</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.sanitize_filename">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">sanitize_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#sanitize_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.sanitize_filename" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.search_candidate_paths">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">search_candidate_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate_path_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidate_name_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_subpaths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#search_candidate_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.search_candidate_paths" title="Permalink to this definition"></a></dt>
<dd><p>searches for existing paths that meed a requirement</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>candidate_path_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of paths to check. If
candidate_name_list is specified this is the dpath list instead</p></li>
<li><p><strong>candidate_name_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – specifies several names to check
(default = None)</p></li>
<li><p><strong>priority_paths</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – specifies paths to check first.
Ignore candidate_name_list (default = None)</p></li>
<li><p><strong>required_subpaths</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – specified required directory structure
(default = [])</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag(default = True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return_path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –test-search_candidate_paths</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_path_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/RPI/code/utool&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~/code/utool&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">candidate_name_list</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">required_subpaths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">priority_paths</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_path</span> <span class="o">=</span> <span class="n">search_candidate_paths</span><span class="p">(</span><span class="n">candidate_path_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                     <span class="n">candidate_name_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                     <span class="n">priority_paths</span><span class="p">,</span> <span class="n">required_subpaths</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                     <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;return_path = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">return_path</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.search_in_dirs">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">search_in_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_dpaths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shortcircuit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_tried</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#search_in_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.search_in_dirs" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file name</p></li>
<li><p><strong>search_dpaths</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>shortcircuit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>return_tried</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – return tried paths</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>fpath</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;Inno Setup 5</span><span class="se">\\</span><span class="s1">ISCC.exe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_dpaths</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_install_dirs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shortcircuit</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">search_in_dirs</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">search_dpaths</span><span class="p">,</span> <span class="n">shortcircuit</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.sed">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">sed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regexpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#sed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.sed" title="Permalink to this definition"></a></dt>
<dd><p>Python implementation of sed. NOT FINISHED</p>
<p>searches and replaces text in files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regexpr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – regx patterns to find</p></li>
<li><p><strong>repl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – text to replace</p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>dpath_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – directories to search (defaults to cwd)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.sedfile">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">sedfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regexpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veryverbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#sedfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.sedfile" title="Permalink to this definition"></a></dt>
<dd><p>Executes sed on a specific file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path string</p></li>
<li><p><strong>regexpr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>repl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag(default = True)</p></li>
<li><p><strong>veryverbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>changed_lines</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-sedfile –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_modpath</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">util_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regexpr</span> <span class="o">=</span> <span class="s1">&#39;sedfile&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="s1">&#39;saidfile&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">veryverbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed_lines</span> <span class="o">=</span> <span class="n">sedfile</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">regexpr</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">veryverbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;changed_lines = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">changed_lines</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.symlink">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">symlink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#symlink"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.symlink" title="Permalink to this definition"></a></dt>
<dd><p>Attempt to create a symbolic link.</p>
<div class="admonition-todo admonition" id="id9">
<p class="admonition-title">Todo</p>
<p>Can this be fixed on windows?</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to real file or directory</p></li>
<li><p><strong>link_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to desired location for symlink</p></li>
<li><p><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – overwrite existing symlinks (default = False)</p></li>
<li><p><strong>on_error</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – strategy for dealing with errors.
raise or ignore</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – verbosity level (default=2)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>link path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path symlink</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">real_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;real_file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dpath</span><span class="p">,</span> <span class="s1">&#39;link_file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">emap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">,</span> <span class="p">[</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">real_path</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">symlink</span><span class="p">(</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">emap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">,</span> <span class="p">[</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">real_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_app_resource_dir</span><span class="p">(</span><span class="s1">&#39;utool&#39;</span><span class="p">,</span> <span class="s1">&#39;real_dpath&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link_dpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">augpath</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="n">newfname</span><span class="o">=</span><span class="s1">&#39;link_dpath&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">real_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">link_dpath</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">emap</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">,</span> <span class="p">[</span><span class="n">real_path</span><span class="p">,</span> <span class="n">link_path</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">real_path</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">symlink</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="n">link_dpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">link_path</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">link_dpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">real_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">real_dpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">checkpath</span><span class="p">(</span><span class="n">real_path</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.tail">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trailing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.tail" title="Permalink to this definition"></a></dt>
<dd><p>Alias for path_ndir_split</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.testgrep">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">testgrep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#testgrep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.testgrep" title="Permalink to this definition"></a></dt>
<dd><p>utprof.py -m utool.util_path –exec-testgrep</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#dpath_list = [ut.truepath(&#39;~/code/utool/utool&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;*.py&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;grepfile&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">grep</span><span class="p">(</span><span class="n">regex_list</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">dpath_list</span><span class="p">,</span> <span class="n">include_patterns</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">exclude_dirs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">found_fpath_list</span><span class="p">,</span> <span class="n">found_lines_list</span><span class="p">,</span> <span class="n">found_lxs_list</span><span class="p">)</span> <span class="o">=</span> <span class="n">result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="s1">&#39;util_path.py&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">basename</span><span class="p">,</span> <span class="n">found_fpath_list</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.touch">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">touch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#touch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.touch" title="Permalink to this definition"></a></dt>
<dd><p>Creates file if it doesnt exist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file path</p></li>
<li><p><strong>times</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">touch</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1158076/implement-touch-using-python">http://stackoverflow.com/questions/1158076/implement-touch-using-python</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.truepath_relative">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">truepath_relative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">otherpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#truepath_relative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.truepath_relative" title="Permalink to this definition"></a></dt>
<dd><p>Normalizes and returns absolute path with so specs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to file or directory</p></li>
<li><p><strong>otherpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_path –exec-truepath_relative –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_path</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;C:/foobar/foobiz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">otherpath</span> <span class="o">=</span> <span class="s1">&#39;C:/foobar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_</span> <span class="o">=</span> <span class="n">truepath_relative</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">otherpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;path = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">path_</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">path = &#39;foobiz&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.unexpanduser">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">unexpanduser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#unexpanduser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.unexpanduser" title="Permalink to this definition"></a></dt>
<dd><p>Replaces home directory with ‘~’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_path.win_shortcut">
<span class="sig-prename descclassname"><span class="pre">utool.util_path.</span></span><span class="sig-name descname"><span class="pre">win_shortcut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_path.html#win_shortcut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_path.win_shortcut" title="Permalink to this definition"></a></dt>
<dd><p>Attempt to create windows shortcut
TODO: TEST / FIXME</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1447575/symlinks-on-windows">http://stackoverflow.com/questions/1447575/symlinks-on-windows</a></p>
</dd></dl>

</section>
<section id="module-utool.util_print">
<span id="utool-util-print-module"></span><h2>utool.util_print module<a class="headerlink" href="#module-utool.util_print" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_print.Indenter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">Indenter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span>&#160;&#160;&#160; <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#Indenter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.Indenter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Monkey patches modules injected with print to change the way print behaves.</p>
<p>Works with utool.inject to allow for prefixing of all within-context
print statements in a semi-dynamic manner. There seem to be some bugs
but it works pretty well.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_print –exec-Indenter</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_print</span><span class="o">.</span><span class="n">_test_indent_print</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_print.Indenter.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#Indenter.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.Indenter.start" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_print.Indenter.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#Indenter.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.Indenter.stop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.colorprint">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">colorprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#colorprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.colorprint" title="Permalink to this definition"></a></dt>
<dd><p>provides some color to terminal output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Ignore:</dt><dd><p>assert color in [‘’, ‘yellow’, ‘blink’, ‘lightgray’, ‘underline’,
‘darkyellow’, ‘blue’, ‘darkblue’, ‘faint’, ‘fuchsia’, ‘black’, ‘white’,
‘red’, ‘brown’, ‘turquoise’, ‘bold’, ‘darkred’, ‘darkgreen’, ‘reset’,
‘standout’, ‘darkteal’, ‘darkgray’, ‘overline’, ‘purple’, ‘green’, ‘teal’,
‘fuscia’]</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -c “import pygments.console; print(list(pygments.console.codes.keys()))”
python -m utool.util_print –exec-colorprint
python -m utool.util_print –exec-colorprint:1</p>
<p>import pygments
print(ut.repr4(list(pygments.formatters.get_all_formatters())))
print(list(pygments.styles.get_all_styles()))</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">color_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">colorprint</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">msg_list</span><span class="p">,</span> <span class="n">color_list</span><span class="p">)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST (Windows test)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line2&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line3&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line4&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;reset&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line6&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.cprint">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">cprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_print.cprint" title="Permalink to this definition"></a></dt>
<dd><p>provides some color to terminal output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Ignore:</dt><dd><p>assert color in [‘’, ‘yellow’, ‘blink’, ‘lightgray’, ‘underline’,
‘darkyellow’, ‘blue’, ‘darkblue’, ‘faint’, ‘fuchsia’, ‘black’, ‘white’,
‘red’, ‘brown’, ‘turquoise’, ‘bold’, ‘darkred’, ‘darkgreen’, ‘reset’,
‘standout’, ‘darkteal’, ‘darkgray’, ‘overline’, ‘purple’, ‘green’, ‘teal’,
‘fuscia’]</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -c “import pygments.console; print(list(pygments.console.codes.keys()))”
python -m utool.util_print –exec-colorprint
python -m utool.util_print –exec-colorprint:1</p>
<p>import pygments
print(ut.repr4(list(pygments.formatters.get_all_formatters())))
print(list(pygments.styles.get_all_styles()))</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">color_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pygments</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">colorprint</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">msg_list</span><span class="p">,</span> <span class="n">color_list</span><span class="p">)]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST (Windows test)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygments.console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line2&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line3&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line4&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;reset&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">colorprint</span><span class="p">(</span><span class="s1">&#39;line5&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;line6&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.dictprint">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">dictprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_print.dictprint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.horiz_print">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">horiz_print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#horiz_print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.horiz_print" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.printNOTQUIET">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">printNOTQUIET</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printNOTQUIET"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.printNOTQUIET" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.printVERBOSE">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">printVERBOSE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbarg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printVERBOSE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.printVERBOSE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.printWARN">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">printWARN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printWARN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.printWARN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.print_code">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">print_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lexer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.print_code" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_print –test-print_python_code</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_print</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="vm">__file__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.py&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_python_code</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.print_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">print_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.print_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.print_difftext">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">print_difftext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_difftext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.print_difftext" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>#python -m utool.util_print –test-print_difftext
#autopep8 ingest_data.py –diff | python -m utool.util_print –test-print_difftext</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.print_filesize">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">print_filesize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_filesize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.print_filesize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.print_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">print_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.print_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.print_locals">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">print_locals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_locals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.print_locals" title="Permalink to this definition"></a></dt>
<dd><p>Prints local variables in function.</p>
<p>If no arguments all locals are printed.</p>
<p>Variables can be specified directly (variable values passed in) as varargs
or indirectly (variable names passed in) in kwargs by using keys and a list
of strings.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.print_python_code">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">print_python_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#print_python_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.print_python_code" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>print_code</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.printdict">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">printdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_print.printdict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.printif">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">printif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.printif" title="Permalink to this definition"></a></dt>
<dd><p>execute printfunc only if condition=QUIET</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_print.printshape">
<span class="sig-prename descclassname"><span class="pre">utool.util_print.</span></span><span class="sig-name descname"><span class="pre">printshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_print.html#printshape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_print.printshape" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_profile">
<span id="utool-util-profile-module"></span><h2>utool.util_profile module<a class="headerlink" href="#module-utool.util_profile" title="Permalink to this headline"></a></h2>
<p>Cleaning script for the output of utool profiling</p>
<p>Removes profiled output of code that never ran</p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_profile.Profiler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">Profiler</span></span><a class="reference internal" href="_modules/utool/util_profile.html#Profiler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.Profiler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_profile.Profiler.get_output">
<span class="sig-name descname"><span class="pre">get_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#Profiler.get_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.Profiler.get_output" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.clean_line_profile_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">clean_line_profile_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#clean_line_profile_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.clean_line_profile_text" title="Permalink to this definition"></a></dt>
<dd><p>Sorts the output from line profile by execution time
Removes entries which were not run</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.clean_lprof_file">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">clean_lprof_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#clean_lprof_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.clean_lprof_file" title="Permalink to this definition"></a></dt>
<dd><p>Reads a .lprof file and cleans it</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.dump_profile_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">dump_profile_text</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#dump_profile_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.dump_profile_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.fix_rawprofile_blocks">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">fix_rawprofile_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile_block_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#fix_rawprofile_blocks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.fix_rawprofile_blocks" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.get_block_id">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">get_block_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_block_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.get_block_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.get_block_totaltime">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">get_block_totaltime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_block_totaltime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.get_block_totaltime" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.get_profile_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">get_profile_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_profile_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.get_profile_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.get_summary">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">get_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile_block_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#get_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.get_summary" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="https://github.com/rkern/line_profiler">https://github.com/rkern/line_profiler</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.make_profiler">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">make_profiler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#make_profiler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.make_profiler" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.parse_rawprofile_blocks">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">parse_rawprofile_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#parse_rawprofile_blocks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.parse_rawprofile_blocks" title="Permalink to this definition"></a></dt>
<dd><p>Split the file into blocks along delimters and and put delimeters back in
the list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_profile.parse_timemap_from_blocks">
<span class="sig-prename descclassname"><span class="pre">utool.util_profile.</span></span><span class="sig-name descname"><span class="pre">parse_timemap_from_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile_block_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_profile.html#parse_timemap_from_blocks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_profile.parse_timemap_from_blocks" title="Permalink to this definition"></a></dt>
<dd><p>Build a map from times to line_profile blocks</p>
</dd></dl>

</section>
<section id="module-utool.util_progress">
<span id="utool-util-progress-module"></span><h2>utool.util_progress module<a class="headerlink" href="#module-utool.util_progress" title="Permalink to this headline"></a></h2>
<p>progress handler.</p>
<p>Old progress funcs needto be depricated ProgressIter and ProgChunks are pretty
much the only useful things here.</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_progress.ProgChunks">
<span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">ProgChunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nInput</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgChunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgChunks" title="Permalink to this definition"></a></dt>
<dd><p>Yeilds an iterator in chunks and computes progress
Progress version of ut.ichunks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>chunksize</strong> – </p></li>
<li><p><strong>nInput</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>length, freq</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ProgressIter</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_progress ProgChunks –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nInput</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter_</span> <span class="o">=</span> <span class="n">ProgChunks</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">,</span> <span class="n">nInput</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iter_</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">progiter_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunk</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="n">iter_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rest</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">progiter_</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span> <span class="o">==</span> <span class="mi">90</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_progress.ProgIter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">ProgIter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Prog'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgIter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_progress.ProgressIter" title="utool.util_progress.ProgressIter"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_progress.ProgressIter</span></code></a></p>
<p>Thin wrapper with better arg positions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_progress.ProgPartial">
<span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">ProgPartial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgPartial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgPartial" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_progress.ProgressIter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">ProgressIter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgressIter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wraps a for loop with progress reporting</p>
<p>lbl=’Progress: ‘, length=0, flushfreq=4, startafter=-1, start=True,
repl=False, approx=False, disable=False, writefreq=1, with_time=False,
backspace=True, pad_stdout=False, wfreq=None, ffreq=None, freq=None,
total=None, num=None, with_totaltime=None</p>
<dl class="simple">
<dt>Referencs:</dt><dd><p><a class="reference external" href="https://github.com/verigak/progress/blob/master/progress/__init__.py">https://github.com/verigak/progress/blob/master/progress/__init__.py</a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>iterable</em>) – iterable normally passed to for loop</p></li>
<li><p><strong>lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – progress label</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
<li><p><strong>flushfreq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
<li><p><strong>startafter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>repl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>approx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>writefreq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
<li><p><strong>with_totaltime</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>backspace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>pad_stdout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>autoadjust</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – no adjusting frequency if True (default False)</p></li>
<li><p><strong>wfreq</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – alias for write_freq</p></li>
<li><p><strong>ffreq</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – alias for flush_freq</p></li>
<li><p><strong>total</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – alias for length</p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – alias for length</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Timeit:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">setup</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">import utool as ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">from six.moves import range, zip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">import time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">def time_append(size):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    start_time    = time.time()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    last_time     = start_time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    list2 = []</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">    for x in range(size):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        now_time    = time.time()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        between = now_time - last_time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        last_time   = now_time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">        list2.append(between)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">time_assign</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">start_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">last_time</span>     <span class="o">=</span> <span class="n">start_time</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">list1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">alloc_nones</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">now_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">between</span> <span class="o">=</span> <span class="n">now_time</span> <span class="o">-</span> <span class="n">last_time</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">last_time</span>   <span class="o">=</span> <span class="n">now_time</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">list1</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">between</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">time_baseline</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">start_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">last_time</span>     <span class="o">=</span> <span class="n">start_time</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">now_time</span>    <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">between</span> <span class="o">=</span> <span class="n">now_time</span> <span class="o">-</span> <span class="n">last_time</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">last_time</span>   <span class="o">=</span> <span class="n">now_time</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">time_null</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span> <span class="o">**</span> <span class="n">count</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time_assign&#39;</span><span class="p">,</span> <span class="s1">&#39;time_append&#39;</span><span class="p">,</span> <span class="s1">&#39;time_baseline&#39;</span><span class="p">,</span> <span class="s1">&#39;time_null&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_sizes</span><span class="o">=</span><span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">timeit_grid</span><span class="p">(</span><span class="n">stmt_list</span><span class="p">,</span> <span class="n">setup</span><span class="p">,</span> <span class="n">input_sizes</span><span class="o">=</span><span class="n">input_sizes</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_progress –test-ProgressIter
python -m utool.util_progress –test-ProgressIter:0
python -m utool.util_progress –test-ProgressIter:1
python -m utool.util_progress –test-ProgressIter:2
python -m utool.util_progress –test-ProgressIter:3</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="kn">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num2</span> <span class="o">=</span> <span class="mi">10001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results1</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">wfreq</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results4</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">wfreq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results2</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results3</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">progiter</span><span class="p">((</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">ntotal</span><span class="o">=</span><span class="n">num2</span><span class="p">,</span> <span class="n">wfreq</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                   <span class="n">backspace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">results1</span> <span class="o">==</span> <span class="n">results2</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="kn">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num2</span> <span class="o">=</span> <span class="mi">10001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">),</span> <span class="n">lbl</span><span class="o">=</span><span class="s1">&#39;testing primes&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">report_unit</span><span class="o">=</span><span class="s1">&#39;seconds&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">time_thresh</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="mi">29</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">progiter</span><span class="p">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="kn">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num2</span> <span class="o">=</span> <span class="mi">100001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num2</span><span class="p">),</span> <span class="n">lbl</span><span class="o">=</span><span class="s1">&#39;testing primes&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">report_unit</span><span class="o">=</span><span class="s1">&#39;seconds&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">time_thresh</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="mi">29</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">progiter</span><span class="p">]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">six.moves</span> <span class="kn">import</span> <span class="nb">range</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crazy_time_list</span> <span class="o">=</span> <span class="p">[</span><span class="mf">.001</span><span class="p">,</span> <span class="mf">.01</span><span class="p">,</span> <span class="mf">.0001</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crazy_time_iter</span> <span class="o">=</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">crazy_time_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">progiter</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">ProgressIter</span><span class="p">(</span><span class="n">crazy_time_iter</span><span class="p">,</span> <span class="n">lbl</span><span class="o">=</span><span class="s1">&#39;crazy times&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">crazy_time_list</span><span class="p">),</span> <span class="n">freq</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">progiter</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_progress.ProgressIter.build_msg_fmtstr2">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_msg_fmtstr2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backspace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.build_msg_fmtstr2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.build_msg_fmtstr2" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lbl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>invert_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>backspace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>msg_fmtstr_time</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_progress –exec-ProgressIter.build_msg_fmtstr2</p>
</dd>
<dt>Setup:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbl</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">invert_rate</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backspace</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg_fmtstr_time</span> <span class="o">=</span> <span class="n">ProgressIter</span><span class="o">.</span><span class="n">build_msg_fmtstr2</span><span class="p">(</span><span class="n">lbl</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">invert_rate</span><span class="p">,</span> <span class="n">backspace</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">msg_fmtstr_time</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_progress.ProgressIter.build_msg_fmtstr_head_cols">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_msg_fmtstr_head_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.build_msg_fmtstr_head_cols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.build_msg_fmtstr_head_cols" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_progress.ProgressIter.display_message">
<span class="sig-name descname"><span class="pre">display_message</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.display_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.display_message" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_progress.ProgressIter.ensure_newline">
<span class="sig-name descname"><span class="pre">ensure_newline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.ensure_newline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.ensure_newline" title="Permalink to this definition"></a></dt>
<dd><p>use before any custom printing when using the progress iter to ensure
your print statement starts on a new line instead of at the end of a
progress line</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_progress.ProgressIter.iter_rate">
<span class="sig-name descname"><span class="pre">iter_rate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.iter_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.iter_rate" title="Permalink to this definition"></a></dt>
<dd><p>pun not intended</p>
<p># TODO: record iteration times for analysis
# TODO Incorporate this better
# FIXME; pad_stdout into subfunctions</p>
<p>import dis
dis.dis(ut.ProgressIter.iter_rate)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_progress.ProgressIter.set_extra">
<span class="sig-name descname"><span class="pre">set_extra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#ProgressIter.set_extra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.ProgressIter.set_extra" title="Permalink to this definition"></a></dt>
<dd><p>specify a custom info appended to the end of the next message
TODO: come up with a better name and rename</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_progress.get_num_chunks">
<span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">get_num_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#get_num_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.get_num_chunks" title="Permalink to this definition"></a></dt>
<dd><p>Returns the number of chunks that a list will be split into given a
chunksize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>n_chunks</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_progress –exec-get_num_chunks:0</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chunksize</span> <span class="o">=</span> <span class="mi">256</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_chunks</span> <span class="o">=</span> <span class="n">get_num_chunks</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">chunksize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;n_chunks = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">n_chunks</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">n_chunks = 8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_progress.log_progress">
<span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">log_progress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Progress:</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flushfreq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startafter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writefreq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_stdout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wfreq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffreq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_totaltime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#log_progress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.log_progress" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE
FIXME: depricate for ProgressIter.
still used in util_dev</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_progress.progiter">
<span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">progiter</span></span><a class="headerlink" href="#utool.util_progress.progiter" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_progress.ProgressIter" title="utool.util_progress.ProgressIter"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_progress.ProgressIter</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_progress.progress_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">progress_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Progress:</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#progress_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.progress_str" title="Permalink to this definition"></a></dt>
<dd><p>makes format string that prints progress: %Xd/MAX_VAL with backspaces</p>
<p>NOTE: r can be used instead of backspaces. This function is not very
relevant because of that.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_progress.test_progress">
<span class="sig-prename descclassname"><span class="pre">utool.util_progress.</span></span><span class="sig-name descname"><span class="pre">test_progress</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_progress.html#test_progress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_progress.test_progress" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_progress –test-test_progress</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_progress</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_progress</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.util_project">
<span id="utool-util-project-module"></span><h2>utool.util_project module<a class="headerlink" href="#module-utool.util_project" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>Ignore:</dt><dd><p>~/local/init/REPOS1.py</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_project.GrepResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">GrepResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">found_fpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">found_lines_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">found_lxs_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extended_regex_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.GrepResult" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.GrepResult.hack_remove_pystuff">
<span class="sig-name descname"><span class="pre">hack_remove_pystuff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.hack_remove_pystuff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.GrepResult.hack_remove_pystuff" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.GrepResult.inplace_filter_results">
<span class="sig-name descname"><span class="pre">inplace_filter_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.inplace_filter_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.GrepResult.inplace_filter_results" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.GrepResult.make_resultstr">
<span class="sig-name descname"><span class="pre">make_resultstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.make_resultstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.GrepResult.make_resultstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.GrepResult.pattern_filterflags">
<span class="sig-name descname"><span class="pre">pattern_filterflags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.pattern_filterflags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.GrepResult.pattern_filterflags" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.GrepResult.remove_results">
<span class="sig-name descname"><span class="pre">remove_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indicies</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#GrepResult.remove_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.GrepResult.remove_results" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_project.SetupRepo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">SetupRepo</span></span><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.SetupRepo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Maybe make a new interface to SetupRepo?</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">SetupRepo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.SetupRepo.all">
<span class="sig-name descname"><span class="pre">all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo.all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.SetupRepo.all" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.SetupRepo.ensure_text">
<span class="sig-name descname"><span class="pre">ensure_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo.ensure_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.SetupRepo.ensure_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.SetupRepo.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#SetupRepo.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.SetupRepo.main" title="Permalink to this definition"></a></dt>
<dd><p>python -m utool SetupRepo.main –modname=sklearn –repo=scikit-learn –codedir=~/code -w
python -m utool SetupRepo.main –repo=ubelt –codedir=~/code –modname=ubelt -w</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SetupRepo</span><span class="p">()</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_project.UserProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">UserProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#UserProfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.UserProfile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.UserProfile.glob">
<span class="sig-name descname"><span class="pre">glob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#UserProfile.glob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.UserProfile.glob" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ensure that .gitignore has certain lines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">git_ignore_lines</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;timeings.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fpath_list</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;.gitignore&#39;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">fpath</span> <span class="ow">in</span> <span class="n">fpath_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">lines</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">readfrom</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">missing</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">setdiff</span><span class="p">(</span><span class="n">git_ignore_lines</span><span class="p">,</span> <span class="n">lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="n">missing</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;fpath = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fpath</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span> <span class="o">+</span> <span class="n">missing</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_project.UserProfile.grep">
<span class="sig-name descname"><span class="pre">grep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#UserProfile.grep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.UserProfile.grep" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_project.ensure_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">ensure_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repo_dpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#ensure_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.ensure_text" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – file name</p></li>
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>repo_dpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path string(default = ‘.’)</p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>locals</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – (default = {})</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">setup_repo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_project.ensure_user_profile">
<span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">ensure_user_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#ensure_user_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.ensure_user_profile" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user_profile</strong> (<a class="reference internal" href="#utool.util_project.UserProfile" title="utool.util_project.UserProfile"><em>UserProfile</em></a>) – (default = None)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>user_profile</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#utool.util_project.UserProfile" title="utool.util_project.UserProfile">UserProfile</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_project –exec-ensure_user_profile –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user_profile</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user_profile</span> <span class="o">=</span> <span class="n">ensure_user_profile</span><span class="p">(</span><span class="n">user_profile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;user_profile = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">user_profile</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">user_profile</span><span class="o">.</span><span class="n">project_dpaths</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_project.glob_projects">
<span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">glob_projects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#glob_projects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.glob_projects" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>def testenv(modname, funcname):</dt><dd><p>ut.import_modname(modname)
exec(ut.execstr_funckw(table.get_rowid), globals())</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">testenv</span><span class="p">(</span><span class="s1">&#39;utool.util_project&#39;</span><span class="p">,</span> <span class="s1">&#39;glob_projects&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_project.grep_projects">
<span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">grep_projects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tofind_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#grep_projects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.grep_projects" title="Permalink to this definition"></a></dt>
<dd><p>Greps the projects defined in the current UserProfile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tofind_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>user_profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>user_profile</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool –tf grep_projects grep_projects</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tofind_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--find&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                            <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grep_projects</span><span class="p">(</span><span class="n">tofind_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_project.sed_projects">
<span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">sed_projects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regexpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#sed_projects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.sed_projects" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regexpr</strong> – </p></li>
<li><p><strong>repl</strong> – </p></li>
<li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>user_profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_project –exec-sed_projects</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regexpr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--find&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--repl&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recursive</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user_profile</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">sed_projects</span><span class="p">(</span><span class="n">regexpr</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">user_profile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p>regexpr = ‘annotation match_scores’
repl = ‘draw_annot_scoresep’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_project.setup_repo">
<span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">setup_repo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#setup_repo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.setup_repo" title="Permalink to this definition"></a></dt>
<dd><p>Creates default structure for a new repo</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool setup_repo –repo=dtool –codedir=~/code</p>
<p>python -m utool setup_repo –repo=dtool –codedir=~/code
python -m utool setup_repo –repo=wbia-flukematch-module –codedir=~/code –modname=wbia_flukematch
python -m utool setup_repo –repo=mtgmonte –codedir=~/code –modname=mtgmonte
python -m utool setup_repo –repo=pydarknet –codedir=~/code –modname=pydarknet
python -m utool setup_repo –repo=sandbox_utools –codedir=~/code –modname=sandbox_utools</p>
<p>python -m utool setup_repo –repo=ubelt –codedir=~/code –modname=ubelt -w</p>
<p>python -m utool setup_repo</p>
</dd>
<dt>Python:</dt><dd><p>ipython
import utool as ut
ut.rrrr(0); ut.setup_repo()</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_project</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">setup_repo</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_project.wbia_user_profile">
<span class="sig-prename descclassname"><span class="pre">utool.util_project.</span></span><span class="sig-name descname"><span class="pre">wbia_user_profile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_project.html#wbia_user_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_project.wbia_user_profile" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_regex">
<span id="utool-util-regex-module"></span><h2>utool.util_regex module<a class="headerlink" href="#module-utool.util_regex" title="Permalink to this headline"></a></h2>
<p>in vim nongreedy .* is .{-}
in python nongreedy .* is .*?</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.backref_field">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">backref_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#backref_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.backref_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.bref_field">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">bref_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_regex.bref_field" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.convert_text_to_varname">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">convert_text_to_varname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#convert_text_to_varname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.convert_text_to_varname" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – text that might not be a valid variablename</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>varname</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_regex –test-convert_text_to_varname</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;0) View Application-Files Directory. &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varname</span> <span class="o">=</span> <span class="n">convert_text_to_varname</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;varname = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">varname</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">_0_View_ApplicationFiles_Directory_</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.extend_regex">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">extend_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regexpr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#extend_regex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.extend_regex" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Extends the syntax of regular expressions by replacing convineince syntax</dt><dd><p>with re friendly syntax. Nameely things that I use in vim like &lt;&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.extend_regex2">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">extend_regex2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regexpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#extend_regex2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.extend_regex2" title="Permalink to this definition"></a></dt>
<dd><p>also preprocesses flags</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.extend_regex3">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">extend_regex3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#extend_regex3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.extend_regex3" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.get_match_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">get_match_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">match</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#get_match_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.get_match_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.modify_quoted_strs">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">modify_quoted_strs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modify_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#modify_quoted_strs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.modify_quoted_strs" title="Permalink to this definition"></a></dt>
<dd><p>doesnt work with escaped quotes or multilines
single quotes only. no nesting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – </p></li>
<li><p><strong>modify_func</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&#39;just&#39; &#39;a&#39; sentance with &#39;strings&#39; in it &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s2">&quot;&#39;this&#39; &#39;text&#39; wont work &#39;because </span><span class="se">\&#39;</span><span class="s2">of </span><span class="se">\&quot;</span><span class="s2">the</span><span class="se">\&quot;\&#39;</span><span class="s2"> </span><span class="se">\&quot;</span><span class="s2">nesting</span><span class="se">\&quot;</span><span class="s2">&#39;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text3</span> <span class="o">=</span> <span class="s2">&quot; &#39;&#39;&#39; god </span><span class="se">\&quot;</span><span class="s2">help</span><span class="se">\&quot;</span><span class="s2"> you &#39;&#39;&#39; if you use &#39;triple quotes&#39;  &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">modify_func</span><span class="p">(</span><span class="n">quoted_str</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">quoted_str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">modify_quoted_strs</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">modify_func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;JUST&#39; &#39;A&#39; sentance with &#39;STRINGS&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.named_field">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">named_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#named_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.named_field" title="Permalink to this definition"></a></dt>
<dd><p>Creates a named regex group that can be referend via a backref.
If key is None the backref is referenced by number.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/2/library/re.html#regular-expression-syntax">https://docs.python.org/2/library/re.html#regular-expression-syntax</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.named_field_regex">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">named_field_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keypat_tups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#named_field_regex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.named_field_regex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keypat_tups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – tuples of (name, pattern) or a string for an unnamed</p></li>
<li><p><strong>pattern</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>regex</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">keypat_tups</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span>  <span class="sa">r</span><span class="s1">&#39;G\d+&#39;</span><span class="p">),</span>  <span class="c1"># species and 2 numbers</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;under&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;_&#39;</span><span class="p">),</span>     <span class="c1"># 2 more numbers</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span>    <span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">),</span>   <span class="c1"># 2 more numbers</span>
<span class="gp">... </span>    <span class="p">(</span> <span class="kc">None</span><span class="p">,</span>   <span class="sa">r</span><span class="s1">&#39;\.&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;ext&#39;</span><span class="p">,</span>   <span class="sa">r</span><span class="s1">&#39;\w+&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="n">named_field_regex</span><span class="p">(</span><span class="n">keypat_tups</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">regex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(?P&lt;name&gt;G\d+)(?P&lt;under&gt;_)(?P&lt;id&gt;\d+)(\.)(?P&lt;ext&gt;\w+)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.named_field_repl">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">named_field_repl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#named_field_repl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.named_field_repl" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>field_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of either a tuples to denote a keyword, or a
strings for relacement t3ext</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>repl for regex</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field_list</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;key&#39;</span><span class="p">,),</span> <span class="s1">&#39;unspecial string&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="n">named_field_repl</span><span class="p">(</span><span class="n">field_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">repl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">\g&lt;key&gt;unspecial string</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.negative_lookahead">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">negative_lookahead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#negative_lookahead"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.negative_lookahead" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.negative_lookbehind">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">negative_lookbehind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#negative_lookbehind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.negative_lookbehind" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>regex</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>?</p>
</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_regex –exec-negative_lookbehind</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">negative_lookbehind</span><span class="p">(</span><span class="n">regex</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">foo</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;&quot;foo&quot;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1"> foo</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match4</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s1">&#39;&quot; foo&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.nongreedy_kleene_star">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">nongreedy_kleene_star</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#nongreedy_kleene_star"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.nongreedy_kleene_star" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.padded_parse">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">padded_parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#padded_parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.padded_parse" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.parse_docblock">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">parse_docblock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_code</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#parse_docblock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.parse_docblock" title="Permalink to this definition"></a></dt>
<dd><p>#TODO: Finish me</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pyparsing.wikispaces.com/share/view/1264103">http://pyparsing.wikispaces.com/share/view/1264103</a>
<a class="reference external" href="http://code.activestate.com/recipes/576704-python-code-minifier/">http://code.activestate.com/recipes/576704-python-code-minifier/</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_code</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">modify_quoted_strs</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.parse_python_syntax">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">parse_python_syntax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#parse_python_syntax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.parse_python_syntax" title="Permalink to this definition"></a></dt>
<dd><p>step1: split lines</p>
<p>step2: parse enclosure pairity for each line to find unended lines</p>
<p>for each unending line, is there a valid merge line?
(a line that could snytatically finish this runnon statement?
If no then error. Else try to join the two lines.</p>
<p>step3: perform context_sensitive_edit</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>   <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">normpath</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">utool</span><span class="o">.</span><span class="n">read_from</span><span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">util_regex</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.positive_lookahead">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">positive_lookahead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#positive_lookahead"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.positive_lookahead" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.positive_lookbehind">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">positive_lookbehind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#positive_lookbehind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.positive_lookbehind" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_get_match">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_get_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_get_match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_get_match" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_matches">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_matches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_matches" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_or">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_or</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_or"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_or" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_parse">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromstart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_parse" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>fromstart</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)">None</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;(?P&lt;string&gt;</span><span class="se">\&#39;</span><span class="s1">[^</span><span class="se">\&#39;</span><span class="s1">]*</span><span class="se">\&#39;</span><span class="s1">)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot; &#39;just&#39; &#39;a&#39; sentance with &#39;strings&#39; in it &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fromstart</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">regex_parse</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">fromstart</span><span class="p">)[</span><span class="s1">&#39;string&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_replace">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_replace" title="Permalink to this definition"></a></dt>
<dd><p>thin wrapper around re.sub
regex_replace</p>
<p>MULTILINE and DOTALL are on by default in all util_regex functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regex</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – pattern to find</p></li>
<li><p><strong>repl</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – replace pattern with this</p></li>
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – text to modify</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\(.*\):&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="s1">&#39;(*args)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;def foo(param1,</span>
<span class="gp">... </span><span class="s1">                  param2,</span>
<span class="gp">... </span><span class="s1">                  param3):&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">regex_replace</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">def foo(*args)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_regex</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field_regex</span><span class="p">([(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;def&#39;</span><span class="p">),</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;funcname&#39;</span><span class="p">,</span> <span class="s1">&#39;.*&#39;</span><span class="p">),</span> <span class="sa">r</span><span class="s1">&#39;\(.*\):&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">named_field_repl</span><span class="p">([(</span><span class="s1">&#39;funcname&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;keyword&#39;</span><span class="p">,)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;def foo(param1,</span>
<span class="gp">... </span><span class="s1">                  param2,</span>
<span class="gp">... </span><span class="s1">                  param3):&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">regex_replace</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foodef</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_replace_lines">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_replace_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regexpat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replpat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_replace_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_replace_lines" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_search">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_search" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_split">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_split" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.regex_word">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">regex_word</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#regex_word"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.regex_word" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_regex.whole_word">
<span class="sig-prename descclassname"><span class="pre">utool.util_regex.</span></span><span class="sig-name descname"><span class="pre">whole_word</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_regex.html#whole_word"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_regex.whole_word" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_resources">
<span id="utool-util-resources-module"></span><h2>utool.util_resources module<a class="headerlink" href="#module-utool.util_resources" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.available_memory">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">available_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#available_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.available_memory" title="Permalink to this definition"></a></dt>
<dd><p>Returns total system wide available memory in bytes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.current_memory_usage">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">current_memory_usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#current_memory_usage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.current_memory_usage" title="Permalink to this definition"></a></dt>
<dd><p>Returns this programs current memory usage in bytes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.get_matching_process_ids">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">get_matching_process_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_matching_process_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.get_matching_process_ids" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>export PID=30196
export PID=$(python -c “import utool as ut; print(ut.get_matching_process_ids(‘jonc’, ‘python2.7’))”)
export PID=$(python -c “import utool as ut; print(ut.get_matching_process_ids(‘jonc’, ‘matlab’))”)
sudo -H echo $PID
ps -o pid,comm,nice -p $PID
renice 10 -p $PID
sudo renice -4 -p $PID</p>
</dd>
</dl>
<p>user_pattern = ‘jonc’
cmd_pattern = ‘main.py’
user_pattern = None
cmd_pattern = ‘matlab’
get_matching_process_ids(cmd_pattern, user_pattern)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.get_memstats_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">get_memstats_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_memstats_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.get_memstats_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.get_python_datastructure_sizes">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">get_python_datastructure_sizes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_python_datastructure_sizes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.get_python_datastructure_sizes" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1331471/in-memory-size-of-python-stucture">http://stackoverflow.com/questions/1331471/in-memory-size-of-python-stucture</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_resources –test-get_python_datastructure_sizes</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_resources</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_sizes</span> <span class="o">=</span> <span class="n">get_python_datastructure_sizes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">type_sizes</span><span class="p">,</span> <span class="n">sorted_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.get_resource_limits">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">get_resource_limits</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_resource_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.get_resource_limits" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.get_resource_usage_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">get_resource_usage_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#get_resource_usage_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.get_resource_usage_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.memstats">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">memstats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#memstats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.memstats" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.num_cpus">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">num_cpus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#num_cpus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.num_cpus" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.num_unused_cpus">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">num_unused_cpus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#num_unused_cpus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.num_unused_cpus" title="Permalink to this definition"></a></dt>
<dd><p>Returns the number of cpus with utilization less than <cite>thresh</cite> percent</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.peak_memory">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">peak_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#peak_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.peak_memory" title="Permalink to this definition"></a></dt>
<dd><p>Returns the resident set size (the portion of
a process’s memory that is held in RAM.)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.print_resource_usage">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">print_resource_usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#print_resource_usage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.print_resource_usage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.time_in_systemmode">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">time_in_systemmode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#time_in_systemmode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.time_in_systemmode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.time_in_usermode">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">time_in_usermode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#time_in_usermode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.time_in_usermode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.time_str2">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">time_str2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#time_str2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.time_str2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.total_memory">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">total_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#total_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.total_memory" title="Permalink to this definition"></a></dt>
<dd><p>Returns total system wide memory in bytes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_resources.used_memory">
<span class="sig-prename descclassname"><span class="pre">utool.util_resources.</span></span><span class="sig-name descname"><span class="pre">used_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_resources.html#used_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_resources.used_memory" title="Permalink to this definition"></a></dt>
<dd><p>Returns total system wide used memory in bytes</p>
</dd></dl>

</section>
<section id="module-utool.util_set">
<span id="utool-util-set-module"></span><h2>utool.util_set module<a class="headerlink" href="#module-utool.util_set" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_set.</span></span><span class="sig-name descname"><span class="pre">OrderedSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableSet" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableSet</span></code></a></p>
<dl class="simple">
<dt>Set the remembers the order elements were added</dt><dd><p>Big-O running times for all methods are the same as for regular sets.
The internal self._map dictionary maps keys to links in a doubly linked list.
The circular doubly linked list starts and ends with a sentinel element.
The sentinel element never gets deleted (this simplifies the algorithm).
The prev/next links are weakref proxies (to prevent circular references).
Individual links are kept alive by the hard reference in self._map.
Those hard references disappear when a key is deleted from an OrderedSet.</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://code.activestate.com/recipes/576696/">http://code.activestate.com/recipes/576696/</a>
<a class="reference external" href="http://code.activestate.com/recipes/576694/">http://code.activestate.com/recipes/576694/</a>
<a class="reference external" href="http://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set">http://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet.add" title="Permalink to this definition"></a></dt>
<dd><p>Store new key in a new link at the end of the linked list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet.append" title="Permalink to this definition"></a></dt>
<dd><p>Alias for add</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet.discard">
<span class="sig-name descname"><span class="pre">discard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.discard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet.discard" title="Permalink to this definition"></a></dt>
<dd><p>Remove an element.  Do not raise an exception if absent.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet.index" title="Permalink to this definition"></a></dt>
<dd><p>Find the index of <cite>item</cite> in the OrderedSet</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">oset</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet.pop" title="Permalink to this definition"></a></dt>
<dd><p>Return the popped value.  Raise KeyError if empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet.union">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">sets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.union"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet.union" title="Permalink to this definition"></a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_set</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_set.OrderedSet.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_set.html#OrderedSet.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_set.OrderedSet.update" title="Permalink to this definition"></a></dt>
<dd><p>union update</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_set.oset">
<span class="sig-prename descclassname"><span class="pre">utool.util_set.</span></span><span class="sig-name descname"><span class="pre">oset</span></span><a class="headerlink" href="#utool.util_set.oset" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_set.OrderedSet" title="utool.util_set.OrderedSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_set.OrderedSet</span></code></a></p>
</dd></dl>

</section>
<section id="module-utool.util_setup">
<span id="utool-util-setup-module"></span><h2>utool.util_setup module<a class="headerlink" href="#module-utool.util_setup" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.NOOP">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">NOOP</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#NOOP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.NOOP" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_setup.SETUP_PATTERNS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">SETUP_PATTERNS</span></span><a class="reference internal" href="_modules/utool/util_setup.html#SETUP_PATTERNS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_setup.SETUP_PATTERNS.chmod_test">
<span class="sig-name descname"><span class="pre">chmod_test</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['test_*.py']</span></em><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS.chmod_test" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_setup.SETUP_PATTERNS.clutter_cyth">
<span class="sig-name descname"><span class="pre">clutter_cyth</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['_*_cyth.o',</span> <span class="pre">'_*_cyth_bench.py',</span> <span class="pre">'run_cyth_benchmarks.sh',</span> <span class="pre">'_*_cyth.c',</span> <span class="pre">'_*_cyth.pyd',</span> <span class="pre">'_*_cyth.pxd',</span> <span class="pre">'_*_cyth.html',</span> <span class="pre">'_*_cyth.pyx',</span> <span class="pre">'_*_cyth.so',</span> <span class="pre">'_*_cyth.dylib']</span></em><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS.clutter_cyth" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_setup.SETUP_PATTERNS.clutter_pybuild">
<span class="sig-name descname"><span class="pre">clutter_pybuild</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['*.pyc',</span> <span class="pre">'*.pyo']</span></em><a class="headerlink" href="#utool.util_setup.SETUP_PATTERNS.clutter_pybuild" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_setup.SetupManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">SetupManager</span></span><a class="reference internal" href="_modules/utool/util_setup.html#SetupManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.SetupManager" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helps with writing setup.py</p>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_setup.SetupManager.get_cmdclass">
<span class="sig-name descname"><span class="pre">get_cmdclass</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#SetupManager.get_cmdclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.SetupManager.get_cmdclass" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_setup.SetupManager.register_command">
<span class="sig-name descname"><span class="pre">register_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#SetupManager.register_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.SetupManager.register_command" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.assert_in_setup_repo">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">assert_in_setup_repo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setup_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#assert_in_setup_repo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.assert_in_setup_repo" title="Permalink to this definition"></a></dt>
<dd><p>pass in __file__ from setup.py</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.autogen_sphinx_apidoc">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">autogen_sphinx_apidoc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#autogen_sphinx_apidoc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.autogen_sphinx_apidoc" title="Permalink to this definition"></a></dt>
<dd><p>autogen_sphinx_docs.py</p>
<dl>
<dt>Ignore:</dt><dd><p>C:Python27Scriptsautogen_sphinx_docs.py
autogen_sphinx_docs.py</p>
<p>pip uninstall sphinx
pip install sphinx
pip install sphinxcontrib-napoleon
pip install sphinx –upgrade
pip install sphinxcontrib-napoleon –upgrade</p>
<p>cd C:Python27Scripts
ls C:Python27Scripts</p>
<p>python -c “import sphinx; print(sphinx.__version__)”</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_setup –exec-autogen_sphinx_apidoc</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_setup</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autogen_sphinx_apidoc</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.build_pyo">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">build_pyo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_dirs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#build_pyo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.build_pyo" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.clean">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setup_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clutter_patterns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clutter_dirs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#clean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.clean" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.find_ext_modules">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">find_ext_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">disable_warnings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#find_ext_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.find_ext_modules" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.find_packages">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">find_packages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxdepth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#find_packages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.find_packages" title="Permalink to this definition"></a></dt>
<dd><p>Finds all directories with an __init__.py file in them</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.get_cmdclass">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">get_cmdclass</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#get_cmdclass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.get_cmdclass" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.get_numpy_include_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">get_numpy_include_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#get_numpy_include_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.get_numpy_include_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.parse_author">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">parse_author</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#parse_author"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.parse_author" title="Permalink to this definition"></a></dt>
<dd><p>TODO: this function should parse setup.py or a module for
the author variable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.parse_package_for_version">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">parse_package_for_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#parse_package_for_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.parse_package_for_version" title="Permalink to this definition"></a></dt>
<dd><p>Searches for a variable named __version__ in name’s __init__.py file and
returns the value.  This function parses the source text. It does not load
the module.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.parse_readme">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">parse_readme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">readmefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'README.md'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#parse_readme"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.parse_readme" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.presetup">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">presetup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setup_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_setup.presetup" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.presetup_commands">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">presetup_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setup_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#presetup_commands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.presetup_commands" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.read_license">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">read_license</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#read_license"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.read_license" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.setup_chmod">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">setup_chmod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setup_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setup_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmod_patterns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#setup_chmod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.setup_chmod" title="Permalink to this definition"></a></dt>
<dd><p>Gives files matching pattern the same chmod flags as setup.py</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_setup.setuptools_setup">
<span class="sig-prename descclassname"><span class="pre">utool.util_setup.</span></span><span class="sig-name descname"><span class="pre">setuptools_setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setup_fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_setup.html#setuptools_setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_setup.setuptools_setup" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_six">
<span id="utool-util-six-module"></span><h2>utool.util_six module<a class="headerlink" href="#module-utool.util_six" title="Permalink to this headline"></a></h2>
</section>
<section id="module-utool.util_sqlite">
<span id="utool-util-sqlite-module"></span><h2>utool.util_sqlite module<a class="headerlink" href="#module-utool.util_sqlite" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_sqlite.SQLColumnRichInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">SQLColumnRichInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notnull</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dflt_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_sqlite.SQLColumnRichInfo.column_id">
<span class="sig-name descname"><span class="pre">column_id</span></span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.column_id" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_sqlite.SQLColumnRichInfo.dflt_value">
<span class="sig-name descname"><span class="pre">dflt_value</span></span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.dflt_value" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_sqlite.SQLColumnRichInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.name" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_sqlite.SQLColumnRichInfo.notnull">
<span class="sig-name descname"><span class="pre">notnull</span></span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.notnull" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_sqlite.SQLColumnRichInfo.pk">
<span class="sig-name descname"><span class="pre">pk</span></span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.pk" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_sqlite.SQLColumnRichInfo.type_">
<span class="sig-name descname"><span class="pre">type_</span></span><a class="headerlink" href="#utool.util_sqlite.SQLColumnRichInfo.type_" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_nonprimary_columninfo">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_nonprimary_columninfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_nonprimary_columninfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_nonprimary_columninfo" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_primary_columninfo">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_primary_columninfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_primary_columninfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_primary_columninfo" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_table_column">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_table_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_table_column" title="Permalink to this definition"></a></dt>
<dd><p>Conveinience:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_table_columninfo_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_table_columninfo_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_columninfo_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_table_columninfo_list" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of tuples with the following format:
[0] column_id  : id of the column
[1] name       : the name of the column
[2] type_      : the type of the column (TEXT, INT, etc…)
[3] notnull    : 0 or 1 if the column can contains null values
[4] dflt_value : the default value
[5] pk         : 0 or 1 if the column partecipate to the primary key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – table name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tuples</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>column_list</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c">http://stackoverflow.com/questions/17717829/how-to-get-column-names-from-a-table-in-sqlite-via-pragma-net-c</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_sqlite –test-get_table_columninfo_list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_sqlite</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_table_columnname_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_table_columnname_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_columnname_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_table_columnname_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_table_columns">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_table_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_table_columns" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_table_csv">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_table_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_table_csv" title="Permalink to this definition"></a></dt>
<dd><p>Conveinience: Converts a tablename to csv format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tablename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>exclude_columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>csv_table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.control.SQLDatabaseControl –test-get_table_csv</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.control.SQLDatabaseControl</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tablename</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">NAME_TABLE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_columns</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_table</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_table_csv</span><span class="p">(</span><span class="n">tablename</span><span class="p">,</span> <span class="n">exclude_columns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">csv_table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_table_num_rows">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_table_num_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_num_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_table_num_rows" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_table_rows">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_table_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unpack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_table_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_table_rows" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.get_tablenames">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">get_tablenames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#get_tablenames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.get_tablenames" title="Permalink to this definition"></a></dt>
<dd><p>Conveinience:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sqlite.print_database_structure">
<span class="sig-prename descclassname"><span class="pre">utool.util_sqlite.</span></span><span class="sig-name descname"><span class="pre">print_database_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sqlite.html#print_database_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sqlite.print_database_structure" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_str">
<span id="utool-util-str-module"></span><h2>utool.util_str module<a class="headerlink" href="#module-utool.util_str" title="Permalink to this headline"></a></h2>
<p>Module that handles string formating and manipulation of various data</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.align">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">align</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">character</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'='</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replchar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#align"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.align" title="Permalink to this definition"></a></dt>
<dd><p>Left justifies text on the left side of character</p>
<p>align</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – text to align</p></li>
<li><p><strong>character</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – character to align at</p></li>
<li><p><strong>replchar</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – replacement character (default=None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-align:0</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;a = b=</span><span class="se">\n</span><span class="s1">one = two</span><span class="se">\n</span><span class="s1">three = fish</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">align</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a     = b=</span>
<span class="go">one   = two</span>
<span class="go">three = fish</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.align_lines">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">align_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">character</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'='</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replchar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#align_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.align_lines" title="Permalink to this definition"></a></dt>
<dd><p>Left justifies text on the left side of character</p>
<p>align_lines</p>
<div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<p>clean up and move to ubelt?</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line_list</strong> (<em>list of strs</em>) – </p></li>
<li><p><strong>character</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – does one alignment for all chars beyond this
column position. If pos is None, then all chars are aligned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_lines</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-align_lines:0
python -m utool.util_str –test-align_lines:1
python -m utool.util_str –test-align_lines:2
python -m utool.util_str –test-align_lines:3</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="s1">&#39;a = b</span><span class="se">\n</span><span class="s1">one = two</span><span class="se">\n</span><span class="s1">three = fish&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">line_list</span><span class="p">,</span> <span class="n">character</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a     = b</span>
<span class="go">one   = two</span>
<span class="go">three = fish</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="s1">&#39;foofish:</span><span class="se">\n</span><span class="s1">    a = b</span><span class="se">\n</span><span class="s1">    one    = two</span><span class="se">\n</span><span class="s1">    three    = fish&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">line_list</span><span class="p">,</span> <span class="n">character</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foofish:</span>
<span class="go">    a        = b</span>
<span class="go">    one      = two</span>
<span class="go">    three    = fish</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;:&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="go">    {&#39;max&#39;: &#39;1970/01/01 02:30:13&#39;,</span>
<span class="go">     &#39;mean&#39;: &#39;1970/01/01 01:10:15&#39;,</span>
<span class="go">     &#39;min&#39;: &#39;1970/01/01 00:01:41&#39;,</span>
<span class="go">     &#39;range&#39;: &#39;2:28:32&#39;,</span>
<span class="go">     &#39;std&#39;: &#39;1:13:57&#39;,}&#39;&#39;&#39;).split(&#39;\n&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39; :&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;max&#39;   : &#39;1970/01/01 02:30:13&#39;,</span>
<span class="go"> &#39;mean&#39;  : &#39;1970/01/01 01:10:15&#39;,</span>
<span class="go"> &#39;min&#39;   : &#39;1970/01/01 00:01:41&#39;,</span>
<span class="go"> &#39;range&#39; : &#39;2:28:32&#39;,</span>
<span class="go"> &#39;std&#39;   : &#39;1:13:57&#39;,}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_list</span> <span class="o">=</span> <span class="s1">&#39;foofish:</span><span class="se">\n</span><span class="s1"> a = b = c</span><span class="se">\n</span><span class="s1"> one = two = three</span><span class="se">\n</span><span class="s1">three=4= fish&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;=&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># align the second occurence of a character</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_lines</span> <span class="o">=</span> <span class="n">align_lines</span><span class="p">(</span><span class="n">line_list</span><span class="p">,</span> <span class="n">character</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line_list</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_lines</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foofish:</span>
<span class="go"> a   = b   = c</span>
<span class="go"> one = two = three</span>
<span class="go">three=4    = fish</span>
</pre></div>
</div>
<dl class="simple">
<dt>Ignore:</dt><dd><p># use this as test case
begin{tabular}{lrrll}
toprule
{} &amp;  Names &amp;  Annots &amp; Annots size &amp; Training Edges \
midrule
training &amp;    390 &amp;    1164 &amp;   2.98pm2.83 &amp;           9360 \
testing  &amp;    363 &amp;    1119 &amp;   3.08pm2.82 &amp;              - \
bottomrule
end{tabular}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.autoformat_pep8">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">autoformat_pep8</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#autoformat_pep8"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.autoformat_pep8" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-autoformat_pep8</p>
</dd>
<dt>Kwargs:</dt><dd><p>‘aggressive’: 0,
‘diff’: False,
‘exclude’: [],
‘experimental’: False,
‘files’: [u’’],
‘global_config’: ~/.config/pep8,
‘ignore’: set([u’E24’]),
‘ignore_local_config’: False,
‘in_place’: False,
‘indent_size’: 4,
‘jobs’: 1,
‘line_range’: None,
‘list_fixes’: False,
‘max_line_length’: 79,
‘pep8_passes’: -1,
‘recursive’: False,
‘select’: ,
‘verbose’: 0,</p>
</dd>
<dt>Ignore:</dt><dd><p>autopep8 –recursive –in-place –ignore E126,E127,E201,E202,E203,E221,E222,E241,E265,E271,E272,E301,E501,W602,E266,N801,N802,N803,N805,N806,N811,N813 .</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.autopep8_format">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">autopep8_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcecode</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.autopep8_format" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-autoformat_pep8</p>
</dd>
<dt>Kwargs:</dt><dd><p>‘aggressive’: 0,
‘diff’: False,
‘exclude’: [],
‘experimental’: False,
‘files’: [u’’],
‘global_config’: ~/.config/pep8,
‘ignore’: set([u’E24’]),
‘ignore_local_config’: False,
‘in_place’: False,
‘indent_size’: 4,
‘jobs’: 1,
‘line_range’: None,
‘list_fixes’: False,
‘max_line_length’: 79,
‘pep8_passes’: -1,
‘recursive’: False,
‘select’: ,
‘verbose’: 0,</p>
</dd>
<dt>Ignore:</dt><dd><p>autopep8 –recursive –in-place –ignore E126,E127,E201,E202,E203,E221,E222,E241,E265,E271,E272,E301,E501,W602,E266,N801,N802,N803,N805,N806,N811,N813 .</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.bbox_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">bbox_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">',</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#bbox_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.bbox_str" title="Permalink to this definition"></a></dt>
<dd><p>makes a string from an integer bounding box</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.bubbletext">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">bubbletext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cybermedium'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#bubbletext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.bubbletext" title="Permalink to this definition"></a></dt>
<dd><p>Uses pyfiglet to create bubble text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>font</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – default=cybermedium, other fonts include: cybersmall and
cyberlarge.</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.figlet.org/">http://www.figlet.org/</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bubble_text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">bubbletext</span><span class="p">(</span><span class="s1">&#39;TESTING BUBBLE TEXT&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;cybermedium&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bubble_text</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.byte_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">byte_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nBytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bytes'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#byte_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.byte_str" title="Permalink to this definition"></a></dt>
<dd><p>representing the number of bytes with the chosen unit</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.byte_str2">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">byte_str2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nBytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#byte_str2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.byte_str2" title="Permalink to this definition"></a></dt>
<dd><p>Automatically chooses relevant unit (KB, MB, or GB) for displaying some
number of bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nBytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-byte_str2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nBytes_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span>  <span class="mi">1048576</span><span class="p">,</span> <span class="mi">1073741824</span><span class="p">,</span> <span class="mi">1099511627776</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_str</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">byte_str2</span><span class="p">,</span> <span class="n">nBytes_list</span><span class="p">)),</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;0.00 KB&#39;, &#39;0.10 KB&#39;, &#39;1.00 KB&#39;, &#39;1.00 MB&#39;, &#39;1.00 GB&#39;, &#39;1.00 TB&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.chr_range">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">chr_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#chr_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.chr_range" title="Permalink to this definition"></a></dt>
<dd><p>Like range but returns characters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>step</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>base (str): charater to start with (default=’a’)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of characters</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-chr_range</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chr_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.closet_words">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">closet_words</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#closet_words"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.closet_words" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.codeblock">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">codeblock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#codeblock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.codeblock" title="Permalink to this definition"></a></dt>
<dd><p>Convinience function for defining code strings. Esspecially useful for
templated code.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.color_diff_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">color_diff_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#color_diff_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.color_diff_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.color_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">color_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#color_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.color_text" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>highlight_text
lexer_shortnames = sorted(ut.flatten(ut.take_column(pygments.lexers.LEXERS.values(), 2)))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.conj_phrase">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">conj_phrase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cond</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'or'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#conj_phrase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.conj_phrase" title="Permalink to this definition"></a></dt>
<dd><p>Joins a list of words using English conjunction rules</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – of strings</p></li>
<li><p><strong>cond</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a conjunction (or, and, but)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the joined cconjunction phrase</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Conjunction_(grammar">http://en.wikipedia.org/wiki/Conjunction_(grammar</a>)</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">conj_phrase</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="s1">&#39;or&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a, b, or c</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">conj_phrase</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">a and b</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.countdown_flag">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">countdown_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count_or_bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#countdown_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.countdown_flag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.dict_itemstr_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">dict_itemstr_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dictkw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#dict_itemstr_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.dict_itemstr_list" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of human-readable dictionary items</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>explicit</strong> – if True uses dict(key=val,…) format instead of {key:val,…}</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.dict_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">dict_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dictkw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#dict_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.dict_str" title="Permalink to this definition"></a></dt>
<dd><p>Makes a pretty printable / human-readable string representation of a
dictionary. In most cases this string could be evaled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – a dictionary</p></li>
<li><p><strong>**dictkw</strong> – stritems, strkeys, strvals, nl, newlines, truncate, nobr,
nobraces, align, trailing_sep, explicit, itemsep,
truncatekw, sorted_, indent_, key_order, precision,
with_comma, key_order_metric, maxlen, recursive, use_numpy,
with_dtype, force_dtype, packed</p></li>
<li><p><strong>sorted_</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – returns str sorted by a metric (default = None)</p></li>
<li><p><strong>nl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – prefered alias for newline. can be a coundown variable
(default = None)</p></li>
<li><p><strong>key_order</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – overrides default ordering (default = None)</p></li>
<li><p><strong>key_order_metric</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – special sorting of items. Accepted values:
None, ‘strlen’, ‘val’</p></li>
<li><p><strong>precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 8)</p></li>
<li><p><strong>explicit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – can be a countdown variable. if True, uses
dict(a=b) syntax instead of {‘a’: b}</p></li>
<li><p><strong>nobr</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – removes outer braces (default = False)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Ignore:</dt><dd><p>python -m utool.util_inspect recursive_parse_kwargs:2 –mod utool.util_str –func dict_str –verbinspect</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-dict_str:1
python -m utool.util_str –test-dict_str –truncate=False –no-checkwant
python -m utool.util_str –test-dict_str –truncate=1 –no-checkwant
python -m utool.util_str –test-dict_str –truncate=2 –no-checkwant</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="n">dict_str</span><span class="p">,</span> <span class="n">dict_itemstr_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;barbarbarbarbar&#39;</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">:</span> <span class="s1">&#39;jam&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="s1">&#39;barbarbarbarbar&#39;</span> <span class="o">*</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">truncate</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--truncate&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">dict_str</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">strvals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="n">truncate</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="n">truncatekw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;maxlen&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;baz&#39;: barbarbarbarbarbarbarbarbarbarbarbarbarbarbar,</span>
<span class="go">    &#39;foo&#39;: {</span>
<span class="go">        &#39;eggs&#39;: jam,</span>
<span class="go">        &#39;s ~~~TRUNCATED~~~ r,</span>
<span class="go">    },</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;float&#39;</span><span class="p">:</span> <span class="mf">2.3333</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;slice&#39;</span><span class="p">:</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;arr&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;list1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">2.3333</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;dict1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mf">2.3333</span><span class="p">:</span> <span class="mf">2.3333</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span> <span class="p">:</span> <span class="n">c</span><span class="p">}}}},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;set1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;set2&#39;</span><span class="p">:</span> <span class="n">ut</span><span class="o">.</span><span class="n">oset</span><span class="p">([</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;list2&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">},</span> <span class="mi">1</span><span class="p">:</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="mf">2.333</span><span class="p">},</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="p">[</span><span class="n">b</span><span class="p">],</span> <span class="n">b</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="p">},</span> <span class="n">c</span><span class="p">:</span> <span class="mf">2.333</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictkw</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">stritems</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">itemsep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">explicit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_str</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="o">**</span><span class="n">dictkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictkw</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">stritems</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">explicit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">dict_str</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="o">**</span><span class="n">dictkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.difftext">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">difftext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_context_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_whitespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.difftext" title="Permalink to this definition"></a></dt>
<dd><p>Uses difflib to return a difference string between two similar texts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>text2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted difference text message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.color_diff_text</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm">http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-get_textdiff:1
python -m utool.util_str –test-get_textdiff:0</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">- three</span>
<span class="go">+ five</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">3.5</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_context_lines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">num_context_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.doctest_code_line">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">doctest_code_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#doctest_code_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.doctest_code_line" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.doctest_repr">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">doctest_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#doctest_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.doctest_repr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.ensure_ascii">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">ensure_ascii</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#ensure_ascii"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.ensure_ascii" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.ensure_unicode_strlist">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">ensure_unicode_strlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#ensure_unicode_strlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.ensure_unicode_strlist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.file_megabytes_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">file_megabytes_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#file_megabytes_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.file_megabytes_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.filesize_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">filesize_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#filesize_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.filesize_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.filtered_infostr">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">filtered_infostr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#filtered_infostr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.filtered_infostr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.find_block_end">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">find_block_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentinal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#find_block_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.find_block_end" title="Permalink to this definition"></a></dt>
<dd><p>Searches up and down until it finds the endpoints of a block Rectify
with find_paragraph_end in pyvim_funcs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.flatten_textlines">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">flatten_textlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#flatten_textlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.flatten_textlines" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.format_multi_paragraphs">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">format_multi_paragraphs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.format_multi_paragraphs" title="Permalink to this definition"></a></dt>
<dd><p>FIXME: funky things happen when multiple newlines in the middle of
paragraphs</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python ~/local/vim/rc/pyvim_funcs.py –test-format_multiple_paragraph_sentences</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-format_multiple_paragraph_sentences –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#sys.path.append(os.path.expanduser(&#39;~/local/vim/rc&#39;))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_multiple_paragraph_sentences</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Formated Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">formated_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L_____&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.format_multiple_paragraph_sentences">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">format_multiple_paragraph_sentences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#format_multiple_paragraph_sentences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.format_multiple_paragraph_sentences" title="Permalink to this definition"></a></dt>
<dd><p>FIXME: funky things happen when multiple newlines in the middle of
paragraphs</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python ~/local/vim/rc/pyvim_funcs.py –test-format_multiple_paragraph_sentences</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-format_multiple_paragraph_sentences –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#sys.path.append(os.path.expanduser(&#39;~/local/vim/rc&#39;))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_multiple_paragraph_sentences</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;+--- Formated Text ---&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">formated_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L_____&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.format_single_paragraph_sentences">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">format_single_paragraph_sentences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myprefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sentence_break</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">73</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sepcolon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#format_single_paragraph_sentences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.format_single_paragraph_sentences" title="Permalink to this definition"></a></dt>
<dd><p>helps me separatate sentences grouped in paragraphs that I have a
difficult time reading due to dyslexia</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>wrapped_text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-format_single_paragraph_sentences –show
python -m utool.util_str –exec-format_single_paragraph_sentences –show –nobreak</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;     lorium ipsum doloar dolar dolar dolar erata man foobar is this there yet almost man not quit ate 80 chars yet hold out almost there? dolar erat. sau.ltum. fds.fd... . . fd oob fd. list: (1) abcd, (2) foobar (4) 123456789 123456789 123456789 123456789 123 123 123 123 123456789 123 123 123 123 123456789 123456789 123456789 123456789 123456789 123 123 123 123 123 123456789 123456789 123456789 123456789 123456789 123456789 (3) spam.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;list: (1) abcd, (2) foobar (3) spam.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;foo. when: (1) there is a new individual,&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;when: (1) there is a new individual,&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#text = &#39;? ? . lorium. ipsum? dolar erat. saultum. fds.fd...  fd oob fd. ? &#39;  # causes breakdown</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;text = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">text</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentence_break</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--nobreak&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapped_text</span> <span class="o">=</span> <span class="n">format_single_paragraph_sentences</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sentence_break</span><span class="o">=</span><span class="n">sentence_break</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;wrapped_text =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">wrapped_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.format_text_as_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">format_text_as_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#format_text_as_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.format_text_as_docstr" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python  ~/local/vim/rc/pyvim_funcs.py  –test-format_text_as_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyvim_funcs</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_text_as_docstr</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;formated_text = </span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">formated_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.func_callsig">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">func_callsig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#func_callsig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.func_callsig" title="Permalink to this definition"></a></dt>
<dd><p>String of function call signature</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – live python function</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>callsig</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-func_callsig</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">callsig</span> <span class="o">=</span> <span class="n">func_callsig</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">callsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">func_str(func, args, kwargs, type_aliases, packed, packkw, truncate)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.func_defsig">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">func_defsig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#func_defsig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.func_defsig" title="Permalink to this definition"></a></dt>
<dd><p>String of function definition signature</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – live python function</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>defsig</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-func_defsig</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">func_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">defsig</span> <span class="o">=</span> <span class="n">func_defsig</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">defsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">func_str(func, args=[], kwargs={}, type_aliases=[], packed=False, packkw=None, truncate=False)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.func_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">func_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_aliases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packkw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#func_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.func_str" title="Permalink to this definition"></a></dt>
<dd><p>string representation of function definition</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a representation of func with args, kwargs, and type_aliases</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – </p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – argument values (default = [])</p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – kwargs values (default = {})</p></li>
<li><p><strong>type_aliases</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>packed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
<li><p><strong>packkw</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>func_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-func_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">byte_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1024</span><span class="p">,</span> <span class="s1">&#39;MB&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_aliases</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packed</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packkw</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_str</span> <span class="o">=</span> <span class="n">func_str</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">type_aliases</span><span class="p">,</span> <span class="n">packed</span><span class="p">,</span> <span class="n">packkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">byte_str(1024, &#39;MB&#39;, precision=2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.get_bytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">get_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nUnits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.get_bytes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.get_callable_name">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">get_callable_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_callable_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.get_callable_name" title="Permalink to this definition"></a></dt>
<dd><p>Works on must functionlike objects including str, which has no func_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-get_callable_name</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="nb">len</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_callable_name</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">len</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.get_indentation">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">get_indentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_indentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.get_indentation" title="Permalink to this definition"></a></dt>
<dd><p>returns the number of preceding spaces</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.get_itemstr_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">get_itemstr_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">listkw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_itemstr_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.get_itemstr_list" title="Permalink to this definition"></a></dt>
<dd><p>TODO: have this replace dict_itemstr list or at least most functionality in
it. have it make two itemstr lists over keys and values and then combine
them.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.get_minimum_indentation">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">get_minimum_indentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_minimum_indentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.get_minimum_indentation" title="Permalink to this definition"></a></dt>
<dd><p>returns the number of preceding spaces</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – unicode text</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>indentation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-get_minimum_indentation –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;    foo</span><span class="se">\n</span><span class="s1">   bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_minimum_indentation</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.get_textdiff">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">get_textdiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_context_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_whitespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#get_textdiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.get_textdiff" title="Permalink to this definition"></a></dt>
<dd><p>Uses difflib to return a difference string between two similar texts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>text2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted difference text message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.color_diff_text</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm">http://www.java2s.com/Code/Python/Utility/IntelligentdiffbetweentextfilesTimPeters.htm</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-get_textdiff:1
python -m utool.util_str –test-get_textdiff:0</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">- three</span>
<span class="go">+ five</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text1</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">three</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">3.5</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text2</span> <span class="o">=</span> <span class="s1">&#39;one</span><span class="se">\n</span><span class="s1">two</span><span class="se">\n</span><span class="s1">five</span><span class="se">\n</span><span class="s1">3.1</span><span class="se">\n</span><span class="s1">3.14</span><span class="se">\n</span><span class="s1">3.1415</span><span class="se">\n</span><span class="s1">pi</span><span class="se">\n</span><span class="s1">3.4</span><span class="se">\n</span><span class="s1">4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_context_lines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_textdiff</span><span class="p">(</span><span class="n">text1</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">num_context_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.highlight_code">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">highlight_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lexer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.highlight_code" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.highlight_multi_regex">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">highlight_multi_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat_to_color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_multi_regex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.highlight_multi_regex" title="Permalink to this definition"></a></dt>
<dd><p>FIXME Use pygments instead. must be mututally exclusive</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.highlight_regex">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">highlight_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'red'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_regex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.highlight_regex" title="Permalink to this definition"></a></dt>
<dd><p>FIXME Use pygments instead</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.highlight_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">highlight_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lexer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#highlight_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.highlight_text" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>SeeAlso:</dt><dd><p>color_text</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.horiz_string">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">horiz_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#horiz_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.horiz_string" title="Permalink to this definition"></a></dt>
<dd><p>Horizontally concatenates strings reprs preserving indentation</p>
<p>Concats a list of objects ensuring that the next item in the list
is all the way to the right of any previous items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – list of strings to concat</p></li>
<li><p><strong>**kwargs</strong> – precision, sep</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-horiz_string</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Pretty printing of matrices demo / test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Wouldn&#39;t it be nice if we could print this operation easily?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 1:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">hz_str</span><span class="p">(</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="s1">&#39; = &#39;</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[19 22]  = [[1 2]  * [[5 6]</span>
<span class="go">     [43 50]]    [3 4]]    [7 8]]</span>
</pre></div>
</div>
<dl>
<dt>Exam2:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 2:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">C</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">horizstr</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">horiz_string</span><span class="p">(</span><span class="o">*</span><span class="n">str_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[1 2]  * [[5 6]</span>
<span class="go">     [3 4]]    [7 8]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.hz_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">hz_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_str.hz_str" title="Permalink to this definition"></a></dt>
<dd><p>Horizontally concatenates strings reprs preserving indentation</p>
<p>Concats a list of objects ensuring that the next item in the list
is all the way to the right of any previous items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – list of strings to concat</p></li>
<li><p><strong>**kwargs</strong> – precision, sep</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-horiz_string</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Pretty printing of matrices demo / test</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Wouldn&#39;t it be nice if we could print this operation easily?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 1:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">hz_str</span><span class="p">(</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="s1">&#39; = &#39;</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[19 22]  = [[1 2]  * [[5 6]</span>
<span class="go">     [43 50]]    [3 4]]    [7 8]]</span>
</pre></div>
</div>
<dl>
<dt>Exam2:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Eg 2:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A = &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="s1">&#39; * &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">C</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">horizstr</span> <span class="o">=</span> <span class="p">(</span><span class="n">utool</span><span class="o">.</span><span class="n">horiz_string</span><span class="p">(</span><span class="o">*</span><span class="n">str_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">horizstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">A = [[1 2]  * [[5 6]</span>
<span class="go">     [3 4]]    [7 8]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.indent">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">indent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span>&#160;&#160;&#160; <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.indent" title="Permalink to this definition"></a></dt>
<dd><p>Indents a block of text</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>indent</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default = ‘    ‘) TODO rename to indent or rename func</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-indent</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;foobar</span><span class="se">\n</span><span class="s1">bazbiz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indent</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">indent</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">indent</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.indent_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">indent_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indent_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.indent_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.indent_rest">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">indent_rest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span>&#160;&#160;&#160; <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indent_rest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.indent_rest" title="Permalink to this definition"></a></dt>
<dd><p>TODO fix name Indents every part of the string except the beginning
SeeAlso: wbia/templates/generate_notebook.py</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.indentjoin">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">indentjoin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n</span>&#160;&#160;&#160; <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#indentjoin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.indentjoin" title="Permalink to this definition"></a></dt>
<dd><p>Convineince indentjoin</p>
<p>similar to ‘n    ‘.join(strlist) but indent is also prefixed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>strlist</strong> – </p></li>
<li><p><strong>indent</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>joined list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.insert_block_between_lines">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">insert_block_between_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#insert_block_between_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.insert_block_between_lines" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.is_byte_encoded_unicode">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">is_byte_encoded_unicode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#is_byte_encoded_unicode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.is_byte_encoded_unicode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.is_url">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">is_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#is_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.is_url" title="Permalink to this definition"></a></dt>
<dd><p>heuristic check if str is url formatted</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.joins">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">joins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_head</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_tail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tostrip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#joins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.joins" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.list_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">list_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">listkw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#list_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.list_str" title="Permalink to this definition"></a></dt>
<dd><p>Makes a pretty list string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – input list</p></li>
<li><p><strong>**listkw</strong> – nl, newlines, packed, truncate, nobr, nobraces, itemsep,
trailing_sep, truncatekw, strvals, recursive,
indent_, precision, use_numpy, with_dtype, force_dtype,
stritems, strkeys, align, explicit, sorted_, key_order,
key_order_metric, maxlen</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>retstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-list_str
python -m utool.util_str –exec-list_str –truncate=True
python -m utool.util_str –exec-list_str –truncate=0</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[[((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="p">((</span><span class="s1">&#39;--verbose-qt&#39;</span><span class="p">,</span> <span class="s1">&#39;--verbqt&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)],</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="p">[([</span><span class="s1">&#39;--nodyn&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="p">([</span><span class="s1">&#39;--nodyn&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listkw</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;nl&#39;</span><span class="p">:</span>  <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">list_str</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="o">**</span><span class="n">listkw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    [</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">        ((&#39;--verbose-qt&#39;, &#39;--verbqt&#39;), 1, False, &#39;&#39;),</span>
<span class="go">    ],</span>
<span class="go">    [</span>
<span class="go">        ([&#39;--nodyn&#39;], 1, False, &#39;&#39;),</span>
<span class="go">        ([&#39;--nodyn&#39;], 1, False, &#39;&#39;),</span>
<span class="go">    ],</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.list_str_summarized">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">list_str_summarized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#list_str_summarized"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.list_str_summarized" title="Permalink to this definition"></a></dt>
<dd><p>prints the list members when the list is small and the length when it is
large</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.long_fname_format">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">long_fname_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmt_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashable_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ABS_MAX_LEN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">255</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hack27</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#long_fname_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.long_fname_format" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE</p>
<p>Formats a string and hashes certain parts if the resulting string becomes
too long. Used for making filenames fit onto disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmt_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – format of fname</p></li>
<li><p><strong>fmt_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – dict to format fname with</p></li>
<li><p><strong>hashable_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of dict keys you are willing to have hashed</p></li>
<li><p><strong>max_len</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – tries to fit fname into this length</p></li>
<li><p><strong>ABS_MAX_LEN</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – throws AssertionError if fname over this length</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-long_fname_format</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTET</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt_str</span> <span class="o">=</span> <span class="s1">&#39;qaid=</span><span class="si">{qaid}</span><span class="s1">_res_</span><span class="si">{cfgstr}</span><span class="s1">_quuid=</span><span class="si">{quuid}</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quuid_str</span> <span class="o">=</span> <span class="s1">&#39;blahblahblahblahblahblah&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfgstr</span> <span class="o">=</span> <span class="s1">&#39;big_long_string__________________________________&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qaid</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmt_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">cfgstr</span><span class="o">=</span><span class="n">cfgstr</span><span class="p">,</span> <span class="n">qaid</span><span class="o">=</span><span class="n">qaid</span><span class="p">,</span> <span class="n">quuid</span><span class="o">=</span><span class="n">quuid_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashable_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cfgstr&#39;</span><span class="p">,</span> <span class="s1">&#39;quuid&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_len</span> <span class="o">=</span> <span class="mi">64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlen</span> <span class="o">=</span> <span class="mi">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname0</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">long_fname_format</span><span class="p">(</span><span class="n">fmt_str</span><span class="p">,</span> <span class="n">fmt_dict</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">long_fname_format</span><span class="p">(</span><span class="n">fmt_str</span><span class="p">,</span> <span class="n">fmt_dict</span><span class="p">,</span> <span class="n">hashable_keys</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                 <span class="n">max_len</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">hashlen</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">long_fname_format</span><span class="p">(</span><span class="n">fmt_str</span><span class="p">,</span> <span class="n">fmt_dict</span><span class="p">,</span> <span class="n">hashable_keys</span><span class="p">,</span> <span class="n">max_len</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">hashlen</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">fname0</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">fname1</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">fname2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">qaid=5_res_big_long_string___________________________________quuid=blahblahblahblahblahblah</span>
<span class="go">qaid=5_res_racfntgq_quuid=blahblahblahblahblahblah</span>
<span class="go">qaid=5_res_racfntgq_quuid=yvuaffrp</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.lorium_ipsum">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">lorium_ipsum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#lorium_ipsum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.lorium_ipsum" title="Permalink to this definition"></a></dt>
<dd><p>Standard testing string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.msgblock">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">msgblock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'|'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#msgblock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.msgblock" title="Permalink to this definition"></a></dt>
<dd><p>puts text inside a visual ascii block</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.multi_replace">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">multi_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#multi_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.multi_replace" title="Permalink to this definition"></a></dt>
<dd><p>Performs multiple replace functions foreach item in search_list and
repl_list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – string to search</p></li>
<li><p><strong>search_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of search strings</p></li>
<li><p><strong>repl_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – one or multiple replace strings</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-multi_replace</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;foo. bar: baz; spam-eggs --- eggs+spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;---&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl_list</span> <span class="o">=</span> <span class="s1">&#39;@&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="n">multi_replace</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">search_list</span><span class="p">,</span> <span class="n">repl_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;str_ = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">str_</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">str_ = foo@ bar@ baz; spam-eggs @ eggs+spam</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.number_text_lines">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">number_text_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#number_text_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.number_text_lines" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>text_with_lineno - string with numbered lines</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.numpy_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">numpy_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strvals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suppress_small</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#numpy_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.numpy_str" title="Permalink to this definition"></a></dt>
<dd><p>suppress_small = False turns off scientific representation</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.order_of_magnitude_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">order_of_magnitude_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exponent_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#order_of_magnitude_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.order_of_magnitude_str" title="Permalink to this definition"></a></dt>
<dd><p>TODO: Rewrite byte_str to use this func
:returns: str</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.pack_into">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">pack_into</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">textwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">160</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">breakchars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">break_words</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newline_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wordsep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_newlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#pack_into"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.pack_into" title="Permalink to this definition"></a></dt>
<dd><p>DEPRICATE IN FAVOR OF textwrap.wrap</p>
<p>TODO: Look into textwrap.wrap</p>
<p>Inserts newlines into a string enforcing a maximum textwidth.
Similar to vim’s gq command in visual select mode.</p>
<p>breakchars is a string containing valid characters to insert a newline
before or after.</p>
<p>break_words is True if words are allowed to be split over multiple lines.</p>
<p>all inserted newlines are prefixed with newline_prefix</p>
<p>#FIXME:</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;set_image_uris(ibs&lt;139684018194000&gt;, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], [u&#39;66ec193a-1619-b3b6-216d-1784b4833b61.jpg&#39;, u&#39;d8903434-942f-e0f5-d6c2-0dcbe3137bf7.jpg&#39;, u&#39;b73b72f4-4acb-c445-e72c-05ce02719d3d.jpg&#39;, u&#39;0cd05978-3d83-b2ee-2ac9-798dd571c3b3.jpg&#39;, u&#39;0a9bc03d-a75e-8d14-0153-e2949502aba7.jpg&#39;, u&#39;2deeff06-5546-c752-15dc-2bd0fdb1198a.jpg&#39;, u&#39;a9b70278-a936-c1dd-8a3b-bc1e9a998bf0.png&#39;, u&#39;42fdad98-369a-2cbc-67b1-983d6d6a3a60.jpg&#39;, u&#39;c459d381-fd74-1d99-6215-e42e3f432ea9.jpg&#39;, u&#39;33fd9813-3a2b-774b-3fcc-4360d1ae151b.jpg&#39;, u&#39;97e8ea74-873f-2092-b372-f928a7be30fa.jpg&#39;, u&#39;588bc218-83a5-d400-21aa-d499832632b0.jpg&#39;, u&#39;163a890c-36f2-981e-3529-c552b6d668a3.jpg&#39;], ) &quot;</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textwidth</span> <span class="o">=</span> <span class="mi">160</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">breakchars</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">break_words</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newline_prefix</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wordsep</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packstr1</span> <span class="o">=</span> <span class="n">pack_into</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">textwidth</span><span class="p">,</span> <span class="n">breakchars</span><span class="p">,</span> <span class="n">break_words</span><span class="p">,</span> <span class="n">newline_prefix</span><span class="p">,</span> <span class="n">wordsep</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">break_words</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">packstr2</span> <span class="o">=</span> <span class="n">pack_into</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">textwidth</span><span class="p">,</span> <span class="n">breakchars</span><span class="p">,</span> <span class="n">break_words</span><span class="p">,</span> <span class="n">newline_prefix</span><span class="p">,</span> <span class="n">wordsep</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">packstr1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">packstr2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -c “import utool” –dump-utool-init</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.packstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">packstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">textwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">160</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">breakchars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">break_words</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newline_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indentation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nlprefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wordsep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_newlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#packstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.packstr" title="Permalink to this definition"></a></dt>
<dd><p>alias for pack_into. has more up to date kwargs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.packtext">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">packtext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">80</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#packtext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.packtext" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-pack_paragraph –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="mi">80</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">lorium_ipsum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">packtext</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.parse_bytes">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">parse_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bytes_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#parse_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.parse_bytes" title="Permalink to this definition"></a></dt>
<dd><p>Parse bytes from string</p>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">uint8_size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="s1">&#39;1B&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="s1">&#39;3.5MB&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">float32_size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="s1">&#39;32bit&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">desc_size</span> <span class="o">=</span> <span class="mi">128</span> <span class="o">*</span> <span class="n">uint8_size</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kpts_size</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">float32_size</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chip_size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="s1">&#39;400 KB&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probchip_size</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="s1">&#39;50 KB&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nImgs</span> <span class="o">=</span> <span class="mi">80000</span> <span class="c1"># 80,000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nAnnots</span> <span class="o">=</span> <span class="n">nImgs</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">desc_per_img</span> <span class="o">=</span> <span class="mi">3000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size_stats</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="n">nImgs</span> <span class="o">*</span> <span class="n">image_size</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;chips&#39;</span><span class="p">:</span> <span class="n">nAnnots</span> <span class="o">*</span> <span class="n">chip_size</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;probchips&#39;</span><span class="p">:</span> <span class="n">nAnnots</span> <span class="o">*</span> <span class="n">probchip_size</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;desc&#39;</span><span class="p">:</span> <span class="n">nAnnots</span> <span class="o">*</span> <span class="n">desc_size</span> <span class="o">*</span> <span class="n">desc_per_img</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;kpts&#39;</span><span class="p">:</span> <span class="n">nAnnots</span> <span class="o">*</span> <span class="n">kpts_size</span> <span class="o">*</span> <span class="n">desc_per_img</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">map_dict_vals</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">,</span> <span class="n">size_stats</span><span class="p">),</span> <span class="n">align</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;total = &#39;</span> <span class="o">+</span> <span class="n">ut</span><span class="o">.</span><span class="n">byte_str2</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">size_stats</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.pluralize">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">pluralize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wordtext</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#pluralize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.pluralize" title="Permalink to this definition"></a></dt>
<dd><p>Heuristically changes a word to its plural form if <cite>num</cite> is not 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wordtext</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – word in singular form</p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – a length of an associated list if applicable (default = 2)</p></li>
<li><p><strong>plural_suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – heurstic plural form (default = ‘s’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pluralized form. Can handle some genitive cases</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str pluralize</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wordtext</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pluralize</span><span class="p">(</span><span class="n">wordtext</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">foos</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.quantstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">quantstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typestr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#quantstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.quantstr" title="Permalink to this definition"></a></dt>
<dd><p>Heuristically generates an english phrase relating to the quantity of
something.  This is useful for writing user messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>typestr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – singular form of the word</p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – quanity of the type</p></li>
<li><p><strong>plural_suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – heurstic plural form (default = ‘s’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>quantity phrase</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str quantity_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;The list contains &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="n">quantstr</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">The list contains &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="n">quantstr</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">The list contains &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="n">quantstr</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">The list contains 3 items</span>
<span class="go">The list contains 1 item</span>
<span class="go">The list contains 0 items</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.regex_reconstruct_split">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">regex_reconstruct_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#regex_reconstruct_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.regex_reconstruct_split" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.remove_chars">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">remove_chars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#remove_chars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.remove_chars" title="Permalink to this definition"></a></dt>
<dd><p>removes all chars in char_list from str_</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>char_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>outstr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;1, 2, 3, 4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">char_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">remove_chars</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">char_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1 2 3 4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.remove_doublenewlines">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">remove_doublenewlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#remove_doublenewlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.remove_doublenewlines" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.remove_doublspaces">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">remove_doublspaces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#remove_doublspaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.remove_doublspaces" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.replace_between_tags">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">replace_between_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#replace_between_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.replace_between_tags" title="Permalink to this definition"></a></dt>
<dd><p>Replaces text between sentinal lines in a block of text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>repl_</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>start_tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>end_tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (default=None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-replace_between_tags</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">codeblock</span><span class="p">(</span>
<span class="go">    &#39;&#39;&#39;</span>
<span class="go">    class:</span>
<span class="go">        # &lt;FOO&gt;</span>
<span class="go">        bar</span>
<span class="go">        # &lt;/FOO&gt;</span>
<span class="go">        baz</span>
<span class="go">    &#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repl_</span> <span class="o">=</span> <span class="s1">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_tag</span> <span class="o">=</span> <span class="s1">&#39;# &lt;FOO&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_tag</span> <span class="o">=</span> <span class="s1">&#39;# &lt;/FOO&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_text</span> <span class="o">=</span> <span class="n">replace_between_tags</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">repl_</span><span class="p">,</span> <span class="n">start_tag</span><span class="p">,</span> <span class="n">end_tag</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;new_text =</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">new_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">new_text =</span>
<span class="go">class:</span>
<span class="go">    # &lt;FOO&gt;</span>
<span class="go">spam</span>
<span class="go">    # &lt;/FOO&gt;</span>
<span class="go">    baz</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.repr2">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">repr2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.repr2" title="Permalink to this definition"></a></dt>
<dd><p>Attempt to replace repr more configurable
pretty version that works the same in both 2 and 3</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.repr2_json">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">repr2_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr2_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.repr2_json" title="Permalink to this definition"></a></dt>
<dd><p>hack for json reprs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.repr3">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">repr3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.repr3" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.repr4">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">repr4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj_</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#repr4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.repr4" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.reprfunc">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">reprfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#reprfunc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.reprfunc" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> – </p></li>
<li><p><strong>precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str reprfunc –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#vals = [{&#39;foo&#39;: [1/3, 2]}, np.float64, 1/3, &#39;foo&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vals</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">([</span><span class="n">reprfunc</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">],</span> <span class="n">nobr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&quot;{u&#39;foo&#39;: [1, 2]}&quot;,</span>
<span class="go">&#39;numpy.float64&#39;,</span>
<span class="go">&#39;0.33&#39;,</span>
<span class="go">&quot;&#39;foo&#39;&quot;,</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.scalar_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">scalar_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#scalar_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.scalar_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.second_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">second_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsecs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abbrev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#second_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.second_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.seconds_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">seconds_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#seconds_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.seconds_str" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="mf">4.2</span> <span class="o">/</span> <span class="p">(</span><span class="mf">10.0</span> <span class="o">**</span> <span class="n">exp_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="k">for</span> <span class="n">exp_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secstr_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">seconds_str</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">num_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">secstr_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">0.04 ns, 0.42 us, 4.20 ms, 0.04 ks, 0.42 Ms, 4.20 Gs, 42.00 Ts</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.split_sentences2">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">split_sentences2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#split_sentences2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.split_sentences2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.str_between">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">str_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#str_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.str_between" title="Permalink to this definition"></a></dt>
<dd><p>gets substring between two sentianl strings</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">        INSERT INTO vsone(</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">startstr</span> <span class="o">=</span> <span class="s1">&#39;INSERT&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">endstr</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">str_between</span><span class="p">(</span><span class="n">str_</span><span class="p">,</span> <span class="n">startstr</span><span class="p">,</span> <span class="n">endstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.strip_ansi">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">strip_ansi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#strip_ansi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.strip_ansi" title="Permalink to this definition"></a></dt>
<dd><p>Removes all ansi directives from the string
Helper to remove ansi from length calculation
References: <a class="reference external" href="http://stackoverflow.com/questions/14693701remove-ansi">http://stackoverflow.com/questions/14693701remove-ansi</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.testdata_text">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">testdata_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#testdata_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.testdata_text" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.textblock">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">textblock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multiline_text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#textblock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.textblock" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>block_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –test-textblock</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multiline_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39; a big string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">that should be layed out flat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">yet still provide nice python</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">code that doesnt go too far over</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">80 characters.</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Two</span> <span class="n">newlines</span> <span class="n">should</span> <span class="n">be</span> <span class="n">respected</span> <span class="n">though</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">new_text = textblock(multiline_text)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">result = new_text</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">print(result)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.theta_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">theta_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">taustr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*2pi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmtstr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'{coeff:,.1f}{taustr}'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#theta_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.theta_str" title="Permalink to this definition"></a></dt>
<dd><p>Format theta so it is interpretable in base 10</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – </p></li>
<li><p><strong>taustr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – default 2pi</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>theta_str - the angle in tau units</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">3.1415</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">theta_str</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">0.5*2pi</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mf">6.9932</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">taustr</span> <span class="o">=</span> <span class="s1">&#39;tau&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">theta_str</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">taustr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1.1tau</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.to_camel_case">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">to_camel_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">underscore_case</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#to_camel_case"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.to_camel_case" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>underscore_case</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>camel_case_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-to_camel_case</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/CamelCase">https://en.wikipedia.org/wiki/CamelCase</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">underscore_case</span> <span class="o">=</span> <span class="s1">&#39;underscore_funcname&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">camel_case_str</span> <span class="o">=</span> <span class="n">to_camel_case</span><span class="p">(</span><span class="n">underscore_case</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;camel_case_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">camel_case_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">camel_case_str = UnderscoreFuncname</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.to_title_caps">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">to_title_caps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">underscore_case</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#to_title_caps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.to_title_caps" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>underscore_case</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>title_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_str –exec-to_title_caps</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">underscore_case</span> <span class="o">=</span> <span class="s1">&#39;the_foo_bar_func&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title_str</span> <span class="o">=</span> <span class="n">to_title_caps</span><span class="p">(</span><span class="n">underscore_case</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;title_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">title_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">title_str = The Foo Bar Func</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.to_underscore_case">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">to_underscore_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camelcase_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#to_underscore_case"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.to_underscore_case" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1175208/convert-camelcase">http://stackoverflow.com/questions/1175208/convert-camelcase</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_str</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">camelcase_str</span> <span class="o">=</span> <span class="s1">&#39;UnderscoreFuncname&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">camel_case_str</span> <span class="o">=</span> <span class="n">to_underscore_case</span><span class="p">(</span><span class="n">camelcase_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;underscore_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">camel_case_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">underscore_str = underscore_funcname</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.toggle_comment_lines">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">toggle_comment_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#toggle_comment_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.toggle_comment_lines" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.trunc_repr">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">trunc_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#trunc_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.trunc_repr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.truncate_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">truncate_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">110</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncmsg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">~~~TRUNCATED~~~</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#truncate_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.truncate_str" title="Permalink to this definition"></a></dt>
<dd><p>Removes the middle part of any string over maxlen characters.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.unformat_text_as_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">unformat_text_as_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formated_text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#unformat_text_as_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.unformat_text_as_docstr" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python  ~/local/vim/rc/pyvim_funcs.py  –test-unformat_text_as_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyvim_funcs</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">testdata_text</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formated_text</span> <span class="o">=</span> <span class="n">format_text_as_docstr</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unformated_text</span> <span class="o">=</span> <span class="n">unformat_text_as_docstr</span><span class="p">(</span><span class="n">formated_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;unformated_text = </span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">unformated_text</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.unindent">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">unindent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#unindent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.unindent" title="Permalink to this definition"></a></dt>
<dd><p>Unindent a block of text</p>
<p>Alias for textwrap.dedent</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.utf8_len">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">utf8_len</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#utf8_len"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.utf8_len" title="Permalink to this definition"></a></dt>
<dd><p>returns num printed characters in utf8</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>//stackoverflow.com/questions/2247205/python-returning-the-wrong-length-of-string-when-using-special-characters</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>http</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.varinfo_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">varinfo_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyrepr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canshowrepr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yellow'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#varinfo_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.varinfo_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_str.verts_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_str.</span></span><span class="sig-name descname"><span class="pre">verts_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_str.html#verts_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_str.verts_str" title="Permalink to this definition"></a></dt>
<dd><p>makes a string from a list of integer verticies</p>
</dd></dl>

</section>
<section id="module-utool.util_sysreq">
<span id="utool-util-sysreq-module"></span><h2>utool.util_sysreq module<a class="headerlink" href="#module-utool.util_sysreq" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.ensure_in_pythonpath">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">ensure_in_pythonpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#ensure_in_pythonpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.ensure_in_pythonpath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.get_global_dist_packages_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">get_global_dist_packages_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#get_global_dist_packages_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.get_global_dist_packages_dir" title="Permalink to this definition"></a></dt>
<dd><p>Attempts to work around virtualenvs and find the system dist_pacakges.
Essentially this is implmenented as a lookuptable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.get_local_dist_packages_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">get_local_dist_packages_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#get_local_dist_packages_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.get_local_dist_packages_dir" title="Permalink to this definition"></a></dt>
<dd><p>Attempts to work around virtualenvs and find the system dist_pacakges.
Essentially this is implmenented as a lookuptable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.get_site_packages_dir">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">get_site_packages_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#get_site_packages_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.get_site_packages_dir" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_sysreq get_site_packages_dir</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>It seems IPython does not respect virtual environments properly.
TODO: find a solution
<a class="reference external" href="http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages">http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.in_virtual_env">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">in_virtual_env</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#in_virtual_env"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.in_virtual_env" title="Permalink to this definition"></a></dt>
<dd><p>returns True if you are running inside a python virtual environment.
(DOES NOT WORK IF IN IPYTHON AND USING A VIRTUALENV)</p>
<p>sys.prefix gives the location of the virtualenv</p>
<p class="rubric">Notes</p>
<p>It seems IPython does not respect virtual environments properly.
TODO: find a solution
<a class="reference external" href="http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages">http://stackoverflow.com/questions/7335992/ipython-and-virtualenv-ignoring-site-packages</a></p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/1871549/python-determine-if-running-inside-virtualenv">http://stackoverflow.com/questions/1871549/python-determine-if-running-inside-virtualenv</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_sysreq in_virtual_env</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_sysreq</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">in_virtual_env</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.is_running_as_root">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">is_running_as_root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#is_running_as_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.is_running_as_root" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/5721529/running-python-script-as-root-with-sudo-what-is-the-username-of-the-effectiv">http://stackoverflow.com/questions/5721529/running-python-script-as-root-with-sudo-what-is-the-username-of-the-effectiv</a>
<a class="reference external" href="http://stackoverflow.com/questions/2806897/what-is-the-best-practices-for-checking-if-the-user-of-a-python-script-has-root">http://stackoverflow.com/questions/2806897/what-is-the-best-practices-for-checking-if-the-user-of-a-python-script-has-root</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.locate_path">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">locate_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recurse_down</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#locate_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.locate_path" title="Permalink to this definition"></a></dt>
<dd><p>Search for a path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_sysreq.total_purge_developed_repo">
<span class="sig-prename descclassname"><span class="pre">utool.util_sysreq.</span></span><span class="sig-name descname"><span class="pre">total_purge_developed_repo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repodir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_sysreq.html#total_purge_developed_repo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_sysreq.total_purge_developed_repo" title="Permalink to this definition"></a></dt>
<dd><p>Outputs commands to help purge a repo</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>repodir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to developed repository</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_sysreq total_purge_installed_repo –show</p>
</dd>
<dt>Ignore:</dt><dd><p>repodir = ut.truepath(‘~/code/Lasagne’)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_sysreq</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repodir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--repodir&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">total_purge_installed_repo</span><span class="p">(</span><span class="n">repodir</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.util_tags">
<span id="utool-util-tags-module"></span><h2>utool.util_tags module<a class="headerlink" href="#module-utool.util_tags" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tags.alias_tags">
<span class="sig-prename descclassname"><span class="pre">utool.util_tags.</span></span><span class="sig-name descname"><span class="pre">alias_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#alias_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tags.alias_tags" title="Permalink to this definition"></a></dt>
<dd><p>update tags to new values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tags_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>alias_map</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of 2-tuples with regex, value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>updated tags</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_tags alias_tags –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;t3&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;t4&#39;</span><span class="p">,</span> <span class="s1">&#39;t5&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">build_alias_map</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">alias_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tags.build_alias_map">
<span class="sig-prename descclassname"><span class="pre">utool.util_tags.</span></span><span class="sig-name descname"><span class="pre">build_alias_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag_vocab</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#build_alias_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tags.build_alias_map" title="Permalink to this definition"></a></dt>
<dd><p>Constructs explicit mapping. Order of items in regex map matters.
Items at top are given preference.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;t3&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;t4&#39;</span><span class="p">,</span> <span class="s1">&#39;t5&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tag_vocab</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flat_unique</span><span class="p">(</span><span class="o">*</span><span class="n">tags_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">regex_map</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;t[3-4]&#39;</span><span class="p">,</span> <span class="s1">&#39;A9&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;t0&#39;</span><span class="p">,</span> <span class="s1">&#39;a0&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unmapped</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">tag_vocab</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">alias_map</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tags.filterflags_general_tags">
<span class="sig-prename descclassname"><span class="pre">utool.util_tags.</span></span><span class="sig-name descname"><span class="pre">filterflags_general_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_any</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_none</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">any_startswith</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">any_endswith</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_any</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">any_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">none_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'and'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_case</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#filterflags_general_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tags.filterflags_general_tags" title="Permalink to this definition"></a></dt>
<dd><p>maybe integrate into utool? Seems pretty general</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tags_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>has_any</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>has_all</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>min_num</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>max_num</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>in_any should probably be ni_any</p>
<p>TODO: make this function more natural</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_tags –exec-filterflags_general_tags
python -m utool.util_tags –exec-filterflags_general_tags:0  –helpx
python -m utool.util_tags –exec-filterflags_general_tags:0
python -m utool.util_tags –exec-filterflags_general_tags:0  –none_match n
python -m utool.util_tags –exec-filterflags_general_tags:0  –has_none=n,o
python -m utool.util_tags –exec-filterflags_general_tags:1
python -m utool.util_tags –exec-filterflags_general_tags:2</p>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">argparse_dict</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">get_kwdefaults2</span><span class="p">(</span><span class="n">filterflags_general_tags</span><span class="p">),</span> <span class="n">type_hint</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;kwargs = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">kwargs</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">filterflags_general_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">,))</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_all</span> <span class="o">=</span> <span class="s1">&#39;n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">min_num</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">filterflags_general_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">has_all</span><span class="o">=</span><span class="n">has_all</span><span class="p">,</span> <span class="n">min_num</span><span class="o">=</span><span class="n">min_num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">,))</span>
</pre></div>
</div>
</dd>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tags</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tags_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;vn&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;vn&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;nP&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;NP&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;any_endswith&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;any_match&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;any_startswith&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has_all&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has_any&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;has_none&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;max_num&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;min_num&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;none_match&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="n">filterflags_general_tags</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filtered</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">tags_list</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;result = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">filtered</span><span class="p">),))</span>
<span class="go">result = [[&#39;vn&#39;, &#39;no&#39;], [&#39;n&#39;, &#39;o&#39;], [&#39;n&#39;, &#39;N&#39;], [&#39;n&#39;], [&#39;n&#39;, &#39;nP&#39;]]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tags.modify_tags">
<span class="sig-prename descclassname"><span class="pre">utool.util_tags.</span></span><span class="sig-name descname"><span class="pre">modify_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex_aug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_unmapped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_unmapped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#modify_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tags.modify_tags" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tags.tag_coocurrence">
<span class="sig-prename descclassname"><span class="pre">utool.util_tags.</span></span><span class="sig-name descname"><span class="pre">tag_coocurrence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#tag_coocurrence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tags.tag_coocurrence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tags.tag_hist">
<span class="sig-prename descclassname"><span class="pre">utool.util_tags.</span></span><span class="sig-name descname"><span class="pre">tag_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tags.html#tag_hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tags.tag_hist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_tests">
<span id="utool-util-tests-module"></span><h2>utool.util_tests module<a class="headerlink" href="#module-utool.util_tests" title="Permalink to this headline"></a></h2>
<p>Helpers for tests</p>
<p>This module contains a more sane reimplementation of doctest functionality.
(I.E.  asserts work and you don’t have to worry about stdout mucking things up)
The code isn’t super clean though due to time constriaints.  Many functions
probably belong elsewhere and the parsers need a big cleanup.</p>
<p class="rubric">Notes</p>
<p>DEPRICATE THIS IN FAVOR OF pytest and xdoctest</p>
<div class="admonition-todo admonition" id="id11">
<p class="admonition-title">Todo</p>
<p>report the line of the doctest in the file when reporting errors as well as
the relative line
restructure so there is a test collection step, a filtering step, and an
execution step
Fix finding tests when running with &#64;profile</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_tests.ModuleDoctestTup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">ModuleDoctestTup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled_testtup_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_testflags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_tests.ModuleDoctestTup.all_testflags">
<span class="sig-name descname"><span class="pre">all_testflags</span></span><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.all_testflags" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_tests.ModuleDoctestTup.enabled_testtup_list">
<span class="sig-name descname"><span class="pre">enabled_testtup_list</span></span><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.enabled_testtup_list" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_tests.ModuleDoctestTup.frame_fpath">
<span class="sig-name descname"><span class="pre">frame_fpath</span></span><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.frame_fpath" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_tests.ModuleDoctestTup.module">
<span class="sig-name descname"><span class="pre">module</span></span><a class="headerlink" href="#utool.util_tests.ModuleDoctestTup.module" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_tests.TestTuple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">TestTuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">want</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nametup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shortname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#TestTuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.TestTuple" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#utool.util_dev.NiceRepr" title="utool.util_dev.NiceRepr"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_dev.NiceRepr</span></code></a></p>
<p>Simple container for test objects to replace old tuple format
exec mode specifies if the test is being run as a script</p>
<dl class="py property">
<dt class="sig sig-object py" id="utool.util_tests.TestTuple.exec_mode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exec_mode</span></span><a class="headerlink" href="#utool.util_tests.TestTuple.exec_mode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_tests.TestTuple.full_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_name</span></span><a class="headerlink" href="#utool.util_tests.TestTuple.full_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_tests.TestTuple.modname">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">modname</span></span><a class="headerlink" href="#utool.util_tests.TestTuple.modname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_tests.TestTuple.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#utool.util_tests.TestTuple.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_tests.TestTuple.namespace">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">namespace</span></span><a class="headerlink" href="#utool.util_tests.TestTuple.namespace" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="utool.util_tests.TestTuple.namespace_levels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">namespace_levels</span></span><a class="headerlink" href="#utool.util_tests.TestTuple.namespace_levels" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.doctest_funcs">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">doctest_funcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testable_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allexamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needs_enable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_error_report</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seen_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#doctest_funcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.doctest_funcs" title="Permalink to this definition"></a></dt>
<dd><p>Main entry point into utools main module doctest harness
Imports a module and checks flags for the function to run
Depth 1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>testable_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>check_flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Force checking of the –test- and –exec- flags</p></li>
<li><p><strong>module</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>allexamples</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
<li><p><strong>needs_enable</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(nPass, nTotal, failed_cmd_list)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.algo.preproc.preproc_chip –all-examples</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://legacy.python.org/dev/peps/pep-0338/">http://legacy.python.org/dev/peps/pep-0338/</a>
<a class="reference external" href="https://docs.python.org/2/library/runpy.html">https://docs.python.org/2/library/runpy.html</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testable_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_flags</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allexamples</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">needs_enable</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># careful might infinitely recurse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">nPass</span><span class="p">,</span> <span class="n">nTotal</span><span class="p">)</span> <span class="o">=</span> <span class="n">doctest_funcs</span><span class="p">(</span><span class="n">testable_list</span><span class="p">,</span> <span class="n">check_flags</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">allexamples</span><span class="p">,</span> <span class="n">needs_enable</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="n">nPass</span><span class="p">,</span> <span class="n">nTotal</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.doctest_module_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">doctest_module_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#doctest_module_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.doctest_module_list" title="Permalink to this definition"></a></dt>
<dd><p>Runs many module tests</p>
<p>Entry point for batch run
Depth 0)</p>
<dl class="simple">
<dt>Ignore:</dt><dd><p>:’&lt;,’&gt;!sort -n -k 2</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.doctest_was_requested">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">doctest_was_requested</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#doctest_was_requested"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.doctest_was_requested" title="Permalink to this definition"></a></dt>
<dd><p>lets a  __main__ codeblock know that util_test should do its thing</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.execute_doctest">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">execute_doctest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testnum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#execute_doctest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.execute_doctest" title="Permalink to this definition"></a></dt>
<dd><p>Execute a function doctest. Can optionaly specify func name and module to
run from ipython notebooks.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
</pre></div>
</div>
<dl class="simple">
<dt>IPython:</dt><dd><p>import utool as ut
ut.execute_doctest(func=’dummy_example_depcacahe’, module=’dtool.example_depcache’)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.find_doctestable_modnames">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">find_doctestable_modnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_doctests_fnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nonpackages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#find_doctestable_modnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.find_doctestable_modnames" title="Permalink to this definition"></a></dt>
<dd><p>Tries to find files with a call to ut.doctest_funcs in the __main__ part
Implementation is very hacky. Should find a better heuristic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dpath_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – list of python package directories</p></li>
<li><p><strong>exclude_doctests_fnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>exclude_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = [])</p></li>
<li><p><strong>allow_nonpackages</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of filepaths</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_tests find_doctestable_modnames –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">dirname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ut</span><span class="o">.</span><span class="n">get_module_dir</span><span class="p">(</span><span class="n">ut</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_doctests_fnames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_dirs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allow_nonpackages</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">find_doctestable_modnames</span><span class="p">(</span><span class="n">dpath_list</span><span class="p">,</span> <span class="n">exclude_doctests_fnames</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="p">,</span> <span class="n">allow_nonpackages</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.find_testfunc">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">find_testfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_funcname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_to_module_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_mod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#find_testfunc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.find_testfunc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.find_untested_modpaths">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">find_untested_modpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_doctests_fnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#find_untested_modpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.find_untested_modpaths" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.get_doctest_examples">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">get_doctest_examples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_or_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_doctest_examples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.get_doctest_examples" title="Permalink to this definition"></a></dt>
<dd><p>Depth 3)
called by get_module_doctest_tup</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func_or_class</strong> (<em>function</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>example_list, want_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_tests –test-get_doctest_examples</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">get_doctest_examples</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span>  <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testlinenum_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">func_lineno</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">tryimport</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testlinenum_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">func_lineno</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">manual_annot_funcs</span><span class="o">.</span><span class="n">add_annots</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tup</span> <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">tup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testlinenum_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">func_lineno</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.get_module_completions">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">get_module_completions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_module_completions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.get_module_completions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.get_module_doctest_tup">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">get_module_doctest_tup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testable_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allexamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needs_enable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testslow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_module_doctest_tup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.get_module_doctest_tup" title="Permalink to this definition"></a></dt>
<dd><p>Parses module for testable doctesttups</p>
<p>enabled_testtup_list (list): a list of testtup</p>
<dl class="simple">
<dt>testtup (tuple): (name, num, src, want, flag) describes a valid doctest in the module</dt><dd><p>name  (str): test name
num   (str): test number of the module / function / class / method
src   (str): test source code
want  (str): expected test result
flag  (str): a valid commandline flag to enable this test</p>
</dd>
</dl>
<p>frame_fpath (str): module fpath that will be tested
all_testflags (list): the command line arguments that will enable different tests
module (module): the actual module that will be tested
exclude_inherited (bool): does not included tests defined in other modules</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>testable_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – a list of functions (default = None)</p></li>
<li><p><strong>check_flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = True)</p></li>
<li><p><strong>module</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>allexamples</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>needs_enable</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 0)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – verbosity flag(default = True)</p></li>
<li><p><strong>testslow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(enabled_testtup_list, frame_fpath, all_testflags, module)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#utool.util_tests.ModuleDoctestTup" title="utool.util_tests.ModuleDoctestTup">ModuleDoctestTup</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_tests –exec-get_module_doctest_tup</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#testable_list = [ut.util_import.package_contents]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testable_list</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_flags</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">util_cplat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allexamples</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">needs_enable</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testslow</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mod_doctest_tup</span> <span class="o">=</span> <span class="n">get_module_doctest_tup</span><span class="p">(</span><span class="n">testable_list</span><span class="p">,</span> <span class="n">check_flags</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                         <span class="n">module</span><span class="p">,</span> <span class="n">allexamples</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                         <span class="n">needs_enable</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                         <span class="n">testslow</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mod_doctest_tup = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">mod_doctest_tup</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">4</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.get_module_testlines">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">get_module_testlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_pyc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pythoncmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_module_testlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.get_module_testlines" title="Permalink to this definition"></a></dt>
<dd><p>Builds test commands for autogen tests
called by autogen test scripts</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.get_package_testables">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">get_package_testables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">tagkw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#get_package_testables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.get_package_testables" title="Permalink to this definition"></a></dt>
<dd><p>New command that should eventually be used intead of old stuff?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – (default = None)</p></li>
<li><p><strong>test_flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool get_package_testables –show –mod wbia
python -m utool get_package_testables –show –mod utool –tags SCRIPT
python -m utool get_package_testables –show –mod utool –tags ENABLE</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_any</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--tags&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mod&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;utool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_tuples</span> <span class="o">=</span> <span class="n">get_package_testables</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">has_any</span><span class="o">=</span><span class="n">has_any</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr3</span><span class="p">(</span><span class="n">test_tuples</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#print(ut.repr3(ut.list_getattr(test_tuples, &#39;tags&#39;)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.main_function_tester">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">main_function_tester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_funcname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_to_module_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#main_function_tester"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.main_function_tester" title="Permalink to this definition"></a></dt>
<dd><p>Allows a shorthand for __main__ packages of modules to run tests with
unique function names</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.parse_docblocks_from_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">parse_docblocks_from_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">docstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#parse_docblocks_from_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.parse_docblocks_from_docstr" title="Permalink to this definition"></a></dt>
<dd><p># Depth 5)
called by parse_doctest_from_docstr</p>
<p>TODO: move to util_inspect</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>docstr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – a documentation string formatted in google style.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>docstr_blocks tuples</dt><dd><p>[(blockname, blockstr)]</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_tests parse_docblocks_from_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func_or_class = ut.flatten2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func_or_class = ut.list_depth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">iter_module_doctestable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">all_multi_paths</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_docstr</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr_blocks</span> <span class="o">=</span> <span class="n">parse_docblocks_from_docstr</span><span class="p">(</span><span class="n">docstr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">docstr_blocks</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.parse_doctest_from_docstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">parse_doctest_from_docstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">docstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#parse_doctest_from_docstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.parse_doctest_from_docstr" title="Permalink to this definition"></a></dt>
<dd><p>because doctest itself doesnt do what I want it to do</p>
<p>CAREFUL, IF YOU GET BACK WRONG RESULTS MAKE SURE YOUR DOCSTR IS PREFFIXED
WITH R</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_tests –exec-parse_doctest_from_docstr</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_tests</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">parse_doctest_from_docstr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">list_depth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#func_or_class = ut.util_depricated.cartesian</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_or_class</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">iter_module_doctestable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docstr</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_docstr</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">testsrc_list</span><span class="p">,</span> <span class="n">testwant_list</span><span class="p">,</span> <span class="n">testlinenum_list</span><span class="p">,</span> <span class="n">func_lineno</span><span class="p">,</span> <span class="n">docstr</span> <span class="o">=</span> <span class="n">get_doctest_examples</span><span class="p">(</span><span class="n">func_or_class</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">testsrc_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">testwant_list</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.qt4ensure">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">qt4ensure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#qt4ensure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.qt4ensure" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.qtensure">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">qtensure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#qtensure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.qtensure" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.quit_if_noshow">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">quit_if_noshow</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#quit_if_noshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.quit_if_noshow" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.read_exampleblock">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">read_exampleblock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">docblock</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#read_exampleblock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.read_exampleblock" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.run_test">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">run_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_or_testtup</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#run_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.run_test" title="Permalink to this definition"></a></dt>
<dd><p>Runs the test function. Prints a success / failure report.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func_or_testtup</strong> (<em>func</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – function or doctest tuple</p></li>
<li><p><strong>args*</strong> – args to be forwarded to <cite>func_or_testtup</cite></p></li>
<li><p><strong>kwargs*</strong> – keyword args to be forwarded to <cite>func_or_testtup</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.show_if_requested">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">show_if_requested</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#show_if_requested"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.show_if_requested" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_tests.show_was_requested">
<span class="sig-prename descclassname"><span class="pre">utool.util_tests.</span></span><span class="sig-name descname"><span class="pre">show_was_requested</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_tests.html#show_was_requested"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_tests.show_was_requested" title="Permalink to this definition"></a></dt>
<dd><p>returns True if –show is specified on the commandline or you are in
IPython (and presumably want some sort of interaction</p>
</dd></dl>

</section>
<section id="module-utool.util_time">
<span id="utool-util-time-module"></span><h2>utool.util_time module<a class="headerlink" href="#module-utool.util_time" title="Permalink to this headline"></a></h2>
<p>TODO: This file seems to care about timezone</p>
<p>TODO: Use UTC/GMT time here for EVERYTHING</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.timeanddate.com/time/aboututc.html">http://www.timeanddate.com/time/aboututc.html</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_time.Timer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">Timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.Timer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Timer with-statment context object.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timer</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;Timer test!&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">prime</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">timer</span><span class="o">.</span><span class="n">ellapsed</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_time.Timer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_time.Timer.start" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_time.Timer.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_time.Timer.stop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_time.Timer.tic">
<span class="sig-name descname"><span class="pre">tic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timer.tic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.Timer.tic" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_time.Timer.toc">
<span class="sig-name descname"><span class="pre">toc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timer.toc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.Timer.toc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utool.util_time.Timerit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">Timerit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#Timerit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.Timerit" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Reports the average time to run a block of code.</p>
<p>Unlike <cite>timeit</cite>, <cite>Timerit</cite> can handle multiline blocks of code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – number of times to run the loop</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – identifier for printing</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – reporting unit of time (e.g. ‘ms’, ‘s’, None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time Timerit
python -m utool.util_time Timerit:0
python -m utool.util_time Timerit:1</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Minimal syntax with less-precise timing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># &lt;write code to time here&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Full syntax with most-precise timing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># &lt;write untimed setup code here&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># &lt;write code to time here&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Can also keep track of the Timerit object for extra statistics</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">t1</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># &lt;write untimed setup code here&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># &lt;write code to time here&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &lt;you can now access Timerit attributes like t1.total_time&gt;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">t1</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># &lt;write untimed setup code here&gt; this example has no setup</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="c1"># &lt;write code to time here&gt; for example...</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &lt;you can now access Timerit attributes&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;t1.total_time = </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span><span class="o">.</span><span class="n">total_time</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">t1</span><span class="o">.</span><span class="n">total_time</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">t1</span><span class="o">.</span><span class="n">n_loops</span> <span class="o">==</span> <span class="n">t1</span><span class="o">.</span><span class="n">num</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">t1</span><span class="o">.</span><span class="n">n_loops</span> <span class="o">==</span> <span class="n">num</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If the timer object is unused, time will still be recoreded,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># but with less precision.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="s1">&#39;inprecise&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using the timer object results in the most precise timeings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">timer</span> <span class="ow">in</span> <span class="n">ut</span><span class="o">.</span><span class="n">Timerit</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="s1">&#39;precise&#39;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">with</span> <span class="n">timer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">ut</span><span class="o">.</span><span class="n">get_nth_prime_bruteforce</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="utool.util_time.Timerit.ave_secs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ave_secs</span></span><a class="headerlink" href="#utool.util_time.Timerit.ave_secs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.date_to_datetime">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">date_to_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#date_to_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.date_to_datetime" title="Permalink to this definition"></a></dt>
<dd><p>fraction is how much through the day you are. 0=start of the day, 1=end of the day.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.datetime_to_posixtime">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">datetime_to_posixtime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#datetime_to_posixtime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.datetime_to_posixtime" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.determine_timestamp_format">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">determine_timestamp_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#determine_timestamp_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.determine_timestamp_format" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datetime_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior">https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time –exec-determine_timestamp_format</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;0000:00:00 00:00:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;    :  :     :  :  &#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2015:04:01 00:00:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2080/04/01 00:00:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2005-10-27T14:35:20+02:00&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;6:35:01</span><span class="se">\x00</span><span class="s1">2006:03:19 1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;2016/05/03 16:34:57 EST&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">([</span><span class="n">determine_timestamp_format</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>           <span class="k">for</span> <span class="n">datetime_str</span> <span class="ow">in</span> <span class="n">datetime_str_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.ensure_timedelta">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">ensure_timedelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_or_num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#ensure_timedelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.ensure_timedelta" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.exiftime_to_unixtime">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">exiftime_to_unixtime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#exiftime_to_unixtime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.exiftime_to_unixtime" title="Permalink to this definition"></a></dt>
<dd><p>converts a datetime string to posixtime (unixtime)
Use parse timestamp instead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datetime_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p></li>
<li><p><strong>timestamp_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unixtime seconds from 1970 (currently not UTC; this will change)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time –test-exiftime_to_unixtime:2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;0000:00:00 00:00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;2015:04:01 00:00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1427846400</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;2005-10-27T14:35:20+02:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1130423720</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime_str</span> <span class="o">=</span> <span class="s1">&#39;6:35:01</span><span class="se">\x00</span><span class="s1">2006:03:19 1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_format</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">exiftime_to_unixtime</span><span class="p">(</span><span class="n">datetime_str</span><span class="p">,</span> <span class="n">timestamp_format</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">1142750101</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_datestamp">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_datestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">explicit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isutc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_datestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_datestamp" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_posix_timedelta_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_posix_timedelta_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">posixtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_posix_timedelta_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_posix_timedelta_str" title="Permalink to this definition"></a></dt>
<dd><p>get_timedelta_str</p>
<p>TODO: rectify this function with get_unix_timedelta_str (unix_timedelta_str probably has better implementation)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>timedelta_str, formated time string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time –test-get_posix_timedelta_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">posixtime_list</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mf">10.2</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">10.2</span> <span class="o">**</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">posixtime</span> <span class="o">=</span> <span class="n">posixtime_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta_str</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_posix_timedelta_str</span><span class="p">(</span><span class="n">posixtime</span><span class="p">)</span> <span class="k">for</span> <span class="n">posixtime</span> <span class="ow">in</span> <span class="n">posixtime_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">timedelta_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;-00:00:13&#39;, &#39;00:00:10&#39;, &#39;00:01:44&#39;, &#39;00:17:41&#39;, &#39;03:00:24&#39;, &#39;1 day&#39;, &#39;193 weeks&#39;, &#39;60 weeks&#39;]</span>
</pre></div>
</div>
<dl class="simple">
<dt>Timeit:</dt><dd><p>import datetime
# Seems like like timedelta is just faster. must be because it is builtin
%timeit get_posix_timedelta_str(posixtime)
%timeit str(datetime.timedelta(seconds=posixtime))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_posix_timedelta_str2">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_posix_timedelta_str2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">posixtime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_posix_timedelta_str2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_posix_timedelta_str2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_timedelta_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_timedelta_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timedelta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_zeros</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timedelta_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_timedelta_str" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>timedelta_str, formated time string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/8906926/formatting-python-timedelta-objects">http://stackoverflow.com/questions/8906926/formatting-python-timedelta-objects</a></p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta</span> <span class="o">=</span> <span class="n">get_unix_timedelta</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta_str</span> <span class="o">=</span> <span class="n">get_timedelta_str</span><span class="p">(</span><span class="n">timedelta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">timedelta_str</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">10 seconds</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_timestamp">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'iso'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_second</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isutc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_timestamp" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (tag, printable, filename, other)</p></li>
<li><p><strong>use_second</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>delta_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stamp</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_</span> <span class="o">=</span> <span class="s1">&#39;printable&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_second</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta_seconds</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stamp</span> <span class="o">=</span> <span class="n">get_timestamp</span><span class="p">(</span><span class="n">format_</span><span class="p">,</span> <span class="n">use_second</span><span class="p">,</span> <span class="n">delta_seconds</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="s1">&#39;15:43:04 2015/02/24&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_timestats_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_timestats_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unixtime_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isutc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timestats_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_timestats_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_timestats_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_timestats_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unixtime_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isutc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_timestats_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_timestats_str" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unixtime_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – </p></li>
<li><p><strong>newlines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>timestat_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time –test-get_timestats_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unixtime_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span> <span class="p">,</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">full</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestat_str</span> <span class="o">=</span> <span class="n">get_timestats_str</span><span class="p">(</span><span class="n">unixtime_list</span><span class="p">,</span> <span class="n">newlines</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="n">full</span><span class="p">,</span> <span class="n">isutc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timestat_str</span><span class="p">),</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;max&#39;  : &#39;1970/01/01 05:16:40&#39;,</span>
<span class="go">    &#39;mean&#39; : &#39;1970/01/01 04:03:42&#39;,</span>
<span class="go">    &#39;min&#39;  : &#39;1970/01/01 00:00:00&#39;,</span>
<span class="go">    &#39;range&#39;: &#39;5:16:40&#39;,</span>
<span class="go">    &#39;std&#39;  : &#39;2:02:01&#39;,</span>
<span class="go">}</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unixtime_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span> <span class="p">,</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newlines</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestat_str</span> <span class="o">=</span> <span class="n">get_timestats_str</span><span class="p">(</span><span class="n">unixtime_list</span><span class="p">,</span> <span class="n">newlines</span><span class="p">,</span> <span class="n">isutc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timestat_str</span><span class="p">),</span> <span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;max&#39;    : &#39;1970/01/01 05:16:40&#39;,</span>
<span class="go">    &#39;mean&#39;   : &#39;1970/01/01 03:23:05&#39;,</span>
<span class="go">    &#39;min&#39;    : &#39;1970/01/01 00:00:00&#39;,</span>
<span class="go">    &#39;nMax&#39;   : 1,</span>
<span class="go">    &#39;nMin&#39;   : 2,</span>
<span class="go">    &#39;num_nan&#39;: 1,</span>
<span class="go">    &#39;range&#39;  : &#39;5:16:40&#39;,</span>
<span class="go">    &#39;shape&#39;  : (7,),</span>
<span class="go">    &#39;std&#39;    : &#39;2:23:43&#39;,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_unix_timedelta">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_unix_timedelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unixtime_diff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_unix_timedelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_unix_timedelta" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.get_unix_timedelta_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">get_unix_timedelta_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unixtime_diff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#get_unix_timedelta_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.get_unix_timedelta_str" title="Permalink to this definition"></a></dt>
<dd><p>TODO: rectify this function with get_posix_timedelta_str</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unixtime_diff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – number of seconds</p></li>
<li><p><strong>unixtime_diff</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formated time string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>timestr (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>timestr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time –test-get_unix_timedelta_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unixtime_diff</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestr</span> <span class="o">=</span> <span class="n">get_unix_timedelta_str</span><span class="p">(</span><span class="n">unixtime_diff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestr_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_unix_timedelta_str</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">9001</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9001</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">timestr_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;2 hours 30 minutes 1 second&#39;, &#39;1 second&#39;, &#39;0 seconds&#39;, &#39;1 second&#39;, &#39;2 hours 30 minutes 1 second&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.local_timezone">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">local_timezone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#local_timezone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.local_timezone" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.parse_timedelta_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">parse_timedelta_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#parse_timedelta_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.parse_timedelta_str" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>timedelta</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time –exec-parse_timedelta_str</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_</span> <span class="o">=</span> <span class="s1">&#39;24h&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta</span> <span class="o">=</span> <span class="n">parse_timedelta_str</span><span class="p">(</span><span class="n">str_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;timedelta = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timedelta</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">timedelta = 86400.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.parse_timestamp">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">parse_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#parse_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.parse_timestamp" title="Permalink to this definition"></a></dt>
<dd><p>pip install delorean</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – timestampe string</p></li>
<li><p><strong>zone</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – assumes input is zone (only if not specified) and gives
output in zone.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_time –test-parse_timestamp
python -m utool.util_time parse_timestamp</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utc</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestampe_format</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamps</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2015:04:01 00:00:00&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2005-10-27T14:35:20+02:00&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00-05:00&#39;</span><span class="p">,</span> <span class="s1">&#39;UTC&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00-05:00&#39;</span><span class="p">,</span> <span class="s1">&#39;EST&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;EST&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2000-01-01T09:00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;UTC&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;6:35:01</span><span class="se">\x00</span><span class="s1">2006:03:19 1&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2016/08/18 10:51:02 EST&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;2016-08-18T10:51:02-05:00&#39;</span><span class="p">,),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp</span> <span class="o">=</span> <span class="n">timestamps</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dn_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">parse_timestamp</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="k">for</span> <span class="n">args</span> <span class="ow">in</span> <span class="n">timestamps</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">NEWLINE</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">dn</span><span class="p">)</span> <span class="k">for</span> <span class="n">dn</span> <span class="ow">in</span> <span class="n">dn_list</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">2015-04-01 00:00:00+00:00</span>
<span class="go">2005-10-27 12:35:20+00:00</span>
<span class="go">2000-01-01 14:00:00+00:00</span>
<span class="go">2000-01-01 09:00:00-05:00</span>
<span class="go">2000-01-01 09:00:00-05:00</span>
<span class="go">2000-01-01 09:00:00+00:00</span>
<span class="go">2006-03-19 06:35:01+00:00</span>
<span class="go">2016-08-18 15:51:02+00:00</span>
<span class="go">2016-08-18 15:51:02+00:00</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.tic">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">tic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#tic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.tic" title="Permalink to this definition"></a></dt>
<dd><p>similar to matlab tic</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.toc</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.timestamp">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'iso'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_second</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isutc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.util_time.timestamp" title="Permalink to this definition"></a></dt>
<dd><p>get_timestamp</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – (tag, printable, filename, other)</p></li>
<li><p><strong>use_second</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – </p></li>
<li><p><strong>delta_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stamp</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_time</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_</span> <span class="o">=</span> <span class="s1">&#39;printable&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use_second</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta_seconds</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stamp</span> <span class="o">=</span> <span class="n">get_timestamp</span><span class="p">(</span><span class="n">format_</span><span class="p">,</span> <span class="n">use_second</span><span class="p">,</span> <span class="n">delta_seconds</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="s1">&#39;15:43:04 2015/02/24&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.toc">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">toc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#toc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.toc" title="Permalink to this definition"></a></dt>
<dd><p>similar to matlab toc</p>
<dl class="simple">
<dt>SeeAlso:</dt><dd><p>ut.tic</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.unixtime_to_datetimeobj">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">unixtime_to_datetimeobj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unixtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isutc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#unixtime_to_datetimeobj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.unixtime_to_datetimeobj" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.unixtime_to_datetimestr">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">unixtime_to_datetimestr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unixtime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timefmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y/%m/%d</span> <span class="pre">%H:%M:%S'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isutc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#unixtime_to_datetimestr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.unixtime_to_datetimestr" title="Permalink to this definition"></a></dt>
<dd><p>TODO: ranme to datetimestr</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.unixtime_to_timedelta">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">unixtime_to_timedelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unixtime_diff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#unixtime_to_timedelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.unixtime_to_timedelta" title="Permalink to this definition"></a></dt>
<dd><p>alias for get_unix_timedelta</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_time.utcnow_tz">
<span class="sig-prename descclassname"><span class="pre">utool.util_time.</span></span><span class="sig-name descname"><span class="pre">utcnow_tz</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_time.html#utcnow_tz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_time.utcnow_tz" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_type">
<span id="utool-util-type-module"></span><h2>utool.util_type module<a class="headerlink" href="#module-utool.util_type" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.assert_int">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">assert_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'var'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#assert_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.assert_int" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.bool_from_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">bool_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#bool_from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.bool_from_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.fuzzy_int">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">fuzzy_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#fuzzy_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.fuzzy_int" title="Permalink to this definition"></a></dt>
<dd><p>lets some special strings be interpreted as ints</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.fuzzy_subset">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">fuzzy_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#fuzzy_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.fuzzy_subset" title="Permalink to this definition"></a></dt>
<dd><p>converts a string into an argument to list_take</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.get_homogenous_list_type">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">get_homogenous_list_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#get_homogenous_list_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.get_homogenous_list_type" title="Permalink to this definition"></a></dt>
<dd><p>Returns the best matching python type even if it is an ndarray assumes all
items in the list are of the same type. does not check this</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.get_type">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">get_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#get_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.get_type" title="Permalink to this definition"></a></dt>
<dd><p>Gets types accounting for numpy</p>
<dl class="simple">
<dt>Ignore:</dt><dd><p>import utool as ut
import pandas as pd
var = np.array([‘a’, ‘b’, ‘c’])
ut.get_type(var)
var = pd.Index([‘a’, ‘b’, ‘c’])
ut.get_type(var)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_bool">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_bool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_bool" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_comparable_type">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_comparable_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_comparable_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_comparable_type" title="Permalink to this definition"></a></dt>
<dd><p>Check to see if <cite>var</cite> is an instance of known compatible types for <cite>type_</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> – </p></li>
<li><p><strong>type</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_type is_comparable_type –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">float</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flags</span> <span class="o">+=</span> <span class="p">[</span><span class="n">is_comparable_type</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="nb">int</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">flags</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[True, True, True, True, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_dict">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_float">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_float" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var</strong> (<em>ndarray</em><em> or </em><em>scalar</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>var</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_type –test-is_float</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">is_float</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;var is a float&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_func_or_method">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_func_or_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_func_or_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_func_or_method" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_func_or_method_or_partial">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_func_or_method_or_partial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_func_or_method_or_partial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_func_or_method_or_partial" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_funclike">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_funclike</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_funclike"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_funclike" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_int">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_int" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if var is an integer.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Yuck, isinstance(True, int) returns True. This function does not have
that flaw.</p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.peterbe.com/plog/bool-is-int">http://www.peterbe.com/plog/bool-is-int</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_type –test-is_int</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var3</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">is_int</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="p">[</span><span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">,</span> <span class="n">var3</span><span class="p">,</span> <span class="n">var4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[True, True, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_list">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_listlike">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_listlike</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_listlike"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_listlike" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_method">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_method" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_tuple">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_tuple" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_type">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_type" title="Permalink to this definition"></a></dt>
<dd><p>Checks for types accounting for numpy</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.is_valid_floattype">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">is_valid_floattype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#is_valid_floattype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.is_valid_floattype" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>type</strong> (<code class="docutils literal notranslate"><span class="pre">type</span></code>) – type to check</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if a <code class="docutils literal notranslate"><span class="pre">type_</span></code> is a valid float <code class="docutils literal notranslate"><span class="pre">type_</span></code> (not variable)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.smart_cast">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">smart_cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#smart_cast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.smart_cast" title="Permalink to this definition"></a></dt>
<dd><p>casts var to type, and tries to be clever when var is a string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – variable to cast</p></li>
<li><p><strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><em>type</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – type to attempt to cast to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)">object</a></p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_type –exec-smart_cast</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_</span> <span class="o">=</span> <span class="s1">&#39;fuzzy_subset&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">type_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[1]</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">&#39;1&#39;</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;(1,3)&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(1, 3)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;(1,3)&#39;</span><span class="p">,</span> <span class="nb">eval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">(1, 3)</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_var</span> <span class="o">=</span> <span class="n">smart_cast</span><span class="p">(</span><span class="s1">&#39;1::3&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">cast_var</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">slice(1, None, 3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.smart_cast2">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">smart_cast2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#smart_cast2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.smart_cast2" title="Permalink to this definition"></a></dt>
<dd><p>if the variable is a string tries to cast it to a reasonable value.
maybe can just use eval. FIXME: funcname</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var</strong> (<em>unknown</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>some var</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>unknown</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_type –test-smart_cast2</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_type</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="s1">&#39;1.2&#39;</span><span class="p">,</span> <span class="s1">&#39;True&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;None&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">castvar_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">smart_cast2</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">var_list</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr4</span><span class="p">(</span><span class="n">castvar_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[&#39;?&#39;, 1, 1, 1.0, 1.2, True, None, None]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.try_cast">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">try_cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#try_cast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.try_cast" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_type.type_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_type.</span></span><span class="sig-name descname"><span class="pre">type_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_type.html#type_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_type.type_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool.util_ubuntu">
<span id="utool-util-ubuntu-module"></span><h2>utool.util_ubuntu module<a class="headerlink" href="#module-utool.util_ubuntu" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utool.util_ubuntu.</span></span><span class="sig-name descname"><span class="pre">XCtrl</span></span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>xdotool key ctrl+shift+i</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://superuser.com/questions/382616/detecting-currently-active-window">http://superuser.com/questions/382616/detecting-currently-active-window</a>
<a class="reference external" href="http://askubuntu.com/questions/455762/xbindkeys-wont-work-properly">http://askubuntu.com/questions/455762/xbindkeys-wont-work-properly</a></p>
<dl>
<dt>Ignore:</dt><dd><p>xdotool keyup –window 0 7 type –clearmodifiers —window 0 ‘%paste’</p>
<p># List current windows:
wmctrl  -l</p>
<p># Get current window
xdotool getwindowfocus getwindowname</p>
<p>#====
# Get last opened window
#====</p>
<p>win_title=x-terminal-emulator.X-terminal-emulator
key_ = ‘x-terminal-emulator.X-terminal-emulator’</p>
<p># Get all windows in current workspace
workspace_number=`wmctrl -d | grep ‘*’ | cut -d’ ‘ -f 1`
win_list=`wmctrl -lx | grep $win_title | grep ” $workspace_number ” | awk ‘{print $1}’`</p>
<p># Get stacking order of windows in current workspace
win_order=$(xprop -root|grep “^_NET_CLIENT_LIST_STACKING” | tr “,” ” “)
echo $win_order</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m utool.util_ubuntu XCtrl</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Script</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool</span> <span class="kn">import</span> <span class="n">util_ubuntu</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orig_window</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">copy_text_to_clipboard</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">lorium_ipsum</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doscript</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;x-terminal-emulator.X-terminal-emulator&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;%paste&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;KP_Enter&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="c1"># (&#39;focus&#39;, &#39;GVIM&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">util_ubuntu</span><span class="o">.</span><span class="n">XCtrl</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="o">*</span><span class="n">doscript</span><span class="p">,</span> <span class="n">sleeptime</span><span class="o">=</span><span class="mf">.01</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">copy_text_to_clipboard</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">text</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">%paste</span><span class="se">\&#39;</span><span class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">else</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">pipes</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">text</span> <span class="o">=</span> <span class="n">pipes</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;GVIM&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doscript</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;x-terminal-emulator.X-terminal-emulator&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;KP_Enter&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">util_ubuntu</span><span class="o">.</span><span class="n">XCtrl</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="o">*</span><span class="n">doscript</span><span class="p">,</span> <span class="n">sleeptime</span><span class="o">=</span><span class="mf">.01</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.copy_gvim_to_terminal_script">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">copy_gvim_to_terminal_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_to_win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleeptime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.copy_gvim_to_terminal_script"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.copy_gvim_to_terminal_script" title="Permalink to this definition"></a></dt>
<dd><p>import utool.util_ubuntu
utool.util_ubuntu.XCtrl.copy_gvim_to_terminal_script(‘print(“hi”)’, verbose=1)
python -m utool.util_ubuntu XCtrl.copy_gvim_to_terminal_script “echo hi” 1 1</p>
<p>If this doesn’t work make sure pyperclip is installed and set to xsel</p>
<p>print(‘foobar’)
echo hi</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.current_gvim_edit">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_gvim_edit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.current_gvim_edit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.current_gvim_edit" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_ubuntu XCtrl.current_gvim_edit sp ~/.bashrc</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.do">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">do</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">cmd_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.do"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.do" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.find_window_id">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_window_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mru'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.find_window_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.find_window_id" title="Permalink to this definition"></a></dt>
<dd><p>xprop -id 0x00a00007 | grep “WM_CLASS(STRING)”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.findall_window_ids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">findall_window_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.findall_window_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.findall_window_ids" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>wmctrl  -l
python -m utool.util_ubuntu XCtrl.findall_window_ids gvim –src
python -m utool.util_ubuntu XCtrl.findall_window_ids gvim –src
python -m utool.util_ubuntu XCtrl.findall_window_ids joncrall –src</p>
</dd>
</dl>
<p>xprop -id</p>
<p>wmctrl -l | awk ‘{print $1}’ | xprop -id</p>
<p>0x00a00007 | grep “WM_CLASS(STRING)”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.focus_window">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">focus_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winhandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleeptime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.focus_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.focus_window" title="Permalink to this definition"></a></dt>
<dd><p>sudo apt-get install xautomation
apt-get install autokey-gtk</p>
<p>wmctrl -xa gnome-terminal.Gnome-terminal
wmctrl -xl</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.killold">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">killold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.killold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.killold" title="Permalink to this definition"></a></dt>
<dd><p>Leaves no more than <cite>num</cite> instances of a program alive.  Ordering is
determined by most recent usage.</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_ubuntu XCtrl.killold gvim 2</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool</span> <span class="kn">import</span> <span class="n">util_ubuntu</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">XCtrl</span> <span class="o">=</span> <span class="n">util_ubuntu</span><span class="o">.</span><span class="n">XCtrl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;gvim&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.move_window">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">move_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">win_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.move_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.move_window" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>CommandLine:</dt><dd><p># List windows
wmctrl -l
# List desktops
wmctrl -d</p>
<p># Window info
xwininfo -id 60817412</p>
<p>python -m utool.util_ubuntu XCtrl.move_window joncrall 0+1920,680,400,600,400
python -m utool.util_ubuntu XCtrl.move_window joncrall [0,0,1000,1000]
python -m utool.util_ubuntu XCtrl.move_window GVIM special2
python -m utool.util_ubuntu XCtrl.move_window joncrall special2
python -m utool.util_ubuntu XCtrl.move_window x-terminal-emulator.X-terminal-emulator [0,0,1000,1000]</p>
</dd>
</dl>
<p># &gt;&gt;&gt; import utool as ut
# &gt;&gt;&gt; from utool import util_ubuntu
# &gt;&gt;&gt; orig_window = []
# &gt;&gt;&gt; X = util_ubuntu.XCtrl
win_key =  ‘x-terminal-emulator.X-terminal-emulator’
win_id = X.findall_window_ids(key)[0]</p>
<p>python -m utool.util_ubuntu XCtrl.findall_window_ids gvim –src</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.sort_window_ids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sort_window_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mru'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.sort_window_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.sort_window_ids" title="Permalink to this definition"></a></dt>
<dd><p>Orders window ids by most recently used</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utool.util_ubuntu.XCtrl.sorted_window_ids">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sorted_window_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mru'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#XCtrl.sorted_window_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.XCtrl.sorted_window_ids" title="Permalink to this definition"></a></dt>
<dd><p>Returns window ids orderd by criteria
default is mru (most recently used)</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>xprop -root | grep “^_NET_CLIENT_LIST_STACKING” | tr “,” ” ”
python -m utool.util_ubuntu XCtrl.sorted_window_ids</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ubuntu.add_new_mimetype_association">
<span class="sig-prename descclassname"><span class="pre">utool.util_ubuntu.</span></span><span class="sig-name descname"><span class="pre">add_new_mimetype_association</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ext</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exe_fpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#add_new_mimetype_association"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.add_new_mimetype_association" title="Permalink to this definition"></a></dt>
<dd><p>TODO: move to external manager and generalize</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ext</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – extension to associate</p></li>
<li><p><strong>mime_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – the name of the mime_name to create (defaults to ext)</p></li>
<li><p><strong>exe_fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – executable location if this is for one specific file</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://wiki.archlinux.org/index.php/Default_applications#Custom_file_associations">https://wiki.archlinux.org/index.php/Default_applications#Custom_file_associations</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ext</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – extension to associate</p></li>
<li><p><strong>exe_fpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – executable location</p></li>
<li><p><strong>mime_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – the name of the mime_name to create (defaults to ext)</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_ubuntu –exec-add_new_mimetype_association
# Add ability to open ipython notebooks via double click
python -m utool.util_ubuntu –exec-add_new_mimetype_association –mime-name=ipynb+json –ext=.ipynb –exe-fpath=/usr/local/bin/ipynb
python -m utool.util_ubuntu –exec-add_new_mimetype_association –mime-name=ipynb+json –ext=.ipynb –exe-fpath=jupyter-notebook –force</p>
<p>python -m utool.util_ubuntu –exec-add_new_mimetype_association –mime-name=sqlite –ext=.sqlite –exe-fpath=sqlitebrowser</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ubuntu</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ext</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--ext&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mime_name</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--mime_name&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exe_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--exe_fpath&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dry</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">(</span><span class="s1">&#39;--force&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">add_new_mimetype_association</span><span class="p">(</span><span class="n">ext</span><span class="p">,</span> <span class="n">mime_name</span><span class="p">,</span> <span class="n">exe_fpath</span><span class="p">,</span> <span class="n">dry</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ubuntu.make_application_icon">
<span class="sig-prename descclassname"><span class="pre">utool.util_ubuntu.</span></span><span class="sig-name descname"><span class="pre">make_application_icon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exe_fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">props</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#make_application_icon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.make_application_icon" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>CommandLine:</dt><dd><p>python -m utool.util_ubuntu –exec-make_application_icon –exe=cockatrice –icon=/home/joncrall/code/Cockatrice/cockatrice/resources/cockatrice.png
python -m utool.util_ubuntu –exec-make_application_icon –exe=cockatrice –icon=/home/joncrall/code/Cockatrice/cockatrice/resources/cockatrice.png
python -m utool.util_ubuntu –exec-make_application_icon –exe=/opt/zotero/zotero –icon=/opt/zotero/chrome/icons/default/main-window.ico</p>
<p>python -m utool.util_ubuntu –exec-make_application_icon –exe “env WINEPREFIX=”/home/joncrall/.wine” wine C:\\windows\\command\\start.exe /Unix /home/joncrall/.wine32-dotnet45/dosdevices/c:/users/Public/Desktop/Hearthstone.lnk” –path “/home/joncrall/.wine/dosdevices/c:/Program Files (x86)/Hearthstone”
# Exec=env WINEPREFIX=”/home/joncrall/.wine” wine /home/joncrall/.wine/drive_c/ProgramFiles(x86)/Battle.net/Battle.net.exe</p>
<p>–icon=/opt/zotero/chrome/icons/default/main-window.ico</p>
<p>python -m utool.util_ubuntu –exec-make_application_icon –exe=/home/joncrall/code/build-ArenaTracker-Desktop_Qt_5_6_1_GCC_64bit-Debug</p>
<p>update-desktop-database ~/.local/share/applications</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ubuntu</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exe_fpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--exe&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;cockatrice&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">icon</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--icon&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dry</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">((</span><span class="s1">&#39;--write&#39;</span><span class="p">,</span> <span class="s1">&#39;-w&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">props</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;terminal&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icon</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">make_application_icon</span><span class="p">(</span><span class="n">exe_fpath</span><span class="p">,</span> <span class="n">dry</span><span class="p">,</span> <span class="n">props</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_ubuntu.monitor_mouse">
<span class="sig-prename descclassname"><span class="pre">utool.util_ubuntu.</span></span><span class="sig-name descname"><span class="pre">monitor_mouse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_ubuntu.html#monitor_mouse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_ubuntu.monitor_mouse" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_ubuntu monitor_mouse</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_ubuntu</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monitor_mouse</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utool.util_ubuntu.xctrl">
<span class="sig-prename descclassname"><span class="pre">utool.util_ubuntu.</span></span><span class="sig-name descname"><span class="pre">xctrl</span></span><a class="headerlink" href="#utool.util_ubuntu.xctrl" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#utool.util_ubuntu.XCtrl" title="utool.util_ubuntu.XCtrl"><code class="xref py py-class docutils literal notranslate"><span class="pre">utool.util_ubuntu.XCtrl</span></code></a></p>
</dd></dl>

</section>
<section id="module-utool.util_web">
<span id="utool-util-web-module"></span><h2>utool.util_web module<a class="headerlink" href="#module-utool.util_web" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_web.find_open_port">
<span class="sig-prename descclassname"><span class="pre">utool.util_web.</span></span><span class="sig-name descname"><span class="pre">find_open_port</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#find_open_port"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_web.find_open_port" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_web.get_localhost">
<span class="sig-prename descclassname"><span class="pre">utool.util_web.</span></span><span class="sig-name descname"><span class="pre">get_localhost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#get_localhost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_web.get_localhost" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_web.is_local_port_open">
<span class="sig-prename descclassname"><span class="pre">utool.util_web.</span></span><span class="sig-name descname"><span class="pre">is_local_port_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#is_local_port_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_web.is_local_port_open" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/7436801/identifying-listening-ports-using-python">http://stackoverflow.com/questions/7436801/identifying-listening-ports-using-python</a></p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_web is_local_port_open –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_web</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">port</span> <span class="o">=</span> <span class="mi">32183</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">is_local_port_open</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;port 80 should always be closed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">is_local_port_open</span><span class="p">(</span><span class="n">port</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;maybe this port is actually used?&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_web.render_html">
<span class="sig-prename descclassname"><span class="pre">utool.util_web.</span></span><span class="sig-name descname"><span class="pre">render_html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#render_html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_web.render_html" title="Permalink to this definition"></a></dt>
<dd><p>makes a temporary html rendering</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_web.start_simple_webserver">
<span class="sig-prename descclassname"><span class="pre">utool.util_web.</span></span><span class="sig-name descname"><span class="pre">start_simple_webserver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5832</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_web.html#start_simple_webserver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_web.start_simple_webserver" title="Permalink to this definition"></a></dt>
<dd><p>simple webserver that echos its arguments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – (default = None)</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – (default = 5832)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_web –exec-start_simple_webserver:0
python -m utool.util_web –exec-start_simple_webserver:1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_web</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">domain</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">port</span> <span class="o">=</span> <span class="mi">5832</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">start_simple_webserver</span><span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-utool.util_win32">
<span id="utool-util-win32-module"></span><h2>utool.util_win32 module<a class="headerlink" href="#module-utool.util_win32" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="utool.util_win32.add_to_win32_PATH">
<span class="sig-prename descclassname"><span class="pre">utool.util_win32.</span></span><span class="sig-name descname"><span class="pre">add_to_win32_PATH</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_fpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">add_path_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_win32.html#add_to_win32_PATH"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_win32.add_to_win32_PATH" title="Permalink to this definition"></a></dt>
<dd><p>Writes a registery script to update the PATH variable into the sync registry</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m utool.util_win32 –test-add_to_win32_PATH –newpath “C:Program Files (x86)Graphviz2.38bin”</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">utool.util_win32</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">script_fpath</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">ut</span><span class="o">.</span><span class="n">truepath</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">),</span> <span class="s1">&#39;Sync/win7/registry&#39;</span><span class="p">,</span> <span class="s1">&#39;UPDATE_PATH.reg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_path</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--newpath&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">add_to_win32_PATH</span><span class="p">(</span><span class="n">script_fpath</span><span class="p">,</span> <span class="n">new_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_win32.get_regstr">
<span class="sig-prename descclassname"><span class="pre">utool.util_win32.</span></span><span class="sig-name descname"><span class="pre">get_regstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_win32.html#get_regstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_win32.get_regstr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.util_win32.make_regfile_str">
<span class="sig-prename descclassname"><span class="pre">utool.util_win32.</span></span><span class="sig-name descname"><span class="pre">make_regfile_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varval_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool/util_win32.html#make_regfile_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.util_win32.make_regfile_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-utool">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-utool" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>UTool - Useful Utility Tools</dt><dd><p>Your friendly neighborhood utility tools</p>
</dd>
</dl>
<p>TODO: INSERT APACHE VERSION 2.0 LICENCE IN ALL FILES
(Although it should be implied that the entire module and repo is released under
that licence.)</p>
<p>pip install git+https://github.com/Erotemic/utool.git&#64;next</p>
<dl class="py function">
<dt class="sig sig-object py" id="utool.reassign_submodule_attributes">
<span class="sig-prename descclassname"><span class="pre">utool.</span></span><span class="sig-name descname"><span class="pre">reassign_submodule_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool.html#reassign_submodule_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.reassign_submodule_attributes" title="Permalink to this definition"></a></dt>
<dd><p>Updates attributes in the __init__ modules with updated attributes
in the submodules.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.reload_subs">
<span class="sig-prename descclassname"><span class="pre">utool.</span></span><span class="sig-name descname"><span class="pre">reload_subs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utool.html#reload_subs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utool.reload_subs" title="Permalink to this definition"></a></dt>
<dd><p>Reloads utool and submodules</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utool.rrrr">
<span class="sig-prename descclassname"><span class="pre">utool.</span></span><span class="sig-name descname"><span class="pre">rrrr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utool.rrrr" title="Permalink to this definition"></a></dt>
<dd><p>Reloads utool and submodules</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to utool’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="utool._internal.html" class="btn btn-neutral float-right" title="utool._internal package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Wild Me.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>